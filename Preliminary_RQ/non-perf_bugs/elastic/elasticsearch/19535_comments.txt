[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234322026","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234322026","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234322026,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDMyMjAyNg==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-07-21T17:19:01Z","updated_at":"2016-07-21T17:19:11Z","author_association":"MEMBER","body":"@danielmitterdorfer Are you trying to run this on a copy of the repo, without git? This works for me locally (with git), and it works in CI (we do a `build`, which includes `assemble` there). The `startsWith` that was added recently looks at the git origin, and creates a url (ie finding the github url for the repo), but if the repo has no git info, I could see this happening.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234328706","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234328706","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234328706,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDMyODcwNg==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2016-07-21T17:42:47Z","updated_at":"2016-07-21T17:42:47Z","author_association":"MEMBER","body":"@rjernst Thanks for the pointer. That rang a bell: I have recently set up [git worktree](https://git-scm.com/docs/git-worktree) so I need to checkout the repo only once but have multiple work trees (one for each major version). I'll try tomorrow if that's the root cause (but based on your description I am already pretty sure it is...) and close the ticket then if that's the case.\n\n@javanna has also mentioned that he has experienced this problem or did I misunderstand you?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234330055","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234330055","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234330055,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDMzMDA1NQ==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2016-07-21T17:47:51Z","updated_at":"2016-07-21T17:47:51Z","author_association":"MEMBER","body":"Should we add a quick check in gradle for the `.git` directory and dump a slightly more useful error message? I could see someone downloading a tarball of the source from github and seeing this without any idea what causes it.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234332205","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234332205","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234332205,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDMzMjIwNQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-07-21T17:55:17Z","updated_at":"2016-07-21T17:55:17Z","author_association":"MEMBER","body":"I had and still have this out of master. Not sure what is wrong with my local checkout :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234332295","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234332295","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234332295,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDMzMjI5NQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-07-21T17:55:34Z","updated_at":"2016-07-21T17:55:34Z","author_association":"CONTRIBUTOR","body":"I usually build Elasticsearch without git - though I usually just do `gradle check`. I do this because I usually run the tests on a desktop rather than abuse my silly little Macbook Air. I don't sync the `.git` directory because it is just a bunch of binary stuff and doesn't work well with `unison`.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234520738","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234520738","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234520738,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDUyMDczOA==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T11:28:24Z","updated_at":"2016-07-22T11:28:41Z","author_association":"MEMBER","body":"I did a fresh clone of the ES repo without using the git worktree feature and it works fine now. @javanna can you also freshly clone the repo and retry? If that works for you too, can you please close the ticket then?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234527983","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234527983","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234527983,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDUyNzk4Mw==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T12:13:11Z","updated_at":"2016-07-22T12:13:11Z","author_association":"MEMBER","body":"With a fresh checkout of es core it works. Would it be possible to know why I need a fresh checkout? I don't think I was doing anything weird. Maybe some assumptions made in our build should be adjusted? I think we should keep the ticket open till we figured that out.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234537922","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234537922","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234537922,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDUzNzkyMg==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T13:03:32Z","updated_at":"2016-07-22T13:03:32Z","author_association":"MEMBER","body":"@javanna For my local checkout I am almost certain it relates to git worktree. If you use that feature, `.git` is not a directory as usual but a file that contains (on my machine):\n\n```\ngitdir: /Users/dm/Projects/elasticsearch/src/.repo/elasticsearch/.git/worktrees/elasticsearch\n```\n\ni.e. a poor man's symlink. :)\n\nDid you keep your old checkout? Maybe your .git/config reveals something interesting.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234541327","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234541327","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234541327,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDU0MTMyNw==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T13:18:46Z","updated_at":"2016-07-22T13:18:46Z","author_association":"MEMBER","body":"ok it turns out I have this problem because my remote is not named `origin`. I can imagine others rename it too. Not sure what we need that url for, but can we change the build to not make these assumptions about git?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234544749","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234544749","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234544749,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDU0NDc0OQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T13:33:21Z","updated_at":"2016-07-22T13:33:21Z","author_association":"CONTRIBUTOR","body":"Looks like this comes from https://github.com/nebula-plugins/gradle-info-plugin/blob/master/src/main/groovy/nebula/plugin/info/scm/GitScmProvider.groovy#L55-L64\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234548774","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234548774","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234548774,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDU0ODc3NA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T13:49:48Z","updated_at":"2016-07-22T13:49:48Z","author_association":"MEMBER","body":"> can we change the build to not make these assumptions about git?\n\nNo,  this only happens when you do an assemble,  because it needs to build poms,  and the poms for maven central require having the URL for the repo. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234549843","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234549843","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234549843,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDU0OTg0Mw==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T13:54:00Z","updated_at":"2016-07-22T13:54:00Z","author_association":"MEMBER","body":"perfect, then it will just mean a jar/pom/zip/whatever will never come out of my machine.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234554718","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234554718","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234554718,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDU1NDcxOA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T14:12:53Z","updated_at":"2016-07-22T14:12:53Z","author_association":"MEMBER","body":"Trying to go back to nice mode :) I don't know what the background is and we may depend on some plugins that don't do the right thing. But why is \"no\" the only possible answer? Maybe we can evaluate alternatives? Or explain why I'm asking for the moon? \n\nI don't think making these assumptions is correct. Requiring git is one thing, then assuming `origin` as the right remote is another one. Maybe we can have different paths for when we need this info (CI/making a release) and when we don't. Maybe if I have to build a jar/zip locally I don't need that stuff? Again, just thinking out loud. Let me know if I can help.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234583284","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234583284","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234583284,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDU4MzI4NA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T15:58:19Z","updated_at":"2016-07-22T15:58:19Z","author_association":"MEMBER","body":"When I said \"no\", I meant that we must have the git info to build the pom. As far as \"allowing other names for origin\", I don't think we should write a bunch of code just to handle this edge case that is not necessary in 99.99% of cases, especially when our own release process does not need it. As far as being lenient, we could put a bogus url in there if we cannot get the git info, but fail if we are releasing (currently, that is `-Dbuild.snapshot=false`). I'm personally against this b/c I don't think we should have leniency here, but I know we already do in the case of the git info for jar metadata, so if someone wants to add that, I would not stand in the way as long as it is a hard fail for a release.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234585944","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234585944","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234585944,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDU4NTk0NA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T16:08:32Z","updated_at":"2016-07-22T16:08:32Z","author_association":"MEMBER","body":"not too sure that renaming remotes is an edge case, that was my main point. happy to be proved wrong if I am the only one doing it. I can always rename back the remote to what it needs to be when I need to generate the jar, or leave origin around by making a copy rather than renaming it. Do others have thoughts?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234613294","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234613294","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234613294,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDYxMzI5NA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T18:01:20Z","updated_at":"2016-07-22T18:01:20Z","author_association":"MEMBER","body":"For what it’s worth, I would like to be able to build local zip/tars to sometime test a build and I have the elasticsearch github remote renamed from origin. If I understand correctly the requirement to have a url comes from maven. Is it maybe possible to:\n\n1) Allow supplying a url as a parameter to the build?\n2) Allow only creating a tar/zip/rpm (which don’t go to maven)? Luca, I think this is enough for you? \n3) Hard code the urls? this is the build for a elasticsearch/plugins which have a canonical urls, just like they have canonical artifact id?\n\n> On 22 Jul 2016, at 18:08, Luca Cavanna notifications@github.com wrote:\n> \n> not too sure that renaming remotes is an edge case, that was my main point. happy to be proved wrong if I am the only one doing it. I can always rename back the remote to what it needs to be when I need to generate the jar, or leave origin around by making a copy rather than renaming it. Do others have thoughts?\n> \n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234615508","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234615508","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234615508,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDYxNTUwOA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T18:10:03Z","updated_at":"2016-07-22T18:10:03Z","author_association":"MEMBER","body":"> 1) Allow supplying a url as a parameter to the build?\n\nI don't think we need this flexibility.\n\n> 2) Allow only creating a tar/zip/rpm (which don’t go to maven)? Luca, I think this is enough for you?\n\nI've already suggested a way to have this leniency above.\n\n> 3) Hard code the urls? this is the build for a elasticsearch/plugins which have a canonical urls, just like they have canonical artifact id?\n\nThis is part of the gradle plugin we publish from buildSrc, which allows not only our plugins to be built, but those of community plugins as well.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234621848","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234621848","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234621848,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDYyMTg0OA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T18:34:45Z","updated_at":"2016-07-22T18:34:45Z","author_association":"MEMBER","body":"> > 2) Allow only creating a tar/zip/rpm (which don’t go to maven)? Luca, I think this is enough for you?\n> \n> I've already suggested a way to have this leniency above.\n\nI didn't mean building things with a fake url, but rather only building the zip file. Can you elaborate about what you mean requiring a url in the pom files? Looking at a 5.0.0-Alpha4 distro, I don't see a pom.xml file anywhere (not as a file and not in the es-5.0.0.jar). I do see a MANIFEST.MF baked into the jar, which does specify a url as `Module-Origin`. However, if I look at a 2.2.0 distro which I happen to have lying around, it doesn't have a MANIFEST.MF file, but does have a pom.xml which in turn doesn't specify any url.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234625204","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234625204","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234625204,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDYyNTIwNA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T18:48:50Z","updated_at":"2016-07-22T18:48:50Z","author_association":"MEMBER","body":"I'm not talking about the jar, I am talking about what goes into the distributions directory. Running gradle assemble means \"assemble everything\", and everything includes pom files, because that is part of what we distribute (publishing to maven).  And don't look at 2.x, we did things wrong in maven forever, and only found out about it recently with the unified release work (we were grandfathered into sidestepping the pom checks maven central has). \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234626251","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234626251","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234626251,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDYyNjI1MQ==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T18:53:07Z","updated_at":"2016-07-22T19:01:11Z","author_association":"MEMBER","body":"> gradle assemble means \"assemble everything\"\n\nI understand. My question was whether we can have an \"assemble zip/tar files\" command, which only does that and is part of the assemble everything path, and doesn't require the url (and thus git remotes)\n\n> don't look at 2.x, we did things wrong in maven forever\n\nI'm trying to understand what we should do/are doing. I take it to mean it is not required to have a pom.xml file as part of the jar and that pom files need urls (although it seems maven doesn't enforce it as 2.x is published there). Is that what you mean? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234631781","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234631781","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234631781,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDYzMTc4MQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T19:17:01Z","updated_at":"2016-07-22T19:17:56Z","author_association":"MEMBER","body":"You can build a package via `gradle :distribution:(deb|rpm|tar|zip):assemble` and it works whether or not you're in a real repository or a worktree, and whether or not your remote is named elastic/origin/upstream. As a bonanza, it's faster. :smile:\n\nI think the belief that the remote should be named `origin` is too far, this is clearly impacting a lot of people. If you follow the GitHub guidelines for [contributing](https://guides.github.com/activities/contributing-to-open-source/#contributing) you'll [eventually](https://help.github.com/articles/syncing-a-fork/) land on a [page](https://help.github.com/articles/configuring-a-remote-for-a-fork/) where the result is that the upstream remote is named `upstream` and the remote named `origin` points to your fork on GitHub.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234632310","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234632310","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234632310,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDYzMjMxMA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T19:19:22Z","updated_at":"2016-07-22T19:19:22Z","author_association":"CONTRIBUTOR","body":"That page is how I've always set up my github clones - exception I rename `origin` to `nik9000` because I want to make sure there is never anything that accidentally does something to the \"default\" name....\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234636825","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234636825","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234636825,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDYzNjgyNQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T19:39:21Z","updated_at":"2016-07-22T19:39:21Z","author_association":"MEMBER","body":"> I think the belief that the remote should be named origin is too far\n\nI did not write the code,  it is from a 3rd party gradle plug in as Nike pointed out.  If you want to open a PR there to fix,  please do. But not that I don't know how it would know which of many remotes is the one to grab the URL from.. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234687426","html_url":"https://github.com/elastic/elasticsearch/issues/19535#issuecomment-234687426","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19535","id":234687426,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDY4NzQyNg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-07-23T00:31:47Z","updated_at":"2016-07-23T00:31:47Z","author_association":"MEMBER","body":"> I did not write the code, it is from a 3rd party gradle plug in as Nike pointed out.\n\nTo be clear, my comments were aimed exactly at Nebula's convention here; sorry for the confusion.\n","performed_via_github_app":null}]