{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/28701","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28701/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28701/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28701/events","html_url":"https://github.com/elastic/elasticsearch/issues/28701","id":297720505,"node_id":"MDU6SXNzdWUyOTc3MjA1MDU=","number":28701,"title":"Retrieving the documents(records) of a saved search in elastic search","user":{"login":"sachidananda04","id":22446800,"node_id":"MDQ6VXNlcjIyNDQ2ODAw","avatar_url":"https://avatars0.githubusercontent.com/u/22446800?v=4","gravatar_id":"","url":"https://api.github.com/users/sachidananda04","html_url":"https://github.com/sachidananda04","followers_url":"https://api.github.com/users/sachidananda04/followers","following_url":"https://api.github.com/users/sachidananda04/following{/other_user}","gists_url":"https://api.github.com/users/sachidananda04/gists{/gist_id}","starred_url":"https://api.github.com/users/sachidananda04/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sachidananda04/subscriptions","organizations_url":"https://api.github.com/users/sachidananda04/orgs","repos_url":"https://api.github.com/users/sachidananda04/repos","events_url":"https://api.github.com/users/sachidananda04/events{/privacy}","received_events_url":"https://api.github.com/users/sachidananda04/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-02-16T09:15:32Z","updated_at":"2018-02-16T09:35:51Z","closed_at":"2018-02-16T09:31:49Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\n\r\nI need a help in retrieving the documents (records) of a saved search.\r\nI am pushing my jenkins pipeline jobs console logs to elasticsearch using jenkins-logstash plugin and it's pumping the data without any problem. I am filtering my jenkins console data using a field called \"ISSUE_ID\".I created a saved search with the output fields being\r\n\"time\" \"ISSUE_ID\" \"message\" \"BUILD_ID\" \"JOB_NAME\". In kibana, I can see that my saved search is returning around 13 records for last 24 hrs. I used the content available in \"Request\" tab to retrieve the same no of documents(records) inside my ubuntu host using the below curl command. But it's dumping a huge amount of data.\r\n\r\nHow to retrieve the records with just the fields mentioned in saved search.\r\n\r\nexample output data what I am expecting is\r\n![image](https://user-images.githubusercontent.com/22446800/36300557-dc32c4bc-1327-11e8-8c8e-66b30694205b.png)\r\n\r\n\r\nThe curl command is:\r\ncurl -X GET http://localhost:9200/logstash-*/_search --data @request.json\r\n\r\nThe content of the request.json (the Request kibana sent to Elasticsearch from the saved search) is:\r\n\r\n{\r\n\"highlight\": {\r\n\"pre_tags\": [\r\n\"@kibana-highlighted-field@\"\r\n],\r\n\"post_tags\": [\r\n\"@/kibana-highlighted-field@\"\r\n],\r\n\"fields\": {\r\n\"\": {}\r\n},\r\n\"require_field_match\": false,\r\n\"fragment_size\": 2147483647\r\n},\r\n\"query\": {\r\n\"filtered\": {\r\n\"query\": {\r\n\"query_string\": {\r\n\"analyze_wildcard\": true,\r\n\"query\": \"ISSUE_ID\"\r\n}\r\n},\r\n\"filter\": {\r\n\"bool\": {\r\n\"must\": [\r\n{\r\n\"range\": {\r\n\"@timestamp\": {\r\n\"gte\": 1518515132440,\r\n\"lte\": 1518601532440,\r\n\"format\": \"epoch_millis\"\r\n}\r\n}\r\n}\r\n],\r\n\"must_not\": []\r\n}\r\n}\r\n}\r\n},\r\n\"size\": 500,\r\n\"sort\": [\r\n{\r\n\"@timestamp\": {\r\n\"order\": \"desc\",\r\n\"unmapped_type\": \"boolean\"\r\n}\r\n}\r\n],\r\n\"aggs\": {\r\n\"2\": {\r\n\"date_histogram\": {\r\n\"field\": \"@timestamp\",\r\n\"interval\": \"30m\",\r\n\"time_zone\": \"Asia/Kolkata\",\r\n\"min_doc_count\": 0,\r\n\"extended_bounds\": {\r\n\"min\": 1518515132440,\r\n\"max\": 1518601532440\r\n}\r\n}\r\n}\r\n},\r\n\"fields\": [\r\n\"\",\r\n\"_source\"\r\n],\r\n\"script_fields\": {},\r\n\"fielddata_fields\": [\r\n\"@timestamp\",\r\n\"@buildTimestamp\",\r\n\"post_date\"\r\n]\r\n}\r\n\r\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}