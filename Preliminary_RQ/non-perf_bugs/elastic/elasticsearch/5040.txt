{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/5040","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5040/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5040/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5040/events","html_url":"https://github.com/elastic/elasticsearch/issues/5040","id":27059841,"node_id":"MDU6SXNzdWUyNzA1OTg0MQ==","number":5040,"title":"org.elasticsearch.index.mapper.MapperParsingException: No content is provided","user":{"login":"jerome83136","id":5392480,"node_id":"MDQ6VXNlcjUzOTI0ODA=","avatar_url":"https://avatars2.githubusercontent.com/u/5392480?v=4","gravatar_id":"","url":"https://api.github.com/users/jerome83136","html_url":"https://github.com/jerome83136","followers_url":"https://api.github.com/users/jerome83136/followers","following_url":"https://api.github.com/users/jerome83136/following{/other_user}","gists_url":"https://api.github.com/users/jerome83136/gists{/gist_id}","starred_url":"https://api.github.com/users/jerome83136/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerome83136/subscriptions","organizations_url":"https://api.github.com/users/jerome83136/orgs","repos_url":"https://api.github.com/users/jerome83136/repos","events_url":"https://api.github.com/users/jerome83136/events{/privacy}","received_events_url":"https://api.github.com/users/jerome83136/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2014-02-06T15:59:22Z","updated_at":"2014-02-06T16:55:55Z","closed_at":"2014-02-06T16:06:53Z","author_association":"NONE","active_lock_reason":null,"body":"Hello,\nI'm trying to make scrutmydocs working with an elasticsearch demo node.\nLINK: http://www.scrutmydocs.org\n\nI have on my server:\n\n```\n1 elasticsearch 0.90.11 node (bobone) with fsriver 0.4.0; mapper attachments 2.0.0 RC1; head-plugin\n1 tomcat on which scrutmydocs 0.3.0 is deployed\n```\n\nI have configured 1 local FS river \"river1-tst\" the target is on my local filesystem:\n\"/products/elasticsearch/logs\"\n\nWhen I try to start the river, elasticsearch logs are showing that:\n\n```\nfirst message:\n```\n\n[2014-02-05 15:34:00,510][INFO ][cluster.metadata ] [Professor Power] [river] updatemapping river1-tst\n\n```\nthen numerous errors like those:\n```\n\n\"org.elasticsearch.index.mapper.MapperParsingException: No content is provided\"\n\nAny idea ? What am I doing wrong ?\nNote that the user \"appliman\" used by tomcat and elasticsearch, has read access on the files located on /products/elasticsearch /logs/\n\nThanks for your help.\nJérôme\n\nFull trace sample:\n\nn[2014-02-05 15:11:20,669][INFO ][node ] [Agony] stopped\\n[2014-02-05 15:11:20,670][INFO ][node ] [Agony] closing ...\\n[2014-02-05 15:11:20,694][INFO ][node ] [Agony] closed\\n\\n\\\"}]}\\norg.elasticsearch.index.mapper.MapperParsingException: No content is provided.\\n\\tat org.elasticsearch.index.mapper.attachment.AttachmentMapper.parse(AttachmentMapper.java:337)\\n\\tat org.elasticsearch.index.mapper.object.ObjectMapper.serializeObject(ObjectMapper.java:514)\\n\\tat org.elasticsearch.index.mapper.object.ObjectMapper.parse(ObjectMapper.java:456)\\n\\tat org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:516)\\n\\tat org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:460)\\n\\tat org.elasticsearch.index.shard.service.InternalIndexShard.prepareIndex(InternalIndexShard.java:374)\\n\\tat org.elasticsearch.action.bulk.TransportShardBulkAction.shardIndexOperation(TransportShardBulkAction.java:397)\\n\\tat org.elasticsearch.action.bulk.TransportShardBulkAction.shardOperationOnPrimary(TransportShardBulkAction.java:156)\\n\\tat org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$AsyncShardOperationAction.performOnPrimary(TransportShardReplicationOperationAction.java:556)\\n\\tat org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$AsyncShardOperationAction$1.run(TransportShardReplicationOperationAction.java:426)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)\\n\\tat java.lang.Thread.run(Thread.java:680)\\n[2014-02-05 15:17:12,122][DEBUG][action.bulk ] [Professor Power] [docs][1] failed to execute bulk item (index) index {[docs][doc][e8c97f233f2183c2f652341de9f7b451], source[{\\\"file\\\":{\\\"filename\\\":\\\"elasticsearch_index_indexing_slowlog.log\\\",\\\"last_modified\\\":1391609333000,\\\"indexing_date\\\":\\\"2014-02-05T14:17:10.367Z\\\",\\\"content_type\\\":\\\"application/octet-stream\\\",\\\"url\\\":\\\"file:///products/elasticsearch/logs/elasticsearch_index_indexing_slowlog.log\\\",\\\"filesize\\\":0},\\\"path\\\":{\\\"encoded\\\":\\\"57ffac5b15768b89c1cc110ac27e1b\\\",\\\"root\\\":\\\"57ffac5b15768b89c1cc110ac27e1b\\\",\\\"virtual\\\":\\\"\\\",\\\"real\\\":\\\"/products/elasticsearch/logs/elasticsearch_index_indexing_slowlog.log\\\"},\\\"meta\\\":{\\\"author\\\":null,\\\"title\\\":null,\\\"date\\\":null,\\\"keywords\\\":[]},\\\"content\\\":\\\"\\\"}]}\\norg.elasticsearch.index.mapper.MapperParsingException: No content is provided.\\n\\tat org.elasticsearch.index.mapper.attachment.AttachmentMapper.parse(AttachmentMapper.java:337)\\n\\tat org.elasticsearch.index.mapper.object.ObjectMapper.serializeObject(ObjectMapper.j\"}]}\norg.elasticsearch.index.mapper.MapperParsingException: No content is provided.\nat org.elasticsearch.index.mapper.attachment.AttachmentMapper.parse(AttachmentMapper.java:337)\nat org.elasticsearch.index.mapper.object.ObjectMapper.serializeObject(ObjectMapper.java:514)\nat org.elasticsearch.index.mapper.object.ObjectMapper.parse(ObjectMapper.java:456)\nat org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:516)\nat org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:460)\nat org.elasticsearch.index.shard.service.InternalIndexShard.prepareIndex(InternalIndexShard.java:374)\nat org.elasticsearch.action.bulk.TransportShardBulkAction.shardIndexOperation(TransportShardBulkAction.java:397)\nat org.elasticsearch.action.bulk.TransportShardBulkAction.shardOperationOnPrimary(TransportShardBulkAction.java:156)\nat org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$AsyncShardOperationAction.performOnPrimary(TransportShardReplicationOperationAction.java:556)\nat org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$AsyncShardOperationAction$1.run(TransportShardReplicationOperationAction.java:426)\nat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)\nat java.lang.Thread.run(Thread.java:680)\n[2014-02-05 15:34:05,465][WARN ][fr.pilato.elasticsearch.river.fs.river.FsRiver] There was failures while executing bulk\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}