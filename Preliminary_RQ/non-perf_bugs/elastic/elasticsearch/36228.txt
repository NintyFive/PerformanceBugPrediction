{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/36228","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36228/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36228/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36228/events","html_url":"https://github.com/elastic/elasticsearch/issues/36228","id":387429174,"node_id":"MDU6SXNzdWUzODc0MjkxNzQ=","number":36228,"title":"ML data feed doesn't work with cross cluster search when using a wildcard for the cluster name","user":{"login":"msimos","id":11743255,"node_id":"MDQ6VXNlcjExNzQzMjU1","avatar_url":"https://avatars3.githubusercontent.com/u/11743255?v=4","gravatar_id":"","url":"https://api.github.com/users/msimos","html_url":"https://github.com/msimos","followers_url":"https://api.github.com/users/msimos/followers","following_url":"https://api.github.com/users/msimos/following{/other_user}","gists_url":"https://api.github.com/users/msimos/gists{/gist_id}","starred_url":"https://api.github.com/users/msimos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msimos/subscriptions","organizations_url":"https://api.github.com/users/msimos/orgs","repos_url":"https://api.github.com/users/msimos/repos","events_url":"https://api.github.com/users/msimos/events{/privacy}","received_events_url":"https://api.github.com/users/msimos/received_events","type":"User","site_admin":false},"labels":[{"id":912833043,"node_id":"MDU6TGFiZWw5MTI4MzMwNDM=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:ml","name":":ml","color":"0e8a16","default":false,"description":"Machine learning"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-12-04T18:49:34Z","updated_at":"2019-01-15T14:19:05Z","closed_at":"2019-01-15T14:19:05Z","author_association":"MEMBER","active_lock_reason":null,"body":"**Elasticsearch version** (`bin/elasticsearch --version`):\r\n\r\nElasticsearch 6.5.1\r\n\r\n**Plugins installed**: []\r\n\r\n**JVM version** (`java -version`):\r\n\r\nJava 1.8\r\n\r\n**OS version** (`uname -a` if on a Unix-like system):\r\n\r\nAny\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nWhen using Cross Cluster Search, if you reference the index pattern like `*:data-*` you will end up getting this error:\r\n\r\n```\r\nError: \"{\\\"error\\\":{\\\"root_cause\\\":[{\\\"type\\\":\\\"exception\\\",\\\"reason\\\":\\\"could not determine the license type for cluster [*]\\\"}],\\\"type\\\":\\\"status_exception\\\",\\\"reason\\\":\\\"cannot start datafeed [datafeed-start_cluster] as it uses indices on a remote cluster [*:data-*] but the license type could not be verified\\\",\\\"caused_by\\\":{\\\"type\\\":\\\"exception\\\",\\\"reason\\\":\\\"could not determine the license type for cluster [*]\\\",\\\"caused_by\\\":{\\\"type\\\":\\\"illegal_argument_exception\\\",\\\"reason\\\":\\\"unknown cluster alias [*]\r\n```\r\n\r\nHowever if you use something like `cluster1:data-*` then this works. If you were to execute a query like `http://localhost:9200/*:indexname-*/_search` this also works. So Elasticsearch supports using a wildcard for the cluster name. So it seems that ML doesn't support using a wildcard.\r\n\r\n**Steps to reproduce**:\r\n\r\n 1. Setup a cross cluster search node with at least one downstream cluster.\r\n 2. Have a Kibana pointed to the cross cluster search node.\r\n 3. Create a ML job using the index pattern like `*:indexname-*`\r\n","closed_by":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"performed_via_github_app":null}