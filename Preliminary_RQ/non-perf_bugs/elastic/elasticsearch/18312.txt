{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/18312","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18312/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18312/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18312/events","html_url":"https://github.com/elastic/elasticsearch/issues/18312","id":154614077,"node_id":"MDU6SXNzdWUxNTQ2MTQwNzc=","number":18312,"title":"Return number of documents in the result counts as HTTP header or in JSON","user":{"login":"burtonator","id":45447,"node_id":"MDQ6VXNlcjQ1NDQ3","avatar_url":"https://avatars3.githubusercontent.com/u/45447?v=4","gravatar_id":"","url":"https://api.github.com/users/burtonator","html_url":"https://github.com/burtonator","followers_url":"https://api.github.com/users/burtonator/followers","following_url":"https://api.github.com/users/burtonator/following{/other_user}","gists_url":"https://api.github.com/users/burtonator/gists{/gist_id}","starred_url":"https://api.github.com/users/burtonator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/burtonator/subscriptions","organizations_url":"https://api.github.com/users/burtonator/orgs","repos_url":"https://api.github.com/users/burtonator/repos","events_url":"https://api.github.com/users/burtonator/events{/privacy}","received_events_url":"https://api.github.com/users/burtonator/received_events","type":"User","site_admin":false},"labels":[{"id":152517143,"node_id":"MDU6TGFiZWwxNTI1MTcxNDM=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/REST%20API","name":":Core/Infra/REST API","color":"0e8a16","default":false,"description":"REST infrastructure and utilities"},{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"assignees":[{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false}],"milestone":null,"comments":7,"created_at":"2016-05-13T01:12:49Z","updated_at":"2017-03-31T14:49:16Z","closed_at":"2017-03-31T14:48:24Z","author_association":"NONE","active_lock_reason":null,"body":"Elasticsearch version: 2.3.2\n\nJVM version: 1.8.0_91\n\n**OS version**: Linux dev 4.4.0-21-generic #37-Ubuntu SMP Mon Apr 18 18:33:37 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\n\n**Describe the feature**:\n\nWe're a SaaS provider of social media data via Elasticsearch.  We have a large ES of about 150 machines and about 6 months of social media content.\n\nYou can check our our service at:\n\nhttp://spinn3r.com\n\nWe need the ability to throttle customers based on the number of documents they have returned.  We have a piece of HTTP proxy middleware that sits between the Internet and our ES boxes which allows us to provide authorization, logging, etc.\n\nWe REALLY need the ability to easily keep track of the number of documents fetched.  \n\nWhat we've done so far is developed an internal ES plugin with new _search and _msearch endpoints that exposes these as HTTP headers.\n\nThe headers just include the number of documents returned in the search request.\n\nThis prevents us from having to parse the documents to find out the number returned.\n\nWe would LOVE for this functionality to be integrated into stock elasticsearch.  \n","closed_by":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"performed_via_github_app":null}