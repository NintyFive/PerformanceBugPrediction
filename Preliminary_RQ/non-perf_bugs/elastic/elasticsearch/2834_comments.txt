[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15783743","html_url":"https://github.com/elastic/elasticsearch/issues/2834#issuecomment-15783743","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2834","id":15783743,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NzgzNzQz","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-04-02T15:50:47Z","updated_at":"2013-04-02T15:51:07Z","author_association":"MEMBER","body":"Hey Clint,\n\nnot sure if this is actually a bug or expected behaviour. You are dividing two integers, which results in an integer. If you divided 1.0 / doc.num the result is as expected and returns a float. This is how java caclulations works, but might not be what is expected by the user...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15785719","html_url":"https://github.com/elastic/elasticsearch/issues/2834#issuecomment-15785719","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2834","id":15785719,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Nzg1NzE5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2013-04-02T16:20:39Z","updated_at":"2013-04-02T16:20:39Z","author_association":"CONTRIBUTOR","body":"Heya @spinscale \n\nTwo things: one, we're talking about scripting here, where you expect such stuff to be handled for you, and two, it used to work correctly, pre 0.90.\n\nIt may be that working correctly previously was just by accident - maybe i didn't check it correctly?\n\nBut certainly, it returning an integer was a surprise to me - not what i expected\n\nc\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15824756","html_url":"https://github.com/elastic/elasticsearch/issues/2834#issuecomment-15824756","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2834","id":15824756,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODI0NzU2","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-04-03T08:36:11Z","updated_at":"2013-04-03T08:36:11Z","author_association":"MEMBER","body":"FYI: The commit f5331c953518f747bee45dd952df05aea929a230 introduced the faulty behaviour. Maybe Simon knows more...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15826096","html_url":"https://github.com/elastic/elasticsearch/issues/2834#issuecomment-15826096","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2834","id":15826096,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODI2MDk2","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-04-03T09:10:19Z","updated_at":"2013-04-03T09:10:19Z","author_association":"CONTRIBUTOR","body":"what is happening here is that we moved to long vs int in the interface. if you use a long in the mapping this should not work in 0.20.6 either. IMO the behaviour here is now correct while it was buggy in 0.20.6. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15838596","html_url":"https://github.com/elastic/elasticsearch/issues/2834#issuecomment-15838596","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2834","id":15838596,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODM4NTk2","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-04-03T14:08:06Z","updated_at":"2013-04-03T14:08:06Z","author_association":"CONTRIBUTOR","body":"I flagged this as feature / enhancement ;) This is really an inconsistency in the mvel language trying to be smart. I can  buy into this if it is consistent but if it depends on the type we have in the mapping we should rather break bw compat than trying to fix this. I will close...\n","performed_via_github_app":null}]