[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/464118688","html_url":"https://github.com/elastic/elasticsearch/issues/38964#issuecomment-464118688","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38964","id":464118688,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDExODY4OA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-02-15T16:47:33Z","updated_at":"2019-02-15T16:47:33Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-features","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/464133912","html_url":"https://github.com/elastic/elasticsearch/issues/38964#issuecomment-464133912","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38964","id":464133912,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDEzMzkxMg==","user":{"login":"ebadyano","id":26631211,"node_id":"MDQ6VXNlcjI2NjMxMjEx","avatar_url":"https://avatars0.githubusercontent.com/u/26631211?v=4","gravatar_id":"","url":"https://api.github.com/users/ebadyano","html_url":"https://github.com/ebadyano","followers_url":"https://api.github.com/users/ebadyano/followers","following_url":"https://api.github.com/users/ebadyano/following{/other_user}","gists_url":"https://api.github.com/users/ebadyano/gists{/gist_id}","starred_url":"https://api.github.com/users/ebadyano/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ebadyano/subscriptions","organizations_url":"https://api.github.com/users/ebadyano/orgs","repos_url":"https://api.github.com/users/ebadyano/repos","events_url":"https://api.github.com/users/ebadyano/events{/privacy}","received_events_url":"https://api.github.com/users/ebadyano/received_events","type":"User","site_admin":false},"created_at":"2019-02-15T17:33:25Z","updated_at":"2019-02-15T17:33:25Z","author_association":"CONTRIBUTOR","body":"I am able to reproduce the behaviour when elasticsearch instance doesn't have any indexes. If I have at least one index I cannot reproduce this error.\r\n\r\nWe might want to have a slight more clear error message than `no such index [null]` for such cases (when there are no indexes)?\r\n\r\n@ferronrsmith Just to confirm, are you able reproduce this error when you have more than 0 indexes?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/464136373","html_url":"https://github.com/elastic/elasticsearch/issues/38964#issuecomment-464136373","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38964","id":464136373,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDEzNjM3Mw==","user":{"login":"gwbrown","id":1522844,"node_id":"MDQ6VXNlcjE1MjI4NDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/1522844?v=4","gravatar_id":"","url":"https://api.github.com/users/gwbrown","html_url":"https://github.com/gwbrown","followers_url":"https://api.github.com/users/gwbrown/followers","following_url":"https://api.github.com/users/gwbrown/following{/other_user}","gists_url":"https://api.github.com/users/gwbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/gwbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwbrown/subscriptions","organizations_url":"https://api.github.com/users/gwbrown/orgs","repos_url":"https://api.github.com/users/gwbrown/repos","events_url":"https://api.github.com/users/gwbrown/events{/privacy}","received_events_url":"https://api.github.com/users/gwbrown/received_events","type":"User","site_admin":false},"created_at":"2019-02-15T17:41:25Z","updated_at":"2019-02-15T17:41:25Z","author_association":"CONTRIBUTOR","body":"I also see the same behavior - this call works if any indices exist, but fails with `index_not_found_exception` if there are none.\r\n\r\nThis also occurs on the latest commit of 6.7, but I haven't checked any earlier than that.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/464136414","html_url":"https://github.com/elastic/elasticsearch/issues/38964#issuecomment-464136414","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38964","id":464136414,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDEzNjQxNA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-02-15T17:41:33Z","updated_at":"2019-02-15T17:41:33Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/464321501","html_url":"https://github.com/elastic/elasticsearch/issues/38964#issuecomment-464321501","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38964","id":464321501,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDMyMTUwMQ==","user":{"login":"ferronrsmith","id":159764,"node_id":"MDQ6VXNlcjE1OTc2NA==","avatar_url":"https://avatars2.githubusercontent.com/u/159764?v=4","gravatar_id":"","url":"https://api.github.com/users/ferronrsmith","html_url":"https://github.com/ferronrsmith","followers_url":"https://api.github.com/users/ferronrsmith/followers","following_url":"https://api.github.com/users/ferronrsmith/following{/other_user}","gists_url":"https://api.github.com/users/ferronrsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/ferronrsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ferronrsmith/subscriptions","organizations_url":"https://api.github.com/users/ferronrsmith/orgs","repos_url":"https://api.github.com/users/ferronrsmith/repos","events_url":"https://api.github.com/users/ferronrsmith/events{/privacy}","received_events_url":"https://api.github.com/users/ferronrsmith/received_events","type":"User","site_admin":false},"created_at":"2019-02-16T09:13:41Z","updated_at":"2019-02-16T09:13:41Z","author_association":"NONE","body":"@ebadyano confirmed; it only happens when cluster has no indices.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/465261546","html_url":"https://github.com/elastic/elasticsearch/issues/38964#issuecomment-465261546","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38964","id":465261546,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTI2MTU0Ng==","user":{"login":"hub-cap","id":613352,"node_id":"MDQ6VXNlcjYxMzM1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/613352?v=4","gravatar_id":"","url":"https://api.github.com/users/hub-cap","html_url":"https://github.com/hub-cap","followers_url":"https://api.github.com/users/hub-cap/followers","following_url":"https://api.github.com/users/hub-cap/following{/other_user}","gists_url":"https://api.github.com/users/hub-cap/gists{/gist_id}","starred_url":"https://api.github.com/users/hub-cap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hub-cap/subscriptions","organizations_url":"https://api.github.com/users/hub-cap/orgs","repos_url":"https://api.github.com/users/hub-cap/repos","events_url":"https://api.github.com/users/hub-cap/events{/privacy}","received_events_url":"https://api.github.com/users/hub-cap/received_events","type":"User","site_admin":false},"created_at":"2019-02-19T18:49:55Z","updated_at":"2019-02-19T18:49:55Z","author_association":"CONTRIBUTOR","body":"It looks like [this](https://github.com/elastic/elasticsearch/blob/master/server/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java#L232-L236) is where the resolution is happening and failing. I think we should check to see if any indices exist and if not, throw a `IndexNotFoundException(String message, String name)`, and put some information in the message regarding no indices existing. \r\n\r\nThis would be a great starter issue for someone who wanted to contribute. ","performed_via_github_app":null}]