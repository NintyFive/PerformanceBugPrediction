[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/32012915","html_url":"https://github.com/elastic/elasticsearch/issues/4680#issuecomment-32012915","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4680","id":32012915,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDEyOTE1","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2014-01-10T09:18:07Z","updated_at":"2014-01-10T09:18:07Z","author_association":"MEMBER","body":"I think you can know if the document has been updated or inserted looking at `version` field, right?\n\nIf `version` > 1 then it's an update. Overwise, it's an insert, right?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/32015538","html_url":"https://github.com/elastic/elasticsearch/issues/4680#issuecomment-32015538","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4680","id":32015538,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDE1NTM4","user":{"login":"rhtyd","id":95203,"node_id":"MDQ6VXNlcjk1MjAz","avatar_url":"https://avatars0.githubusercontent.com/u/95203?v=4","gravatar_id":"","url":"https://api.github.com/users/rhtyd","html_url":"https://github.com/rhtyd","followers_url":"https://api.github.com/users/rhtyd/followers","following_url":"https://api.github.com/users/rhtyd/following{/other_user}","gists_url":"https://api.github.com/users/rhtyd/gists{/gist_id}","starred_url":"https://api.github.com/users/rhtyd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rhtyd/subscriptions","organizations_url":"https://api.github.com/users/rhtyd/orgs","repos_url":"https://api.github.com/users/rhtyd/repos","events_url":"https://api.github.com/users/rhtyd/events{/privacy}","received_events_url":"https://api.github.com/users/rhtyd/received_events","type":"User","site_admin":false},"created_at":"2014-01-10T10:06:02Z","updated_at":"2014-01-10T10:06:02Z","author_association":"NONE","body":"@dadoonet thanks. Yes using that we can know if document has been updated or inserted. But I also want to know if fields exited before and possible diff of previous and new values or if the field existed before after?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/32070301","html_url":"https://github.com/elastic/elasticsearch/issues/4680#issuecomment-32070301","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4680","id":32070301,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDcwMzAx","user":{"login":"Plasma","id":229209,"node_id":"MDQ6VXNlcjIyOTIwOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/229209?v=4","gravatar_id":"","url":"https://api.github.com/users/Plasma","html_url":"https://github.com/Plasma","followers_url":"https://api.github.com/users/Plasma/followers","following_url":"https://api.github.com/users/Plasma/following{/other_user}","gists_url":"https://api.github.com/users/Plasma/gists{/gist_id}","starred_url":"https://api.github.com/users/Plasma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Plasma/subscriptions","organizations_url":"https://api.github.com/users/Plasma/orgs","repos_url":"https://api.github.com/users/Plasma/repos","events_url":"https://api.github.com/users/Plasma/events{/privacy}","received_events_url":"https://api.github.com/users/Plasma/received_events","type":"User","site_admin":false},"created_at":"2014-01-10T21:55:18Z","updated_at":"2014-01-10T21:55:18Z","author_association":"NONE","body":"Related to #4420 \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/86907035","html_url":"https://github.com/elastic/elasticsearch/issues/4680#issuecomment-86907035","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4680","id":86907035,"node_id":"MDEyOklzc3VlQ29tbWVudDg2OTA3MDM1","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2015-03-27T11:32:35Z","updated_at":"2015-03-27T11:32:35Z","author_association":"MEMBER","body":"I think this last suggestion on https://github.com/elastic/elasticsearch/issues/4420#issuecomment-86890958 , makes #4420 a complete duplicate of this one. I'm going to close this. If I missed something please re-open or comment on #4420 ?\n\nPS. there is also the http response code (200 vs 201 ) to tell if an upsert happened. \n","performed_via_github_app":null}]