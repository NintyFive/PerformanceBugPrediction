{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/21523","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21523/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21523/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21523/events","html_url":"https://github.com/elastic/elasticsearch/issues/21523","id":189039904,"node_id":"MDU6SXNzdWUxODkwMzk5MDQ=","number":21523,"title":"Docker-compose.yml Is not working for elasticserch","user":{"login":"DhairyashilBhosale","id":6925937,"node_id":"MDQ6VXNlcjY5MjU5Mzc=","avatar_url":"https://avatars1.githubusercontent.com/u/6925937?v=4","gravatar_id":"","url":"https://api.github.com/users/DhairyashilBhosale","html_url":"https://github.com/DhairyashilBhosale","followers_url":"https://api.github.com/users/DhairyashilBhosale/followers","following_url":"https://api.github.com/users/DhairyashilBhosale/following{/other_user}","gists_url":"https://api.github.com/users/DhairyashilBhosale/gists{/gist_id}","starred_url":"https://api.github.com/users/DhairyashilBhosale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DhairyashilBhosale/subscriptions","organizations_url":"https://api.github.com/users/DhairyashilBhosale/orgs","repos_url":"https://api.github.com/users/DhairyashilBhosale/repos","events_url":"https://api.github.com/users/DhairyashilBhosale/events{/privacy}","received_events_url":"https://api.github.com/users/DhairyashilBhosale/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-11-14T06:45:35Z","updated_at":"2016-11-15T18:42:08Z","closed_at":"2016-11-15T18:42:08Z","author_association":"NONE","active_lock_reason":null,"body":"**Version Used:**\r\n\r\n**Docker-compose** = 1.3.2\r\n\r\n**Docker** = 1.12.3\r\n\r\n**Os**: Ubuntu-14.04LTS\r\n\r\n**- 1: docker-compose.yml**\r\n\r\n`  \r\n\r\n    elk: \r\n\r\n    image: elasticsearch:latest       \r\n\r\n    ports:  \r\n\r\n        - \"9200:9200\"\r\n        - \"9300:9300\"\r\n\r\n    volumes:\r\n      - ./Elasticsearch/data:/etc/elasticsearch/data\r\n      - ./Elasticsearch/config/elasticsearch.yml:/etc/elasticsearch/config/elasticsearch.yml\r\n\r\n    command: bash -c \"service elasticsearch start\"\r\n\r\n    tty : true\r\n `\r\n\r\n**- 2: $ docker-compose up**\r\n\r\n`Creating elkdockerdir_elk_1...\r\nAttaching to elkdockerdir_elk_1\r\nelk_1 | [2016-11-14T06:28:18,458][INFO ][o.e.n.Node               ] [] initializing ...\r\nelk_1 | [2016-11-14T06:28:18,573][INFO ][o.e.e.NodeEnvironment    ] [UERHECj] using [1] data paths, mounts [[/usr/share/elasticsearch/data (/dev/sda6)]], net usable_space [409.6gb], net total_space [442.8gb], spins? [possibly], types [ext4]\r\nelk_1 | [2016-11-14T06:28:18,573][INFO ][o.e.e.NodeEnvironment    ] [UERHECj] heap size [1.9gb], compressed ordinary object pointers [true]\r\nelk_1 | [2016-11-14T06:28:18,576][INFO ][o.e.n.Node               ] [UERHECj] node name [UERHECj] derived from node ID; set [node.name] to override\r\nelk_1 | [2016-11-14T06:28:18,579][INFO ][o.e.n.Node               ] [UERHECj] version[5.0.0], pid[1], build[253032b/2016-10-26T05:11:34.737Z], OS[Linux/3.13.0-32-generic/amd64], JVM[Oracle Corporation/OpenJDK 64-Bit Server VM/1.8.0_111/25.111-b14]\r\nelk_1 | [2016-11-14T06:28:19,066][INFO ][o.e.p.PluginsService     ] [UERHECj] loaded module [aggs-matrix-stats]\r\nelk_1 | [2016-11-14T06:28:19,066][INFO ][o.e.p.PluginsService     ] [UERHECj] loaded module [ingest-common]\r\nelk_1 | [2016-11-14T06:28:19,066][INFO ][o.e.p.PluginsService     ] [UERHECj] loaded module [lang-expression]\r\nelk_1 | [2016-11-14T06:28:19,066][INFO ][o.e.p.PluginsService     ] [UERHECj] loaded module [lang-groovy]\r\nelk_1 | [2016-11-14T06:28:19,066][INFO ][o.e.p.PluginsService     ] [UERHECj] loaded module [lang-mustache]\r\nelk_1 | [2016-11-14T06:28:19,066][INFO ][o.e.p.PluginsService     ] [UERHECj] loaded module [lang-painless]\r\nelk_1 | [2016-11-14T06:28:19,066][INFO ][o.e.p.PluginsService     ] [UERHECj] loaded module [percolator]\r\nelk_1 | [2016-11-14T06:28:19,067][INFO ][o.e.p.PluginsService     ] [UERHECj] loaded module [reindex]\r\nelk_1 | [2016-11-14T06:28:19,067][INFO ][o.e.p.PluginsService     ] [UERHECj] loaded module [transport-netty3]\r\nelk_1 | [2016-11-14T06:28:19,067][INFO ][o.e.p.PluginsService     ] [UERHECj] loaded module [transport-netty4]\r\nelk_1 | [2016-11-14T06:28:19,067][INFO ][o.e.p.PluginsService     ] [UERHECj] no plugins loaded\r\nelk_1 | [2016-11-14T06:28:19,149][WARN ][o.e.d.s.g.GroovyScriptEngineService] [groovy] scripts are deprecated, use [painless] scripts instead\r\nelk_1 | [2016-11-14T06:28:20,424][INFO ][o.e.n.Node               ] [UERHECj] initialized\r\nelk_1 | [2016-11-14T06:28:20,424][INFO ][o.e.n.Node               ] [UERHECj] starting ...\r\nelk_1 | [2016-11-14T06:28:20,571][INFO ][o.e.t.TransportService   ] [UERHECj] publish_address {172.17.0.2:9300}, bound_addresses {[::]:9300}\r\nelk_1 | [2016-11-14T06:28:20,576][INFO ][o.e.b.BootstrapCheck     ] [UERHECj] bound or publishing to a non-loopback or non-link-local address, enforcing bootstrap checks\r\nelk_1 | ERROR: bootstrap checks failed\r\nelk_1 | max virtual memory areas vm.max_map_count [65530] likely too low, increase to at least [262144]\r\nelk_1 | [2016-11-14T06:28:20,587][INFO ][o.e.n.Node               ] [UERHECj] stopping ...\r\nelk_1 | [2016-11-14T06:28:20,608][INFO ][o.e.n.Node               ] [UERHECj] stopped\r\nelk_1 | [2016-11-14T06:28:20,608][INFO ][o.e.n.Node               ] [UERHECj] closing ...\r\nelk_1 | [2016-11-14T06:28:20,620][INFO ][o.e.n.Node               ] [UERHECj] closed\r\nelkdockerdir_elk_1 exited with code 78\r\nGracefully stopping... (press Ctrl+C again to force)\r\n`\r\n\r\n\r\n**3: $ docker ps -a**\r\n\r\n`CONTAINER ID        IMAGE                  COMMAND                  CREATED              STATUS                           PORTS               NAMES\r\na8799b8fe969        elasticsearch:latest   \"/docker-entrypoint.s\"   About a minute ago   Exited (78) About a minute ago                       elkdockerdir_elk_1\r\n`\r\n\r\n**Questions:**\r\n\r\n_1: How to run docker-compose.yml with commands i.e. `command: bash -c \"service elasticsearch start\"`  for given docker-compose and docker version ?_\r\n","closed_by":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"performed_via_github_app":null}