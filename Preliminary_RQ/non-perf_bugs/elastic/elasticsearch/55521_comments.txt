[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/617109041","html_url":"https://github.com/elastic/elasticsearch/issues/55521#issuecomment-617109041","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55521","id":617109041,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzEwOTA0MQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-04-21T11:02:49Z","updated_at":"2020-04-21T11:02:49Z","author_association":"COLLABORATOR","body":"Pinging @elastic/ml-core (:ml)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/617120080","html_url":"https://github.com/elastic/elasticsearch/issues/55521#issuecomment-617120080","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55521","id":617120080,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzEyMDA4MA==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2020-04-21T11:27:59Z","updated_at":"2020-04-21T11:27:59Z","author_association":"CONTRIBUTOR","body":"I don't think this is unique to lazy open jobs, although they make it easier to reproduce on demand.  Currently if you close _any_ job while it's not assigned to a node, for example immediately after the node is was running on is killed, then the close doesn't get audited.\r\n\r\nThe same problem also applies to data frame analytics jobs.\r\n\r\nIt's basically a one line fix in each of these actions to add the auditor call for the unassigned case.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/617310088","html_url":"https://github.com/elastic/elasticsearch/issues/55521#issuecomment-617310088","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55521","id":617310088,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzMxMDA4OA==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2020-04-21T17:39:22Z","updated_at":"2020-04-21T17:39:22Z","author_association":"CONTRIBUTOR","body":"After investigating a bit more I think this might be a UI side problem.\r\n\r\nI added the extra audit message indexing for unassigned jobs and now _two_ audit messages are being indexed when unassigned jobs are stopped.  But _neither_ of these is showing up in the UI.  The UI must have some extra cleverness about which messages are shown in the list.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/617664929","html_url":"https://github.com/elastic/elasticsearch/issues/55521#issuecomment-617664929","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55521","id":617664929,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzY2NDkyOQ==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2020-04-22T09:29:34Z","updated_at":"2020-04-22T09:29:34Z","author_association":"CONTRIBUTOR","body":"Please can someone from @elastic/ml-ui look into this?  I cannot work out why the audit message is not being displayed in the UI.  It is searchable from dev console (if running as superuser) but doesn't show up in the job messages list.  Is there some extra condition that's being applied that's filtering it out, maybe because there are warnings present before the info?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/617707057","html_url":"https://github.com/elastic/elasticsearch/issues/55521#issuecomment-617707057","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55521","id":617707057,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzcwNzA1Nw==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2020-04-22T10:59:17Z","updated_at":"2020-04-22T10:59:17Z","author_association":"CONTRIBUTOR","body":"> Please can someone from @elastic/ml-ui look into this? I cannot work out why the audit message is not being displayed in the UI.\r\n\r\nOh, it's just that the \"Job messages\" tab isn't auto-refreshed by clicking the \"Refresh\" link.  If I switch to the \"JSON\" tab, then back to \"Job messages\" then the extra message is there.\r\n\r\nSo I think the bug is that clicking \"Refresh\" while the \"Job messages\" tab is visible doesn't redraw the job messages table.  Shall I open a bug in the Kibana repo for that or is it already a known issue?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/617709670","html_url":"https://github.com/elastic/elasticsearch/issues/55521#issuecomment-617709670","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55521","id":617709670,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzcwOTY3MA==","user":{"login":"sophiec20","id":4185750,"node_id":"MDQ6VXNlcjQxODU3NTA=","avatar_url":"https://avatars2.githubusercontent.com/u/4185750?v=4","gravatar_id":"","url":"https://api.github.com/users/sophiec20","html_url":"https://github.com/sophiec20","followers_url":"https://api.github.com/users/sophiec20/followers","following_url":"https://api.github.com/users/sophiec20/following{/other_user}","gists_url":"https://api.github.com/users/sophiec20/gists{/gist_id}","starred_url":"https://api.github.com/users/sophiec20/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophiec20/subscriptions","organizations_url":"https://api.github.com/users/sophiec20/orgs","repos_url":"https://api.github.com/users/sophiec20/repos","events_url":"https://api.github.com/users/sophiec20/events{/privacy}","received_events_url":"https://api.github.com/users/sophiec20/received_events","type":"User","site_admin":false},"created_at":"2020-04-22T11:05:31Z","updated_at":"2020-04-22T11:05:31Z","author_association":"NONE","body":"Already a known issue, discussed with @peteharverson yesterday. Pending GH ticket.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/617712320","html_url":"https://github.com/elastic/elasticsearch/issues/55521#issuecomment-617712320","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55521","id":617712320,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzcxMjMyMA==","user":{"login":"sophiec20","id":4185750,"node_id":"MDQ6VXNlcjQxODU3NTA=","avatar_url":"https://avatars2.githubusercontent.com/u/4185750?v=4","gravatar_id":"","url":"https://api.github.com/users/sophiec20","html_url":"https://github.com/sophiec20","followers_url":"https://api.github.com/users/sophiec20/followers","following_url":"https://api.github.com/users/sophiec20/following{/other_user}","gists_url":"https://api.github.com/users/sophiec20/gists{/gist_id}","starred_url":"https://api.github.com/users/sophiec20/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophiec20/subscriptions","organizations_url":"https://api.github.com/users/sophiec20/orgs","repos_url":"https://api.github.com/users/sophiec20/repos","events_url":"https://api.github.com/users/sophiec20/events{/privacy}","received_events_url":"https://api.github.com/users/sophiec20/received_events","type":"User","site_admin":false},"created_at":"2020-04-22T11:11:58Z","updated_at":"2020-04-22T11:11:58Z","author_association":"NONE","body":"Updated title to reflect that datafeed stop audit message was missing, and not the job closing.","performed_via_github_app":null}]