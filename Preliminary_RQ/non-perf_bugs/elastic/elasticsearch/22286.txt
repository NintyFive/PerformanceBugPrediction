{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/22286","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22286/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22286/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22286/events","html_url":"https://github.com/elastic/elasticsearch/issues/22286","id":196780332,"node_id":"MDU6SXNzdWUxOTY3ODAzMzI=","number":22286,"title":"Plugin install fails if another plugin in incompatible version is still installed","user":{"login":"jakommo","id":6436143,"node_id":"MDQ6VXNlcjY0MzYxNDM=","avatar_url":"https://avatars2.githubusercontent.com/u/6436143?v=4","gravatar_id":"","url":"https://api.github.com/users/jakommo","html_url":"https://github.com/jakommo","followers_url":"https://api.github.com/users/jakommo/followers","following_url":"https://api.github.com/users/jakommo/following{/other_user}","gists_url":"https://api.github.com/users/jakommo/gists{/gist_id}","starred_url":"https://api.github.com/users/jakommo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakommo/subscriptions","organizations_url":"https://api.github.com/users/jakommo/orgs","repos_url":"https://api.github.com/users/jakommo/repos","events_url":"https://api.github.com/users/jakommo/events{/privacy}","received_events_url":"https://api.github.com/users/jakommo/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2016-12-20T21:01:44Z","updated_at":"2016-12-22T10:41:18Z","closed_at":"2016-12-20T21:22:43Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Elasticsearch version**: 2.4.1 upgrade to 2.4.3\r\n\r\n**Plugins installed**: [license, marvel-agent, cloud-aws]\r\n\r\n**JVM version**: Java 8 u111\r\n\r\n**OS version**: Ubuntu 14.04 \r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\n**Steps to reproduce**:\r\n 1. Install ES 2.4.1, install at least two plugins\r\n 2. Upgrade ES to e.g. 2.4.3\r\n 3. Remove the first plugin and install it again (while the other plugin(s) are still on the old version)\r\n\r\n```\r\nroot@plugin-20161220-214522trusty-64-jre-1:/usr/share/elasticsearch#/usr/share/elasticsearch# bin/plugin remove cloud-aws\r\n-> Removing cloud-aws...\r\nRemoved cloud-aws\r\nroot@plugin-20161220-214522trusty-64-jre-1:/usr/share/elasticsearch# bin/plugin install cloud-aws\r\n-> Installing cloud-aws...\r\nTrying https://download.elastic.co/elasticsearch/release/org/elasticsearch/plugin/cloud-aws/2.4.3/cloud-aws-2.4.3.zip ...\r\nDownloading ................................................................................................................................................................................................................................................................................................................................................................................................................DONE\r\nVerifying https://download.elastic.co/elasticsearch/release/org/elasticsearch/plugin/cloud-aws/2.4.3/cloud-aws-2.4.3.zip checksums if available ...\r\nDownloading .DONE\r\nERROR: Plugin [marvel-agent] is incompatible with Elasticsearch [2.4.3]. Was designed for version [2.4.1]\r\nroot@plugin-20161220-214522trusty-64-jre-1:/usr/share/elasticsearch# bin/plugin list\r\nInstalled plugins in /usr/share/elasticsearch/plugins:\r\n    - marvel-agent\r\n    - license\r\nroot@plugin-20161220-214522trusty-64-jre-1:/usr/share/elasticsearch#\r\n```\r\n\r\n**Describe the feature**:\r\nThe installation of `cloud-aws` fails because `marvel-agent` is still installed in an old version.\r\nWe should not fail to install a plugin, if another one is not up to date. \r\n\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}