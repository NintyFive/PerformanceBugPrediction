[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/421774150","html_url":"https://github.com/elastic/elasticsearch/issues/33739#issuecomment-421774150","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33739","id":421774150,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTc3NDE1MA==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2018-09-16T14:28:40Z","updated_at":"2018-09-16T14:28:40Z","author_association":"MEMBER","body":"Hey Fabien.\r\n\r\nMay be have a look at index.auto_expand_replicas setting. You can add it to your index templates.\r\n\r\nSee https://www.elastic.co/guide/en/elasticsearch/reference/6.4/index-modules.html","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/421803391","html_url":"https://github.com/elastic/elasticsearch/issues/33739#issuecomment-421803391","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33739","id":421803391,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTgwMzM5MQ==","user":{"login":"fbaligand","id":3750300,"node_id":"MDQ6VXNlcjM3NTAzMDA=","avatar_url":"https://avatars1.githubusercontent.com/u/3750300?v=4","gravatar_id":"","url":"https://api.github.com/users/fbaligand","html_url":"https://github.com/fbaligand","followers_url":"https://api.github.com/users/fbaligand/followers","following_url":"https://api.github.com/users/fbaligand/following{/other_user}","gists_url":"https://api.github.com/users/fbaligand/gists{/gist_id}","starred_url":"https://api.github.com/users/fbaligand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fbaligand/subscriptions","organizations_url":"https://api.github.com/users/fbaligand/orgs","repos_url":"https://api.github.com/users/fbaligand/repos","events_url":"https://api.github.com/users/fbaligand/events{/privacy}","received_events_url":"https://api.github.com/users/fbaligand/received_events","type":"User","site_admin":false},"created_at":"2018-09-16T17:50:10Z","updated_at":"2018-09-16T17:50:34Z","author_association":"CONTRIBUTOR","body":"Hi David,\r\n\r\nWell, that is the point. \r\nI wish to not have to define a template to avoid yellow cluster state. \r\nThis is the first thing that I do each time I start a elasticsearch cluster. And the first thing I explain to Dev and Ops that start with Elasticsearch. \r\n\r\nIt would be great, at least, to do only elasticsearch.yml config or CLI config. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/421815455","html_url":"https://github.com/elastic/elasticsearch/issues/33739#issuecomment-421815455","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33739","id":421815455,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTgxNTQ1NQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-09-16T19:12:09Z","updated_at":"2018-09-16T19:12:09Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/421817110","html_url":"https://github.com/elastic/elasticsearch/issues/33739#issuecomment-421817110","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33739","id":421817110,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTgxNzExMA==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2018-09-16T19:22:36Z","updated_at":"2018-09-16T19:22:36Z","author_association":"CONTRIBUTOR","body":"I think we should not change this, because it is risky to create zero-replica indices and so I think it's right to require explicit action before creating them. Setting the discovery type isn't explicit enough for my taste.\r\n\r\nFor instance, it's possible to create a node with `single-node` discovery type, create some indices, then reset its discovery type and form a larger cluster, and the existing indices will quietly keep their unsafe `number_of_replicas: 0` setting. This seems trappy.\r\n\r\nNote that in a single-node cluster there's not much difference between yellow and green health anyway: we can only allocate primary shards if there's only one node, and both colours indicate that all primaries are allocated.\r\n\r\nI've flagged this for discussion to gather others' thoughts.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/421828894","html_url":"https://github.com/elastic/elasticsearch/issues/33739#issuecomment-421828894","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33739","id":421828894,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTgyODg5NA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-09-16T20:36:58Z","updated_at":"2018-09-16T20:36:58Z","author_association":"MEMBER","body":"I agree with @DaveCTurner for exactly the reasons he gives.\r\n\r\nI will add a couple more minor points:\r\n - We generally shy away from settings defaults that depend on other settings except when they truly make sense (e.g., sizes of thread pools make sense based on the `processors` setting because that’s *exactly* the point of the `processors` setting). We don’t like dependent default settings because they make the system hard to reason about for us, and our users. The point of the `discovery.type` `single-node` value is for the node to declare: I am not going to form a cluster while I am running, and that is it. As @DaveCTurner mentions, you can always form a cluster later and now you’re hurting because one time you made an index while on `single-node`. That’s trappy.\r\n - Building on another point that @DaveCTurner made, we do have a lot of users that start with a single node and as they expand their uses of Elasticsearch, they come to add more nodes. When they add that second node, we want those replicas already defined so their redundancy grows automatically without effort on their part. It’s part of our goal to be a friendly distributed system. \r\n\r\nFurther, this has been proposed and considered it before and we came to the same conclusion. I’m on mobile so I am having trouble locating the original discussion. Either way, I don’t think we will be changing this.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/421833798","html_url":"https://github.com/elastic/elasticsearch/issues/33739#issuecomment-421833798","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33739","id":421833798,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTgzMzc5OA==","user":{"login":"fbaligand","id":3750300,"node_id":"MDQ6VXNlcjM3NTAzMDA=","avatar_url":"https://avatars1.githubusercontent.com/u/3750300?v=4","gravatar_id":"","url":"https://api.github.com/users/fbaligand","html_url":"https://github.com/fbaligand","followers_url":"https://api.github.com/users/fbaligand/followers","following_url":"https://api.github.com/users/fbaligand/following{/other_user}","gists_url":"https://api.github.com/users/fbaligand/gists{/gist_id}","starred_url":"https://api.github.com/users/fbaligand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fbaligand/subscriptions","organizations_url":"https://api.github.com/users/fbaligand/orgs","repos_url":"https://api.github.com/users/fbaligand/repos","events_url":"https://api.github.com/users/fbaligand/events{/privacy}","received_events_url":"https://api.github.com/users/fbaligand/received_events","type":"User","site_admin":false},"created_at":"2018-09-16T21:07:18Z","updated_at":"2018-09-16T21:07:18Z","author_association":"CONTRIBUTOR","body":"OK, thanks for your explanations.\r\n","performed_via_github_app":null}]