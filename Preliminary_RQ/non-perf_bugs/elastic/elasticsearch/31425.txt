{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/31425","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31425/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31425/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31425/events","html_url":"https://github.com/elastic/elasticsearch/issues/31425","id":333611025,"node_id":"MDU6SXNzdWUzMzM2MTEwMjU=","number":31425,"title":"org.apache.lucene.util.MergedIterator.pullTop() Crash","user":{"login":"WUMUXIAN","id":1101630,"node_id":"MDQ6VXNlcjExMDE2MzA=","avatar_url":"https://avatars3.githubusercontent.com/u/1101630?v=4","gravatar_id":"","url":"https://api.github.com/users/WUMUXIAN","html_url":"https://github.com/WUMUXIAN","followers_url":"https://api.github.com/users/WUMUXIAN/followers","following_url":"https://api.github.com/users/WUMUXIAN/following{/other_user}","gists_url":"https://api.github.com/users/WUMUXIAN/gists{/gist_id}","starred_url":"https://api.github.com/users/WUMUXIAN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WUMUXIAN/subscriptions","organizations_url":"https://api.github.com/users/WUMUXIAN/orgs","repos_url":"https://api.github.com/users/WUMUXIAN/repos","events_url":"https://api.github.com/users/WUMUXIAN/events{/privacy}","received_events_url":"https://api.github.com/users/WUMUXIAN/received_events","type":"User","site_admin":false},"labels":[{"id":144797810,"node_id":"MDU6TGFiZWwxNDQ3OTc4MTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Core","name":":Core/Infra/Core","color":"0e8a16","default":false,"description":"Core issues without another label"},{"id":249799053,"node_id":"MDU6TGFiZWwyNDk3OTkwNTM=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/jvm%20bug","name":"jvm bug","color":"e11d21","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":40,"created_at":"2018-06-19T10:27:08Z","updated_at":"2020-07-07T02:57:06Z","closed_at":"2018-08-17T23:48:40Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n\r\n** Please read the guidelines below. **\r\n\r\nIssues that do not follow these guidelines are likely to be closed.\r\n\r\n1.  GitHub is reserved for bug reports and feature requests. The best place to\r\n    ask a general question is at the Elastic [forums](https://discuss.elastic.co).\r\n    GitHub is not the place for general questions.\r\n\r\n2.  Is this bug report or feature request for a supported OS? If not, it\r\n    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os\r\n\r\n3.  Please fill out EITHER the feature request block or the bug report block\r\n    below, and delete the other block.\r\n\r\n-->\r\n\r\n<!-- Bug report -->\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`):\r\n6.3.0\r\n\r\n**Plugins installed**: [ingest-geoip, ingest-user-agent]\r\n\r\n**JVM version** (`java -version`):\r\nopenjdk version \"10.0.1\" 2018-04-17\r\nOpenJDK Runtime Environment (build 10.0.1+10)\r\nOpenJDK 64-Bit Server VM (build 10.0.1+10, mixed mode)\r\n\r\n**OS version** (`uname -a` if on a Unix-like system):\r\nLinux es-data-us-east-1c-0 4.9.0-6-amd64 #1 SMP Debian 4.9.82-1+deb9u3 (2018-03-02) x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nI am running a elasticsearch data node using this docker image:\r\n\r\ndocker.elastic.co/elasticsearch/elasticsearch:6.3.0\r\n\r\nSomehow it always crashes after running for ~5 mins with error like this:\r\n```\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007fc7ebc050eb, pid=1, tid=151\r\n#\r\n# JRE version: OpenJDK Runtime Environment (10.0.1+10) (build 10.0.1+10)\r\n# Java VM: OpenJDK 64-Bit Server VM (10.0.1+10, mixed mode, tiered, compressed oops, concurrent mark sweep gc, linux-amd64)\r\n# Problematic frame:\r\n# J 14088 c2 org.apache.lucene.util.MergedIterator.pullTop()V (135 bytes) @ 0x00007fc7ebc050eb [0x00007fc7ebc041e0+0x0000000000000f0b]\r\n#\r\n# Core dump will be written. Default location: /usr/share/elasticsearch/core\r\n#\r\n# An error report file with more information is saved as:\r\n# logs/hs_err_pid1.log\r\nCould not load hsdis-amd64.so; library not loadable; PrintAssembly is disabled\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   http://bugreport.java.com/bugreport/crash.jsp\r\n#\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n\r\n[error occurred during error reporting (), id 0xb]\r\n\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n[Too many errors, abort]\r\n```\r\n\r\n**Steps to reproduce**:\r\n\r\nPlease include a *minimal* but *complete* recreation of the problem, including\r\n(e.g.) index creation, mappings, settings, query etc.  The easier you make for\r\nus to reproduce it, the more likely that somebody will take the time to look at it.\r\n\r\n 1. Deploy 3 master nodes\r\n 2. Deploy 2 data nodes\r\n 3. One of the data nodes always crashes with the above error.\r\n\r\n\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}