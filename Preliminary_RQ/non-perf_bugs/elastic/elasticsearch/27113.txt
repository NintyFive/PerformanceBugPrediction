{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/27113","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27113/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27113/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27113/events","html_url":"https://github.com/elastic/elasticsearch/issues/27113","id":268515393,"node_id":"MDU6SXNzdWUyNjg1MTUzOTM=","number":27113,"title":"Shouldn't crash when plugin folder is missing","user":{"login":"HarelM","id":3269297,"node_id":"MDQ6VXNlcjMyNjkyOTc=","avatar_url":"https://avatars3.githubusercontent.com/u/3269297?v=4","gravatar_id":"","url":"https://api.github.com/users/HarelM","html_url":"https://github.com/HarelM","followers_url":"https://api.github.com/users/HarelM/followers","following_url":"https://api.github.com/users/HarelM/following{/other_user}","gists_url":"https://api.github.com/users/HarelM/gists{/gist_id}","starred_url":"https://api.github.com/users/HarelM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HarelM/subscriptions","organizations_url":"https://api.github.com/users/HarelM/orgs","repos_url":"https://api.github.com/users/HarelM/repos","events_url":"https://api.github.com/users/HarelM/events{/privacy}","received_events_url":"https://api.github.com/users/HarelM/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-10-25T19:13:40Z","updated_at":"2020-04-28T22:18:00Z","closed_at":"2017-10-25T20:11:12Z","author_association":"NONE","active_lock_reason":null,"body":"<!-- Bug report -->\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`):\r\n5.6.3\r\n**Plugins installed**: []\r\nnone\r\n**JVM version** (`java -version`):\r\n1.8.0_144\r\n**OS version** (`uname -a` if on a Unix-like system):\r\nWindows 10\r\n**Description of the problem including expected versus actual behavior**:\r\nWhen plugin folder is missing ES crashes on initialization\r\n**Steps to reproduce**:\r\n1. Delete plugin folder \r\n2. Run elasticsearch.bat\r\n\r\nI know this is a bad usage, but I think a missing folder and an empty folder should have the same outcome.\r\n\r\n**Provide logs (if relevant)**:\r\n [2017-10-25T22:08:56,004][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [] uncaught exception in thread [main]\r\norg.elasticsearch.bootstrap.StartupException: java.lang.IllegalStateException: plugins directory [D:\\Github\\IsraelHikingMap\\Site\\IsraelHiking.Web\\bin\\Debug\\netcoreapp2.0\\Elasticsearch\\plugins] not found\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:136) ~[elasticsearch-5.6.3.jar:5.6.3]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:123) ~[elasticsearch-5.6.3.jar:5.6.3]\r\n        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:70) ~[elasticsearch-5.6.3.jar:5.6.3]\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:134) ~[elasticsearch-5.6.3.jar:5.6.3]\r\n        at org.elasticsearch.cli.Command.main(Command.java:90) ~[elasticsearch-5.6.3.jar:5.6.3]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:91) ~[elasticsearch-5.6.3.jar:5.6.3]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:84) ~[elasticsearch-5.6.3.jar:5.6.3]\r\nCaused by: java.lang.IllegalStateException: plugins directory [D:\\Github\\IsraelHikingMap\\Site\\IsraelHiking.Web\\bin\\Debug\\netcoreapp2.0\\Elasticsearch\\plugins] not found\r\n        at org.elasticsearch.bootstrap.Spawner.spawnNativePluginControllers(Spawner.java:68) ~[elasticsearch-5.6.3.jar:5.6.3]\r\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:168) ~[elasticsearch-5.6.3.jar:5.6.3]\r\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:342) ~[elasticsearch-5.6.3.jar:5.6.3]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:132) ~[elasticsearch-5.6.3.jar:5.6.3]\r\n        ... 6 more\r\n","closed_by":{"login":"HarelM","id":3269297,"node_id":"MDQ6VXNlcjMyNjkyOTc=","avatar_url":"https://avatars3.githubusercontent.com/u/3269297?v=4","gravatar_id":"","url":"https://api.github.com/users/HarelM","html_url":"https://github.com/HarelM","followers_url":"https://api.github.com/users/HarelM/followers","following_url":"https://api.github.com/users/HarelM/following{/other_user}","gists_url":"https://api.github.com/users/HarelM/gists{/gist_id}","starred_url":"https://api.github.com/users/HarelM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HarelM/subscriptions","organizations_url":"https://api.github.com/users/HarelM/orgs","repos_url":"https://api.github.com/users/HarelM/repos","events_url":"https://api.github.com/users/HarelM/events{/privacy}","received_events_url":"https://api.github.com/users/HarelM/received_events","type":"User","site_admin":false},"performed_via_github_app":null}