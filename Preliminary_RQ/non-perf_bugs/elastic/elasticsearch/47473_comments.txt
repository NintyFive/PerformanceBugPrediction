[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/537719978","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-537719978","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":537719978,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzcxOTk3OA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-10-02T23:14:23Z","updated_at":"2019-10-02T23:14:23Z","author_association":"MEMBER","body":"@pgomulka Can you take a look?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/537812452","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-537812452","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":537812452,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzgxMjQ1Mg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-10-03T06:51:17Z","updated_at":"2019-10-03T06:51:17Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra (:Core/Infra/Core)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/537899019","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-537899019","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":537899019,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzg5OTAxOQ==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-10-03T11:08:43Z","updated_at":"2019-10-03T11:11:51Z","author_association":"CONTRIBUTOR","body":"@niemyjski Thank you for this report. This is related to https://github.com/elastic/elasticsearch/issues/45284 bug where we don't parse partial dates as joda used to. The fix is now being in progress. I will update you once the work is done.\r\n\r\nWhat is happening here behind the scene is that you have a field of type `date` which has a format defaulted to `\"strict_date_optional_time||epoch_millis\"` that means it expects a full date `2018-01-01` at minimum with optional time part, or a `long` to represent epoch millis. It used to be more relaxed in  6 & 5 versions. \r\n\r\nA work around for this would be if you update your mapping to be in this form `uuuu-MM-dd'T'HH:mm:ss.SSS||uuuu-MM-dd'T'HH:mm:ss||uuuu-MM-dd'T'HH:mm||uuuu-MM-dd'T'HH||uuuu-MM-dd'T'HH||uuuu-MM-dd||uuuu-MM||uuuu`\r\n\r\n```\r\n  \"properties\": {\r\n    \"mydate\": {\r\n      \"type\": \"date\",\r\n      \"format\": \"uuuu-MM-dd'T'HH:mm:SS||uuuu-MM-dd'T'HH:mm||uuuu-MM-dd'T'HH||uuuu-MM-dd'T'HH||uuuu-MM-dd||uuuu-MM||uuuu\"\r\n    }\r\n  }\r\n```\r\nI realise that it would be an inconvenience.\r\nOnce again, the fix is in progress.\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/538186089","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-538186089","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":538186089,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODE4NjA4OQ==","user":{"login":"niemyjski","id":1020579,"node_id":"MDQ6VXNlcjEwMjA1Nzk=","avatar_url":"https://avatars3.githubusercontent.com/u/1020579?v=4","gravatar_id":"","url":"https://api.github.com/users/niemyjski","html_url":"https://github.com/niemyjski","followers_url":"https://api.github.com/users/niemyjski/followers","following_url":"https://api.github.com/users/niemyjski/following{/other_user}","gists_url":"https://api.github.com/users/niemyjski/gists{/gist_id}","starred_url":"https://api.github.com/users/niemyjski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niemyjski/subscriptions","organizations_url":"https://api.github.com/users/niemyjski/orgs","repos_url":"https://api.github.com/users/niemyjski/repos","events_url":"https://api.github.com/users/niemyjski/events{/privacy}","received_events_url":"https://api.github.com/users/niemyjski/received_events","type":"User","site_admin":false},"created_at":"2019-10-04T01:01:17Z","updated_at":"2019-10-04T01:01:31Z","author_association":"CONTRIBUTOR","body":"Thanks for the short term work around! Also do you have any idea what might also be causing the `gte` bug?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/538270622","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-538270622","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":538270622,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODI3MDYyMg==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-10-04T07:01:14Z","updated_at":"2019-10-04T07:01:14Z","author_association":"CONTRIBUTOR","body":"you mean `it seems like you can put any numeric value in 5.x on the gte query and it will return results` ?\r\nin ES 5&6 we were defaulting missing month and day if not provided in a date. So `2015` with `strict_date_optional_time` would be parsed as `2015-01-01`. This is the gap we will try to address in a fix","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/538376716","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-538376716","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":538376716,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODM3NjcxNg==","user":{"login":"niemyjski","id":1020579,"node_id":"MDQ6VXNlcjEwMjA1Nzk=","avatar_url":"https://avatars3.githubusercontent.com/u/1020579?v=4","gravatar_id":"","url":"https://api.github.com/users/niemyjski","html_url":"https://github.com/niemyjski","followers_url":"https://api.github.com/users/niemyjski/followers","following_url":"https://api.github.com/users/niemyjski/following{/other_user}","gists_url":"https://api.github.com/users/niemyjski/gists{/gist_id}","starred_url":"https://api.github.com/users/niemyjski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niemyjski/subscriptions","organizations_url":"https://api.github.com/users/niemyjski/orgs","repos_url":"https://api.github.com/users/niemyjski/repos","events_url":"https://api.github.com/users/niemyjski/events{/privacy}","received_events_url":"https://api.github.com/users/niemyjski/received_events","type":"User","site_admin":false},"created_at":"2019-10-04T12:30:33Z","updated_at":"2019-10-04T12:30:33Z","author_association":"CONTRIBUTOR","body":"No, perhaps it needs a new bug issue. You can put any numeric value in it like `223423423423423423` and the query will still return a value... Seems like the GTE is not respected at all and this could be a query optimization because I can do a greater than query that's a higher number than the less than and it will return all the results and ignore the value (when this could be short circuited).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/538428006","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-538428006","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":538428006,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODQyODAwNg==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-10-04T14:46:05Z","updated_at":"2019-10-04T14:46:05Z","author_association":"CONTRIBUTOR","body":"that would be indeed a bug. I confused though - this works as expected not returning results\r\n```\r\n{\r\n  \"query\": {\r\n    \"bool\": {\r\n      \"filter\": [\r\n        {\r\n          \"bool\": {\r\n            \"must\": [\r\n              {\r\n                \"range\": {\r\n                  \"mydate\": {\r\n                    \"gte\": \"223423423423423423\",\r\n                    \"lte\": \"2017-01-01\"\r\n                  }\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n```\r\nwould you be able to provide a query that fails on the mapping we used earlier?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/538433718","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-538433718","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":538433718,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODQzMzcxOA==","user":{"login":"niemyjski","id":1020579,"node_id":"MDQ6VXNlcjEwMjA1Nzk=","avatar_url":"https://avatars3.githubusercontent.com/u/1020579?v=4","gravatar_id":"","url":"https://api.github.com/users/niemyjski","html_url":"https://github.com/niemyjski","followers_url":"https://api.github.com/users/niemyjski/followers","following_url":"https://api.github.com/users/niemyjski/following{/other_user}","gists_url":"https://api.github.com/users/niemyjski/gists{/gist_id}","starred_url":"https://api.github.com/users/niemyjski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niemyjski/subscriptions","organizations_url":"https://api.github.com/users/niemyjski/orgs","repos_url":"https://api.github.com/users/niemyjski/repos","events_url":"https://api.github.com/users/niemyjski/events{/privacy}","received_events_url":"https://api.github.com/users/niemyjski/received_events","type":"User","site_admin":false},"created_at":"2019-10-04T14:59:29Z","updated_at":"2019-10-04T14:59:50Z","author_association":"CONTRIBUTOR","body":"See the query examples (the last one) above :-) in the original post","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/538458686","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-538458686","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":538458686,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODQ1ODY4Ng==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-10-04T16:00:11Z","updated_at":"2019-10-04T16:00:25Z","author_association":"CONTRIBUTOR","body":"you mean this one? \r\n```\r\nPOST /test/_search\r\n{\r\n  \"query\": {\r\n    \"bool\": {\r\n      \"filter\": [\r\n        {\r\n          \"bool\": {\r\n            \"must\": [\r\n              {\r\n                \"range\": {\r\n                  \"mydate\": {\r\n                    \"gte\": \"2015555\",\r\n                    \"lte\": \"2017-01-01\"\r\n                  }\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nas I mentioned in the previous comment. The default format is `strict_date_optional_time||epoch_millis` so it first to parse with first `strict_date_optional-time` and then it tries with `epoch_millis`. `2015555` epoch represents `24 January 1970 07:52:35`","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/538492426","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-538492426","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":538492426,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODQ5MjQyNg==","user":{"login":"niemyjski","id":1020579,"node_id":"MDQ6VXNlcjEwMjA1Nzk=","avatar_url":"https://avatars3.githubusercontent.com/u/1020579?v=4","gravatar_id":"","url":"https://api.github.com/users/niemyjski","html_url":"https://github.com/niemyjski","followers_url":"https://api.github.com/users/niemyjski/followers","following_url":"https://api.github.com/users/niemyjski/following{/other_user}","gists_url":"https://api.github.com/users/niemyjski/gists{/gist_id}","starred_url":"https://api.github.com/users/niemyjski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niemyjski/subscriptions","organizations_url":"https://api.github.com/users/niemyjski/orgs","repos_url":"https://api.github.com/users/niemyjski/repos","events_url":"https://api.github.com/users/niemyjski/events{/privacy}","received_events_url":"https://api.github.com/users/niemyjski/received_events","type":"User","site_admin":false},"created_at":"2019-10-04T17:36:44Z","updated_at":"2019-10-04T17:36:44Z","author_association":"CONTRIBUTOR","body":"yeah that one, it doesn't seem intuitive that it's doing that and it's not\nwhat I want to do or what most people would want to do. I'd think if you\nhave a range query most likely both conditions would be in the same format.\nThanks\n-Blake Niemyjski\n\n\nOn Fri, Oct 4, 2019 at 11:02 AM Przemyslaw Gomulka <notifications@github.com>\nwrote:\n\n> you mean this one?\n>\n> POST /test/_search\n> {\n>   \"query\": {\n>     \"bool\": {\n>       \"filter\": [\n>         {\n>           \"bool\": {\n>             \"must\": [\n>               {\n>                 \"range\": {\n>                   \"mydate\": {\n>                     \"gte\": \"2015555\",\n>                     \"lte\": \"2017-01-01\"\n>                   }\n>                 }\n>               }\n>             ]\n>           }\n>         }\n>       ]\n>     }\n>   }\n> }\n>\n> as I mentioned in the previous comment. The default format is\n> strict_date_optional_time||epoch_millis so it files to parse with first\n> strict_date_optional-time and then it tries with epoch_millis. 2015555\n> epoch represents 24 January 1970 07:52:35\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/elastic/elasticsearch/issues/47473?email_source=notifications&email_token=AAHZFI46DMUTPXYWTZBLU5LQM5SJ5A5CNFSM4I43EC4KYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEAMDUPQ#issuecomment-538458686>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAHZFIZYQMWTQWRIV4ICOVDQM5SJ5ANCNFSM4I43EC4A>\n> .\n>\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/545474558","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-545474558","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":545474558,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTQ3NDU1OA==","user":{"login":"niemyjski","id":1020579,"node_id":"MDQ6VXNlcjEwMjA1Nzk=","avatar_url":"https://avatars3.githubusercontent.com/u/1020579?v=4","gravatar_id":"","url":"https://api.github.com/users/niemyjski","html_url":"https://github.com/niemyjski","followers_url":"https://api.github.com/users/niemyjski/followers","following_url":"https://api.github.com/users/niemyjski/following{/other_user}","gists_url":"https://api.github.com/users/niemyjski/gists{/gist_id}","starred_url":"https://api.github.com/users/niemyjski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niemyjski/subscriptions","organizations_url":"https://api.github.com/users/niemyjski/orgs","repos_url":"https://api.github.com/users/niemyjski/repos","events_url":"https://api.github.com/users/niemyjski/events{/privacy}","received_events_url":"https://api.github.com/users/niemyjski/received_events","type":"User","site_admin":false},"created_at":"2019-10-23T14:35:45Z","updated_at":"2019-10-23T14:35:45Z","author_association":"CONTRIBUTOR","body":"@pgomulka did this make it into 7.4.1 as I don't see no mention of it in the release notes.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/545483101","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-545483101","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":545483101,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTQ4MzEwMQ==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-10-23T14:53:44Z","updated_at":"2019-10-23T14:53:44Z","author_association":"CONTRIBUTOR","body":"@niemyjski It will be released with 7.5","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/545486684","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-545486684","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":545486684,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTQ4NjY4NA==","user":{"login":"niemyjski","id":1020579,"node_id":"MDQ6VXNlcjEwMjA1Nzk=","avatar_url":"https://avatars3.githubusercontent.com/u/1020579?v=4","gravatar_id":"","url":"https://api.github.com/users/niemyjski","html_url":"https://github.com/niemyjski","followers_url":"https://api.github.com/users/niemyjski/followers","following_url":"https://api.github.com/users/niemyjski/following{/other_user}","gists_url":"https://api.github.com/users/niemyjski/gists{/gist_id}","starred_url":"https://api.github.com/users/niemyjski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niemyjski/subscriptions","organizations_url":"https://api.github.com/users/niemyjski/orgs","repos_url":"https://api.github.com/users/niemyjski/repos","events_url":"https://api.github.com/users/niemyjski/events{/privacy}","received_events_url":"https://api.github.com/users/niemyjski/received_events","type":"User","site_admin":false},"created_at":"2019-10-23T15:01:07Z","updated_at":"2019-10-23T15:01:07Z","author_association":"CONTRIBUTOR","body":"We really really need this change sooner than later, we have hundreds of date fields. I thought with the back port that it would make it in 7.4.1","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/555181343","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-555181343","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":555181343,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTE4MTM0Mw==","user":{"login":"niemyjski","id":1020579,"node_id":"MDQ6VXNlcjEwMjA1Nzk=","avatar_url":"https://avatars3.githubusercontent.com/u/1020579?v=4","gravatar_id":"","url":"https://api.github.com/users/niemyjski","html_url":"https://github.com/niemyjski","followers_url":"https://api.github.com/users/niemyjski/followers","following_url":"https://api.github.com/users/niemyjski/following{/other_user}","gists_url":"https://api.github.com/users/niemyjski/gists{/gist_id}","starred_url":"https://api.github.com/users/niemyjski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niemyjski/subscriptions","organizations_url":"https://api.github.com/users/niemyjski/orgs","repos_url":"https://api.github.com/users/niemyjski/repos","events_url":"https://api.github.com/users/niemyjski/events{/privacy}","received_events_url":"https://api.github.com/users/niemyjski/received_events","type":"User","site_admin":false},"created_at":"2019-11-18T19:52:16Z","updated_at":"2019-11-18T19:52:16Z","author_association":"CONTRIBUTOR","body":"I'm getting the following error using the workaround: `failed to parse date field [2019-11-04T07:01:06.3098957+00:00] with format [uuuu-MM-dd'T'HH:mm:SS||uuuu-MM-dd'T'HH:mm||uuuu-MM-dd'T'HH||uuuu-MM-dd'T'HH||uuuu-MM-dd||uuuu-MM||uuuu]` I'm guessing because of the format of the date. This is one more reason we need this fix deployed.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/555191389","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-555191389","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":555191389,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTE5MTM4OQ==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-11-18T20:18:37Z","updated_at":"2019-11-19T08:11:09Z","author_association":"CONTRIBUTOR","body":"@niemyjski Yes, the milliseconds and timezone part is missing. Something like this below. Be careful with this format though. It is fragile and need to be tested. \r\nThe 7.5 is coming soon, can't confirm the date unfortunately. \r\n\r\nuuuu-MM-dd'T'HH:mm:ss.SSS||uuuu-MM-dd'T'HH:mm:ss.SSSXXX||uuuu-MM-dd'T'HH:mm:ss||uuuu-MM-dd'T'HH:mm:ssXXX||uuuu-MM-dd'T'HH:mm||uuuu-MM-dd'T'HH:mmXXX||uuuu-MM-dd'T'HH||uuuu-MM-dd'T'HHXXX||uuuu-MM-dd||uuuu-MM-ddXXX||uuuu-MM||uuuu-MMXXX||uuuu||uuuuXXX\"\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/555225151","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-555225151","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":555225151,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTIyNTE1MQ==","user":{"login":"niemyjski","id":1020579,"node_id":"MDQ6VXNlcjEwMjA1Nzk=","avatar_url":"https://avatars3.githubusercontent.com/u/1020579?v=4","gravatar_id":"","url":"https://api.github.com/users/niemyjski","html_url":"https://github.com/niemyjski","followers_url":"https://api.github.com/users/niemyjski/followers","following_url":"https://api.github.com/users/niemyjski/following{/other_user}","gists_url":"https://api.github.com/users/niemyjski/gists{/gist_id}","starred_url":"https://api.github.com/users/niemyjski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niemyjski/subscriptions","organizations_url":"https://api.github.com/users/niemyjski/orgs","repos_url":"https://api.github.com/users/niemyjski/repos","events_url":"https://api.github.com/users/niemyjski/events{/privacy}","received_events_url":"https://api.github.com/users/niemyjski/received_events","type":"User","site_admin":false},"created_at":"2019-11-18T21:49:22Z","updated_at":"2019-11-18T21:53:41Z","author_association":"CONTRIBUTOR","body":"Thanks for some reason I cannot get this document to index. I've looked at the format docs and I have no idea It looks correct `failed to parse date field [2019-10-17T07:01:26.3488489+00:00] with format [uuuu-MM-dd'T'HH:mm:ss.SSSXXXXZZ||uuuu-MM-dd'T'HH:mm:ss.SSSXXXXZ||uuuu-MM-dd'T'HH:mm:ss.SSSXXXX||uuuu-MM-dd'T'HH:mm:SS||uuuu-MM-dd'T'HH:mm||uuuu-MM-dd'T'HH||uuuu-MM-dd'T'HH||uuuu-MM-dd||uuuu-MM||uuuu]` your help is greatly appreciated. I've tried many different formats. It's 7 decimal places. I've tried nanos etc.. nothing works","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/555384764","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-555384764","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":555384764,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTM4NDc2NA==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-11-19T08:12:30Z","updated_at":"2019-11-19T08:12:30Z","author_association":"CONTRIBUTOR","body":"so I think you have used incorrect pattern. You redundantly specified time zone twice (XXX and ZZ) https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n\r\ntry using the one I provided in this comment https://github.com/elastic/elasticsearch/issues/47473#issuecomment-555191389\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/555564489","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-555564489","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":555564489,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTU2NDQ4OQ==","user":{"login":"niemyjski","id":1020579,"node_id":"MDQ6VXNlcjEwMjA1Nzk=","avatar_url":"https://avatars3.githubusercontent.com/u/1020579?v=4","gravatar_id":"","url":"https://api.github.com/users/niemyjski","html_url":"https://github.com/niemyjski","followers_url":"https://api.github.com/users/niemyjski/followers","following_url":"https://api.github.com/users/niemyjski/following{/other_user}","gists_url":"https://api.github.com/users/niemyjski/gists{/gist_id}","starred_url":"https://api.github.com/users/niemyjski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niemyjski/subscriptions","organizations_url":"https://api.github.com/users/niemyjski/orgs","repos_url":"https://api.github.com/users/niemyjski/repos","events_url":"https://api.github.com/users/niemyjski/events{/privacy}","received_events_url":"https://api.github.com/users/niemyjski/received_events","type":"User","site_admin":false},"created_at":"2019-11-19T15:39:23Z","updated_at":"2019-11-19T16:25:19Z","author_association":"CONTRIBUTOR","body":"After much trial and error the correct format seems to be `uuuu-MM-dd'T'HH:mm:ss.SSSSSSSxxxxx`\r\n\r\n```\r\nDELETE test1\r\nPUT /test1\r\n{\r\n  \"mappings\": {\r\n      \"dynamic_templates\": [\r\n        {\r\n          \"idx_date\": {\r\n            \"match\": \"date*\",\r\n            \"mapping\": {\r\n              \"format\": \"uuuu-MM-dd'T'HH:mm:ss.SSSSSSSxxxxx\",\r\n              \"type\": \"date\"\r\n            }\r\n          }\r\n        }\r\n      ]\r\n  }\r\n}\r\n\r\nPOST /test1/_doc/\r\n{\r\n  \"date\": \"2019-10-17T07:01:26.3488489+00:00\"\r\n}\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/555571200","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-555571200","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":555571200,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTU3MTIwMA==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-11-19T15:53:31Z","updated_at":"2019-11-19T15:53:31Z","author_association":"CONTRIBUTOR","body":"`uuuu-MM-dd'T'HH:mm:ss.SSSSSSSxxxxx` hm this does not seem right to be fair\r\nThe exact one I gave you was not working for you?\r\nWe rely on java.time package and the spec for patterns can be found here https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/555588154","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-555588154","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":555588154,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTU4ODE1NA==","user":{"login":"niemyjski","id":1020579,"node_id":"MDQ6VXNlcjEwMjA1Nzk=","avatar_url":"https://avatars3.githubusercontent.com/u/1020579?v=4","gravatar_id":"","url":"https://api.github.com/users/niemyjski","html_url":"https://github.com/niemyjski","followers_url":"https://api.github.com/users/niemyjski/followers","following_url":"https://api.github.com/users/niemyjski/following{/other_user}","gists_url":"https://api.github.com/users/niemyjski/gists{/gist_id}","starred_url":"https://api.github.com/users/niemyjski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niemyjski/subscriptions","organizations_url":"https://api.github.com/users/niemyjski/orgs","repos_url":"https://api.github.com/users/niemyjski/repos","events_url":"https://api.github.com/users/niemyjski/events{/privacy}","received_events_url":"https://api.github.com/users/niemyjski/received_events","type":"User","site_admin":false},"created_at":"2019-11-19T16:24:47Z","updated_at":"2019-11-19T16:24:47Z","author_association":"CONTRIBUTOR","body":"No it wasn't working, only the above parsed the date. I tried at least 100 different combinations","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/555593905","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-555593905","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":555593905,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTU5MzkwNQ==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-11-19T16:36:59Z","updated_at":"2019-11-19T16:36:59Z","author_association":"CONTRIBUTOR","body":"I see, you need SSSSSSS to parse 3488489, I missed that. At the same time you might have less \r\nif you replace SSS it should work\r\nhowever it won't work if your part of second is just .1 \r\nI don't have a work around for this. \r\n\r\nI guess the best way is just wait for 7.5 wich will be released soon","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/561033943","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-561033943","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":561033943,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTAzMzk0Mw==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-12-03T07:15:05Z","updated_at":"2019-12-03T07:15:05Z","author_association":"CONTRIBUTOR","body":"@niemyjski just wanted to let you know, that  7.5 elasticsearch is out and this bug is fixed there\r\nhttps://www.elastic.co/blog/elastic-stack-7-5-0-released","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/561185853","html_url":"https://github.com/elastic/elasticsearch/issues/47473#issuecomment-561185853","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47473","id":561185853,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTE4NTg1Mw==","user":{"login":"niemyjski","id":1020579,"node_id":"MDQ6VXNlcjEwMjA1Nzk=","avatar_url":"https://avatars3.githubusercontent.com/u/1020579?v=4","gravatar_id":"","url":"https://api.github.com/users/niemyjski","html_url":"https://github.com/niemyjski","followers_url":"https://api.github.com/users/niemyjski/followers","following_url":"https://api.github.com/users/niemyjski/following{/other_user}","gists_url":"https://api.github.com/users/niemyjski/gists{/gist_id}","starred_url":"https://api.github.com/users/niemyjski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niemyjski/subscriptions","organizations_url":"https://api.github.com/users/niemyjski/orgs","repos_url":"https://api.github.com/users/niemyjski/repos","events_url":"https://api.github.com/users/niemyjski/events{/privacy}","received_events_url":"https://api.github.com/users/niemyjski/received_events","type":"User","site_admin":false},"created_at":"2019-12-03T14:14:48Z","updated_at":"2019-12-03T14:14:48Z","author_association":"CONTRIBUTOR","body":"Thanks, I'm going to verify this right now :)\n\nOn Tue, Dec 3, 2019 at 1:15 AM Przemyslaw Gomulka <notifications@github.com>\nwrote:\n\n> @niemyjski <https://github.com/niemyjski> just wanted to let you know,\n> that 7.5 elasticsearch is out and this bug is fixed there\n> https://www.elastic.co/blog/elastic-stack-7-5-0-released\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/elastic/elasticsearch/issues/47473?email_source=notifications&email_token=AAHZFI7NTYAJB5ONDL5GQODQWYBPZA5CNFSM4I43EC4KYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEFYLFVY#issuecomment-561033943>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAHZFI2XLGG5ASPLTAVSQIDQWYBPZANCNFSM4I43EC4A>\n> .\n>\n","performed_via_github_app":null}]