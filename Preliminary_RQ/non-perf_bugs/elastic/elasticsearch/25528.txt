{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/25528","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25528/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25528/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25528/events","html_url":"https://github.com/elastic/elasticsearch/issues/25528","id":240349534,"node_id":"MDU6SXNzdWUyNDAzNDk1MzQ=","number":25528,"title":"Behaviour of auto fuzziness should be configurable","user":{"login":"tobymiller1","id":28922583,"node_id":"MDQ6VXNlcjI4OTIyNTgz","avatar_url":"https://avatars1.githubusercontent.com/u/28922583?v=4","gravatar_id":"","url":"https://api.github.com/users/tobymiller1","html_url":"https://github.com/tobymiller1","followers_url":"https://api.github.com/users/tobymiller1/followers","following_url":"https://api.github.com/users/tobymiller1/following{/other_user}","gists_url":"https://api.github.com/users/tobymiller1/gists{/gist_id}","starred_url":"https://api.github.com/users/tobymiller1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobymiller1/subscriptions","organizations_url":"https://api.github.com/users/tobymiller1/orgs","repos_url":"https://api.github.com/users/tobymiller1/repos","events_url":"https://api.github.com/users/tobymiller1/events{/privacy}","received_events_url":"https://api.github.com/users/tobymiller1/received_events","type":"User","site_admin":false},"labels":[{"id":146832564,"node_id":"MDU6TGFiZWwxNDY4MzI1NjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Search","name":":Search/Search","color":"0e8a16","default":false,"description":"Search-related issues that do not fall into other categories"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":92913858,"node_id":"MDU6TGFiZWw5MjkxMzg1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/good%20first%20issue","name":"good first issue","color":"07569b","default":true,"description":"low hanging fruit"},{"id":110815527,"node_id":"MDU6TGFiZWwxMTA4MTU1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/help%20wanted","name":"help wanted","color":"207de5","default":true,"description":"adoptme"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2017-07-04T08:34:25Z","updated_at":"2018-02-14T13:28:55Z","closed_at":"2017-08-21T09:00:20Z","author_association":"NONE","active_lock_reason":null,"body":"<!-- Feature request -->\r\n\r\nWhen AUTO is used for fuzziness in a query the distance is set to 0 for terms of length 0-2, 1 for lengths 3-5, and 2 for lengths >5. This behaviour is hard-coded.\r\n\r\nWe find this too permissive, and would like to be able to configure (at an instance level, not per query) the boundaries of 3 and 6, at which the distance changes.\r\n\r\nFor now we're using our own build of ES to support this, but would like to send it upstream. Would changing these numbers (3 and 6) to configurable parameters be accepted? Are there any other issues we should be aware of?\r\n\r\nThe current state of org.elasticsearch.common.unit.Fuzziness.asDistance is as follows:\r\n```\r\npublic int asDistance(String text) {\r\n    if (this.equals(AUTO)) { //AUTO\r\n        final int len = termLen(text);\r\n        if (len <= 2) {\r\n            return 0;\r\n        } else if (len > 5) {\r\n            return 2;\r\n        } else {\r\n            return 1;\r\n        }\r\n    }\r\n    return Math.min(2, (int) asFloat());\r\n}\r\n```","closed_by":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"performed_via_github_app":null}