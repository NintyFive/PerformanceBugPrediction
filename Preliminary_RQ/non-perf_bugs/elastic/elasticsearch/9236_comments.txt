[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/69485426","html_url":"https://github.com/elastic/elasticsearch/issues/9236#issuecomment-69485426","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9236","id":69485426,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDg1NDI2","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2015-01-11T06:35:08Z","updated_at":"2015-01-11T06:35:08Z","author_association":"MEMBER","body":"Which version of marvel do you use? Does your local Es node listen on 9200? Any custom settings to the marvel.agent.exporter.es.hosts? I suspect that what thy resolve to.\n\nOn Sun, Jan 11, 2015 at 7:02 AM, Bittu Sarkar notifications@github.com\nwrote:\n\n> When I restarted one of the ES nodes in a cluster, I see the following error stack as soon as the node is restarted.\n> \n> ```\n> [2015-01-10 05:19:02,978][ERROR][marvel.agent.exporter    ] [QUERY_NODE_01] error connecting to [:9200]\n> java.net.ConnectException: Connection refused: connect\n>   at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)\n>   at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)\n>   at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)\n>   at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)\n>   at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)\n>   at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\n>   at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n>   at java.net.Socket.connect(Socket.java:579)\n>   at sun.net.NetworkClient.doConnect(NetworkClient.java:175)\n>   at sun.net.www.http.HttpClient.openServer(HttpClient.java:378)\n>   at sun.net.www.http.HttpClient.openServer(HttpClient.java:473)\n>   at sun.net.www.http.HttpClient.<init>(HttpClient.java:203)\n>   at sun.net.www.http.HttpClient.New(HttpClient.java:290)\n>   at sun.net.www.http.HttpClient.New(HttpClient.java:306)\n>   at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:995)\n>   at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:931)\n>   at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:849)\n>   at org.elasticsearch.marvel.agent.exporter.ESExporter.openConnection(ESExporter.java:325)\n>   at org.elasticsearch.marvel.agent.exporter.ESExporter.openConnection(ESExporter.java:295)\n>   at org.elasticsearch.marvel.agent.exporter.ESExporter.checkAndUploadIndexTemplate(ESExporter.java:384)\n>   at org.elasticsearch.marvel.agent.exporter.ESExporter.openExportingConnection(ESExporter.java:174)\n>   at org.elasticsearch.marvel.agent.exporter.ESExporter.exportXContent(ESExporter.java:248)\n>   at org.elasticsearch.marvel.agent.exporter.ESExporter.exportNodeStats(ESExporter.java:130)\n>   at org.elasticsearch.marvel.agent.AgentService$ExportingWorker.exportNodeStats(AgentService.java:349)\n>   at org.elasticsearch.marvel.agent.AgentService$ExportingWorker.run(AgentService.java:236)\n>   at java.lang.Thread.run(Thread.java:724)\n> ```\n> \n> ## Errors like `error connecting to [localhost:9200]` have been discussed in several issues here and I understand why it occurs but I've never seen `error connecting to [:9200]`. Can you help in understanding why I might have seen this error and if it can be avoided?\n> \n> Reply to this email directly or view it on GitHub:\n> https://github.com/elasticsearch/elasticsearch/issues/9236\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/69485996","html_url":"https://github.com/elastic/elasticsearch/issues/9236#issuecomment-69485996","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9236","id":69485996,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDg1OTk2","user":{"login":"bittusarkar","id":860447,"node_id":"MDQ6VXNlcjg2MDQ0Nw==","avatar_url":"https://avatars0.githubusercontent.com/u/860447?v=4","gravatar_id":"","url":"https://api.github.com/users/bittusarkar","html_url":"https://github.com/bittusarkar","followers_url":"https://api.github.com/users/bittusarkar/followers","following_url":"https://api.github.com/users/bittusarkar/following{/other_user}","gists_url":"https://api.github.com/users/bittusarkar/gists{/gist_id}","starred_url":"https://api.github.com/users/bittusarkar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bittusarkar/subscriptions","organizations_url":"https://api.github.com/users/bittusarkar/orgs","repos_url":"https://api.github.com/users/bittusarkar/repos","events_url":"https://api.github.com/users/bittusarkar/events{/privacy}","received_events_url":"https://api.github.com/users/bittusarkar/received_events","type":"User","site_admin":false},"created_at":"2015-01-11T07:14:22Z","updated_at":"2015-01-11T07:14:22Z","author_association":"NONE","body":"I use Marvel 1.2.1. You are spot on with respect to the root cause. I checked the value of `marvel.agent.exporter.es.hosts` and it was set to `[\":9200\"]`. Not sure how that happened. Anyways, if I set it to `[]`, it would log on the same node right?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/69486222","html_url":"https://github.com/elastic/elasticsearch/issues/9236#issuecomment-69486222","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9236","id":69486222,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDg2MjIy","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2015-01-11T07:28:06Z","updated_at":"2015-01-11T07:28:06Z","author_association":"MEMBER","body":"In that case I would just remove the line. If you run on a custom port you can upgrade to marvel 1.3 or you'll have to change the settings to that.\n\nOn Sun, Jan 11, 2015 at 8:14 AM, Bittu Sarkar notifications@github.com\nwrote:\n\n> ## I use Marvel 1.2.1. You are spot on with respect to the root cause. I checked the value of `marvel.agent.exporter.es.hosts` and it was set to `[\":9200\"]`. Not sure how that happened. Anyways, if I set it to `[]`, it would log on the same node right?\n> \n> Reply to this email directly or view it on GitHub:\n> https://github.com/elasticsearch/elasticsearch/issues/9236#issuecomment-69485996\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/69486729","html_url":"https://github.com/elastic/elasticsearch/issues/9236#issuecomment-69486729","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9236","id":69486729,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDg2NzI5","user":{"login":"bittusarkar","id":860447,"node_id":"MDQ6VXNlcjg2MDQ0Nw==","avatar_url":"https://avatars0.githubusercontent.com/u/860447?v=4","gravatar_id":"","url":"https://api.github.com/users/bittusarkar","html_url":"https://github.com/bittusarkar","followers_url":"https://api.github.com/users/bittusarkar/followers","following_url":"https://api.github.com/users/bittusarkar/following{/other_user}","gists_url":"https://api.github.com/users/bittusarkar/gists{/gist_id}","starred_url":"https://api.github.com/users/bittusarkar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bittusarkar/subscriptions","organizations_url":"https://api.github.com/users/bittusarkar/orgs","repos_url":"https://api.github.com/users/bittusarkar/repos","events_url":"https://api.github.com/users/bittusarkar/events{/privacy}","received_events_url":"https://api.github.com/users/bittusarkar/received_events","type":"User","site_admin":false},"created_at":"2015-01-11T07:59:52Z","updated_at":"2015-01-11T07:59:52Z","author_association":"NONE","body":"Thanks @bleskes. This helps a lot!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/153955339","html_url":"https://github.com/elastic/elasticsearch/issues/9236#issuecomment-153955339","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9236","id":153955339,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzk1NTMzOQ==","user":{"login":"dineshbugide","id":15648306,"node_id":"MDQ6VXNlcjE1NjQ4MzA2","avatar_url":"https://avatars2.githubusercontent.com/u/15648306?v=4","gravatar_id":"","url":"https://api.github.com/users/dineshbugide","html_url":"https://github.com/dineshbugide","followers_url":"https://api.github.com/users/dineshbugide/followers","following_url":"https://api.github.com/users/dineshbugide/following{/other_user}","gists_url":"https://api.github.com/users/dineshbugide/gists{/gist_id}","starred_url":"https://api.github.com/users/dineshbugide/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dineshbugide/subscriptions","organizations_url":"https://api.github.com/users/dineshbugide/orgs","repos_url":"https://api.github.com/users/dineshbugide/repos","events_url":"https://api.github.com/users/dineshbugide/events{/privacy}","received_events_url":"https://api.github.com/users/dineshbugide/received_events","type":"User","site_admin":false},"created_at":"2015-11-05T04:45:38Z","updated_at":"2015-11-05T04:45:38Z","author_association":"NONE","body":"I am using marvel 2.0.0 with elasticsearch 2.0.0 but my marvel is not starting\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/153958978","html_url":"https://github.com/elastic/elasticsearch/issues/9236#issuecomment-153958978","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9236","id":153958978,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzk1ODk3OA==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2015-11-05T05:05:03Z","updated_at":"2015-11-05T05:05:03Z","author_association":"MEMBER","body":"@dineshbugide send your questions to discuss.elastic.co and provide all details there.\n\nAlso please read the marvel documentation as it changed a lot in 2.0.\n","performed_via_github_app":null}]