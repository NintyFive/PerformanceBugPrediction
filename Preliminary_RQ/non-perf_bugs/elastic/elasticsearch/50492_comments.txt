[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/569084105","html_url":"https://github.com/elastic/elasticsearch/issues/50492#issuecomment-569084105","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50492","id":569084105,"node_id":"MDEyOklzc3VlQ29tbWVudDU2OTA4NDEwNQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-12-26T16:21:32Z","updated_at":"2019-12-26T16:21:32Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra (:Core/Infra/Core)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/571407000","html_url":"https://github.com/elastic/elasticsearch/issues/50492#issuecomment-571407000","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50492","id":571407000,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MTQwNzAwMA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2020-01-07T02:38:41Z","updated_at":"2020-01-07T02:38:41Z","author_association":"MEMBER","body":"@yjiu1990 Could you please explain a little more about what you would expect to offset from free memory? I believe you mean buffers like those used in search requests or static objects living for the life of the Elasticsearch process, but these would be very difficult to ascertain accurate sizes.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/571446900","html_url":"https://github.com/elastic/elasticsearch/issues/50492#issuecomment-571446900","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50492","id":571446900,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MTQ0NjkwMA==","user":{"login":"yjiu1990","id":41354304,"node_id":"MDQ6VXNlcjQxMzU0MzA0","avatar_url":"https://avatars0.githubusercontent.com/u/41354304?v=4","gravatar_id":"","url":"https://api.github.com/users/yjiu1990","html_url":"https://github.com/yjiu1990","followers_url":"https://api.github.com/users/yjiu1990/followers","following_url":"https://api.github.com/users/yjiu1990/following{/other_user}","gists_url":"https://api.github.com/users/yjiu1990/gists{/gist_id}","starred_url":"https://api.github.com/users/yjiu1990/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yjiu1990/subscriptions","organizations_url":"https://api.github.com/users/yjiu1990/orgs","repos_url":"https://api.github.com/users/yjiu1990/repos","events_url":"https://api.github.com/users/yjiu1990/events{/privacy}","received_events_url":"https://api.github.com/users/yjiu1990/received_events","type":"User","site_admin":false},"created_at":"2020-01-07T05:53:36Z","updated_at":"2020-01-07T05:53:36Z","author_association":"NONE","body":"I want to get the actual memory used in the machine, otherwise the memory calculated in this way will be of little use, because according to the current monitoring data, the memory utilization is 99%, but half of the actual memory will be put in the buff/cache first","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/571716906","html_url":"https://github.com/elastic/elasticsearch/issues/50492#issuecomment-571716906","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50492","id":571716906,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MTcxNjkwNg==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2020-01-07T18:42:20Z","updated_at":"2020-01-07T18:42:20Z","author_association":"MEMBER","body":"Can you describe more what you mean by \"buff/cache\"? Is it the java persistent java objects I described, or do you mean the operating system's caches/buffers? We use java's OS mxbean to get the total/free memory, and it does not provide any way to find the sizes of the latter:\r\nhttps://docs.oracle.com/javase/7/docs/jre/api/management/extension/com/sun/management/OperatingSystemMXBean.html","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/571909525","html_url":"https://github.com/elastic/elasticsearch/issues/50492#issuecomment-571909525","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50492","id":571909525,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MTkwOTUyNQ==","user":{"login":"yjiu1990","id":41354304,"node_id":"MDQ6VXNlcjQxMzU0MzA0","avatar_url":"https://avatars0.githubusercontent.com/u/41354304?v=4","gravatar_id":"","url":"https://api.github.com/users/yjiu1990","html_url":"https://github.com/yjiu1990","followers_url":"https://api.github.com/users/yjiu1990/followers","following_url":"https://api.github.com/users/yjiu1990/following{/other_user}","gists_url":"https://api.github.com/users/yjiu1990/gists{/gist_id}","starred_url":"https://api.github.com/users/yjiu1990/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yjiu1990/subscriptions","organizations_url":"https://api.github.com/users/yjiu1990/orgs","repos_url":"https://api.github.com/users/yjiu1990/repos","events_url":"https://api.github.com/users/yjiu1990/events{/privacy}","received_events_url":"https://api.github.com/users/yjiu1990/received_events","type":"User","site_admin":false},"created_at":"2020-01-08T06:26:28Z","updated_at":"2020-01-08T06:27:54Z","author_association":"NONE","body":"I understand, because there are some differences in the memory calculation of Linux, the memory rate is generally (total-memavailable)/total or (total â€“ free - buffers - cached) / total. If you use mxbean, the monitoring data displayed will be shown as shown in the figure. In fact, you don't use so much\r\n![image](https://user-images.githubusercontent.com/41354304/71955287-d5796100-3222-11ea-844c-7528191464b6.png)\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/572192490","html_url":"https://github.com/elastic/elasticsearch/issues/50492#issuecomment-572192490","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50492","id":572192490,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MjE5MjQ5MA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2020-01-08T18:17:53Z","updated_at":"2020-01-08T18:17:53Z","author_association":"MEMBER","body":"We do use the mxbean I mentioned, so that is all the information we can get. We discussed this as a team and don't see a way to get at what you want without adding native code, which we try to stay away from as often as possible. We recommend working with tools in your system to limite/manage the buffers and cache size outside of ES if you are concerned about the reporting being high. Since we see this as not a bug, I hope you don't mind that I close this issue.","performed_via_github_app":null}]