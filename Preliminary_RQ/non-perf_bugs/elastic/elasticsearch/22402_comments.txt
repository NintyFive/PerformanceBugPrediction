[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/271665021","html_url":"https://github.com/elastic/elasticsearch/issues/22402#issuecomment-271665021","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22402","id":271665021,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MTY2NTAyMQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-01-10T19:00:00Z","updated_at":"2017-01-10T19:00:00Z","author_association":"CONTRIBUTOR","body":"A JSON array would add significant overhead to the parsing.  The meta lines are short and are all that are needed to redirect the bulk request from the coordinating node to the node that holds the relevant shard.  The doc lines are long and complicated, so skipping forward to the next `\\n` saves a lot of parsing, and allows the shard-specific mini-bulk to read the doc line directly from the network buffer when forwarding, without having to create a new JSON structure.\r\n\r\n> It might be desirable to change the wording since it's not in fact a JSON structure but a \"blob\" composed of JSON fragments.\r\n\r\nWould you like to send a PR with the appropriate wording?\r\n","performed_via_github_app":null}]