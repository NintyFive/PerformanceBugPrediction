{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/61878","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61878/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61878/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61878/events","html_url":"https://github.com/elastic/elasticsearch/issues/61878","id":691352685,"node_id":"MDU6SXNzdWU2OTEzNTI2ODU=","number":61878,"title":"Consider increasing file write buffer sizes","user":{"login":"tbrooks8","id":862472,"node_id":"MDQ6VXNlcjg2MjQ3Mg==","avatar_url":"https://avatars3.githubusercontent.com/u/862472?v=4","gravatar_id":"","url":"https://api.github.com/users/tbrooks8","html_url":"https://github.com/tbrooks8","followers_url":"https://api.github.com/users/tbrooks8/followers","following_url":"https://api.github.com/users/tbrooks8/following{/other_user}","gists_url":"https://api.github.com/users/tbrooks8/gists{/gist_id}","starred_url":"https://api.github.com/users/tbrooks8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbrooks8/subscriptions","organizations_url":"https://api.github.com/users/tbrooks8/orgs","repos_url":"https://api.github.com/users/tbrooks8/repos","events_url":"https://api.github.com/users/tbrooks8/events{/privacy}","received_events_url":"https://api.github.com/users/tbrooks8/received_events","type":"User","site_admin":false},"labels":[{"id":836542781,"node_id":"MDU6TGFiZWw4MzY1NDI3ODE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Engine","name":":Distributed/Engine","color":"0e8a16","default":false,"description":"Anything around managing Lucene and the Translog in an open shard."},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":1967496670,"node_id":"MDU6TGFiZWwxOTY3NDk2Njcw","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Distributed","name":"Team:Distributed","color":"fef2c0","default":false,"description":"Meta label for distributed team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-09-02T19:17:22Z","updated_at":"2020-10-08T05:51:47Z","closed_at":"2020-10-08T05:51:46Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Currently both Lucene and the Translog use output stream buffer sizes of 8KB. The rationale is that the JDK will not internally have to allocated memory when uses writes of this size. However, both these system now use FileChannel which will use internally cached direct byte buffers which makes this rationale outdated. It is possible that we can achieve better performance with larger buffer sizes.\r\n\r\nBenchmarks indexing internal security data against a 60GB node with 8,000 clients sending bulk requests of size 5:\r\n\r\nMaster (8KB Translog, 8KB Lucene) mappings enabled:\r\n\r\n|                                                         Metric |         Task |    Value |   Unit |\r\n|---------------------------------------------------------------:|-------------:|---------:|-------:|\r\n|                     Cumulative indexing time of primary shards |              |  224.643 |    min |\r\n|             Min cumulative indexing time across primary shards |              |  224.643 |    min |\r\n|          Median cumulative indexing time across primary shards |              |  224.643 |    min |\r\n|             Max cumulative indexing time across primary shards |              |  224.643 |    min |\r\n|            Cumulative indexing throttle time of primary shards |              |        0 |    min |\r\n|    Min cumulative indexing throttle time across primary shards |              |        0 |    min |\r\n| Median cumulative indexing throttle time across primary shards |              |        0 |    min |\r\n|    Max cumulative indexing throttle time across primary shards |              |        0 |    min |\r\n|                        Cumulative merge time of primary shards |              |  56.7152 |    min |\r\n|                       Cumulative merge count of primary shards |              |      282 |        |\r\n|                Min cumulative merge time across primary shards |              |  56.7152 |    min |\r\n|             Median cumulative merge time across primary shards |              |  56.7152 |    min |\r\n|                Max cumulative merge time across primary shards |              |  56.7152 |    min |\r\n|               Cumulative merge throttle time of primary shards |              |  21.6116 |    min |\r\n|       Min cumulative merge throttle time across primary shards |              |  21.6116 |    min |\r\n|    Median cumulative merge throttle time across primary shards |              |  21.6116 |    min |\r\n|       Max cumulative merge throttle time across primary shards |              |  21.6116 |    min |\r\n|                      Cumulative refresh time of primary shards |              | 0.710483 |    min |\r\n|                     Cumulative refresh count of primary shards |              |      183 |        |\r\n|              Min cumulative refresh time across primary shards |              | 0.710483 |    min |\r\n|           Median cumulative refresh time across primary shards |              | 0.710483 |    min |\r\n|              Max cumulative refresh time across primary shards |              | 0.710483 |    min |\r\n|                        Cumulative flush time of primary shards |              |  3.53155 |    min |\r\n|                       Cumulative flush count of primary shards |              |      168 |        |\r\n|                Min cumulative flush time across primary shards |              |  3.53155 |    min |\r\n|             Median cumulative flush time across primary shards |              |  3.53155 |    min |\r\n|                Max cumulative flush time across primary shards |              |  3.53155 |    min |\r\n|                                        Total Young Gen GC time |              |    7.538 |      s |\r\n|                                       Total Young Gen GC count |              |      150 |        |\r\n|                                          Total Old Gen GC time |              |        0 |      s |\r\n|                                         Total Old Gen GC count |              |        0 |        |\r\n|                                                     Store size |              |  32.5889 |     GB |\r\n|                                                  Translog size |              | 0.479216 |     GB |\r\n|                                         Heap used for segments |              |  1.78517 |     MB |\r\n|                                       Heap used for doc values |              | 0.197662 |     MB |\r\n|                                            Heap used for terms |              |  1.20587 |     MB |\r\n|                                            Heap used for norms |              |        0 |     MB |\r\n|                                           Heap used for points |              |        0 |     MB |\r\n|                                    Heap used for stored fields |              | 0.381638 |     MB |\r\n|                                                  Segment count |              |       80 |        |\r\n|                                                 Min Throughput | index-append |  16373.3 | docs/s |\r\n|                                              Median Throughput | index-append |  18200.7 | docs/s |\r\n|                                                 Max Throughput | index-append |  18350.8 | docs/s |\r\n|                                        50th percentile latency | index-append |  2057.33 |     ms |\r\n|                                        90th percentile latency | index-append |   2684.7 |     ms |\r\n|                                        99th percentile latency | index-append |  3219.42 |     ms |\r\n|                                      99.9th percentile latency | index-append |  3432.48 |     ms |\r\n|                                     99.99th percentile latency | index-append |  3568.36 |     ms |\r\n|                                       100th percentile latency | index-append |  3629.72 |     ms |\r\n|                                   50th percentile service time | index-append |  2056.89 |     ms |\r\n|                                   90th percentile service time | index-append |  2684.65 |     ms |\r\n|                                   99th percentile service time | index-append |  3219.02 |     ms |\r\n|                                 99.9th percentile service time | index-append |  3432.51 |     ms |\r\n|                                99.99th percentile service time | index-append |  3568.37 |     ms |\r\n|                                  100th percentile service time | index-append |  3629.72 |     ms |\r\n|                                                     error rate | index-append |        0 |      % |\r\n\r\nMaster (8KB Translog, 8KB Lucene) mappings disabled:\r\n\r\n|                                                         Metric |         Task |      Value |   Unit |\r\n|---------------------------------------------------------------:|-------------:|-----------:|-------:|\r\n|                     Cumulative indexing time of primary shards |              |    112.129 |    min |\r\n|             Min cumulative indexing time across primary shards |              |    112.129 |    min |\r\n|          Median cumulative indexing time across primary shards |              |    112.129 |    min |\r\n|             Max cumulative indexing time across primary shards |              |    112.129 |    min |\r\n|            Cumulative indexing throttle time of primary shards |              |          0 |    min |\r\n|    Min cumulative indexing throttle time across primary shards |              |          0 |    min |\r\n| Median cumulative indexing throttle time across primary shards |              |          0 |    min |\r\n|    Max cumulative indexing throttle time across primary shards |              |          0 |    min |\r\n|                        Cumulative merge time of primary shards |              |    26.6102 |    min |\r\n|                       Cumulative merge count of primary shards |              |        267 |        |\r\n|                Min cumulative merge time across primary shards |              |    26.6102 |    min |\r\n|             Median cumulative merge time across primary shards |              |    26.6102 |    min |\r\n|                Max cumulative merge time across primary shards |              |    26.6102 |    min |\r\n|               Cumulative merge throttle time of primary shards |              |    19.7111 |    min |\r\n|       Min cumulative merge throttle time across primary shards |              |    19.7111 |    min |\r\n|    Median cumulative merge throttle time across primary shards |              |    19.7111 |    min |\r\n|       Max cumulative merge throttle time across primary shards |              |    19.7111 |    min |\r\n|                      Cumulative refresh time of primary shards |              |    0.36765 |    min |\r\n|                     Cumulative refresh count of primary shards |              |        182 |        |\r\n|              Min cumulative refresh time across primary shards |              |    0.36765 |    min |\r\n|           Median cumulative refresh time across primary shards |              |    0.36765 |    min |\r\n|              Max cumulative refresh time across primary shards |              |    0.36765 |    min |\r\n|                        Cumulative flush time of primary shards |              |    1.83357 |    min |\r\n|                       Cumulative flush count of primary shards |              |        165 |        |\r\n|                Min cumulative flush time across primary shards |              |    1.83357 |    min |\r\n|             Median cumulative flush time across primary shards |              |    1.83357 |    min |\r\n|                Max cumulative flush time across primary shards |              |    1.83357 |    min |\r\n|                                        Total Young Gen GC time |              |      3.067 |      s |\r\n|                                       Total Young Gen GC count |              |         66 |        |\r\n|                                          Total Old Gen GC time |              |          0 |      s |\r\n|                                         Total Old Gen GC count |              |          0 |        |\r\n|                                                     Store size |              |    25.1609 |     GB |\r\n|                                                  Translog size |              |  0.0763081 |     GB |\r\n|                                         Heap used for segments |              |   0.409325 |     MB |\r\n|                                       Heap used for doc values |              | 0.00557709 |     MB |\r\n|                                            Heap used for terms |              |   0.020874 |     MB |\r\n|                                            Heap used for norms |              |          0 |     MB |\r\n|                                           Heap used for points |              |          0 |     MB |\r\n|                                    Heap used for stored fields |              |   0.382874 |     MB |\r\n|                                                  Segment count |              |         76 |        |\r\n|                                                 Min Throughput | index-append |    32339.8 | docs/s |\r\n|                                              Median Throughput | index-append |    35333.3 | docs/s |\r\n|                                                 Max Throughput | index-append |    35879.7 | docs/s |\r\n|                                        50th percentile latency | index-append |    1064.05 |     ms |\r\n|                                        90th percentile latency | index-append |    1257.14 |     ms |\r\n|                                        99th percentile latency | index-append |    1457.05 |     ms |\r\n|                                      99.9th percentile latency | index-append |    1660.91 |     ms |\r\n|                                     99.99th percentile latency | index-append |    1777.93 |     ms |\r\n|                                       100th percentile latency | index-append |    1851.28 |     ms |\r\n|                                   50th percentile service time | index-append |    1064.04 |     ms |\r\n|                                   90th percentile service time | index-append |    1257.15 |     ms |\r\n|                                   99th percentile service time | index-append |    1457.05 |     ms |\r\n|                                 99.9th percentile service time | index-append |    1660.72 |     ms |\r\n|                                99.99th percentile service time | index-append |    1777.93 |     ms |\r\n|                                  100th percentile service time | index-append |    1851.28 |     ms |\r\n|                                                     error rate | index-append |          0 |      % |\r\n\r\nModified (128KB Translog, 128KB Lucene) mappings enabled:\r\n\r\n|                                                         Metric |         Task |    Value |   Unit |\r\n|---------------------------------------------------------------:|-------------:|---------:|-------:|\r\n|                     Cumulative indexing time of primary shards |              |  224.825 |    min |\r\n|             Min cumulative indexing time across primary shards |              |  224.825 |    min |\r\n|          Median cumulative indexing time across primary shards |              |  224.825 |    min |\r\n|             Max cumulative indexing time across primary shards |              |  224.825 |    min |\r\n|            Cumulative indexing throttle time of primary shards |              |        0 |    min |\r\n|    Min cumulative indexing throttle time across primary shards |              |        0 |    min |\r\n| Median cumulative indexing throttle time across primary shards |              |        0 |    min |\r\n|    Max cumulative indexing throttle time across primary shards |              |        0 |    min |\r\n|                        Cumulative merge time of primary shards |              |  58.1637 |    min |\r\n|                       Cumulative merge count of primary shards |              |      284 |        |\r\n|                Min cumulative merge time across primary shards |              |  58.1637 |    min |\r\n|             Median cumulative merge time across primary shards |              |  58.1637 |    min |\r\n|                Max cumulative merge time across primary shards |              |  58.1637 |    min |\r\n|               Cumulative merge throttle time of primary shards |              |  24.6495 |    min |\r\n|       Min cumulative merge throttle time across primary shards |              |  24.6495 |    min |\r\n|    Median cumulative merge throttle time across primary shards |              |  24.6495 |    min |\r\n|       Max cumulative merge throttle time across primary shards |              |  24.6495 |    min |\r\n|                      Cumulative refresh time of primary shards |              | 0.676717 |    min |\r\n|                     Cumulative refresh count of primary shards |              |      183 |        |\r\n|              Min cumulative refresh time across primary shards |              | 0.676717 |    min |\r\n|           Median cumulative refresh time across primary shards |              | 0.676717 |    min |\r\n|              Max cumulative refresh time across primary shards |              | 0.676717 |    min |\r\n|                        Cumulative flush time of primary shards |              |  3.48418 |    min |\r\n|                       Cumulative flush count of primary shards |              |      168 |        |\r\n|                Min cumulative flush time across primary shards |              |  3.48418 |    min |\r\n|             Median cumulative flush time across primary shards |              |  3.48418 |    min |\r\n|                Max cumulative flush time across primary shards |              |  3.48418 |    min |\r\n|                                        Total Young Gen GC time |              |    7.481 |      s |\r\n|                                       Total Young Gen GC count |              |      151 |        |\r\n|                                          Total Old Gen GC time |              |        0 |      s |\r\n|                                         Total Old Gen GC count |              |        0 |        |\r\n|                                                     Store size |              |  33.2975 |     GB |\r\n|                                                  Translog size |              | 0.201553 |     GB |\r\n|                                         Heap used for segments |              |  1.87429 |     MB |\r\n|                                       Heap used for doc values |              | 0.185894 |     MB |\r\n|                                            Heap used for terms |              |  1.30295 |     MB |\r\n|                                            Heap used for norms |              |        0 |     MB |\r\n|                                           Heap used for points |              |        0 |     MB |\r\n|                                    Heap used for stored fields |              | 0.385445 |     MB |\r\n|                                                  Segment count |              |       85 |        |\r\n|                                                 Min Throughput | index-append |  16155.5 | docs/s |\r\n|                                              Median Throughput | index-append |  18246.2 | docs/s |\r\n|                                                 Max Throughput | index-append |  18491.4 | docs/s |\r\n|                                        50th percentile latency | index-append |  2052.73 |     ms |\r\n|                                        90th percentile latency | index-append |  2673.33 |     ms |\r\n|                                        99th percentile latency | index-append |  3213.52 |     ms |\r\n|                                      99.9th percentile latency | index-append |  3421.54 |     ms |\r\n|                                     99.99th percentile latency | index-append |   3526.6 |     ms |\r\n|                                       100th percentile latency | index-append |  3541.05 |     ms |\r\n|                                   50th percentile service time | index-append |  2052.74 |     ms |\r\n|                                   90th percentile service time | index-append |  2673.35 |     ms |\r\n|                                   99th percentile service time | index-append |  3213.51 |     ms |\r\n|                                 99.9th percentile service time | index-append |  3421.37 |     ms |\r\n|                                99.99th percentile service time | index-append |   3526.6 |     ms |\r\n|                                  100th percentile service time | index-append |  3541.05 |     ms |\r\n|                                                     error rate | index-append |        0 |      % |\r\n\r\nModified (128KB Translog, 8KB Lucene) mappings disabled:\r\n\r\n|                                                         Metric |         Task |      Value |   Unit |\r\n|---------------------------------------------------------------:|-------------:|-----------:|-------:|\r\n|                     Cumulative indexing time of primary shards |              |    92.8757 |    min |\r\n|             Min cumulative indexing time across primary shards |              |    92.8757 |    min |\r\n|          Median cumulative indexing time across primary shards |              |    92.8757 |    min |\r\n|             Max cumulative indexing time across primary shards |              |    92.8757 |    min |\r\n|            Cumulative indexing throttle time of primary shards |              |          0 |    min |\r\n|    Min cumulative indexing throttle time across primary shards |              |          0 |    min |\r\n| Median cumulative indexing throttle time across primary shards |              |          0 |    min |\r\n|    Max cumulative indexing throttle time across primary shards |              |          0 |    min |\r\n|                        Cumulative merge time of primary shards |              |    23.2704 |    min |\r\n|                       Cumulative merge count of primary shards |              |        269 |        |\r\n|                Min cumulative merge time across primary shards |              |    23.2704 |    min |\r\n|             Median cumulative merge time across primary shards |              |    23.2704 |    min |\r\n|                Max cumulative merge time across primary shards |              |    23.2704 |    min |\r\n|               Cumulative merge throttle time of primary shards |              |      15.83 |    min |\r\n|       Min cumulative merge throttle time across primary shards |              |      15.83 |    min |\r\n|    Median cumulative merge throttle time across primary shards |              |      15.83 |    min |\r\n|       Max cumulative merge throttle time across primary shards |              |      15.83 |    min |\r\n|                      Cumulative refresh time of primary shards |              |     0.4008 |    min |\r\n|                     Cumulative refresh count of primary shards |              |        183 |        |\r\n|              Min cumulative refresh time across primary shards |              |     0.4008 |    min |\r\n|           Median cumulative refresh time across primary shards |              |     0.4008 |    min |\r\n|              Max cumulative refresh time across primary shards |              |     0.4008 |    min |\r\n|                        Cumulative flush time of primary shards |              |    1.84002 |    min |\r\n|                       Cumulative flush count of primary shards |              |        167 |        |\r\n|                Min cumulative flush time across primary shards |              |    1.84002 |    min |\r\n|             Median cumulative flush time across primary shards |              |    1.84002 |    min |\r\n|                Max cumulative flush time across primary shards |              |    1.84002 |    min |\r\n|                                        Total Young Gen GC time |              |      3.007 |      s |\r\n|                                       Total Young Gen GC count |              |         66 |        |\r\n|                                          Total Old Gen GC time |              |          0 |      s |\r\n|                                         Total Old Gen GC count |              |          0 |        |\r\n|                                                     Store size |              |    26.6061 |     GB |\r\n|                                                  Translog size |              |   0.478623 |     GB |\r\n|                                         Heap used for segments |              |   0.398308 |     MB |\r\n|                                       Heap used for doc values |              | 0.00600433 |     MB |\r\n|                                            Heap used for terms |              |  0.0170288 |     MB |\r\n|                                            Heap used for norms |              |          0 |     MB |\r\n|                                           Heap used for points |              |          0 |     MB |\r\n|                                    Heap used for stored fields |              |   0.375275 |     MB |\r\n|                                                  Segment count |              |         62 |        |\r\n|                                                 Min Throughput | index-append |    38707.8 | docs/s |\r\n|                                              Median Throughput | index-append |      42007 | docs/s |\r\n|                                                 Max Throughput | index-append |    42572.1 | docs/s |\r\n|                                        50th percentile latency | index-append |    886.555 |     ms |\r\n|                                        90th percentile latency | index-append |    1093.94 |     ms |\r\n|                                        99th percentile latency | index-append |    1316.68 |     ms |\r\n|                                      99.9th percentile latency | index-append |    1496.49 |     ms |\r\n|                                     99.99th percentile latency | index-append |       1599 |     ms |\r\n|                                       100th percentile latency | index-append |    1780.58 |     ms |\r\n|                                   50th percentile service time | index-append |    886.555 |     ms |\r\n|                                   90th percentile service time | index-append |    1093.93 |     ms |\r\n|                                   99th percentile service time | index-append |    1316.69 |     ms |\r\n|                                 99.9th percentile service time | index-append |    1496.44 |     ms |\r\n|                                99.99th percentile service time | index-append |    1599.07 |     ms |\r\n|                                  100th percentile service time | index-append |    1780.58 |     ms |\r\n|                                                     error rate | index-append |          0 |      % |\r\n\r\n\r\nModified (128KB Translog, 128KB Lucene) mappings disabled:\r\n\r\n|                                                         Metric |         Task |      Value |   Unit |\r\n|---------------------------------------------------------------:|-------------:|-----------:|-------:|\r\n|                     Cumulative indexing time of primary shards |              |    91.4276 |    min |\r\n|             Min cumulative indexing time across primary shards |              |    91.4276 |    min |\r\n|          Median cumulative indexing time across primary shards |              |    91.4276 |    min |\r\n|             Max cumulative indexing time across primary shards |              |    91.4276 |    min |\r\n|            Cumulative indexing throttle time of primary shards |              |          0 |    min |\r\n|    Min cumulative indexing throttle time across primary shards |              |          0 |    min |\r\n| Median cumulative indexing throttle time across primary shards |              |          0 |    min |\r\n|    Max cumulative indexing throttle time across primary shards |              |          0 |    min |\r\n|                        Cumulative merge time of primary shards |              |    21.9439 |    min |\r\n|                       Cumulative merge count of primary shards |              |        270 |        |\r\n|                Min cumulative merge time across primary shards |              |    21.9439 |    min |\r\n|             Median cumulative merge time across primary shards |              |    21.9439 |    min |\r\n|                Max cumulative merge time across primary shards |              |    21.9439 |    min |\r\n|               Cumulative merge throttle time of primary shards |              |    15.3467 |    min |\r\n|       Min cumulative merge throttle time across primary shards |              |    15.3467 |    min |\r\n|    Median cumulative merge throttle time across primary shards |              |    15.3467 |    min |\r\n|       Max cumulative merge throttle time across primary shards |              |    15.3467 |    min |\r\n|                      Cumulative refresh time of primary shards |              |   0.392883 |    min |\r\n|                     Cumulative refresh count of primary shards |              |        185 |        |\r\n|              Min cumulative refresh time across primary shards |              |   0.392883 |    min |\r\n|           Median cumulative refresh time across primary shards |              |   0.392883 |    min |\r\n|              Max cumulative refresh time across primary shards |              |   0.392883 |    min |\r\n|                        Cumulative flush time of primary shards |              |    1.99925 |    min |\r\n|                       Cumulative flush count of primary shards |              |        168 |        |\r\n|                Min cumulative flush time across primary shards |              |    1.99925 |    min |\r\n|             Median cumulative flush time across primary shards |              |    1.99925 |    min |\r\n|                Max cumulative flush time across primary shards |              |    1.99925 |    min |\r\n|                                        Total Young Gen GC time |              |      3.081 |      s |\r\n|                                       Total Young Gen GC count |              |         66 |        |\r\n|                                          Total Old Gen GC time |              |          0 |      s |\r\n|                                         Total Old Gen GC count |              |          0 |        |\r\n|                                                     Store size |              |    31.3529 |     GB |\r\n|                                                  Translog size |              |  0.0723951 |     GB |\r\n|                                         Heap used for segments |              |   0.428062 |     MB |\r\n|                                       Heap used for doc values |              | 0.00777435 |     MB |\r\n|                                            Heap used for terms |              |  0.0269165 |     MB |\r\n|                                            Heap used for norms |              |          0 |     MB |\r\n|                                           Heap used for points |              |          0 |     MB |\r\n|                                    Heap used for stored fields |              |   0.393372 |     MB |\r\n|                                                  Segment count |              |         98 |        |\r\n|                                                 Min Throughput | index-append |    38693.9 | docs/s |\r\n|                                              Median Throughput | index-append |    42503.7 | docs/s |\r\n|                                                 Max Throughput | index-append |    43221.7 | docs/s |\r\n|                                        50th percentile latency | index-append |     875.02 |     ms |\r\n|                                        90th percentile latency | index-append |    1061.21 |     ms |\r\n|                                        99th percentile latency | index-append |    1282.28 |     ms |\r\n|                                      99.9th percentile latency | index-append |    1466.11 |     ms |\r\n|                                     99.99th percentile latency | index-append |    1556.27 |     ms |\r\n|                                       100th percentile latency | index-append |    1649.67 |     ms |\r\n|                                   50th percentile service time | index-append |    875.025 |     ms |\r\n|                                   90th percentile service time | index-append |     1061.2 |     ms |\r\n|                                   99th percentile service time | index-append |     1282.3 |     ms |\r\n|                                 99.9th percentile service time | index-append |    1466.14 |     ms |\r\n|                                99.99th percentile service time | index-append |    1556.27 |     ms |\r\n|                                  100th percentile service time | index-append |    1649.67 |     ms |\r\n|                                                     error rate | index-append |          0 |      % |\r\n\r\nThe gains we largest for the mappings disabled scenario. And the translog change appeared to be the bulk of the gains. This makes sense as the security documents have 600-700 fields mapped so CPU dominates in the mappings scenario.","closed_by":{"login":"tbrooks8","id":862472,"node_id":"MDQ6VXNlcjg2MjQ3Mg==","avatar_url":"https://avatars3.githubusercontent.com/u/862472?v=4","gravatar_id":"","url":"https://api.github.com/users/tbrooks8","html_url":"https://github.com/tbrooks8","followers_url":"https://api.github.com/users/tbrooks8/followers","following_url":"https://api.github.com/users/tbrooks8/following{/other_user}","gists_url":"https://api.github.com/users/tbrooks8/gists{/gist_id}","starred_url":"https://api.github.com/users/tbrooks8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbrooks8/subscriptions","organizations_url":"https://api.github.com/users/tbrooks8/orgs","repos_url":"https://api.github.com/users/tbrooks8/repos","events_url":"https://api.github.com/users/tbrooks8/events{/privacy}","received_events_url":"https://api.github.com/users/tbrooks8/received_events","type":"User","site_admin":false},"performed_via_github_app":null}