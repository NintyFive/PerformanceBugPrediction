[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/98993561","html_url":"https://github.com/elastic/elasticsearch/issues/10968#issuecomment-98993561","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10968","id":98993561,"node_id":"MDEyOklzc3VlQ29tbWVudDk4OTkzNTYx","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-05-05T08:31:40Z","updated_at":"2015-05-05T08:31:40Z","author_association":"CONTRIBUTOR","body":"@jaymode could you take a look at this please\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/99009776","html_url":"https://github.com/elastic/elasticsearch/issues/10968#issuecomment-99009776","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10968","id":99009776,"node_id":"MDEyOklzc3VlQ29tbWVudDk5MDA5Nzc2","user":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"created_at":"2015-05-05T09:33:47Z","updated_at":"2015-05-05T09:33:47Z","author_association":"MEMBER","body":"@jirib how did you install elasticsearch on OpenBSD? Is the config directory with the shield folder in it the same directory that contains your elasticsearch.yml?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/99011853","html_url":"https://github.com/elastic/elasticsearch/issues/10968#issuecomment-99011853","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10968","id":99011853,"node_id":"MDEyOklzc3VlQ29tbWVudDk5MDExODUz","user":{"login":"jirib","id":46245,"node_id":"MDQ6VXNlcjQ2MjQ1","avatar_url":"https://avatars2.githubusercontent.com/u/46245?v=4","gravatar_id":"","url":"https://api.github.com/users/jirib","html_url":"https://github.com/jirib","followers_url":"https://api.github.com/users/jirib/followers","following_url":"https://api.github.com/users/jirib/following{/other_user}","gists_url":"https://api.github.com/users/jirib/gists{/gist_id}","starred_url":"https://api.github.com/users/jirib/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jirib/subscriptions","organizations_url":"https://api.github.com/users/jirib/orgs","repos_url":"https://api.github.com/users/jirib/repos","events_url":"https://api.github.com/users/jirib/events{/privacy}","received_events_url":"https://api.github.com/users/jirib/received_events","type":"User","site_admin":false},"created_at":"2015-05-05T09:41:26Z","updated_at":"2015-05-05T09:41:26Z","author_association":"NONE","body":"from OpenBSD ports/packages (http://cvsweb.openbsd.org/cgi-bin/cvsweb/ports/textproc/elasticsearch/). shield and license was under /usr/local/elasticsearch/plugins.\n\n```\n/etc/elasticsearch\n/etc/elasticsearch/elasticsearch.in.sh\n/etc/elasticsearch/elasticsearch.yml\n/etc/elasticsearch/logging.yml\n/usr/local/elasticsearch\n/usr/local/elasticsearch/bin\n/usr/local/elasticsearch/bin/plugin\n/usr/local/elasticsearch/bin/elasticsearch\n/usr/local/elasticsearch/lib\n/usr/local/elasticsearch/lib/antlr-runtime-3.5.jar\n/usr/local/elasticsearch/lib/apache-log4j-extras-1.2.17.jar\n/usr/local/elasticsearch/lib/asm-4.1.jar\n/usr/local/elasticsearch/lib/asm-commons-4.1.jar\n/usr/local/elasticsearch/lib/elasticsearch-1.5.1.jar\n/usr/local/elasticsearch/lib/groovy-all-2.4.0.jar\n/usr/local/elasticsearch/lib/jna-4.1.0.jar\n/usr/local/elasticsearch/lib/jts-1.13.jar\n/usr/local/elasticsearch/lib/log4j-1.2.17.jar\n/usr/local/elasticsearch/lib/lucene-analyzers-common-4.10.4.jar\n/usr/local/elasticsearch/lib/lucene-core-4.10.4.jar\n/usr/local/elasticsearch/lib/lucene-expressions-4.10.4.jar\n/usr/local/elasticsearch/lib/lucene-grouping-4.10.4.jar\n/usr/local/elasticsearch/lib/lucene-highlighter-4.10.4.jar\n/usr/local/elasticsearch/lib/lucene-join-4.10.4.jar\n/usr/local/elasticsearch/lib/lucene-memory-4.10.4.jar\n/usr/local/elasticsearch/lib/lucene-misc-4.10.4.jar\n/usr/local/elasticsearch/lib/lucene-queries-4.10.4.jar\n/usr/local/elasticsearch/lib/lucene-queryparser-4.10.4.jar\n/usr/local/elasticsearch/lib/lucene-sandbox-4.10.4.jar\n/usr/local/elasticsearch/lib/lucene-spatial-4.10.4.jar\n/usr/local/elasticsearch/lib/lucene-suggest-4.10.4.jar\n/usr/local/elasticsearch/lib/spatial4j-0.4.1.jar\n/usr/local/elasticsearch/data\n/usr/local/elasticsearch/data/elasticsearch\n/usr/local/elasticsearch/data/elasticsearch/nodes\n/usr/local/elasticsearch/data/elasticsearch/nodes/0\n/usr/local/elasticsearch/data/elasticsearch/nodes/0/node.lock\n/usr/local/elasticsearch/plugins\n/usr/local/elasticsearch/plugins/syslog\n/usr/local/elasticsearch/plugins/syslog/elasticsearch-syslog-1.4.0.3.jar\n/usr/local/elasticsearch/config\n/usr/local/elasticsearch/config/shield\n/usr/local/elasticsearch/config/shield/logging.yml\n/usr/local/elasticsearch/config/shield/role_mapping.yml\n/usr/local/elasticsearch/config/shield/roles.yml\n/usr/local/elasticsearch/config/shield/users\n/usr/local/elasticsearch/config/shield/users_roles\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/99013086","html_url":"https://github.com/elastic/elasticsearch/issues/10968#issuecomment-99013086","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10968","id":99013086,"node_id":"MDEyOklzc3VlQ29tbWVudDk5MDEzMDg2","user":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"created_at":"2015-05-05T09:47:15Z","updated_at":"2015-05-05T09:47:15Z","author_association":"MEMBER","body":"You will need to move the `/usr/local/elasticsearch/config/shield` to `/etc/elasticsearch/shield`. Can you please confirm that this works?\n\nWe do not mention OpenBSD, but have some documentation around this issue when installing elasticsearch that the configuration path may need to be set when using the plugin and esusers commands[1]; we're still working on improving this too.\n\n[1] http://www.elastic.co/guide/en/shield/current/getting-started.html#_configuring_your_environment\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/99021039","html_url":"https://github.com/elastic/elasticsearch/issues/10968#issuecomment-99021039","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10968","id":99021039,"node_id":"MDEyOklzc3VlQ29tbWVudDk5MDIxMDM5","user":{"login":"jirib","id":46245,"node_id":"MDQ6VXNlcjQ2MjQ1","avatar_url":"https://avatars2.githubusercontent.com/u/46245?v=4","gravatar_id":"","url":"https://api.github.com/users/jirib","html_url":"https://github.com/jirib","followers_url":"https://api.github.com/users/jirib/followers","following_url":"https://api.github.com/users/jirib/following{/other_user}","gists_url":"https://api.github.com/users/jirib/gists{/gist_id}","starred_url":"https://api.github.com/users/jirib/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jirib/subscriptions","organizations_url":"https://api.github.com/users/jirib/orgs","repos_url":"https://api.github.com/users/jirib/repos","events_url":"https://api.github.com/users/jirib/events{/privacy}","received_events_url":"https://api.github.com/users/jirib/received_events","type":"User","site_admin":false},"created_at":"2015-05-05T10:20:24Z","updated_at":"2015-05-05T10:20:24Z","author_association":"NONE","body":"Works, thank you. Thus NOTABUG.\n\nI have also couple of unrelated questions:\n\nOn OpenBSD we do not tell people to setup env vars but daemons set this env vars for themselves.\n- handling JAVA_HOME: we use something like this JAVA_HOME=\"$(/usr/local/bin/javaPathHelper -h elasticsearch)\"\n- handling ES_INCLUDE: we have the file in /etc/elasticsearch/elasticsearch.in.sh\n\nDo you have any recommendation for us while not telling people to define shell env vars?\nMaybe we could for ES_INCLUDE do symlink from /usr/local/elasticsearch/bin/elasticsearch.in.sh -> /etc/elasticsearch/elasticsearch.in.sh ? Or could you add ES_INCLUDE file search also for /etc/elasticsearch?\n\nWe could define JAVA_HOME in ES_INCLUDE file? Thus 'bin/plugin' or 'bin/shield/esusers' would work.\n\nIf we would define 'ES_JAVA_OPTS=\"-Des.path.conf=/etc/elasticsearch\"' in ES_INCLUDE file would be plugins' configuration located in /etc/elasticsearch (like you told me to mv 'conf/shield' to '/etc/elasticsearch'...)?\n\nThank you for help and advices.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/99024075","html_url":"https://github.com/elastic/elasticsearch/issues/10968#issuecomment-99024075","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10968","id":99024075,"node_id":"MDEyOklzc3VlQ29tbWVudDk5MDI0MDc1","user":{"login":"jirib","id":46245,"node_id":"MDQ6VXNlcjQ2MjQ1","avatar_url":"https://avatars2.githubusercontent.com/u/46245?v=4","gravatar_id":"","url":"https://api.github.com/users/jirib","html_url":"https://github.com/jirib","followers_url":"https://api.github.com/users/jirib/followers","following_url":"https://api.github.com/users/jirib/following{/other_user}","gists_url":"https://api.github.com/users/jirib/gists{/gist_id}","starred_url":"https://api.github.com/users/jirib/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jirib/subscriptions","organizations_url":"https://api.github.com/users/jirib/orgs","repos_url":"https://api.github.com/users/jirib/repos","events_url":"https://api.github.com/users/jirib/events{/privacy}","received_events_url":"https://api.github.com/users/jirib/received_events","type":"User","site_admin":false},"created_at":"2015-05-05T10:27:07Z","updated_at":"2015-05-05T10:27:07Z","author_association":"NONE","body":"> We could define JAVA_HOME in ES_INCLUDE file? Thus 'bin/plugin' or 'bin/shield/esusers' would work.\n\nDo this \"bins\" work independently or do they inherit elasticsearch configuration? I mean as we define '-Des.config=/etc/elasticsearch/elasticsearch.yml' thus elasticsearch instance knows about its 'path.config' from yml file, but would know 'path.config' also 'bin/plugin' and/or 'bin/shield/esusers'?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/99033879","html_url":"https://github.com/elastic/elasticsearch/issues/10968#issuecomment-99033879","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10968","id":99033879,"node_id":"MDEyOklzc3VlQ29tbWVudDk5MDMzODc5","user":{"login":"jirib","id":46245,"node_id":"MDQ6VXNlcjQ2MjQ1","avatar_url":"https://avatars2.githubusercontent.com/u/46245?v=4","gravatar_id":"","url":"https://api.github.com/users/jirib","html_url":"https://github.com/jirib","followers_url":"https://api.github.com/users/jirib/followers","following_url":"https://api.github.com/users/jirib/following{/other_user}","gists_url":"https://api.github.com/users/jirib/gists{/gist_id}","starred_url":"https://api.github.com/users/jirib/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jirib/subscriptions","organizations_url":"https://api.github.com/users/jirib/orgs","repos_url":"https://api.github.com/users/jirib/repos","events_url":"https://api.github.com/users/jirib/events{/privacy}","received_events_url":"https://api.github.com/users/jirib/received_events","type":"User","site_admin":false},"created_at":"2015-05-05T11:06:13Z","updated_at":"2015-05-05T11:06:13Z","author_association":"NONE","body":"FYI I did following modication and 'bin/plugin' and 'bin/shield/esusers' work out of the box (without JAVA_HOME in env) and after shield plugin installation I have 'shield' conf directory in /etc/elasticsearch.\n\n```\n# diff -uNp /usr/local/share/examples/elasticsearch/                                                                                                                             [5/1813]\nelasticsearch.in.sh    elasticsearch.yml      logging.yml            \ncal/share/examples/elasticsearch/elasticsearch.in.sh /etc/elasticsearch/elasticsearch.in.sh                                                                                            <\n--- /usr/local/share/examples/elasticsearch/elasticsearch.in.sh Fri May  1 04:37:07 2015\n+++ /etc/elasticsearch/elasticsearch.in.sh      Tue May  5 12:56:53 2015\n@@ -1,5 +1,8 @@\n #!/bin/sh\n\n+JAVA_HOME=\"$(/usr/local/bin/javaPathHelper -h elasticsearch)\"\n+ES_JAVA_OPTS=\"-Des.path.conf=/etc/elasticsearch\"\n+\n ES_CLASSPATH=$ES_CLASSPATH:$ES_HOME/lib/elasticsearch-1.5.1.jar:$ES_HOME/lib/*:$ES_HOME/lib/sigar/*\n\n if [ \"x$ES_MIN_MEM\" = \"x\" ]; then\n@@ -64,4 +67,4 @@ JAVA_OPTS=\"$JAVA_OPTS -XX:+HeapDumpOnOutOfMemoryError\"\n JAVA_OPTS=\"$JAVA_OPTS -XX:+DisableExplicitGC\"\n\n # Ensure UTF-8 encoding by default (e.g. filenames)\n-JAVA_OPTS=\"$JAVA_OPTS -Dfile.encoding=UTF-8\"\n\\ No newline at end of file\n+JAVA_OPTS=\"$JAVA_OPTS -Dfile.encoding=UTF-8\"\n# ls -l bin/elasticsearch.in.sh                                                                                                                                                         \nlrwxr-xr-x  1 root  wheel  38 May  5 12:55 bin/elasticsearch.in.sh -> /etc/elasticsearch/elasticsearch.in.sh\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/99034222","html_url":"https://github.com/elastic/elasticsearch/issues/10968#issuecomment-99034222","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10968","id":99034222,"node_id":"MDEyOklzc3VlQ29tbWVudDk5MDM0MjIy","user":{"login":"jirib","id":46245,"node_id":"MDQ6VXNlcjQ2MjQ1","avatar_url":"https://avatars2.githubusercontent.com/u/46245?v=4","gravatar_id":"","url":"https://api.github.com/users/jirib","html_url":"https://github.com/jirib","followers_url":"https://api.github.com/users/jirib/followers","following_url":"https://api.github.com/users/jirib/following{/other_user}","gists_url":"https://api.github.com/users/jirib/gists{/gist_id}","starred_url":"https://api.github.com/users/jirib/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jirib/subscriptions","organizations_url":"https://api.github.com/users/jirib/orgs","repos_url":"https://api.github.com/users/jirib/repos","events_url":"https://api.github.com/users/jirib/events{/privacy}","received_events_url":"https://api.github.com/users/jirib/received_events","type":"User","site_admin":false},"created_at":"2015-05-05T11:07:28Z","updated_at":"2015-05-05T11:07:28Z","author_association":"NONE","body":"Ah, not really, I also modified 'bin/plugin' to use ES_INCLUDE too.\n\n```\n# If an include wasn't specified in the environment, then search for one...\nif [ \"x$ES_INCLUDE\" = \"x\" ]; then\n    # Locations (in order) to use when searching for an include file.\n    for include in /usr/share/elasticsearch/elasticsearch.in.sh \\\n                   /usr/local/share/elasticsearch/elasticsearch.in.sh \\\n                   /opt/elasticsearch/elasticsearch.in.sh \\\n                   ~/.elasticsearch.in.sh \\\n                   /etc/elasticsearch/elasticsearch.in.sh \\\n                   $ES_HOME/bin/elasticsearch.in.sh \\\n                   \"`dirname \"$0\"`\"/elasticsearch.in.sh; do\n        if [ -r \"$include\" ]; then\n            . \"$include\"\n            break\n        fi\n    done\n# ...otherwise, source the specified include.\nelif [ -r \"$ES_INCLUDE\" ]; then\n    . \"$ES_INCLUDE\"\nfi\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/99035177","html_url":"https://github.com/elastic/elasticsearch/issues/10968#issuecomment-99035177","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10968","id":99035177,"node_id":"MDEyOklzc3VlQ29tbWVudDk5MDM1MTc3","user":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"created_at":"2015-05-05T11:12:56Z","updated_at":"2015-05-05T11:12:56Z","author_association":"MEMBER","body":"@jirib thanks for the updates on it working and your testing with the scripts and configuration settings.\n\n@tlrx has been working on a lot of our packaging and scripts recently. In other OS's we are usually reading configuration variables from /etc/sysconfig/elasticsearch or /etc/default/elasticsearch; not sure if the equivalent exists in OpenBSD.\n\nThat said, I think this discussion may be better continued on the mailing list https://groups.google.com/forum/#!forum/elasticsearch or the new discussion forums https://discuss.elastic.co/\n","performed_via_github_app":null}]