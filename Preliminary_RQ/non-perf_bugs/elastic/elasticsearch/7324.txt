{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/7324","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7324/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7324/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7324/events","html_url":"https://github.com/elastic/elasticsearch/issues/7324","id":40534782,"node_id":"MDU6SXNzdWU0MDUzNDc4Mg==","number":7324,"title":"status API endpoints return 404 on success","user":{"login":"sax","id":77073,"node_id":"MDQ6VXNlcjc3MDcz","avatar_url":"https://avatars2.githubusercontent.com/u/77073?v=4","gravatar_id":"","url":"https://api.github.com/users/sax","html_url":"https://github.com/sax","followers_url":"https://api.github.com/users/sax/followers","following_url":"https://api.github.com/users/sax/following{/other_user}","gists_url":"https://api.github.com/users/sax/gists{/gist_id}","starred_url":"https://api.github.com/users/sax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sax/subscriptions","organizations_url":"https://api.github.com/users/sax/orgs","repos_url":"https://api.github.com/users/sax/repos","events_url":"https://api.github.com/users/sax/events{/privacy}","received_events_url":"https://api.github.com/users/sax/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2014-08-18T21:36:52Z","updated_at":"2014-08-18T21:54:35Z","closed_at":"2014-08-18T21:54:35Z","author_association":"NONE","active_lock_reason":null,"body":"I'm trying to find the correct endpoint to use for HAProxy http checks of our non-data nodes. While doing so, I discovered that endpoints such as `_cluster/health`, `_status` and `_recovery` all return a 404 HTTP response code, even when they succeed in returning data. Ironically, when a request is made using a URI that is not handled, elasticsearch returns a \"200 OK\" response code.\n\nFor instance, assuming we have an index named \"my-data\",\n\n```\ncurl -H \"Accept: application/json\" http://my-data001:9200/_cluster/health\n... much json about our cluster\n\ncurl -H \"Accept: application/json\" http://my-data001:9200/_cluster/health -I\nHTTP/1.1 404 Not Found\nContent-Type: text/plain; charset=UTF-8\nContent-Length: 0\n\ncurl -H \"Accept: application/json\" http://my-data001:9200/my-data\nNo handler found for uri [/my-data] and method [GET]\n\ncurl -H \"Accept: application/json\" http://my-data001:9200/my-data -I\nHTTP/1.1 200 OK\nContent-Type: text/plain; charset=UTF-8\nContent-Length: 0\n```\n\nWhile fixing this might not solve my original problem, it is extremely confusing. \n","closed_by":{"login":"sax","id":77073,"node_id":"MDQ6VXNlcjc3MDcz","avatar_url":"https://avatars2.githubusercontent.com/u/77073?v=4","gravatar_id":"","url":"https://api.github.com/users/sax","html_url":"https://github.com/sax","followers_url":"https://api.github.com/users/sax/followers","following_url":"https://api.github.com/users/sax/following{/other_user}","gists_url":"https://api.github.com/users/sax/gists{/gist_id}","starred_url":"https://api.github.com/users/sax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sax/subscriptions","organizations_url":"https://api.github.com/users/sax/orgs","repos_url":"https://api.github.com/users/sax/repos","events_url":"https://api.github.com/users/sax/events{/privacy}","received_events_url":"https://api.github.com/users/sax/received_events","type":"User","site_admin":false},"performed_via_github_app":null}