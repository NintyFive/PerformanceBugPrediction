{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/8661","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8661/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8661/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8661/events","html_url":"https://github.com/elastic/elasticsearch/issues/8661","id":50079514,"node_id":"MDU6SXNzdWU1MDA3OTUxNA==","number":8661,"title":"Very large longs appear to be truncated in _source ","user":{"login":"oleglvovitch","id":7213527,"node_id":"MDQ6VXNlcjcyMTM1Mjc=","avatar_url":"https://avatars1.githubusercontent.com/u/7213527?v=4","gravatar_id":"","url":"https://api.github.com/users/oleglvovitch","html_url":"https://github.com/oleglvovitch","followers_url":"https://api.github.com/users/oleglvovitch/followers","following_url":"https://api.github.com/users/oleglvovitch/following{/other_user}","gists_url":"https://api.github.com/users/oleglvovitch/gists{/gist_id}","starred_url":"https://api.github.com/users/oleglvovitch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oleglvovitch/subscriptions","organizations_url":"https://api.github.com/users/oleglvovitch/orgs","repos_url":"https://api.github.com/users/oleglvovitch/repos","events_url":"https://api.github.com/users/oleglvovitch/events{/privacy}","received_events_url":"https://api.github.com/users/oleglvovitch/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2014-11-25T20:28:30Z","updated_at":"2014-11-26T08:27:47Z","closed_at":"2014-11-26T08:27:47Z","author_association":"NONE","active_lock_reason":null,"body":"To reproduce (I was using Postman from inside Chrome, but it doesn't seem to matter how you do this)\n\n1) Use the following mapping:\n\n{\n    \"event\" : {\n         _id: {path: \"id\"},\n        \"properties\" : {\"message\" : {\"type\" : \"string\"},\"id\" : {\"type\" : \"long\"}}\n    }\n}\n\n2) Then add the following value to the index:\n\n{\n\"id\": 4446965025534723766, \n\"message\": \"4446965025534723766\"\n}\n- Query the index/mapping with an empty query ({})\n\nExpected: _source is exactly as was supplied \n\nActual:\n\n```\n        {\n            \"_index\": \"test\",\n            \"_type\": \"event\",\n            \"_id\": \"4446965025534723766\",\n            \"_score\": 1,\n            \"_source\": {\n                \"id\": 4446965025534723600,\n                \"message\": \"4446965025534723766\"\n            }\n        }\n```\n\nNote that \"id\" is 4446965025534723600, not 4446965025534723766\n\nOnly the value returned in _source appears to be the problem - the entry can be correctly found by id=4446965025534723766, and the document id that is based on this field is also correct.\n\nThis seems to be consistent for very large longs - 15+ decimal digit (lower values appear to be handled correctly)\n\nI can reproduce it in 1.2.0 and 1.3.2 - haven't tried later versions\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}