[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/23521717","html_url":"https://github.com/elastic/elasticsearch/issues/3596#issuecomment-23521717","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3596","id":23521717,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTIxNzE3","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-08-29T20:40:57Z","updated_at":"2013-08-29T20:40:57Z","author_association":"CONTRIBUTOR","body":"dude this is a long string... yet, I agree we need to protect the users from adding too long strings. I think we should just cut off at some point. Not sure what is a good default but maybe 30 chars? who types 30 chars in a suggest env. :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/23522763","html_url":"https://github.com/elastic/elasticsearch/issues/3596#issuecomment-23522763","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3596","id":23522763,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTIyNzYz","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2013-08-29T20:55:52Z","updated_at":"2013-08-29T20:55:52Z","author_association":"CONTRIBUTOR","body":"You might want to let us configure the limit and advise on stack issues.  We don't use the completion suggester yet but I can see users copying and pasting longish strings into my suggestion environment and expecting it to work.  We limit the field to 255 characters which seems a bit long to me but I suspect would need more than 30.  100, maybe?\n\nAlso, I bet the data structure become a lot less awesome with long strings.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/23523253","html_url":"https://github.com/elastic/elasticsearch/issues/3596#issuecomment-23523253","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3596","id":23523253,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTIzMjUz","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-08-29T21:02:23Z","updated_at":"2013-08-29T21:02:23Z","author_association":"CONTRIBUTOR","body":"> You might want to let us configure the limit and advise on stack issues\n\nyeah length should be configurable.\n\n>  We limit the field to 255 characters which seems a bit long to me but I suspect would need more than 30. 100, maybe?\n\nI don't think this is needed, even if you paste a longish string in the search bar you will get a suggestion but only for the top N characters. I am not sure if we should provide any if you exceed the limit. your query might be specific enough?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/23524030","html_url":"https://github.com/elastic/elasticsearch/issues/3596#issuecomment-23524030","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3596","id":23524030,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTI0MDMw","user":{"login":"mattweber","id":173955,"node_id":"MDQ6VXNlcjE3Mzk1NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/173955?v=4","gravatar_id":"","url":"https://api.github.com/users/mattweber","html_url":"https://github.com/mattweber","followers_url":"https://api.github.com/users/mattweber/followers","following_url":"https://api.github.com/users/mattweber/following{/other_user}","gists_url":"https://api.github.com/users/mattweber/gists{/gist_id}","starred_url":"https://api.github.com/users/mattweber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattweber/subscriptions","organizations_url":"https://api.github.com/users/mattweber/orgs","repos_url":"https://api.github.com/users/mattweber/repos","events_url":"https://api.github.com/users/mattweber/events{/privacy}","received_events_url":"https://api.github.com/users/mattweber/received_events","type":"User","site_admin":false},"created_at":"2013-08-29T21:13:08Z","updated_at":"2013-08-29T21:13:08Z","author_association":"CONTRIBUTOR","body":"Yea, I agree this is long.  This came up while indexing some user generated data and not doing a length check.  We are using 30 character max now and that works great.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/23524082","html_url":"https://github.com/elastic/elasticsearch/issues/3596#issuecomment-23524082","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3596","id":23524082,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTI0MDgy","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2013-08-29T21:14:03Z","updated_at":"2013-08-29T21:14:03Z","author_association":"CONTRIBUTOR","body":"Admittedly this is kind of lame, but what if someone pasted `Wikipedia:List of Wikipedians by featured article nominations` into the search bar and we limited it to 30 characters?  We'd end up searching for `Wikipedia:List of Wikipedians` which would drive people wild.  I'm not sure what the right answer is.  Maybe switch to a phrase prefix search if the string is too long.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/23524202","html_url":"https://github.com/elastic/elasticsearch/issues/3596#issuecomment-23524202","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3596","id":23524202,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTI0MjAy","user":{"login":"mattweber","id":173955,"node_id":"MDQ6VXNlcjE3Mzk1NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/173955?v=4","gravatar_id":"","url":"https://api.github.com/users/mattweber","html_url":"https://github.com/mattweber","followers_url":"https://api.github.com/users/mattweber/followers","following_url":"https://api.github.com/users/mattweber/following{/other_user}","gists_url":"https://api.github.com/users/mattweber/gists{/gist_id}","starred_url":"https://api.github.com/users/mattweber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattweber/subscriptions","organizations_url":"https://api.github.com/users/mattweber/orgs","repos_url":"https://api.github.com/users/mattweber/repos","events_url":"https://api.github.com/users/mattweber/events{/privacy}","received_events_url":"https://api.github.com/users/mattweber/received_events","type":"User","site_admin":false},"created_at":"2013-08-29T21:16:08Z","updated_at":"2013-08-29T21:16:08Z","author_association":"CONTRIBUTOR","body":"Just to be clear this issue is during indexing and creation of the FST, not at search time to get suggestions.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/23524255","html_url":"https://github.com/elastic/elasticsearch/issues/3596#issuecomment-23524255","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3596","id":23524255,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTI0MjU1","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-08-29T21:17:05Z","updated_at":"2013-08-29T21:17:05Z","author_association":"CONTRIBUTOR","body":"@nik9000 I think there is a misunderstanding here. We would always search for the entire string. But the prefix suggester will will not build it's prefix dictionary for more than N leading characters. I think this should be perfectly fine and no other suggester impl is affected.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/23524505","html_url":"https://github.com/elastic/elasticsearch/issues/3596#issuecomment-23524505","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3596","id":23524505,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTI0NTA1","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2013-08-29T21:20:54Z","updated_at":"2013-08-29T21:20:54Z","author_association":"CONTRIBUTOR","body":"Oh sorry!  So you'd still suggest the right thing even though the prefix dictionary doesn't spell it out exactly.  Cool.  Sorry for the confusion.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/42137814","html_url":"https://github.com/elastic/elasticsearch/issues/3596#issuecomment-42137814","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3596","id":42137814,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTM3ODE0","user":{"login":"mikemccand","id":796508,"node_id":"MDQ6VXNlcjc5NjUwOA==","avatar_url":"https://avatars0.githubusercontent.com/u/796508?v=4","gravatar_id":"","url":"https://api.github.com/users/mikemccand","html_url":"https://github.com/mikemccand","followers_url":"https://api.github.com/users/mikemccand/followers","following_url":"https://api.github.com/users/mikemccand/following{/other_user}","gists_url":"https://api.github.com/users/mikemccand/gists{/gist_id}","starred_url":"https://api.github.com/users/mikemccand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikemccand/subscriptions","organizations_url":"https://api.github.com/users/mikemccand/orgs","repos_url":"https://api.github.com/users/mikemccand/repos","events_url":"https://api.github.com/users/mikemccand/events{/privacy}","received_events_url":"https://api.github.com/users/mikemccand/received_events","type":"User","site_admin":false},"created_at":"2014-05-04T16:54:32Z","updated_at":"2014-05-04T16:54:32Z","author_association":"CONTRIBUTOR","body":"See also https://github.com/elasticsearch/elasticsearch/pull/5927 and https://issues.apache.org/jira/browse/LUCENE-5628 where we are fixing Lucene's getFiniteStrings to not consume Java stack in proportion to the character length of the index-time or query-time suggestion.\n","performed_via_github_app":null}]