[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/547662340","html_url":"https://github.com/elastic/elasticsearch/issues/48665#issuecomment-547662340","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48665","id":547662340,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzY2MjM0MA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-10-29T22:45:08Z","updated_at":"2019-10-29T22:45:08Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search (:Search/Search)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/566223417","html_url":"https://github.com/elastic/elasticsearch/issues/48665#issuecomment-566223417","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48665","id":566223417,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjIyMzQxNw==","user":{"login":"dgieselaar","id":352732,"node_id":"MDQ6VXNlcjM1MjczMg==","avatar_url":"https://avatars2.githubusercontent.com/u/352732?v=4","gravatar_id":"","url":"https://api.github.com/users/dgieselaar","html_url":"https://github.com/dgieselaar","followers_url":"https://api.github.com/users/dgieselaar/followers","following_url":"https://api.github.com/users/dgieselaar/following{/other_user}","gists_url":"https://api.github.com/users/dgieselaar/gists{/gist_id}","starred_url":"https://api.github.com/users/dgieselaar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgieselaar/subscriptions","organizations_url":"https://api.github.com/users/dgieselaar/orgs","repos_url":"https://api.github.com/users/dgieselaar/repos","events_url":"https://api.github.com/users/dgieselaar/events{/privacy}","received_events_url":"https://api.github.com/users/dgieselaar/received_events","type":"User","site_admin":false},"created_at":"2019-12-16T20:12:33Z","updated_at":"2019-12-16T20:12:33Z","author_association":"CONTRIBUTOR","body":"If we were to sort indices based on timestamps, would this feature make range queries (that include aggregations or track_total_hits) on a large set of data significantly faster?  ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/566227581","html_url":"https://github.com/elastic/elasticsearch/issues/48665#issuecomment-566227581","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48665","id":566227581,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjIyNzU4MQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2019-12-16T20:23:24Z","updated_at":"2019-12-16T20:23:24Z","author_association":"MEMBER","body":"> If we were to sort indices based on timestamps, would this feature make range queries (that include aggregations or track_total_hits) on a large set of data significantly faster?\r\n\r\nIt could speed up the query a bit but it wouldn't make the aggregations faster to run. The main benefits for this feature would be seen on range queries that can early terminate so without aggregations and with track_total_hits set to a low value. However, as explained in the description, this would also allow to disable indexing on the field and relies only on doc-values, which could be helpful to reduce the size of the index. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/623582022","html_url":"https://github.com/elastic/elasticsearch/issues/48665#issuecomment-623582022","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48665","id":623582022,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzU4MjAyMg==","user":{"login":"jtibshirani","id":7461306,"node_id":"MDQ6VXNlcjc0NjEzMDY=","avatar_url":"https://avatars3.githubusercontent.com/u/7461306?v=4","gravatar_id":"","url":"https://api.github.com/users/jtibshirani","html_url":"https://github.com/jtibshirani","followers_url":"https://api.github.com/users/jtibshirani/followers","following_url":"https://api.github.com/users/jtibshirani/following{/other_user}","gists_url":"https://api.github.com/users/jtibshirani/gists{/gist_id}","starred_url":"https://api.github.com/users/jtibshirani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtibshirani/subscriptions","organizations_url":"https://api.github.com/users/jtibshirani/orgs","repos_url":"https://api.github.com/users/jtibshirani/repos","events_url":"https://api.github.com/users/jtibshirani/events{/privacy}","received_events_url":"https://api.github.com/users/jtibshirani/received_events","type":"User","site_admin":false},"created_at":"2020-05-04T16:56:26Z","updated_at":"2020-05-04T16:56:26Z","author_association":"MEMBER","body":"> The main benefits for this feature would be seen on range queries that can early terminate so without aggregations and with track_total_hits set to a low value.\r\n\r\n@jimczi thinking about the query implementation, I'm not sure how it relates to early termination. Would you be able to explain this more?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/623632023","html_url":"https://github.com/elastic/elasticsearch/issues/48665#issuecomment-623632023","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48665","id":623632023,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzYzMjAyMw==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2020-05-04T18:33:03Z","updated_at":"2020-05-04T18:33:03Z","author_association":"MEMBER","body":"I am thinking of early termination in the context of a query sorted by the same field than the index. In such case, the range query can use the doc values to jump directly to the first doc id that matches the range and the top field collector can stop whenever enough hits have been collected. This logic is implemented in the top field collector so you don't need to do anything in the query implementation. The main difference with a range query using the bkd-tree is that we don't need to build the bit set of all matching doc ids upfront, we can resolve the doc ids in order since the index is sorted and stops the collection whenever enough hits have been collected.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/635680938","html_url":"https://github.com/elastic/elasticsearch/issues/48665#issuecomment-635680938","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48665","id":635680938,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTY4MDkzOA==","user":{"login":"jtibshirani","id":7461306,"node_id":"MDQ6VXNlcjc0NjEzMDY=","avatar_url":"https://avatars3.githubusercontent.com/u/7461306?v=4","gravatar_id":"","url":"https://api.github.com/users/jtibshirani","html_url":"https://github.com/jtibshirani","followers_url":"https://api.github.com/users/jtibshirani/followers","following_url":"https://api.github.com/users/jtibshirani/following{/other_user}","gists_url":"https://api.github.com/users/jtibshirani/gists{/gist_id}","starred_url":"https://api.github.com/users/jtibshirani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtibshirani/subscriptions","organizations_url":"https://api.github.com/users/jtibshirani/orgs","repos_url":"https://api.github.com/users/jtibshirani/repos","events_url":"https://api.github.com/users/jtibshirani/events{/privacy}","received_events_url":"https://api.github.com/users/jtibshirani/received_events","type":"User","site_admin":false},"created_at":"2020-05-29T00:05:49Z","updated_at":"2020-05-29T00:05:49Z","author_association":"MEMBER","body":"I merged #56657 to use the index sort range query for fields of type `date`, `long`, and `integer`. I'm going to close this -- there's still the question of whether we can disable points indexing on the field, but I'd like to track that as part of #52728.","performed_via_github_app":null}]