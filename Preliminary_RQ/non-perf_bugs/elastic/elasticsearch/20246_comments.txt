[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/243707988","html_url":"https://github.com/elastic/elasticsearch/issues/20246#issuecomment-243707988","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20246","id":243707988,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MzcwNzk4OA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-08-31T09:22:28Z","updated_at":"2016-08-31T09:22:28Z","author_association":"CONTRIBUTOR","body":"This is actually a \"feature\" of the _analyze API which splits the input text on commas, so it sees your input text as a two-values array: [\"106614\", \"106607\"]. The `standard` analyzer analyzes `106614,106607` down to a single token, is the aggs suggest. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/243778352","html_url":"https://github.com/elastic/elasticsearch/issues/20246#issuecomment-243778352","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20246","id":243778352,"node_id":"MDEyOklzc3VlQ29tbWVudDI0Mzc3ODM1Mg==","user":{"login":"childe","id":2444825,"node_id":"MDQ6VXNlcjI0NDQ4MjU=","avatar_url":"https://avatars2.githubusercontent.com/u/2444825?v=4","gravatar_id":"","url":"https://api.github.com/users/childe","html_url":"https://github.com/childe","followers_url":"https://api.github.com/users/childe/followers","following_url":"https://api.github.com/users/childe/following{/other_user}","gists_url":"https://api.github.com/users/childe/gists{/gist_id}","starred_url":"https://api.github.com/users/childe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/childe/subscriptions","organizations_url":"https://api.github.com/users/childe/orgs","repos_url":"https://api.github.com/users/childe/repos","events_url":"https://api.github.com/users/childe/events{/privacy}","received_events_url":"https://api.github.com/users/childe/received_events","type":"User","site_admin":false},"created_at":"2016-08-31T14:17:18Z","updated_at":"2016-08-31T14:17:18Z","author_association":"NONE","body":"@jpountz I do not think _analyze API always splits input on commas. You can use any analyzer in _analyze API and they will give different results. Both my test and the example in document (https://www.elastic.co/guide/en/elasticsearch/reference/2.3/indices-analyze.html\n) proves this.\n\nI am curious why the standard analyzer behaves differently between the 2 API. \nAnd I think _analyze API should give same results(tokens) with that in aggs API. Am i right?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/243790961","html_url":"https://github.com/elastic/elasticsearch/issues/20246#issuecomment-243790961","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20246","id":243790961,"node_id":"MDEyOklzc3VlQ29tbWVudDI0Mzc5MDk2MQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-08-31T14:56:00Z","updated_at":"2016-08-31T14:56:00Z","author_association":"CONTRIBUTOR","body":"It does split on commas, try to run this for instance:\n\n```\nGET _analyze?analyzer=keyword&text=ab cd,ef gh\n```\n\nIt returns two tokens in spite of the fact that the keyword analyzer was used.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/243803603","html_url":"https://github.com/elastic/elasticsearch/issues/20246#issuecomment-243803603","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20246","id":243803603,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MzgwMzYwMw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-08-31T15:34:12Z","updated_at":"2016-08-31T15:34:12Z","author_association":"CONTRIBUTOR","body":"Hmmm I don't like this feature much, although it is consistent with other multi-valued query string params.  I'm tempted to remove the comma splitting.  Multiple values for `text` can always be provided in the request body.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/243826038","html_url":"https://github.com/elastic/elasticsearch/issues/20246#issuecomment-243826038","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20246","id":243826038,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MzgyNjAzOA==","user":{"login":"childe","id":2444825,"node_id":"MDQ6VXNlcjI0NDQ4MjU=","avatar_url":"https://avatars2.githubusercontent.com/u/2444825?v=4","gravatar_id":"","url":"https://api.github.com/users/childe","html_url":"https://github.com/childe","followers_url":"https://api.github.com/users/childe/followers","following_url":"https://api.github.com/users/childe/following{/other_user}","gists_url":"https://api.github.com/users/childe/gists{/gist_id}","starred_url":"https://api.github.com/users/childe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/childe/subscriptions","organizations_url":"https://api.github.com/users/childe/orgs","repos_url":"https://api.github.com/users/childe/repos","events_url":"https://api.github.com/users/childe/events{/privacy}","received_events_url":"https://api.github.com/users/childe/received_events","type":"User","site_admin":false},"created_at":"2016-08-31T16:45:31Z","updated_at":"2016-08-31T16:45:31Z","author_association":"NONE","body":"@jpountz @clintongormley  Thanks so much! \nI finally understand what you mean :)  My poor English!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/244121372","html_url":"https://github.com/elastic/elasticsearch/issues/20246#issuecomment-244121372","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20246","id":244121372,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NDEyMTM3Mg==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-09-01T15:44:08Z","updated_at":"2016-09-01T15:44:08Z","author_association":"CONTRIBUTOR","body":"No worries. However I'm tempted to keep this one open. Like @clintongormley suggested, maybe we should stop splitting on commas.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/244351565","html_url":"https://github.com/elastic/elasticsearch/issues/20246#issuecomment-244351565","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20246","id":244351565,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NDM1MTU2NQ==","user":{"login":"johtani","id":1142449,"node_id":"MDQ6VXNlcjExNDI0NDk=","avatar_url":"https://avatars0.githubusercontent.com/u/1142449?v=4","gravatar_id":"","url":"https://api.github.com/users/johtani","html_url":"https://github.com/johtani","followers_url":"https://api.github.com/users/johtani/followers","following_url":"https://api.github.com/users/johtani/following{/other_user}","gists_url":"https://api.github.com/users/johtani/gists{/gist_id}","starred_url":"https://api.github.com/users/johtani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johtani/subscriptions","organizations_url":"https://api.github.com/users/johtani/orgs","repos_url":"https://api.github.com/users/johtani/repos","events_url":"https://api.github.com/users/johtani/events{/privacy}","received_events_url":"https://api.github.com/users/johtani/received_events","type":"User","site_admin":false},"created_at":"2016-09-02T11:32:47Z","updated_at":"2016-09-02T11:32:47Z","author_association":"CONTRIBUTOR","body":"@clintongormley @jpountz how about deprecating request parameters?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/244400762","html_url":"https://github.com/elastic/elasticsearch/issues/20246#issuecomment-244400762","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20246","id":244400762,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NDQwMDc2Mg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-09-02T15:04:24Z","updated_at":"2016-09-02T15:04:24Z","author_association":"CONTRIBUTOR","body":"@johtani good idea - will make things simpler.  Also deprecate plain text bodies at the same time - should be JSON only\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/244649896","html_url":"https://github.com/elastic/elasticsearch/issues/20246#issuecomment-244649896","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20246","id":244649896,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NDY0OTg5Ng==","user":{"login":"johtani","id":1142449,"node_id":"MDQ6VXNlcjExNDI0NDk=","avatar_url":"https://avatars0.githubusercontent.com/u/1142449?v=4","gravatar_id":"","url":"https://api.github.com/users/johtani","html_url":"https://github.com/johtani","followers_url":"https://api.github.com/users/johtani/followers","following_url":"https://api.github.com/users/johtani/following{/other_user}","gists_url":"https://api.github.com/users/johtani/gists{/gist_id}","starred_url":"https://api.github.com/users/johtani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johtani/subscriptions","organizations_url":"https://api.github.com/users/johtani/orgs","repos_url":"https://api.github.com/users/johtani/repos","events_url":"https://api.github.com/users/johtani/events{/privacy}","received_events_url":"https://api.github.com/users/johtani/received_events","type":"User","site_admin":false},"created_at":"2016-09-05T03:08:22Z","updated_at":"2016-09-05T03:08:22Z","author_association":"CONTRIBUTOR","body":"@clintongormley deprecating in v5.0 and remove in v5.1 is OK? or deprecating v2.4.1?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/245327359","html_url":"https://github.com/elastic/elasticsearch/issues/20246#issuecomment-245327359","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20246","id":245327359,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTMyNzM1OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-09-07T15:54:25Z","updated_at":"2016-09-07T15:54:25Z","author_association":"CONTRIBUTOR","body":"@johtani deprecate in 5.0 (including deprecation logging), and remove in 6.0\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/250566320","html_url":"https://github.com/elastic/elasticsearch/issues/20246#issuecomment-250566320","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20246","id":250566320,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDU2NjMyMA==","user":{"login":"johtani","id":1142449,"node_id":"MDQ6VXNlcjExNDI0NDk=","avatar_url":"https://avatars0.githubusercontent.com/u/1142449?v=4","gravatar_id":"","url":"https://api.github.com/users/johtani","html_url":"https://github.com/johtani","followers_url":"https://api.github.com/users/johtani/followers","following_url":"https://api.github.com/users/johtani/following{/other_user}","gists_url":"https://api.github.com/users/johtani/gists{/gist_id}","starred_url":"https://api.github.com/users/johtani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johtani/subscriptions","organizations_url":"https://api.github.com/users/johtani/orgs","repos_url":"https://api.github.com/users/johtani/repos","events_url":"https://api.github.com/users/johtani/events{/privacy}","received_events_url":"https://api.github.com/users/johtani/received_events","type":"User","site_admin":false},"created_at":"2016-09-29T19:25:58Z","updated_at":"2016-09-29T19:25:58Z","author_association":"CONTRIBUTOR","body":"Deprecating in 5.x done by #20686 \n","performed_via_github_app":null}]