[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/535528042","html_url":"https://github.com/elastic/elasticsearch/issues/47166#issuecomment-535528042","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47166","id":535528042,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTUyODA0Mg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-09-26T14:25:28Z","updated_at":"2019-09-26T14:25:28Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/541136922","html_url":"https://github.com/elastic/elasticsearch/issues/47166#issuecomment-541136922","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47166","id":541136922,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTEzNjkyMg==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2019-10-11T16:38:48Z","updated_at":"2019-10-11T16:38:48Z","author_association":"MEMBER","body":"The change in behaviour is due to a bugfix for https://github.com/elastic/elasticsearch/issues/23121 that when into 6.4.0 with https://github.com/elastic/elasticsearch/pull/30713. The previous IAE behavior doesn't have anything to do with enabeling or disabling the `ignore_malformed` option which doesn't seem to have any effect on completion fields. In fact, when trying to set that option on the field level in newer versions you will get an error stating that this option is unsupported.\r\nSince the behaviour was changed as response to something that was considered a bug I don't think we are going to change this, but out of interest, why would you need the \"old\" behaviour of getting an error on empty strings? ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/543099345","html_url":"https://github.com/elastic/elasticsearch/issues/47166#issuecomment-543099345","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47166","id":543099345,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MzA5OTM0NQ==","user":{"login":"andrejbl","id":36857192,"node_id":"MDQ6VXNlcjM2ODU3MTky","avatar_url":"https://avatars1.githubusercontent.com/u/36857192?v=4","gravatar_id":"","url":"https://api.github.com/users/andrejbl","html_url":"https://github.com/andrejbl","followers_url":"https://api.github.com/users/andrejbl/followers","following_url":"https://api.github.com/users/andrejbl/following{/other_user}","gists_url":"https://api.github.com/users/andrejbl/gists{/gist_id}","starred_url":"https://api.github.com/users/andrejbl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrejbl/subscriptions","organizations_url":"https://api.github.com/users/andrejbl/orgs","repos_url":"https://api.github.com/users/andrejbl/repos","events_url":"https://api.github.com/users/andrejbl/events{/privacy}","received_events_url":"https://api.github.com/users/andrejbl/received_events","type":"User","site_admin":false},"created_at":"2019-10-17T09:53:58Z","updated_at":"2019-10-17T09:53:58Z","author_association":"NONE","body":"OK, this clarifies the behaviour a bit. We do have some code, mainly test one, that gets all the documents from an index and therefore needed to be updated to understand ones with ignored fields (before it would safely handle the IAE, so resulting malformed documents would never end up in the index).\r\n\r\nIt would be good to update the documentation accordingly as that is what confused us in the first place. We were under impression that by setting the `ignore_malformed` setting to `false` we would get the old IAE behaviour instead of the new one.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/543231241","html_url":"https://github.com/elastic/elasticsearch/issues/47166#issuecomment-543231241","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47166","id":543231241,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MzIzMTI0MQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2019-10-17T15:31:53Z","updated_at":"2019-10-17T15:32:06Z","author_association":"MEMBER","body":"> It would be good to update the documentation accordingly\r\n\r\nThat makes sense, I'll mark this as a documentation issue then since I think the genereal behaviour is as intended.\r\nWe should look into updating this in the section about the [ignore_malformed parameter](https://www.elastic.co/guide/en/elasticsearch/reference/current/ignore-malformed.html)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/543231445","html_url":"https://github.com/elastic/elasticsearch/issues/47166#issuecomment-543231445","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47166","id":543231445,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MzIzMTQ0NQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-10-17T15:32:20Z","updated_at":"2019-10-17T15:32:20Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-docs (>docs)","performed_via_github_app":null}]