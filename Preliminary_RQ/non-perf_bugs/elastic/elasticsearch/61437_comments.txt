[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/678434301","html_url":"https://github.com/elastic/elasticsearch/issues/61437#issuecomment-678434301","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61437","id":678434301,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODQzNDMwMQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-08-21T18:41:28Z","updated_at":"2020-08-21T18:41:28Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed (:Distributed/Discovery-Plugins)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/678457422","html_url":"https://github.com/elastic/elasticsearch/issues/61437#issuecomment-678457422","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61437","id":678457422,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODQ1NzQyMg==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2020-08-21T19:35:18Z","updated_at":"2020-08-21T19:35:18Z","author_association":"CONTRIBUTOR","body":"A few coretto11 builds have failed in the fips matrix jobs recently, wondering if this has to do with coretto 11 jdk only. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/678927904","html_url":"https://github.com/elastic/elasticsearch/issues/61437#issuecomment-678927904","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61437","id":678927904,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODkyNzkwNA==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2020-08-24T06:19:51Z","updated_at":"2020-08-24T06:23:36Z","author_association":"CONTRIBUTOR","body":"Very strange. We are asserting that the last-accepted state equals the previous state contained in the cluster update event, and it's failing because they are slightly different:\r\n\r\n```diff\r\n--- lastAcceptedState.json      2020-08-24 07:18:31.000000000 +0100\r\n+++ previousState.json  2020-08-24 07:18:22.000000000 +0100\r\n@@ -1,7 +1,7 @@\r\n {\r\n   \"cluster_uuid\": \"ToIBt4EaRU2kvTa9H9ZvXA\",\r\n-  \"version\": 15,\r\n-  \"state_uuid\": \"7LmR3r1cSaeRAogsSMUmCw\",\r\n+  \"version\": 14,\r\n+  \"state_uuid\": \"eL8IsM8xS1KMLY3xv8tMOA\",\r\n   \"master_node\": null,\r\n   \"blocks\": {\r\n     \"global\": {\r\n@@ -45,7 +45,7 @@\r\n     \"cluster_uuid\": \"ToIBt4EaRU2kvTa9H9ZvXA\",\r\n     \"cluster_uuid_committed\": true,\r\n     \"cluster_coordination\": {\r\n-      \"term\": 3,\r\n+      \"term\": 1,\r\n       \"last_committed_config\": [\r\n         \"aHmtzzVcQXyAYqi3vndkRg\",\r\n         \"66_CFt95TNi6FO2wgzmklg\",\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/678953513","html_url":"https://github.com/elastic/elasticsearch/issues/61437#issuecomment-678953513","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61437","id":678953513,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODk1MzUxMw==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2020-08-24T07:18:10Z","updated_at":"2020-08-24T07:18:10Z","author_association":"CONTRIBUTOR","body":"I have a hunch what this might be; I've opened #61455 to see if we can reproduce it in a more controlled environment.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/687147031","html_url":"https://github.com/elastic/elasticsearch/issues/61437#issuecomment-687147031","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61437","id":687147031,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NzE0NzAzMQ==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2020-09-04T13:31:03Z","updated_at":"2020-09-04T13:31:03Z","author_association":"CONTRIBUTOR","body":"The problem here is that the term that is picked up by the JoinTaskExecutor in JoinHelper is racy (as stated in the code comment), but then we rely on this term to be sufficient in the Coordinator.publish to identify the right state.\r\n\r\nIdeally the term would be submitted by JoinHelper as part of the joining process, and join batching would only happen based on the same term.","performed_via_github_app":null}]