{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/55097","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55097/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55097/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55097/events","html_url":"https://github.com/elastic/elasticsearch/issues/55097","id":598351377,"node_id":"MDU6SXNzdWU1OTgzNTEzNzc=","number":55097,"title":"Upon upgrade to 7.6.2 from 7.4.x, null_value for type: ip doesn't seem to be executed","user":{"login":"StratoZen","id":38732954,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM4NzMyOTU0","avatar_url":"https://avatars0.githubusercontent.com/u/38732954?v=4","gravatar_id":"","url":"https://api.github.com/users/StratoZen","html_url":"https://github.com/StratoZen","followers_url":"https://api.github.com/users/StratoZen/followers","following_url":"https://api.github.com/users/StratoZen/following{/other_user}","gists_url":"https://api.github.com/users/StratoZen/gists{/gist_id}","starred_url":"https://api.github.com/users/StratoZen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StratoZen/subscriptions","organizations_url":"https://api.github.com/users/StratoZen/orgs","repos_url":"https://api.github.com/users/StratoZen/repos","events_url":"https://api.github.com/users/StratoZen/events{/privacy}","received_events_url":"https://api.github.com/users/StratoZen/received_events","type":"Organization","site_admin":false},"labels":[{"id":141145460,"node_id":"MDU6TGFiZWwxNDExNDU0NjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Mapping","name":":Search/Mapping","color":"0e8a16","default":false,"description":"How fields should be indexed"},{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"assignees":[{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false}],"milestone":null,"comments":8,"created_at":"2020-04-11T21:07:08Z","updated_at":"2020-04-15T12:17:05Z","closed_at":"2020-04-15T12:17:05Z","author_association":"NONE","active_lock_reason":null,"body":"<!-- Bug report -->\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`):\r\n7.6.2\r\n\r\n**Plugins installed**: []\r\nNone\r\n\r\n**JVM version** (`java -version`):\r\nhosted elastic not sure\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nPost upgrade to 7.6.2 from 7.4.x, receiving the following error on document index attempt, where a few have null values.\r\n\r\nRequestError(400, 'mapper_parsing_exception', \"failed to parse field [ip_addr] of type [ip] in document with id 'jjPOanEBJ9vnX_RF5UnE'. Preview of field's value: ''\")\r\n\r\nThe index template and resulting indexes do have the following null_value designation.\r\nWhen null value is seen, sets the value to '0.0.0.0'\r\n   \"ip_addr\": {\r\n          \"type\": \"ip\",\r\n          \"null_value\": \"0.0.0.0\"\r\n\r\nClient is python 3 elasticsearch>=7.0.0,<8.0.0 -- prior to upgrade this issue was not seen.\r\n**Steps to reproduce**:\r\nTry to index a document with a our field above \"ip_addr\" of type IP with a null value set. \r\nThe affected field does have a null_value set on index mapping, but this does not occur when a null value is submitted for this field, instead document insertion fails.\r\n\r\n\r\n\r\n","closed_by":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"performed_via_github_app":null}