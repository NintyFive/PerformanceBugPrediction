[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/45805041","html_url":"https://github.com/elastic/elasticsearch/issues/6472#issuecomment-45805041","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6472","id":45805041,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1ODA1MDQx","user":{"login":"markzlu","id":7863586,"node_id":"MDQ6VXNlcjc4NjM1ODY=","avatar_url":"https://avatars3.githubusercontent.com/u/7863586?v=4","gravatar_id":"","url":"https://api.github.com/users/markzlu","html_url":"https://github.com/markzlu","followers_url":"https://api.github.com/users/markzlu/followers","following_url":"https://api.github.com/users/markzlu/following{/other_user}","gists_url":"https://api.github.com/users/markzlu/gists{/gist_id}","starred_url":"https://api.github.com/users/markzlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markzlu/subscriptions","organizations_url":"https://api.github.com/users/markzlu/orgs","repos_url":"https://api.github.com/users/markzlu/repos","events_url":"https://api.github.com/users/markzlu/events{/privacy}","received_events_url":"https://api.github.com/users/markzlu/received_events","type":"User","site_admin":false},"created_at":"2014-06-11T21:52:08Z","updated_at":"2014-06-11T21:52:08Z","author_association":"NONE","body":"The JVM flag we used is \"-server -d64 -XX:+UseG1GC -XX:MaxGCPauseMillis=30 -Xmx25000m\". As long as the GC pause is tractable, we don't really care a little bit increase in CPU load.\n\nWe have 8 shards of lucene indices (on average 1.5G) managed by one JVM, We query these 8 shards parallelly then aggregate the result upon each search requests. The OS is RHEL 5 64-bit. JVM max heap is 25G, It's a VM (AWS cc2.8xlarge machine type). Java version is JDK 1.7.0_51. Lucene v 4.5. We run basic lucene queries, no facetting. We rarely see long GC pauses, we get very good latency and throughput number out of this system.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/45838980","html_url":"https://github.com/elastic/elasticsearch/issues/6472#issuecomment-45838980","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6472","id":45838980,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1ODM4OTgw","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2014-06-12T07:45:43Z","updated_at":"2014-06-12T07:45:43Z","author_association":"CONTRIBUTOR","body":"The Lucene RAM directory was never intended to be used in production while it can help in some edge cases. The performance of MMAP has been improved in the past and is the first choice today for several reasons. We removed the Ram based (Direct) directory from Elasticsearch in `1.0` and only support disk based directories. If you want to load certain parts of the system into memory (heap that is) you should rather look into using a ram based postings format. We don't plan to add the HEAP based directory implementations back in the future.\n","performed_via_github_app":null}]