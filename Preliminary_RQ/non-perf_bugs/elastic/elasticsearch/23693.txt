{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/23693","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23693/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23693/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23693/events","html_url":"https://github.com/elastic/elasticsearch/issues/23693","id":215977279,"node_id":"MDU6SXNzdWUyMTU5NzcyNzk=","number":23693,"title":"elasticsearch5.2.1 install plugin by local failure","user":{"login":"hexian55","id":16074700,"node_id":"MDQ6VXNlcjE2MDc0NzAw","avatar_url":"https://avatars1.githubusercontent.com/u/16074700?v=4","gravatar_id":"","url":"https://api.github.com/users/hexian55","html_url":"https://github.com/hexian55","followers_url":"https://api.github.com/users/hexian55/followers","following_url":"https://api.github.com/users/hexian55/following{/other_user}","gists_url":"https://api.github.com/users/hexian55/gists{/gist_id}","starred_url":"https://api.github.com/users/hexian55/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexian55/subscriptions","organizations_url":"https://api.github.com/users/hexian55/orgs","repos_url":"https://api.github.com/users/hexian55/repos","events_url":"https://api.github.com/users/hexian55/events{/privacy}","received_events_url":"https://api.github.com/users/hexian55/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-03-22T07:37:15Z","updated_at":"2017-03-22T07:46:02Z","closed_at":"2017-03-22T07:44:29Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\nGitHub is reserved for bug reports and feature requests. The best place\r\nto ask a general question is at the Elastic Discourse forums at\r\nhttps://discuss.elastic.co. If you are in fact posting a bug report or\r\na feature request, please include one and only one of the below blocks\r\nin your new issue. Note that whether you're filing a bug report or a\r\nfeature request, ensure that your submission is for an\r\n[OS that we support](https://www.elastic.co/support/matrix#show_os).\r\nBug reports on an OS that we do not support or feature requests\r\nspecific to an OS that we do not support will be closed.\r\n-->\r\n\r\n<!--\r\nIf you are filing a bug report, please remove the below feature\r\nrequest block and provide responses for all of the below items.\r\n-->\r\n\r\n**Elasticsearch version**:\r\n5.2.1\r\n**Plugins installed**: [search-guard-5-5.2.1-11,analysis-smartcn-5.2.1]\r\n\r\n**JVM version**:\r\n1.8\r\n**OS version**:\r\ncentos7.0\r\n**Description of the problem including expected versus actual behavior**:\r\nbin/elasticsearch-plugin install by local failure\r\n**Steps to reproduce**:\r\n 1.\r\n 2.\r\n 3.\r\n\r\n**Provide logs (if relevant)**:\r\n\r\n<!--\r\nIf you are filing a feature request, please remove the above bug\r\nreport block and provide responses for all of the below items.\r\n-->\r\n\r\n**Describe the feature**:\r\n\r\nhi\r\nwhen I install plugin by local  always failure .\r\neg:  install search-guard-5-5.2.1-11 and analysis-smartcn-5.2.1\r\nI download search-guard from https://repo1.maven.org/maven2/com/floragunn/search-guard-5/5.2.1-11/search-guard-5-5.2.1-11.zip\r\n\r\nbin/elasticsearch-plugin install file:///home/work/app/elasticsearch/plugins/search-guard-5-5.2.1-11.zip\r\nerror log:\r\n-> Downloading file:///home/work/app/elasticsearch/plugins/search-guard-5-5.2.1-11.zip\r\n[=================================================] 100%\r\nException in thread \"main\" java.lang.IllegalStateException: Could not load plugin descriptor for existing plugin [search-guard-5-5.2.1-11.zip]. Was the plugin built before 2.0?\r\n\tat org.elasticsearch.plugins.PluginsService.getPluginBundles(PluginsService.java:295)\r\n\tat org.elasticsearch.plugins.InstallPluginCommand.jarHellCheck(InstallPluginCommand.java:463)\r\n\tat org.elasticsearch.plugins.InstallPluginCommand.verify(InstallPluginCommand.java:444)\r\n\tat org.elasticsearch.plugins.InstallPluginCommand.install(InstallPluginCommand.java:486)\r\n\tat org.elasticsearch.plugins.InstallPluginCommand.execute(InstallPluginCommand.java:212)\r\n\tat org.elasticsearch.plugins.InstallPluginCommand.execute(InstallPluginCommand.java:195)\r\n\tat org.elasticsearch.cli.SettingCommand.execute(SettingCommand.java:54)\r\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:122)\r\n\tat org.elasticsearch.cli.MultiCommand.execute(MultiCommand.java:69)\r\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:122)\r\n\tat org.elasticsearch.cli.Command.main(Command.java:88)\r\n\tat org.elasticsearch.plugins.PluginCli.main(PluginCli.java:47)\r\nCaused by: java.nio.file.FileSystemException: /home/work/app/elasticsearch/plugins/search-guard-5-5.2.1-11.zip/plugin-descriptor.properties: Not a directory\r\n\tat sun.nio.fs.UnixException.translateToIOException(UnixException.java:91)\r\n\tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)\r\n\tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)\r\n\tat sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)\r\n\tat java.nio.file.Files.newByteChannel(Files.java:361)\r\n\tat java.nio.file.Files.newByteChannel(Files.java:407)\r\n\tat java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)\r\n\tat java.nio.file.Files.newInputStream(Files.java:152)\r\n\tat org.elasticsearch.plugins.PluginInfo.readFromProperties(PluginInfo.java:86)\r\n\tat org.elasticsearch.plugins.PluginsService.getPluginBundles(PluginsService.java:292)\r\n\t... 11 more\r\n\r\nwhen I unzip the file,\r\nls \r\ncommons-cli-1.3.1.jar             netty-transport-4.1.7.Final.jar\r\nguava-19.0.jar                    plugin-descriptor.properties\r\nnetty-buffer-4.1.7.Final.jar      plugin-security.policy\r\nnetty-codec-4.1.7.Final.jar       search-guard-5-5.2.1-11.jar\r\nnetty-codec-http-4.1.7.Final.jar  search-guard-ssl-5.2.1-20.jar\r\nnetty-common-4.1.7.Final.jar      sgconfig\r\nnetty-handler-4.1.7.Final.jar     tools\r\nnetty-resolver-4.1.7.Final.jar    transport-netty4-client-5.2.1.jar\r\n\r\ncat  plugin-descriptor.properties\r\ndescription=Provide access control related features for Elasticsearch 5\r\nversion=5.2.1-11\r\nname=search-guard-5\r\nclassname=com.floragunn.searchguard.SearchGuardPlugin\r\njava.version=1.8\r\nelasticsearch.version=5.2.1\r\n\r\n\r\nWhen I install analysis-smartcn-5.2.1,It's the same error\r\nplease help me.thx\r\n","closed_by":{"login":"johtani","id":1142449,"node_id":"MDQ6VXNlcjExNDI0NDk=","avatar_url":"https://avatars0.githubusercontent.com/u/1142449?v=4","gravatar_id":"","url":"https://api.github.com/users/johtani","html_url":"https://github.com/johtani","followers_url":"https://api.github.com/users/johtani/followers","following_url":"https://api.github.com/users/johtani/following{/other_user}","gists_url":"https://api.github.com/users/johtani/gists{/gist_id}","starred_url":"https://api.github.com/users/johtani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johtani/subscriptions","organizations_url":"https://api.github.com/users/johtani/orgs","repos_url":"https://api.github.com/users/johtani/repos","events_url":"https://api.github.com/users/johtani/events{/privacy}","received_events_url":"https://api.github.com/users/johtani/received_events","type":"User","site_admin":false},"performed_via_github_app":null}