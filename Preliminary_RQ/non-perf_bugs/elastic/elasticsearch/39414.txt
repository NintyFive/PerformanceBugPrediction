{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/39414","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39414/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39414/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39414/events","html_url":"https://github.com/elastic/elasticsearch/issues/39414","id":414836156,"node_id":"MDU6SXNzdWU0MTQ4MzYxNTY=","number":39414,"title":"can't install elasticsearch-oss-7.0.0-beta1-x86_64.rpm over elasticsearch-oss-6.7.0.rpm","user":{"login":"LeeDr","id":13542669,"node_id":"MDQ6VXNlcjEzNTQyNjY5","avatar_url":"https://avatars1.githubusercontent.com/u/13542669?v=4","gravatar_id":"","url":"https://api.github.com/users/LeeDr","html_url":"https://github.com/LeeDr","followers_url":"https://api.github.com/users/LeeDr/followers","following_url":"https://api.github.com/users/LeeDr/following{/other_user}","gists_url":"https://api.github.com/users/LeeDr/gists{/gist_id}","starred_url":"https://api.github.com/users/LeeDr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LeeDr/subscriptions","organizations_url":"https://api.github.com/users/LeeDr/orgs","repos_url":"https://api.github.com/users/LeeDr/repos","events_url":"https://api.github.com/users/LeeDr/events{/privacy}","received_events_url":"https://api.github.com/users/LeeDr/received_events","type":"User","site_admin":false},"labels":[{"id":114977275,"node_id":"MDU6TGFiZWwxMTQ5NzcyNzU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Packaging","name":":Delivery/Packaging","color":"0e8a16","default":false,"description":"RPM and deb packaging, tar and zip archives, shell and batch scripts"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"},{"id":92913658,"node_id":"MDU6TGFiZWw5MjkxMzY1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/blocker","name":"blocker","color":"e11d21","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"assignees":[{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2019-02-26T21:49:43Z","updated_at":"2020-11-11T21:55:59Z","closed_at":"2019-02-28T04:44:43Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Elasticsearch version** (`bin/elasticsearch --version`):  Version: 6.7.0, Build: oss/rpm/b3535a1/2019-02-20T12:11:59.684988Z, JVM: 1.8.0_181\r\n\r\n**Plugins installed**: [x-pack (default distribution)]\r\n\r\n**JVM version** (`java -version`):\r\nopenjdk version \"1.8.0_181\"\r\nOpenJDK Runtime Environment (build 1.8.0_181-b13)\r\nOpenJDK 64-Bit Server VM (build 25.181-b13, mixed mode)\r\n\r\n**OS version** (`uname -a` if on a Unix-like system): CentOS 6\r\nLinux localhost.localdomain 2.6.32-754.3.5.el6.x86_64 #1 SMP Tue Aug 14 20:46:41 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nI'm trying to install \r\nelasticsearch-oss-7.0.0-beta1-x86_64.rpm (the last BC build) on top of \r\nelasticsearch-oss-6.7.0.rpm  which was previously upgraded from\r\nelasticsearch-oss-6.6.1.rpm\r\n\r\n**Steps to reproduce**:\r\n\r\nPlease include a *minimal* but *complete* recreation of the problem, including\r\n(e.g.) index creation, mappings, settings, query etc.  The easier you make for\r\nus to reproduce it, the more likely that somebody will take the time to look at it.\r\n\r\n 1. I'm using vagrant with this box \"elastic/centos-6-x86_64\"\r\n 2. Install the latest BC of elasticsearch-oss-6.7.0.rpm with `yum install`\r\n 3. Try to upgrade to elasticsearch-oss-7.0.0-beta1-x86_64.rpm with `yum install`\r\n\r\nIt looks like it's going to upgrade when it says;\r\n`Marking ../downloads/elasticsearch-oss-7.0.0-beta1-x86_64.rpm as an update to elasticsearch-oss-6.7.0-1.noarch`\r\n\r\nBut fails with `Error: Nothing to do`\r\n\r\nI added `-d 3` debug log level but it really didn't help.\r\n```\r\n[root@localhost qa]# yum install -d 3 ../downloads/elasticsearch-oss-7.0.0-beta1-x86_64.rpm\r\nLoaded plugins: fastestmirror\r\nConfig time: 0.016\r\nYum Version: 3.2.29\r\nrpmdb time: 0.000\r\nSetting up Install Process\r\nExamining ../downloads/elasticsearch-oss-7.0.0-beta1-x86_64.rpm: elasticsearch-oss-7.0.0_beta1-1.x86_64\r\nMarking ../downloads/elasticsearch-oss-7.0.0-beta1-x86_64.rpm as an update to elasticsearch-oss-6.7.0-1.noarch\r\nSetting up Package Sacks\r\nLoading mirror speeds from cached hostfile\r\n * base: mirror.tzulo.com\r\n * epel: sjc.edge.kernel.org\r\n * extras: repos-tx.psychz.net\r\n * updates: mirrors.gigenet.com\r\npkgsack time: 0.280\r\nObs Init time: 0.713\r\nBuilding updates object\r\nup:simple updates time: 0.013\r\nup:obs time: 0.011\r\nup:condense time: 0.000\r\nupdates time: 0.471\r\nError: Nothing to do\r\n```\r\n\r\n**Provide logs (if relevant)**:\r\n\r\n","closed_by":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"performed_via_github_app":null}