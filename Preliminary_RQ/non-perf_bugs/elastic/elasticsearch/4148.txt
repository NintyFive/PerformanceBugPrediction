{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/4148","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4148/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4148/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4148/events","html_url":"https://github.com/elastic/elasticsearch/issues/4148","id":22439269,"node_id":"MDU6SXNzdWUyMjQzOTI2OQ==","number":4148,"title":"A problem when term searching with Chinese.","user":{"login":"kerwin","id":525532,"node_id":"MDQ6VXNlcjUyNTUzMg==","avatar_url":"https://avatars0.githubusercontent.com/u/525532?v=4","gravatar_id":"","url":"https://api.github.com/users/kerwin","html_url":"https://github.com/kerwin","followers_url":"https://api.github.com/users/kerwin/followers","following_url":"https://api.github.com/users/kerwin/following{/other_user}","gists_url":"https://api.github.com/users/kerwin/gists{/gist_id}","starred_url":"https://api.github.com/users/kerwin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kerwin/subscriptions","organizations_url":"https://api.github.com/users/kerwin/orgs","repos_url":"https://api.github.com/users/kerwin/repos","events_url":"https://api.github.com/users/kerwin/events{/privacy}","received_events_url":"https://api.github.com/users/kerwin/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2013-11-11T10:13:58Z","updated_at":"2013-11-12T03:27:31Z","closed_at":"2013-11-12T03:27:31Z","author_association":"NONE","active_lock_reason":null,"body":"I am doing text searching via ElasticSearch, and There is a problem on querying with term type. What I am doing below is basically,\n1. Add a document with Chinese string (你好).\n2. Querying with text method, and it return the document.\n3. Querying with term method, return nothing.\n\nSo, Why it's happen? and how to resolve it.\n\n```\n➜  curl -XPOST 'http://localhost:9200/test/test/' -d '{ \"name\" : \"你好\" }'\n{\"ok\":true,\"_index\":\"test\",\"_type\":\"test\",\"_id\":\"VdV8K26-QyiSCvDrUN00Nw\",\"_version\":1}%\n\n➜  curl -XGET 'http://localhost:9200/test/test/_mapping?pretty=1'\n{\n  \"test\" : {\n    \"properties\" : {\n      \"name\" : {\n        \"type\" : \"string\"\n      }\n    }\n  }\n}% \n\n➜  curl -XGET 'http://localhost:9200/test/test/_search?pretty=1'\n{\n  \"took\" : 1,\n  \"timed_out\" : false,\n  \"_shards\" : {\n    \"total\" : 5,\n    \"successful\" : 5,\n    \"failed\" : 0\n  },\n  \"hits\" : {\n    \"total\" : 1,\n    \"max_score\" : 1.0,\n    \"hits\" : [ {\n      \"_index\" : \"test\",\n      \"_type\" : \"test\",\n      \"_id\" : \"VdV8K26-QyiSCvDrUN00Nw\",\n      \"_score\" : 1.0, \"_source\" : { \"name\" : \"你好\" }\n    } ]\n  }\n}%                                                                                                                                                                                \n\n➜  curl -XGET 'http://localhost:9200/test/test/_search?pretty=1' -d '{\"query\" : {\"text\" : { \"name\" : \"你好\" }}}'\n{\n  \"took\" : 2,\n  \"timed_out\" : false,\n  \"_shards\" : {\n    \"total\" : 5,\n    \"successful\" : 5,\n    \"failed\" : 0\n  },\n  \"hits\" : {\n    \"total\" : 1,\n    \"max_score\" : 0.8838835,\n    \"hits\" : [ {\n      \"_index\" : \"test\",\n      \"_type\" : \"test\",\n      \"_id\" : \"VdV8K26-QyiSCvDrUN00Nw\",\n      \"_score\" : 0.8838835, \"_source\" : { \"name\" : \"你好\" }\n    } ]\n  }\n}%                                                                                                                                                                                \n\n➜  curl -XGET 'http://localhost:9200/test/test/_search?pretty=1' -d '{\"query\" : {\"term\" : { \"name\" : \"你好\" }}}'\n{\n  \"took\" : 2,\n  \"timed_out\" : false,\n  \"_shards\" : {\n    \"total\" : 5,\n    \"successful\" : 5,\n    \"failed\" : 0\n  },\n  \"hits\" : {\n    \"total\" : 0,\n    \"max_score\" : null,\n    \"hits\" : [ ]\n  }\n}%\n```\n","closed_by":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"performed_via_github_app":null}