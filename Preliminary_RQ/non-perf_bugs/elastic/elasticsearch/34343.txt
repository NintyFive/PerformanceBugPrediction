{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/34343","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34343/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34343/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34343/events","html_url":"https://github.com/elastic/elasticsearch/issues/34343","id":367538463,"node_id":"MDU6SXNzdWUzNjc1Mzg0NjM=","number":34343,"title":"wait_for_completion with s3 plugin no longer waits (6.4)","user":{"login":"abridgett","id":1436440,"node_id":"MDQ6VXNlcjE0MzY0NDA=","avatar_url":"https://avatars2.githubusercontent.com/u/1436440?v=4","gravatar_id":"","url":"https://api.github.com/users/abridgett","html_url":"https://github.com/abridgett","followers_url":"https://api.github.com/users/abridgett/followers","following_url":"https://api.github.com/users/abridgett/following{/other_user}","gists_url":"https://api.github.com/users/abridgett/gists{/gist_id}","starred_url":"https://api.github.com/users/abridgett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abridgett/subscriptions","organizations_url":"https://api.github.com/users/abridgett/orgs","repos_url":"https://api.github.com/users/abridgett/repos","events_url":"https://api.github.com/users/abridgett/events{/privacy}","received_events_url":"https://api.github.com/users/abridgett/received_events","type":"User","site_admin":false},"labels":[{"id":143077482,"node_id":"MDU6TGFiZWwxNDMwNzc0ODI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Snapshot/Restore","name":":Distributed/Snapshot/Restore","color":"0e8a16","default":false,"description":"Anything directly related to the `_snapshot/*` APIs"},{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-10-07T09:48:16Z","updated_at":"2018-10-08T08:40:52Z","closed_at":"2018-10-08T08:40:52Z","author_association":"NONE","active_lock_reason":null,"body":"ES: 6.4.2\r\nplugins: repository-s3\r\n\r\nAfter upgrading from 5.4.2 to 6.4.2, our backup script started to fail.\r\n\r\nFirstly curl reports an empty reply from the server, secondly, wait_for_completion seems to be ignored I suspect these two are related.   Checking the status of the backup shows \"STARTED\" as the current status which isn't listed in  https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-snapshots.html\r\n\r\nThe master logs show the backup starting and finishing successfully (and the status does change from STARTED to SUCCESS).  No other logs from nodes.\r\n\r\nThis is a cluster in K8s (client, data, master nodes) but can't see any problems with e.g. service load balancing (and it was fine in 5.4.2)\r\n\r\nFor now I'm just going to poll the status for a while until it says SUCCESS but this looks like perhaps a bug somewhere (it could very well be our setup, but thought it worth raising in case others were hitting this too).","closed_by":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"performed_via_github_app":null}