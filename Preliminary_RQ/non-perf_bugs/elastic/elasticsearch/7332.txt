{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/7332","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7332/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7332/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7332/events","html_url":"https://github.com/elastic/elasticsearch/issues/7332","id":40567601,"node_id":"MDU6SXNzdWU0MDU2NzYwMQ==","number":7332,"title":"Efficient merging of arrays of unique values during update","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"labels":[{"id":23172,"node_id":"MDU6TGFiZWwyMzE3Mg==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Efeature","name":">feature","color":"006b75","default":false,"description":null},{"id":110815527,"node_id":"MDU6TGFiZWwxMTA4MTU1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/help%20wanted","name":"help wanted","color":"207de5","default":true,"description":"adoptme"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2014-08-19T08:15:41Z","updated_at":"2015-11-21T17:13:32Z","closed_at":"2015-11-21T17:13:32Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"A common use case with updates is the need to add elements to an array only if they don't already exist.  Typically the way users implement this is to loop over every value using `.contains()` to check if the value is already there.\n\nThis works well for small arrays, but becomes progressively more expensive as the array grows (and big arrays are usually the ones adding lots of values).\n\nIt would be nice to provide a helper method which uses a more efficient algorithm to do this.\n\nThis could either be implemented as a helper method to be used in scripting, or possibly in association with https://github.com/elasticsearch/elasticsearch/issues/7030\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}