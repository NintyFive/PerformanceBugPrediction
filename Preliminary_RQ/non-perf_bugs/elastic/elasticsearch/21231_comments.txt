[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/258777109","html_url":"https://github.com/elastic/elasticsearch/issues/21231#issuecomment-258777109","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21231","id":258777109,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODc3NzEwOQ==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2016-11-07T08:46:14Z","updated_at":"2016-11-07T08:46:14Z","author_association":"MEMBER","body":"Yes, as of today it's not possible to use environment variable to define systemd `User` and `Group`. \n\nBut I think that `ES_USER` and `ES_GROUP` are still valuable, I'm not sure we should stop respecting them in sysv-init scripts because it would force people to edit them directly in init.d scripts which is not the usual way to go. I think we are aligned with usual practices here, both for sysv-init scripts and systemd scripts. We could potentially detect a misconfiguration in systemd configuration, like `ES_USER=foo` in environment file and `User=bar` in systemd file in a kind-of `ExecPreStart` script.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/258780162","html_url":"https://github.com/elastic/elasticsearch/issues/21231#issuecomment-258780162","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21231","id":258780162,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODc4MDE2Mg==","user":{"login":"martinb3","id":103033,"node_id":"MDQ6VXNlcjEwMzAzMw==","avatar_url":"https://avatars0.githubusercontent.com/u/103033?v=4","gravatar_id":"","url":"https://api.github.com/users/martinb3","html_url":"https://github.com/martinb3","followers_url":"https://api.github.com/users/martinb3/followers","following_url":"https://api.github.com/users/martinb3/following{/other_user}","gists_url":"https://api.github.com/users/martinb3/gists{/gist_id}","starred_url":"https://api.github.com/users/martinb3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinb3/subscriptions","organizations_url":"https://api.github.com/users/martinb3/orgs","repos_url":"https://api.github.com/users/martinb3/repos","events_url":"https://api.github.com/users/martinb3/events{/privacy}","received_events_url":"https://api.github.com/users/martinb3/received_events","type":"User","site_admin":false},"created_at":"2016-11-07T09:01:09Z","updated_at":"2016-11-07T09:01:09Z","author_association":"NONE","body":"üëç maybe a warning in the existing ExecPreStart script is the right step. FWIW, I was working on a system where I was using a custom /etc/default/elasticsearch, so I never noticed the new package does install this warning in the envfile:\n\n```\n             -# SysV init.d\n             -#\n             -# When executing the init script, this user will be used to run the elasticsearch service.\n             -# The default value is 'elasticsearch' and is declared in the init.d file.\n             -# Note that this setting is only used by the init script. If changed, make sure that\n             -# the configured user can read and write into the data, work, plugins and log directories.\n             -# For systemd service, the user is usually configured in file /usr/lib/systemd/system/elasticsearch.service\n             -#ES_USER=elasticsearch\n             -#ES_GROUP=elasticsearch\n```\n\nMaybe that's adequate; I just didn't notice it since I already had one.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290729682","html_url":"https://github.com/elastic/elasticsearch/issues/21231#issuecomment-290729682","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21231","id":290729682,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDcyOTY4Mg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T14:36:44Z","updated_at":"2017-03-31T14:36:44Z","author_association":"MEMBER","body":"We are going to remove support for customizing the user/group. The packaging distributions will ship with elasticsearch/elasticsearch as the user/group. We are going to rely on the configuration management solutions or point users to customizing the archive distribution if they want to run with non-default user/group.","performed_via_github_app":null}]