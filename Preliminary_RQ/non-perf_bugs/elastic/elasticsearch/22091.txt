{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/22091","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22091/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22091/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22091/events","html_url":"https://github.com/elastic/elasticsearch/issues/22091","id":194711181,"node_id":"MDU6SXNzdWUxOTQ3MTExODE=","number":22091,"title":"[CI] TermsTests.testFromXContent fails due to unexected \"num_partitions\" field","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"labels":[{"id":60445228,"node_id":"MDU6TGFiZWw2MDQ0NTIyOA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest","name":">test","color":"5319e7","default":false,"description":"Issues or PRs that are addressing/adding tests"}],"state":"closed","locked":false,"assignee":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"assignees":[{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2016-12-09T22:20:31Z","updated_at":"2016-12-13T09:33:09Z","closed_at":"2016-12-13T09:33:09Z","author_association":"MEMBER","active_lock_reason":null,"body":"Getting this failure:\r\n\r\n```\r\nERROR   0.92s | TermsTests.testFromXContent <<< FAILURES!\r\n   > Throwable #1: java.lang.IllegalArgumentException: [terms] unknown field [num_partitions], parser not found\r\n   > \tat __randomizedtesting.SeedInfo.seed([D4C0C57513CD8E64:F5A8F06D9A6A6EBE]:0)\r\n   > \tat org.elasticsearch.common.xcontent.ObjectParser.getParser(ObjectParser.java:401)\r\n   > \tat org.elasticsearch.common.xcontent.ObjectParser.parse(ObjectParser.java:161)\r\n   > \tat org.elasticsearch.search.aggregations.bucket.terms.TermsAggregationBuilder.parse(TermsAggregationBuilder.java:99)\r\n   > \tat org.elasticsearch.search.aggregations.BaseAggregationTestCase.testFromXContent(BaseAggregationTestCase.java:122)\r\n   > \tat java.lang.Thread.run(Thread.java:745)\r\n  2> NOTE: leaving temporary files on disk at: /home/hinmanm/es/elasticsearch/core/build/testrun/test/J0/temp/org.elasticsearch.search.aggregations.bucket.TermsTests_D4C0C57513CD8E64-001\r\n  2> NOTE: test params are: codec=Asserting(Lucene62): {}, docValues:{}, maxPointsInLeafNode=1756, maxMBSortInHeap=7.792531579773628, sim=RandomSimilarity(queryNorm=true,coord=crazy): {}, locale=fr-CH, timezone=Egypt\r\n  2> NOTE: Linux 4.8.10-200.fc24.x86_64 amd64/Oracle Corporation 1.8.0_77 (64-bit)/cpus=4,threads=1,free=460500176,total=514850816\r\n  2> NOTE: All tests run in this JVM: [TermsTests]\r\n```\r\n\r\nFrom: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-unix-compatibility/os=opensuse/374/console\r\n\r\nWhich reproduces locally for me with:\r\n\r\n```\r\ngradle :core:test -Dtests.seed=D4C0C57513CD8E64 -Dtests.class=org.elasticsearch.search.aggregations.bucket.TermsTests -Dtests.method=\"testFromXContent\" -Dtests.security.manager=true -Dtests.locale=fr-CH -Dtests.timezone=Egypt\r\n```","closed_by":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"performed_via_github_app":null}