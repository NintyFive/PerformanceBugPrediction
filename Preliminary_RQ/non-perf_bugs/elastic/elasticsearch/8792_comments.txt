[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65777801","html_url":"https://github.com/elastic/elasticsearch/issues/8792#issuecomment-65777801","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8792","id":65777801,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Nzc3ODAx","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2014-12-05T11:25:30Z","updated_at":"2014-12-05T11:25:30Z","author_association":"CONTRIBUTOR","body":"@rjernst can you look at this?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65829874","html_url":"https://github.com/elastic/elasticsearch/issues/8792#issuecomment-65829874","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8792","id":65829874,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODI5ODc0","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2014-12-05T18:08:22Z","updated_at":"2014-12-05T18:08:22Z","author_association":"MEMBER","body":"@temal- Can you do a `GET` on `/_upgrade?pretty` and post the results here?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65892780","html_url":"https://github.com/elastic/elasticsearch/issues/8792#issuecomment-65892780","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8792","id":65892780,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODkyNzgw","user":{"login":"temal-","id":5236825,"node_id":"MDQ6VXNlcjUyMzY4MjU=","avatar_url":"https://avatars2.githubusercontent.com/u/5236825?v=4","gravatar_id":"","url":"https://api.github.com/users/temal-","html_url":"https://github.com/temal-","followers_url":"https://api.github.com/users/temal-/followers","following_url":"https://api.github.com/users/temal-/following{/other_user}","gists_url":"https://api.github.com/users/temal-/gists{/gist_id}","starred_url":"https://api.github.com/users/temal-/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/temal-/subscriptions","organizations_url":"https://api.github.com/users/temal-/orgs","repos_url":"https://api.github.com/users/temal-/repos","events_url":"https://api.github.com/users/temal-/events{/privacy}","received_events_url":"https://api.github.com/users/temal-/received_events","type":"User","site_admin":false},"created_at":"2014-12-06T10:48:10Z","updated_at":"2014-12-06T10:48:10Z","author_association":"NONE","body":"I can do that, but I need a bit of time to setup a testing instance since I already wrote a script which converts one index at a time.\n\nCurrently all indices have the following output:\n\n```\n$ curl -X GET 'http://localhost:9200/_upgrade?pretty'\n{\n  \"logstash-foo-2014.05.31\" : {\n    \"size_in_bytes\" : 722050977,\n    \"size_to_upgrade_in_bytes\" : 0\n  },\n[...]\n}\n```\n\nBefore I did the `/_upgrade`, all indices had the same numbers in `size_in_bytes` and `size_to_upgrade_in_bytes`.\n\nI'll setup an instance with 1.3.6, import all the data and then do an update to 1.4.1. \nI guess I can paste the output of `/_upgrade?pretty` in two or three days.\n\nMalte\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/66625133","html_url":"https://github.com/elastic/elasticsearch/issues/8792#issuecomment-66625133","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8792","id":66625133,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjI1MTMz","user":{"login":"temal-","id":5236825,"node_id":"MDQ6VXNlcjUyMzY4MjU=","avatar_url":"https://avatars2.githubusercontent.com/u/5236825?v=4","gravatar_id":"","url":"https://api.github.com/users/temal-","html_url":"https://github.com/temal-","followers_url":"https://api.github.com/users/temal-/followers","following_url":"https://api.github.com/users/temal-/following{/other_user}","gists_url":"https://api.github.com/users/temal-/gists{/gist_id}","starred_url":"https://api.github.com/users/temal-/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/temal-/subscriptions","organizations_url":"https://api.github.com/users/temal-/orgs","repos_url":"https://api.github.com/users/temal-/repos","events_url":"https://api.github.com/users/temal-/events{/privacy}","received_events_url":"https://api.github.com/users/temal-/received_events","type":"User","site_admin":false},"created_at":"2014-12-11T14:24:08Z","updated_at":"2014-12-11T14:24:08Z","author_association":"NONE","body":"Sorry for the delay.\nI only imported a subset of data to speed up the process.\n\nHere is the output:\n\n```\n$ curl -X GET \"http://localhost:9200/_upgrade?pretty\"\n{\n  \"logstash-foo-2014.05.09\" : {\n    \"size_in_bytes\" : 959964841,\n    \"size_to_upgrade_in_bytes\" : 959964841\n  },\n  \"logstash-foo-bar-2014.05.05\" : {\n    \"size_in_bytes\" : 3494641761,\n    \"size_to_upgrade_in_bytes\" : 3494641761\n  },\n  \"logstash-foo-2014.05.04\" : {\n    \"size_in_bytes\" : 972195432,\n    \"size_to_upgrade_in_bytes\" : 972195432\n  },\n  \"logstash-foo-bar-2014.05.06\" : {\n    \"size_in_bytes\" : 3513336903,\n    \"size_to_upgrade_in_bytes\" : 3513336903\n  },\n  \"logstash-foo-2014.05.03\" : {\n    \"size_in_bytes\" : 820894605,\n    \"size_to_upgrade_in_bytes\" : 820894605\n  },\n  \"logstash-foo-2014.05.02\" : {\n    \"size_in_bytes\" : 981620940,\n    \"size_to_upgrade_in_bytes\" : 981620940\n  },\n  \"logstash-foo-bar-2014.05.03\" : {\n    \"size_in_bytes\" : 2517727792,\n    \"size_to_upgrade_in_bytes\" : 2517727792\n  },\n  \"logstash-foo-bar-2014.05.04\" : {\n    \"size_in_bytes\" : 2934196428,\n    \"size_to_upgrade_in_bytes\" : 2934196428\n  },\n  \"logstash-foo-2014.05.01\" : {\n    \"size_in_bytes\" : 886680894,\n    \"size_to_upgrade_in_bytes\" : 886680894\n  },\n  \"logstash-foo-bar-2014.05.09\" : {\n    \"size_in_bytes\" : 2835514923,\n    \"size_to_upgrade_in_bytes\" : 2835514923\n  },\n  \"logstash-foo-2014.05.08\" : {\n    \"size_in_bytes\" : 1043674649,\n    \"size_to_upgrade_in_bytes\" : 1043674649\n  },\n  \"logstash-foo-2014.05.07\" : {\n    \"size_in_bytes\" : 1166401798,\n    \"size_to_upgrade_in_bytes\" : 1166401798\n  },\n  \"logstash-foo-2014.05.06\" : {\n    \"size_in_bytes\" : 1170950460,\n    \"size_to_upgrade_in_bytes\" : 1170950460\n  },\n  \"logstash-foo-bar-2014.05.07\" : {\n    \"size_in_bytes\" : 5508278905,\n    \"size_to_upgrade_in_bytes\" : 3521593475\n  },\n  \"logstash-foo-2014.05.05\" : {\n    \"size_in_bytes\" : 1148138104,\n    \"size_to_upgrade_in_bytes\" : 1148138104\n  },\n  \"logstash-foo-bar-2014.05.08\" : {\n    \"size_in_bytes\" : 3129771903,\n    \"size_to_upgrade_in_bytes\" : 3129771903\n  },\n  \"logstash-foo-bar-2014.05.02\" : {\n    \"size_in_bytes\" : 2978676170,\n    \"size_to_upgrade_in_bytes\" : 2978676170\n  },\n  \"logstash-foo-bar-2014.05.01\" : {\n    \"size_in_bytes\" : 2638082490,\n    \"size_to_upgrade_in_bytes\" : 2638082490\n  }\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/93946156","html_url":"https://github.com/elastic/elasticsearch/issues/8792#issuecomment-93946156","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8792","id":93946156,"node_id":"MDEyOklzc3VlQ29tbWVudDkzOTQ2MTU2","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-04-17T08:49:44Z","updated_at":"2015-04-17T08:49:44Z","author_association":"MEMBER","body":"Given the original command shown in this issue, I think the problem would now be fixed with #9639.  The wait_for_completion flag was defaulting to false, and the limiting of optimize never correctly worked when running asynchronously, so this is removed altogether for 2.0 (#9640).\n","performed_via_github_app":null}]