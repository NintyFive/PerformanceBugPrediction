{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/25758","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25758/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25758/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25758/events","html_url":"https://github.com/elastic/elasticsearch/issues/25758","id":243599509,"node_id":"MDU6SXNzdWUyNDM1OTk1MDk=","number":25758,"title":"Fail to run rest api test.","user":{"login":"lucianspec","id":2186959,"node_id":"MDQ6VXNlcjIxODY5NTk=","avatar_url":"https://avatars2.githubusercontent.com/u/2186959?v=4","gravatar_id":"","url":"https://api.github.com/users/lucianspec","html_url":"https://github.com/lucianspec","followers_url":"https://api.github.com/users/lucianspec/followers","following_url":"https://api.github.com/users/lucianspec/following{/other_user}","gists_url":"https://api.github.com/users/lucianspec/gists{/gist_id}","starred_url":"https://api.github.com/users/lucianspec/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucianspec/subscriptions","organizations_url":"https://api.github.com/users/lucianspec/orgs","repos_url":"https://api.github.com/users/lucianspec/repos","events_url":"https://api.github.com/users/lucianspec/events{/privacy}","received_events_url":"https://api.github.com/users/lucianspec/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-07-18T04:53:22Z","updated_at":"2017-07-18T04:57:27Z","closed_at":"2017-07-18T04:57:27Z","author_association":"NONE","active_lock_reason":null,"body":"$ gradle :distribution:integ-test-zip:integTest \\\r\n>   -Dtests.class=\"org.elasticsearch.test.rest.*Yaml*IT\" \\\r\n>   -Dtests.method=\"test {p0=cat.shards/10_basic/Help}\"\r\n\r\n> Configure project :benchmarks\r\nThe getTestClassesDir() method has been deprecated and is scheduled to be removed in Gradle 5.0. Please use the getTestClassesDirs() method instead.\r\n        at build_dz8rqo2bw7pljcnxbnb3z3la1.run(/Users/luxin433/WorkSpace/ResearchLab/Elasticsearch/elasticsearch/benchmarks/build.gradle:31)\r\n=======================================\r\nElasticsearch Build Hamster says Hello!\r\n=======================================\r\n  Gradle Version        : 4.0.1\r\n  OS Info               : Mac OS X 10.12.1 (x86_64)\r\n  JDK Version           : Oracle Corporation 1.8.0_92 [Java HotSpot(TM) 64-Bit Server VM 25.92-b14]\r\n  JAVA_HOME             : /Library/Java/JavaVirtualMachines/jdk1.8.0_92.jdk/Contents/Home\r\n  Random Testing Seed   : AA259FD4444DA4C1\r\nGradle now uses separate output directories for each JVM language, but this build assumes a single directory for all classes from a source set. This behaviour has been deprecated and is scheduled to be removed in Gradle 5.0\r\n\r\n> Task :distribution:integ-test-zip:integTestCluster#wait\r\n\r\nNode 0 configuration:\r\n|-----------------------------------------\r\n|  cwd: /Users/luxin433/WorkSpace/ResearchLab/Elasticsearch/elasticsearch/distribution/integ-test-zip/build/cluster/integTestCluster node0/cwd\r\n|  command: sh /Users/luxin433/WorkSpace/ResearchLab/Elasticsearch/elasticsearch/distribution/integ-test-zip/build/cluster/integTestCluster node0/cwd/run -E node.portsfile=true --path.conf /Users/luxin433/WorkSpace/ResearchLab/Elasticsearch/elasticsearch/distribution/integ-test-zip/build/cluster/integTestCluster node0/elasticsearch-6.0.0-beta1-SNAPSHOT/config -E path.data=/Users/luxin433/WorkSpace/ResearchLab/Elasticsearch/elasticsearch/distribution/integ-test-zip/build/cluster/integTestCluster node0/elasticsearch-6.0.0-beta1-SNAPSHOT/data\r\n|  environment:\r\n|    JAVA_HOME: /Users/luxin433/.jenv/versions/1.8\r\n|    ES_JAVA_OPTS:  -Xms512m -Xmx512m  -ea -esa\r\n|    CONF_DIR: /Users/luxin433/WorkSpace/ResearchLab/Elasticsearch/elasticsearch/distribution/integ-test-zip/build/cluster/integTestCluster node0/elasticsearch-6.0.0-beta1-SNAPSHOT/config\r\n|\r\n|  [run]\r\n    \"/Users/luxin433/WorkSpace/ResearchLab/Elasticsearch/elasticsearch/distribution/integ-test-zip/build/cluster/integTestCluster node0/elasticsearch-6.0.0-beta1-SNAPSHOT/bin/elasticsearch\" \"$@\" > run.log 2>&1 ; if [ $? != 0 ]; then touch run.failed; fi\r\n|\r\n|  [elasticsearch.yml]\r\n|    cluster.name: distribution_integ-test-zip_integTestCluster\r\n|    node.name: node-0\r\n|    pidfile: /Users/luxin433/WorkSpace/ResearchLab/Elasticsearch/elasticsearch/distribution/integ-test-zip/build/cluster/integTestCluster node0/es.pid\r\n|    path.repo: /Users/luxin433/WorkSpace/ResearchLab/Elasticsearch/elasticsearch/distribution/integ-test-zip/build/cluster/shared/repo\r\n|    path.shared_data: /Users/luxin433/WorkSpace/ResearchLab/Elasticsearch/elasticsearch/distribution/integ-test-zip/build/cluster/shared/\r\n|    node.attr.testattr: test\r\n|    node.max_local_storage_nodes: 1\r\n|    http.port: 0\r\n|    transport.tcp.port: 0\r\n|    cluster.routing.allocation.disk.watermark.low: 1b\r\n|    cluster.routing.allocation.disk.watermark.high: 1b\r\n|    cluster.routing.allocation.disk.watermark.flood_stage: 1b\r\n|-----------------------------------------\r\nNode 0 output:\r\n|-----------------------------------------\r\n|  failure marker exists: false\r\n|  pid file exists: true\r\n|  http ports file exists: true\r\n|  transport ports file exists: true\r\n|\r\n|  [ant output]\r\n|         [echo] ==> [Tue Jul 18 12:47:59 CST 2017] checking health: http://[::1]:49829/_cluster/health?wait_for_nodes=>=1&wait_for_status=yellow\r\n|          [get] Getting: http://[::1]:49829/_cluster/health?wait_for_nodes=>=1&wait_for_status=yellow\r\n|          [get] To: /Users/luxin433/WorkSpace/ResearchLab/Elasticsearch/elasticsearch/distribution/integ-test-zip/build/cluster/integTestCluster node0/cwd/wait.success\r\n|          [get] Error getting http://[::1]:49829/_cluster/health?wait_for_nodes=>=1&wait_for_status=yellow to /Users/luxin433/WorkSpace/ResearchLab/Elasticsearch/elasticsearch/distribution/integ-test-zip/build/cluster/integTestCluster node0/cwd/wait.success\r\n|\r\n|  [log]\r\n|    [2017-07-18T12:47:53,934][INFO ][o.e.n.Node               ] [node-0] initializing ...\r\n|    [2017-07-18T12:47:54,017][INFO ][o.e.e.NodeEnvironment    ] [node-0] using [1] data paths, mounts [[/ (/dev/disk1)]], net usable_space [27.4gb], net total_space [232.6gb], types [hfs]\r\n|    [2017-07-18T12:47:54,018][INFO ][o.e.e.NodeEnvironment    ] [node-0] heap size [494.9mb], compressed ordinary object pointers [true]\r\n|    [2017-07-18T12:47:54,019][INFO ][o.e.n.Node               ] [node-0] node name [node-0], node ID [a5w5uJw6SCyLvth8X-ryOA]\r\n|    [2017-07-18T12:47:54,020][INFO ][o.e.n.Node               ] [node-0] version[6.0.0-beta1-SNAPSHOT], pid[28958], build[7739aad/2017-07-18T04:13:23.285Z], OS[Mac OS X/10.12.1/x86_64], JVM[Oracle Corporation/Java HotSpot(TM) 64-Bit Server VM/1.8.0_92/25.92-b14]\r\n|    [2017-07-18T12:47:54,020][INFO ][o.e.n.Node               ] [node-0] JVM arguments [-Xms1g, -Xmx1g, -XX:+UseConcMarkSweepGC, -XX:CMSInitiatingOccupancyFraction=75, -XX:+UseCMSInitiatingOccupancyOnly, -XX:+DisableExplicitGC, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -XX:-OmitStackTraceInFastThrow, -Djdk.io.permissionsUseCanonicalPath=true, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -XX:+HeapDumpOnOutOfMemoryError, -Xms512m, -Xmx512m, -ea, -esa, -Des.path.home=/Users/luxin433/WorkSpace/ResearchLab/Elasticsearch/elasticsearch/distribution/integ-test-zip/build/cluster/integTestCluster node0/elasticsearch-6.0.0-beta1-SNAPSHOT]\r\n|    [2017-07-18T12:47:54,020][WARN ][o.e.n.Node               ] [node-0] version [6.0.0-beta1-SNAPSHOT] is a pre-release version of Elasticsearch and is not suitable for production\r\n|    [2017-07-18T12:47:54,149][INFO ][o.e.p.PluginsService     ] [node-0] loaded module [transport-netty4]\r\n|    [2017-07-18T12:47:54,150][INFO ][o.e.p.PluginsService     ] [node-0] no plugins loaded\r\n|    [2017-07-18T12:47:55,239][INFO ][o.e.d.DiscoveryModule    ] [node-0] using discovery type [zen]\r\n|    [2017-07-18T12:47:55,724][INFO ][o.e.n.Node               ] [node-0] initialized\r\n|    [2017-07-18T12:47:55,724][INFO ][o.e.n.Node               ] [node-0] starting ...\r\n|    [2017-07-18T12:47:55,866][INFO ][o.e.t.TransportService   ] [node-0] publish_address {127.0.0.1:49819}, bound_addresses {[fe80::1]:49817}, {[::1]:49818}, {127.0.0.1:49819}\r\n|    [2017-07-18T12:47:58,920][INFO ][o.e.c.s.MasterService    ] [node-0] zen-disco-elected-as-master ([0] nodes joined), reason: new_master {node-0}{a5w5uJw6SCyLvth8X-ryOA}{k8DN2naiRFmw-CQBzBx4ew}{127.0.0.1}{127.0.0.1:49819}{testattr=test}\r\n|    [2017-07-18T12:47:58,925][INFO ][o.e.c.s.ClusterApplierService] [node-0] new_master {node-0}{a5w5uJw6SCyLvth8X-ryOA}{k8DN2naiRFmw-CQBzBx4ew}{127.0.0.1}{127.0.0.1:49819}{testattr=test}, reason: apply cluster state (from master [master {node-0}{a5w5uJw6SCyLvth8X-ryOA}{k8DN2naiRFmw-CQBzBx4ew}{127.0.0.1}{127.0.0.1:49819}{testattr=test} committed version [1] source [zen-disco-elected-as-master ([0] nodes joined)]])\r\n|    [2017-07-18T12:47:58,942][INFO ][o.e.h.n.Netty4HttpServerTransport] [node-0] publish_address {127.0.0.1:49830}, bound_addresses {[fe80::1]:49828}, {[::1]:49829}, {127.0.0.1:49830}\r\n|    [2017-07-18T12:47:58,943][INFO ][o.e.n.Node               ] [node-0] started\r\n|    [2017-07-18T12:47:58,945][INFO ][o.e.g.GatewayService     ] [node-0] recovered [0] indices into cluster_state\r\n|-----------------------------------------\r\n\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task ':distribution:integ-test-zip:integTestCluster#wait'.\r\n> Elasticsearch cluster failed to pass wait condition","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}