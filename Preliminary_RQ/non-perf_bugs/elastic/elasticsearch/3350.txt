{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/3350","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3350/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3350/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3350/events","html_url":"https://github.com/elastic/elasticsearch/issues/3350","id":16894226,"node_id":"MDU6SXNzdWUxNjg5NDIyNg==","number":3350,"title":"Conflicting META-INF between elasticsearch & lucene-core/lucene-codecs for packaging into standalone binary","user":{"login":"vlovich","id":201287,"node_id":"MDQ6VXNlcjIwMTI4Nw==","avatar_url":"https://avatars0.githubusercontent.com/u/201287?v=4","gravatar_id":"","url":"https://api.github.com/users/vlovich","html_url":"https://github.com/vlovich","followers_url":"https://api.github.com/users/vlovich/followers","following_url":"https://api.github.com/users/vlovich/following{/other_user}","gists_url":"https://api.github.com/users/vlovich/gists{/gist_id}","starred_url":"https://api.github.com/users/vlovich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vlovich/subscriptions","organizations_url":"https://api.github.com/users/vlovich/orgs","repos_url":"https://api.github.com/users/vlovich/repos","events_url":"https://api.github.com/users/vlovich/events{/privacy}","received_events_url":"https://api.github.com/users/vlovich/received_events","type":"User","site_admin":false},"labels":[{"id":73544,"node_id":"MDU6TGFiZWw3MzU0NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Enon-issue","name":">non-issue","color":"cfcfcf","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"assignees":[{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false}],"milestone":null,"comments":7,"created_at":"2013-07-17T22:34:18Z","updated_at":"2016-08-18T17:13:29Z","closed_at":"2013-07-20T06:15:20Z","author_association":"NONE","active_lock_reason":null,"body":"When bundling lucene-core, lucene-codec, & elasticsearch into a single executable JAR, there are conflicting files in META-INF:\n\nelasticsearch:\n        0  06-26-13 08:56   META-INF/services/org.apache.lucene.codecs.Codec\n        0  06-26-13 08:56   META-INF/services/org.apache.lucene.codecs.DocValuesFormat\n      147  06-26-13 08:56   META-INF/services/org.apache.lucene.codecs.PostingsFormat\n\nlucene-core:\n      987  06-09-13 12:01   META-INF/services/org.apache.lucene.codecs.Codec\n      853  06-09-13 12:01   META-INF/services/org.apache.lucene.codecs.DocValuesFormat\n      909  06-09-13 12:01   META-INF/services/org.apache.lucene.codecs.PostingsFormat\n\nlucene-codecs:\n      897  06-09-13 12:01   META-INF/services/org.apache.lucene.codecs.Codec\n      909  06-09-13 12:01   META-INF/services/org.apache.lucene.codecs.DocValuesFormat\n     1079  06-09-13 12:01   META-INF/services/org.apache.lucene.codecs.PostingsFormat\n\nWhen packaging everything into a standalone binary, it becomes unclear which ones I need.  Using the ones from elasticsearch, I get:\nCaused by: java.lang.ExceptionInInitializerError\n    at org.elasticsearch.index.codec.CodecModule.configure(CodecModule.java:118)\nCaused by: java.lang.IllegalArgumentException: A SPI class of type org.apache.lucene.codecs.PostingsFormat with name 'Direct' does not exist. You need to add the corresponding JAR file supporting this SPI to your classpath.The current classpath supports the following names: [XBloomFilter, es090]\n","closed_by":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"performed_via_github_app":null}