{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/2542","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2542/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2542/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2542/events","html_url":"https://github.com/elastic/elasticsearch/issues/2542","id":9910787,"node_id":"MDU6SXNzdWU5OTEwNzg3","number":2542,"title":"Issue with boost settings","user":{"login":"rohitletsbuzz","id":3241296,"node_id":"MDQ6VXNlcjMyNDEyOTY=","avatar_url":"https://avatars0.githubusercontent.com/u/3241296?v=4","gravatar_id":"","url":"https://api.github.com/users/rohitletsbuzz","html_url":"https://github.com/rohitletsbuzz","followers_url":"https://api.github.com/users/rohitletsbuzz/followers","following_url":"https://api.github.com/users/rohitletsbuzz/following{/other_user}","gists_url":"https://api.github.com/users/rohitletsbuzz/gists{/gist_id}","starred_url":"https://api.github.com/users/rohitletsbuzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rohitletsbuzz/subscriptions","organizations_url":"https://api.github.com/users/rohitletsbuzz/orgs","repos_url":"https://api.github.com/users/rohitletsbuzz/repos","events_url":"https://api.github.com/users/rohitletsbuzz/events{/privacy}","received_events_url":"https://api.github.com/users/rohitletsbuzz/received_events","type":"User","site_admin":false},"labels":[{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"assignees":[{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2013-01-12T14:06:52Z","updated_at":"2014-07-04T13:07:47Z","closed_at":"2014-07-04T13:07:47Z","author_association":"NONE","active_lock_reason":null,"body":"Hi, \nI think this is an issue. I posted in the user group but got no response. \nWhen the following query is created on an Index with lot of fields...\n\n```\n\"bool\" : {\n    \"must\" : {\n      \"bool\" : {\n        \"should\" : [ {\n          \"bool\" : {\n            \"must\" : {\n              \"query_string\" : {\n                \"query\" : \"\\\"microsoft\\\"\",\n                \"fields\" : [ \"nameTokens\" ],\n                \"analyzer\" : \"analyzerWithoutStop\"\n              }\n            },\n            \"boost\" : 5.0\n          }\n        }, {\n          \"bool\" : {\n            \"should\" : {\n              \"query_string\" : {\n                \"query\" : \"\\\"insideview.com\\\"\",\n                \"fields\" : [ \"companyDomain\" ],\n                \"analyzer\" : \"analyzerWithoutStop\"\n              }\n            },\n            \"boost\" : 10.0\n          }\n        } ]\n      }\n    }\n  }\n}\n```\n\nOn the \"nameTokens\" filed the boost parameter keeps increasing with the number of queries. Thats is\n1. When the query is fired for the first time. The explanation i got for the two results, one matched the \"nameToken\" clause and the other matched the \"companyDomain\" clause:\n\n1st result\n\n```\n3.1991732 = (MATCH) product of:\n  6.3983464 = (MATCH) sum of:\n    6.3983464 = (MATCH) weight(companyDomain:insideview.com^10.0 in 223), product of:\n      0.93694496 = queryWeight(companyDomain:insideview.com^10.0), product of:\n        10.0 = boost\n        6.8289456 = idf(docFreq=2, maxDocs=1020)\n        0.013720199 = queryNorm\n      6.8289456 = (MATCH) fieldWeight(companyDomain:insideview.com in 223), product of:\n        1.0 = tf(termFreq(companyDomain:insideview.com)=1)\n        6.8289456 = idf(docFreq=2, maxDocs=1020)\n        1.0 = fieldNorm(field=companyDomain, doc=223)\n  0.5 = coord(1/2)\n```\n\n2nd result\n\n```\n0.89017844 = (MATCH) product of:\n  1.7803569 = (MATCH) sum of:\n    1.7803569 = (MATCH) weight(nameTokens:microsoft^5.0 in 209), product of:\n      0.3494771 = queryWeight(nameTokens:microsoft^5.0), product of:\n        5.0 = boost\n        5.0943446 = idf(docFreq=16, maxDocs=1020)\n        0.013720199 = queryNorm\n      5.0943446 = (MATCH) fieldWeight(nameTokens:microsoft in 209), product of:\n        1.0 = tf(termFreq(nameTokens:microsoft)=1)\n        5.0943446 = idf(docFreq=16, maxDocs=1020)\n        1.0 = fieldNorm(field=nameTokens, doc=209)\n  0.5 = coord(1/2)\n```\n\n2nd time the same search result is fired:\n\n```\n2.5471714 = (MATCH) product of:\n  5.0943427 = (MATCH) sum of:\n    5.0943427 = (MATCH) weight(nameTokens:microsoft^15625.0 in 209), product of:\n      0.99999964 = queryWeight(nameTokens:microsoft^15625.0), product of:\n        15625.0 = boost\n        5.0943446 = idf(docFreq=16, maxDocs=1020)\n        1.2562947E-5 = queryNorm\n      5.0943446 = (MATCH) fieldWeight(nameTokens:microsoft in 209), product of:\n        1.0 = tf(termFreq(nameTokens:microsoft)=1)\n        5.0943446 = idf(docFreq=16, maxDocs=1020)\n        1.0 = fieldNorm(field=nameTokens, doc=209)\n  0.5 = coord(1/2)\n```\n\n2nd result\n\n```\n 0.0029293338 = (MATCH) product of:\n  0.0058586677 = (MATCH) sum of:\n    0.0058586677 = (MATCH) weight(companyDomain:insideview.com^10.0 in 223), product of:\n      8.5791684E-4 = queryWeight(companyDomain:insideview.com^10.0), product of:\n        10.0 = boost\n        6.8289456 = idf(docFreq=2, maxDocs=1020)\n        1.2562947E-5 = queryNorm\n      6.8289456 = (MATCH) fieldWeight(companyDomain:insideview.com in 223), product of:\n        1.0 = tf(termFreq(companyDomain:insideview.com)=1)\n        6.8289456 = idf(docFreq=2, maxDocs=1020)\n        1.0 = fieldNorm(field=companyDomain, doc=223)\n  0.5 = coord(1/2)\n```\n\nIf you look at the boost parameter in the query explanation, it is increasing with every query of one clause. \n","closed_by":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"performed_via_github_app":null}