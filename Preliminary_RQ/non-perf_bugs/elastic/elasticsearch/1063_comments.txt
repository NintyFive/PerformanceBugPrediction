[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/1512126","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-1512126","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":1512126,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MTIxMjY=","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars3.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"created_at":"2011-07-06T14:36:08Z","updated_at":"2011-07-06T14:36:08Z","author_association":"NONE","body":"Thanks caravone for entering the issue. \n\nThis is discussed here: http://groups.google.com/a/elasticsearch.com/group/users/browse_thread/thread/4b882c79671c6e2c/e74e3fc1718b6bf6?lnk=gst&q=visible#e74e3fc1718b6bf6\n\nBtw, we can work around the issue by waiting > 1000ms after an index op before doing a query. But having this at the API level will be great.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/1879647","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-1879647","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":1879647,"node_id":"MDEyOklzc3VlQ29tbWVudDE4Nzk2NDc=","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars3.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"created_at":"2011-08-23T13:23:14Z","updated_at":"2011-08-23T13:23:14Z","author_association":"NONE","body":"Has this issue been prioritized? This would be really great and would allow ES to be used in many more use cases. Currently, ES cannot be used to fetch 'screen' data because of the NRT aspects. As you mentionned Shane, a flag that blocks the index operation until the changes have been made visible by the next refresh would do what we need and you indicated that the complexity of implementing this would be manageable.\n\nThanks again for this great product!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3571417","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-3571417","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":3571417,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzE0MTc=","user":{"login":"NateHark","id":824186,"node_id":"MDQ6VXNlcjgyNDE4Ng==","avatar_url":"https://avatars2.githubusercontent.com/u/824186?v=4","gravatar_id":"","url":"https://api.github.com/users/NateHark","html_url":"https://github.com/NateHark","followers_url":"https://api.github.com/users/NateHark/followers","following_url":"https://api.github.com/users/NateHark/following{/other_user}","gists_url":"https://api.github.com/users/NateHark/gists{/gist_id}","starred_url":"https://api.github.com/users/NateHark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NateHark/subscriptions","organizations_url":"https://api.github.com/users/NateHark/orgs","repos_url":"https://api.github.com/users/NateHark/repos","events_url":"https://api.github.com/users/NateHark/events{/privacy}","received_events_url":"https://api.github.com/users/NateHark/received_events","type":"User","site_admin":false},"created_at":"2012-01-19T18:18:06Z","updated_at":"2012-01-19T18:18:06Z","author_association":"NONE","body":"We could definitely benefit from this feature as well. NRT works great for 95% of our use cases, but we still have a couple of use cases that would be simpler if this feature was available. Thanks!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3572194","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-3572194","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":3572194,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzIxOTQ=","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars3.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"created_at":"2012-01-19T19:01:11Z","updated_at":"2012-01-19T19:01:11Z","author_association":"NONE","body":"We are simulating this behavior doing BulkRequestBuilder.setRefresh(true). That's fine while we are still in development... but this won't scale in production.\n\nBulkRequestBuilder.setBlockUntilRefresh(true) would be a great addition to the request API.\n\nIs there an easy way to have it block until the replicas have also been updated. The next query could be routed to the replica instead of the master an need to behave the same if blocking has been requested.\n\nThanks again Shay!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/4976498","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-4976498","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":4976498,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzY0OTg=","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars3.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"created_at":"2012-04-05T13:35:27Z","updated_at":"2012-04-05T13:35:27Z","author_association":"NONE","body":"Hello Shay!\n\nWe are getting closer to a beta release and this feature would really make a big difference... and I believe that ES would gain in its ability to become more and more the primary datastore for many applications if we could optionally block on indexing until refresh.\n\nWe understand that this behaviour will be used only where needed as this will introduce a mean latency of 500ms for the call. But this would be really helpful in many usecases.\n\nThanks for the great product. It's been really living up to our expectations.\n\nRemy\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/5610599","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-5610599","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":5610599,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTA1OTk=","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars3.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"created_at":"2012-05-09T20:23:06Z","updated_at":"2012-05-09T20:23:06Z","author_association":"NONE","body":"Me again! ;-)\n\nWhile we are backed by a relational database for security and for its transactional support, we rely almost entirely on ES for all of our queries. Not just for searching things... all our relations between items, all our acls and security is done through queries to ES.\n\nFor some use cases, it would be just great to have index-then-block-until-data-is-visible-for-search... instead of forcing a refresh.\n\nBTW, when doing BulkRequestBuilder.setRefresh(true), does this also forces a refresh on the replicas?\n\nThanks!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/20132526","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-20132526","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":20132526,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMTMyNTI2","user":{"login":"missinglink","id":738069,"node_id":"MDQ6VXNlcjczODA2OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/738069?v=4","gravatar_id":"","url":"https://api.github.com/users/missinglink","html_url":"https://github.com/missinglink","followers_url":"https://api.github.com/users/missinglink/followers","following_url":"https://api.github.com/users/missinglink/following{/other_user}","gists_url":"https://api.github.com/users/missinglink/gists{/gist_id}","starred_url":"https://api.github.com/users/missinglink/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/missinglink/subscriptions","organizations_url":"https://api.github.com/users/missinglink/orgs","repos_url":"https://api.github.com/users/missinglink/repos","events_url":"https://api.github.com/users/missinglink/events{/privacy}","received_events_url":"https://api.github.com/users/missinglink/received_events","type":"User","site_admin":false},"created_at":"2013-06-27T16:01:08Z","updated_at":"2013-06-27T16:01:08Z","author_association":"CONTRIBUTOR","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/26146648","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-26146648","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":26146648,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTQ2NjQ4","user":{"login":"richardwalsh","id":1156614,"node_id":"MDQ6VXNlcjExNTY2MTQ=","avatar_url":"https://avatars2.githubusercontent.com/u/1156614?v=4","gravatar_id":"","url":"https://api.github.com/users/richardwalsh","html_url":"https://github.com/richardwalsh","followers_url":"https://api.github.com/users/richardwalsh/followers","following_url":"https://api.github.com/users/richardwalsh/following{/other_user}","gists_url":"https://api.github.com/users/richardwalsh/gists{/gist_id}","starred_url":"https://api.github.com/users/richardwalsh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardwalsh/subscriptions","organizations_url":"https://api.github.com/users/richardwalsh/orgs","repos_url":"https://api.github.com/users/richardwalsh/repos","events_url":"https://api.github.com/users/richardwalsh/events{/privacy}","received_events_url":"https://api.github.com/users/richardwalsh/received_events","type":"User","site_admin":false},"created_at":"2013-10-11T15:33:03Z","updated_at":"2013-10-11T15:33:03Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/30883574","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-30883574","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":30883574,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODgzNTc0","user":{"login":"fresheneesz","id":149531,"node_id":"MDQ6VXNlcjE0OTUzMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/149531?v=4","gravatar_id":"","url":"https://api.github.com/users/fresheneesz","html_url":"https://github.com/fresheneesz","followers_url":"https://api.github.com/users/fresheneesz/followers","following_url":"https://api.github.com/users/fresheneesz/following{/other_user}","gists_url":"https://api.github.com/users/fresheneesz/gists{/gist_id}","starred_url":"https://api.github.com/users/fresheneesz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fresheneesz/subscriptions","organizations_url":"https://api.github.com/users/fresheneesz/orgs","repos_url":"https://api.github.com/users/fresheneesz/repos","events_url":"https://api.github.com/users/fresheneesz/events{/privacy}","received_events_url":"https://api.github.com/users/fresheneesz/received_events","type":"User","site_admin":false},"created_at":"2013-12-18T21:40:23Z","updated_at":"2013-12-18T21:40:23Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33022642","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-33022642","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":33022642,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDIyNjQy","user":{"login":"teuneboon","id":571486,"node_id":"MDQ6VXNlcjU3MTQ4Ng==","avatar_url":"https://avatars2.githubusercontent.com/u/571486?v=4","gravatar_id":"","url":"https://api.github.com/users/teuneboon","html_url":"https://github.com/teuneboon","followers_url":"https://api.github.com/users/teuneboon/followers","following_url":"https://api.github.com/users/teuneboon/following{/other_user}","gists_url":"https://api.github.com/users/teuneboon/gists{/gist_id}","starred_url":"https://api.github.com/users/teuneboon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teuneboon/subscriptions","organizations_url":"https://api.github.com/users/teuneboon/orgs","repos_url":"https://api.github.com/users/teuneboon/repos","events_url":"https://api.github.com/users/teuneboon/events{/privacy}","received_events_url":"https://api.github.com/users/teuneboon/received_events","type":"User","site_admin":false},"created_at":"2014-01-22T13:44:13Z","updated_at":"2014-01-22T13:44:13Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33022881","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-33022881","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":33022881,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDIyODgx","user":{"login":"onnomarsman","id":736516,"node_id":"MDQ6VXNlcjczNjUxNg==","avatar_url":"https://avatars2.githubusercontent.com/u/736516?v=4","gravatar_id":"","url":"https://api.github.com/users/onnomarsman","html_url":"https://github.com/onnomarsman","followers_url":"https://api.github.com/users/onnomarsman/followers","following_url":"https://api.github.com/users/onnomarsman/following{/other_user}","gists_url":"https://api.github.com/users/onnomarsman/gists{/gist_id}","starred_url":"https://api.github.com/users/onnomarsman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onnomarsman/subscriptions","organizations_url":"https://api.github.com/users/onnomarsman/orgs","repos_url":"https://api.github.com/users/onnomarsman/repos","events_url":"https://api.github.com/users/onnomarsman/events{/privacy}","received_events_url":"https://api.github.com/users/onnomarsman/received_events","type":"User","site_admin":false},"created_at":"2014-01-22T13:46:43Z","updated_at":"2014-01-22T13:46:43Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/34870790","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-34870790","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":34870790,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODcwNzkw","user":{"login":"stabenfeldt","id":181272,"node_id":"MDQ6VXNlcjE4MTI3Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/181272?v=4","gravatar_id":"","url":"https://api.github.com/users/stabenfeldt","html_url":"https://github.com/stabenfeldt","followers_url":"https://api.github.com/users/stabenfeldt/followers","following_url":"https://api.github.com/users/stabenfeldt/following{/other_user}","gists_url":"https://api.github.com/users/stabenfeldt/gists{/gist_id}","starred_url":"https://api.github.com/users/stabenfeldt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stabenfeldt/subscriptions","organizations_url":"https://api.github.com/users/stabenfeldt/orgs","repos_url":"https://api.github.com/users/stabenfeldt/repos","events_url":"https://api.github.com/users/stabenfeldt/events{/privacy}","received_events_url":"https://api.github.com/users/stabenfeldt/received_events","type":"User","site_admin":false},"created_at":"2014-02-12T14:00:12Z","updated_at":"2014-02-12T14:00:12Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/43044422","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-43044422","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":43044422,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMDQ0NDIy","user":{"login":"nessup","id":1820695,"node_id":"MDQ6VXNlcjE4MjA2OTU=","avatar_url":"https://avatars3.githubusercontent.com/u/1820695?v=4","gravatar_id":"","url":"https://api.github.com/users/nessup","html_url":"https://github.com/nessup","followers_url":"https://api.github.com/users/nessup/followers","following_url":"https://api.github.com/users/nessup/following{/other_user}","gists_url":"https://api.github.com/users/nessup/gists{/gist_id}","starred_url":"https://api.github.com/users/nessup/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nessup/subscriptions","organizations_url":"https://api.github.com/users/nessup/orgs","repos_url":"https://api.github.com/users/nessup/repos","events_url":"https://api.github.com/users/nessup/events{/privacy}","received_events_url":"https://api.github.com/users/nessup/received_events","type":"User","site_admin":false},"created_at":"2014-05-14T05:42:58Z","updated_at":"2014-05-14T05:42:58Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/44977822","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-44977822","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":44977822,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTc3ODIy","user":{"login":"pentium10","id":465691,"node_id":"MDQ6VXNlcjQ2NTY5MQ==","avatar_url":"https://avatars1.githubusercontent.com/u/465691?v=4","gravatar_id":"","url":"https://api.github.com/users/pentium10","html_url":"https://github.com/pentium10","followers_url":"https://api.github.com/users/pentium10/followers","following_url":"https://api.github.com/users/pentium10/following{/other_user}","gists_url":"https://api.github.com/users/pentium10/gists{/gist_id}","starred_url":"https://api.github.com/users/pentium10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pentium10/subscriptions","organizations_url":"https://api.github.com/users/pentium10/orgs","repos_url":"https://api.github.com/users/pentium10/repos","events_url":"https://api.github.com/users/pentium10/events{/privacy}","received_events_url":"https://api.github.com/users/pentium10/received_events","type":"User","site_admin":false},"created_at":"2014-06-03T15:15:51Z","updated_at":"2014-06-03T15:15:51Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46922182","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-46922182","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":46922182,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTIyMTgy","user":{"login":"mikend","id":5796902,"node_id":"MDQ6VXNlcjU3OTY5MDI=","avatar_url":"https://avatars3.githubusercontent.com/u/5796902?v=4","gravatar_id":"","url":"https://api.github.com/users/mikend","html_url":"https://github.com/mikend","followers_url":"https://api.github.com/users/mikend/followers","following_url":"https://api.github.com/users/mikend/following{/other_user}","gists_url":"https://api.github.com/users/mikend/gists{/gist_id}","starred_url":"https://api.github.com/users/mikend/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikend/subscriptions","organizations_url":"https://api.github.com/users/mikend/orgs","repos_url":"https://api.github.com/users/mikend/repos","events_url":"https://api.github.com/users/mikend/events{/privacy}","received_events_url":"https://api.github.com/users/mikend/received_events","type":"User","site_admin":false},"created_at":"2014-06-24T01:22:09Z","updated_at":"2014-06-24T01:22:09Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/49377883","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-49377883","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":49377883,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mzc3ODgz","user":{"login":"kevin-montrose","id":1219467,"node_id":"MDQ6VXNlcjEyMTk0Njc=","avatar_url":"https://avatars0.githubusercontent.com/u/1219467?v=4","gravatar_id":"","url":"https://api.github.com/users/kevin-montrose","html_url":"https://github.com/kevin-montrose","followers_url":"https://api.github.com/users/kevin-montrose/followers","following_url":"https://api.github.com/users/kevin-montrose/following{/other_user}","gists_url":"https://api.github.com/users/kevin-montrose/gists{/gist_id}","starred_url":"https://api.github.com/users/kevin-montrose/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevin-montrose/subscriptions","organizations_url":"https://api.github.com/users/kevin-montrose/orgs","repos_url":"https://api.github.com/users/kevin-montrose/repos","events_url":"https://api.github.com/users/kevin-montrose/events{/privacy}","received_events_url":"https://api.github.com/users/kevin-montrose/received_events","type":"User","site_admin":false},"created_at":"2014-07-17T23:05:08Z","updated_at":"2014-07-17T23:05:08Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/51051980","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-51051980","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":51051980,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDUxOTgw","user":{"login":"LiquidMark","id":1060168,"node_id":"MDQ6VXNlcjEwNjAxNjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1060168?v=4","gravatar_id":"","url":"https://api.github.com/users/LiquidMark","html_url":"https://github.com/LiquidMark","followers_url":"https://api.github.com/users/LiquidMark/followers","following_url":"https://api.github.com/users/LiquidMark/following{/other_user}","gists_url":"https://api.github.com/users/LiquidMark/gists{/gist_id}","starred_url":"https://api.github.com/users/LiquidMark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LiquidMark/subscriptions","organizations_url":"https://api.github.com/users/LiquidMark/orgs","repos_url":"https://api.github.com/users/LiquidMark/repos","events_url":"https://api.github.com/users/LiquidMark/events{/privacy}","received_events_url":"https://api.github.com/users/LiquidMark/received_events","type":"User","site_admin":false},"created_at":"2014-08-04T12:12:54Z","updated_at":"2014-08-04T12:12:54Z","author_association":"NONE","body":"Hoping this shows up soon. We use the 'refresh' option to all of our index operations. Fine for development and testing, but I'm concerned about performance impact for production. Blocking until the next scheduled refresh has finished would solve our problem!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/51181286","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-51181286","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":51181286,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTgxMjg2","user":{"login":"NTCoding","id":692094,"node_id":"MDQ6VXNlcjY5MjA5NA==","avatar_url":"https://avatars2.githubusercontent.com/u/692094?v=4","gravatar_id":"","url":"https://api.github.com/users/NTCoding","html_url":"https://github.com/NTCoding","followers_url":"https://api.github.com/users/NTCoding/followers","following_url":"https://api.github.com/users/NTCoding/following{/other_user}","gists_url":"https://api.github.com/users/NTCoding/gists{/gist_id}","starred_url":"https://api.github.com/users/NTCoding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NTCoding/subscriptions","organizations_url":"https://api.github.com/users/NTCoding/orgs","repos_url":"https://api.github.com/users/NTCoding/repos","events_url":"https://api.github.com/users/NTCoding/events{/privacy}","received_events_url":"https://api.github.com/users/NTCoding/received_events","type":"User","site_admin":false},"created_at":"2014-08-05T10:49:43Z","updated_at":"2014-08-05T10:49:43Z","author_association":"NONE","body":"This is killing us in production. We need to calculate facets on the indexed documents. but our servers cannot handle many refreshes per second.\n\nI'm looking for some way to get a notification of when the items have been acknowledged so I can wait until then and calculate facets.\n\nSo another +1 :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/53059141","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-53059141","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":53059141,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDU5MTQx","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-08-22T13:21:53Z","updated_at":"2014-08-22T13:21:53Z","author_association":"CONTRIBUTOR","body":"From https://github.com/elasticsearch/elasticsearch/issues/7354#issuecomment-52814558\n\n> Yeah ControlledRTReopenThread was designed for exactly this situation; it's basically the same as your 3rd option (Delay the update of the view in the UI...): it delays the rare requests that must see the latest changes while allowing the normal (hopefully vast majority) of requests to just use the last refreshed reader.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/57606896","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-57606896","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":57606896,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjA2ODk2","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars3.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"created_at":"2014-10-02T09:57:02Z","updated_at":"2014-10-02T09:57:02Z","author_association":"NONE","body":"Unfortunately we had faced this problem. So +1 :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/68594640","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-68594640","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":68594640,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTk0NjQw","user":{"login":"satazor","id":1017236,"node_id":"MDQ6VXNlcjEwMTcyMzY=","avatar_url":"https://avatars2.githubusercontent.com/u/1017236?v=4","gravatar_id":"","url":"https://api.github.com/users/satazor","html_url":"https://github.com/satazor","followers_url":"https://api.github.com/users/satazor/followers","following_url":"https://api.github.com/users/satazor/following{/other_user}","gists_url":"https://api.github.com/users/satazor/gists{/gist_id}","starred_url":"https://api.github.com/users/satazor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satazor/subscriptions","organizations_url":"https://api.github.com/users/satazor/orgs","repos_url":"https://api.github.com/users/satazor/repos","events_url":"https://api.github.com/users/satazor/events{/privacy}","received_events_url":"https://api.github.com/users/satazor/received_events","type":"User","site_admin":false},"created_at":"2015-01-03T13:17:49Z","updated_at":"2015-01-03T13:17:49Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/71497936","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-71497936","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":71497936,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNDk3OTM2","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-01-26T17:17:25Z","updated_at":"2015-01-26T17:17:25Z","author_association":"CONTRIBUTOR","body":"A problem with this solution is that we could have potentially thousands of requests blocking until a refresh happens, all of which suddenly return in the same instant.  All of those requests will use up RAM, and the sudden rush of responses might saturate network bandwidth.\n\nI'm not convinced that the suggested solution here is practical.  Better to take an \"eventually consistent\" approach, eg:\n- user views list of comments (generated by search)\n- user posts new comment\n- show user original search results and manually insert their comment into the list, and by the time they refresh the page, the index should have refreshed\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/71526455","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-71526455","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":71526455,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNTI2NDU1","user":{"login":"fresheneesz","id":149531,"node_id":"MDQ6VXNlcjE0OTUzMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/149531?v=4","gravatar_id":"","url":"https://api.github.com/users/fresheneesz","html_url":"https://github.com/fresheneesz","followers_url":"https://api.github.com/users/fresheneesz/followers","following_url":"https://api.github.com/users/fresheneesz/following{/other_user}","gists_url":"https://api.github.com/users/fresheneesz/gists{/gist_id}","starred_url":"https://api.github.com/users/fresheneesz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fresheneesz/subscriptions","organizations_url":"https://api.github.com/users/fresheneesz/orgs","repos_url":"https://api.github.com/users/fresheneesz/repos","events_url":"https://api.github.com/users/fresheneesz/events{/privacy}","received_events_url":"https://api.github.com/users/fresheneesz/received_events","type":"User","site_admin":false},"created_at":"2015-01-26T19:56:44Z","updated_at":"2015-01-26T19:56:44Z","author_association":"NONE","body":"@clintongormley Your concern sounds rather far fetched. All the request has to do is close. You're really saying that thousands of TCP closes would \"saturate network bandwidth\"? I don't think that would even happen if your server's primary connection to the db is over 56k. And how much ram and resources do you think it takes for something to continuously poll? WAY more. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/71536460","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-71536460","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":71536460,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNTM2NDYw","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-01-26T20:56:07Z","updated_at":"2015-01-26T20:56:07Z","author_association":"CONTRIBUTOR","body":"@fresheneesz that's an interesting idea - i was thinking of only sending the responses once the refresh happened, as opposed to just holding back enough to stop the request from completing.  It wouldn't be sufficient to just hold the connection open as it uses keepalive anyway.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/75047938","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-75047938","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":75047938,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDQ3OTM4","user":{"login":"joar","id":20814,"node_id":"MDQ6VXNlcjIwODE0","avatar_url":"https://avatars2.githubusercontent.com/u/20814?v=4","gravatar_id":"","url":"https://api.github.com/users/joar","html_url":"https://github.com/joar","followers_url":"https://api.github.com/users/joar/followers","following_url":"https://api.github.com/users/joar/following{/other_user}","gists_url":"https://api.github.com/users/joar/gists{/gist_id}","starred_url":"https://api.github.com/users/joar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joar/subscriptions","organizations_url":"https://api.github.com/users/joar/orgs","repos_url":"https://api.github.com/users/joar/repos","events_url":"https://api.github.com/users/joar/events{/privacy}","received_events_url":"https://api.github.com/users/joar/received_events","type":"User","site_admin":false},"created_at":"2015-02-19T13:00:52Z","updated_at":"2015-02-19T13:00:52Z","author_association":"NONE","body":"I'm +1 on this, as long as it implies that you may leave the request hanging until the index is flushed (i.e the document becomes available).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/75590260","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-75590260","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":75590260,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTkwMjYw","user":{"login":"jannemann","id":7280696,"node_id":"MDQ6VXNlcjcyODA2OTY=","avatar_url":"https://avatars3.githubusercontent.com/u/7280696?v=4","gravatar_id":"","url":"https://api.github.com/users/jannemann","html_url":"https://github.com/jannemann","followers_url":"https://api.github.com/users/jannemann/followers","following_url":"https://api.github.com/users/jannemann/following{/other_user}","gists_url":"https://api.github.com/users/jannemann/gists{/gist_id}","starred_url":"https://api.github.com/users/jannemann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jannemann/subscriptions","organizations_url":"https://api.github.com/users/jannemann/orgs","repos_url":"https://api.github.com/users/jannemann/repos","events_url":"https://api.github.com/users/jannemann/events{/privacy}","received_events_url":"https://api.github.com/users/jannemann/received_events","type":"User","site_admin":false},"created_at":"2015-02-23T17:33:05Z","updated_at":"2015-02-23T17:33:05Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/85178907","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-85178907","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":85178907,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MTc4OTA3","user":{"login":"mrkamel","id":165645,"node_id":"MDQ6VXNlcjE2NTY0NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/165645?v=4","gravatar_id":"","url":"https://api.github.com/users/mrkamel","html_url":"https://github.com/mrkamel","followers_url":"https://api.github.com/users/mrkamel/followers","following_url":"https://api.github.com/users/mrkamel/following{/other_user}","gists_url":"https://api.github.com/users/mrkamel/gists{/gist_id}","starred_url":"https://api.github.com/users/mrkamel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrkamel/subscriptions","organizations_url":"https://api.github.com/users/mrkamel/orgs","repos_url":"https://api.github.com/users/mrkamel/repos","events_url":"https://api.github.com/users/mrkamel/events{/privacy}","received_events_url":"https://api.github.com/users/mrkamel/received_events","type":"User","site_admin":false},"created_at":"2015-03-23T20:25:23Z","updated_at":"2015-03-23T20:25:23Z","author_association":"CONTRIBUTOR","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/86880357","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-86880357","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":86880357,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODgwMzU3","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2015-03-27T09:33:03Z","updated_at":"2015-03-27T09:33:03Z","author_association":"MEMBER","body":"we discussed it and I think the concern about memory is valid but it's one we already have. During master election we accumulate indexing requests as well (up to 1m). There was also the idea of add a timeout to the refresh wait (but not the indexing).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/87023435","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-87023435","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":87023435,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MDIzNDM1","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2015-03-27T17:30:35Z","updated_at":"2015-03-27T17:30:35Z","author_association":"MEMBER","body":"I think people might be currently using the refresh option on the index api to achieve the same result (finding the document via _search straight-away), which is scary as it's not feasible to refresh for each single index operation. Having the option to wait for refresh would be much better I think as it wouldn't cause a refresh but just wait for the next one, and it could potentially replace the ability to refresh on indexing completely, or just be its lightweight alternative.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/90781908","html_url":"https://github.com/elastic/elasticsearch/issues/1063#issuecomment-90781908","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1063","id":90781908,"node_id":"MDEyOklzc3VlQ29tbWVudDkwNzgxOTA4","user":{"login":"spudbean","id":193229,"node_id":"MDQ6VXNlcjE5MzIyOQ==","avatar_url":"https://avatars2.githubusercontent.com/u/193229?v=4","gravatar_id":"","url":"https://api.github.com/users/spudbean","html_url":"https://github.com/spudbean","followers_url":"https://api.github.com/users/spudbean/followers","following_url":"https://api.github.com/users/spudbean/following{/other_user}","gists_url":"https://api.github.com/users/spudbean/gists{/gist_id}","starred_url":"https://api.github.com/users/spudbean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spudbean/subscriptions","organizations_url":"https://api.github.com/users/spudbean/orgs","repos_url":"https://api.github.com/users/spudbean/repos","events_url":"https://api.github.com/users/spudbean/events{/privacy}","received_events_url":"https://api.github.com/users/spudbean/received_events","type":"User","site_admin":false},"created_at":"2015-04-08T02:15:28Z","updated_at":"2015-04-08T02:25:04Z","author_association":"NONE","body":"An alternate approach to \"block until refresh\" is \"return a token that I can use to force consistency on my next query\". On a PUT, ES could return some opaque consistency token. On subsequent queries, I can pass a \"be consistent with\" parameter and give it the token from my last PUT (or several such tokens). ES will block until the \"refresh\" for that token has occurred (it may have already occurred!) and then execute the query.\n\nNote that this blocking can be done per-shard, some shards may already be up to date wrt to the token when the request come in, and only some may need to block. You could even imagine some future optimisation where requests are routed to shard-replicas that are more likely to be up-to-date wrt to a particular token.\n\nSo we change from \"block a PUTs _return_ until refresh\" to \"block a QUERYs _start_ until refresh\". This allows for better pipelining of activities in the system as a whole.\n\n(EDIT: it is worth noting that if you can implement \"block a QUERY's start\", then you could easily implement \"block a PUTs return\" on top of that within ES, or within client code.)\n","performed_via_github_app":null}]