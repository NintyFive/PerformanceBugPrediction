{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/61409","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61409/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61409/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61409/events","html_url":"https://github.com/elastic/elasticsearch/issues/61409","id":683455915,"node_id":"MDU6SXNzdWU2ODM0NTU5MTU=","number":61409,"title":"S3 repo created despite of error 500","user":{"login":"immon","id":541494,"node_id":"MDQ6VXNlcjU0MTQ5NA==","avatar_url":"https://avatars2.githubusercontent.com/u/541494?v=4","gravatar_id":"","url":"https://api.github.com/users/immon","html_url":"https://github.com/immon","followers_url":"https://api.github.com/users/immon/followers","following_url":"https://api.github.com/users/immon/following{/other_user}","gists_url":"https://api.github.com/users/immon/gists{/gist_id}","starred_url":"https://api.github.com/users/immon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/immon/subscriptions","organizations_url":"https://api.github.com/users/immon/orgs","repos_url":"https://api.github.com/users/immon/repos","events_url":"https://api.github.com/users/immon/events{/privacy}","received_events_url":"https://api.github.com/users/immon/received_events","type":"User","site_admin":false},"labels":[{"id":143077482,"node_id":"MDU6TGFiZWwxNDMwNzc0ODI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Snapshot/Restore","name":":Distributed/Snapshot/Restore","color":"0e8a16","default":false,"description":"Anything directly related to the `_snapshot/*` APIs"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":1967496670,"node_id":"MDU6TGFiZWwxOTY3NDk2Njcw","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Distributed","name":"Team:Distributed","color":"fef2c0","default":false,"description":"Meta label for distributed team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-08-21T10:15:23Z","updated_at":"2020-08-21T12:28:40Z","closed_at":"2020-08-21T10:27:51Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"\r\n**Elasticsearch version** (`bin/elasticsearch --version`): Version: 7.9.0, Build: default/tar/a479a2a7fce0389512d6a9361301708b92dff667/2020-08-11T21:36:48.204330Z, JVM: 9.0.4\r\n\r\n**Plugins installed**: repository-s3\r\n\r\n**JVM version** (`java -version`): Java HotSpot(TM) 64-Bit Server VM (build 9.0.4+11, mixed mode)\r\n\r\n**OS version** (`uname -a` if on a Unix-like system): Ubuntu 18.04 4.15.0-112-generic\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nI created s3 snapshot repo. The request failed with error 500 however s3 repo was created.\r\nExpectation is that repo should not be created if 500 error is raised.\r\n\r\n**Steps to reproduce**:\r\n\r\n 1. Verify that s3 repo does not exist.\r\n\r\n```\r\n$ curl -u elastic:changeme -H 'content-type: application/json'  'http://localhost:9200/_snapshot/s3_repo?pretty'\r\n{\r\n  \"error\" : {\r\n    \"root_cause\" : [\r\n      {\r\n        \"type\" : \"repository_missing_exception\",\r\n        \"reason\" : \"[s3_repo] missing\"\r\n      }\r\n    ],\r\n    \"type\" : \"repository_missing_exception\",\r\n    \"reason\" : \"[s3_repo] missing\"\r\n  },\r\n  \"status\" : 404\r\n}\r\n```\r\n\r\n 2. Attempt to create repo\r\n\r\n```\r\n$ curl -u elastic:changeme -H 'content-type: application/json' -XPUT 'http://localhost:9200/_snapshot/s3_repo?pretty' -d '\r\n{\r\n\"type\" : \"s3\",\r\n\"settings\" : {\r\n\"bucket\" : \"es-lups\",\r\n\"path_style_access\" : \"true\", \r\n\"endpoint\": \"mail.sudo.pl:444\",\r\n \"protocol\" : \"https\",\r\n\"compress\" : \"true\"\r\n}\r\n} '\r\n\r\nResponse:\r\n{\r\n  \"error\" : {\r\n    \"root_cause\" : [\r\n      {\r\n        \"type\" : \"repository_verification_exception\",\r\n        \"reason\" : \"[s3_repo] path  is not accessible on master node\"\r\n      }\r\n    ],\r\n    \"type\" : \"repository_verification_exception\",\r\n    \"reason\" : \"[s3_repo] path  is not accessible on master node\",\r\n    \"caused_by\" : {\r\n      \"type\" : \"null_pointer_exception\",\r\n      \"reason\" : null\r\n    }\r\n  },\r\n  \"status\" : 500\r\n}\r\n\r\n```\r\n\r\n<details>\r\n<summary> Exception logged at ES side </summary>\r\n\r\n```\r\n[2020-08-21T11:54:48,524][INFO ][o.e.r.RepositoriesService] [lake] put repository [s3_repo]\r\n[2020-08-21T11:54:48,787][WARN ][c.a.s.s.i.UseArnRegionResolver] [lake] Unable to load config file null\r\njava.security.AccessControlException: access denied (\"java.io.FilePermission\" \"/home/imo/.aws/config\" \"read\")\r\n\tat java.security.AccessControlContext.checkPermission(AccessControlContext.java:472) ~[?:?]\r\n\tat java.security.AccessController.checkPermission(AccessController.java:895) ~[?:?]\r\n\tat java.lang.SecurityManager.checkPermission(SecurityManager.java:558) ~[?:?]\r\n\tat java.lang.SecurityManager.checkRead(SecurityManager.java:897) ~[?:?]\r\n\tat java.io.File.exists(File.java:815) ~[?:?]\r\n\tat com.amazonaws.profile.path.config.SharedConfigDefaultLocationProvider.getLocation(SharedConfigDefaultLocationProvider.java:36) ~[aws-java-sdk-core-1.11.749.jar:?]\r\n\tat com.amazonaws.profile.path.AwsProfileFileLocationProviderChain.getLocation(AwsProfileFileLocationProviderChain.java:41) ~[aws-java-sdk-core-1.11.749.jar:?]\r\n\tat com.amazonaws.services.s3.internal.UseArnRegionResolver.getProfilesConfigFile(UseArnRegionResolver.java:110) [aws-java-sdk-s3-1.11.749.jar:?]\r\n\tat com.amazonaws.services.s3.internal.UseArnRegionResolver.getProfile(UseArnRegionResolver.java:96) [aws-java-sdk-s3-1.11.749.jar:?]\r\n\tat com.amazonaws.services.s3.internal.UseArnRegionResolver.profile(UseArnRegionResolver.java:76) [aws-java-sdk-s3-1.11.749.jar:?]\r\n\tat com.amazonaws.services.s3.internal.UseArnRegionResolver.resolveUseArnRegion(UseArnRegionResolver.java:64) [aws-java-sdk-s3-1.11.749.jar:?]\r\n\tat com.amazonaws.services.s3.internal.UseArnRegionResolver.<init>(UseArnRegionResolver.java:53) [aws-java-sdk-s3-1.11.749.jar:?]\r\n\tat com.amazonaws.services.s3.internal.UseArnRegionResolver.<init>(UseArnRegionResolver.java:48) [aws-java-sdk-s3-1.11.749.jar:?]\r\n\tat com.amazonaws.services.s3.AmazonS3Client.<clinit>(AmazonS3Client.java:435) [aws-java-sdk-s3-1.11.749.jar:?]\r\n\tat com.amazonaws.services.s3.AmazonS3Builder$1.apply(AmazonS3Builder.java:35) [aws-java-sdk-s3-1.11.749.jar:?]\r\n\tat com.amazonaws.services.s3.AmazonS3Builder$1.apply(AmazonS3Builder.java:32) [aws-java-sdk-s3-1.11.749.jar:?]\r\n\tat com.amazonaws.services.s3.AmazonS3ClientBuilder.build(AmazonS3ClientBuilder.java:64) [aws-java-sdk-s3-1.11.749.jar:?]\r\n\tat com.amazonaws.services.s3.AmazonS3ClientBuilder.build(AmazonS3ClientBuilder.java:28) [aws-java-sdk-s3-1.11.749.jar:?]\r\n\tat com.amazonaws.client.builder.AwsSyncClientBuilder.build(AwsSyncClientBuilder.java:46) [aws-java-sdk-core-1.11.749.jar:?]\r\n\tat java.security.AccessController.doPrivileged(Native Method) [?:?]\r\n\tat org.elasticsearch.repositories.s3.SocketAccess.doPrivileged(SocketAccess.java:42) [repository-s3-7.9.0.jar:7.9.0]\r\n\tat org.elasticsearch.repositories.s3.S3Service.buildClient(S3Service.java:164) [repository-s3-7.9.0.jar:7.9.0]\r\n\tat org.elasticsearch.repositories.s3.S3Service.client(S3Service.java:96) [repository-s3-7.9.0.jar:7.9.0]\r\n\tat org.elasticsearch.repositories.s3.S3BlobStore.clientReference(S3BlobStore.java:119) [repository-s3-7.9.0.jar:7.9.0]\r\n\tat org.elasticsearch.repositories.s3.S3BlobContainer.executeSingleUpload(S3BlobContainer.java:355) [repository-s3-7.9.0.jar:7.9.0]\r\n\tat org.elasticsearch.repositories.s3.S3BlobContainer.lambda$writeBlob$1(S3BlobContainer.java:131) [repository-s3-7.9.0.jar:7.9.0]\r\n\tat java.security.AccessController.doPrivileged(Native Method) [?:?]\r\n\tat org.elasticsearch.repositories.s3.SocketAccess.doPrivilegedIOException(SocketAccess.java:48) [repository-s3-7.9.0.jar:7.9.0]\r\n\tat org.elasticsearch.repositories.s3.S3BlobContainer.writeBlob(S3BlobContainer.java:129) [repository-s3-7.9.0.jar:7.9.0]\r\n\tat org.elasticsearch.repositories.s3.S3BlobContainer.writeBlobAtomic(S3BlobContainer.java:146) [repository-s3-7.9.0.jar:7.9.0]\r\n\tat org.elasticsearch.repositories.blobstore.BlobStoreRepository.startVerification(BlobStoreRepository.java:1202) [elasticsearch-7.9.0.jar:7.9.0]\r\n\tat org.elasticsearch.repositories.RepositoriesService$3.doRun(RepositoriesService.java:248) [elasticsearch-7.9.0.jar:7.9.0]\r\n\tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:710) [elasticsearch-7.9.0.jar:7.9.0]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-7.9.0.jar:7.9.0]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:844) [?:?]\r\n[2020-08-21T11:54:50,996][WARN ][r.suppressed             ] [lake] path: /_snapshot/s3_repo, params: {pretty=, repository=s3_repo}\r\norg.elasticsearch.repositories.RepositoryVerificationException: [s3_repo] path  is not accessible on master node\r\n\tat org.elasticsearch.repositories.blobstore.BlobStoreRepository.startVerification(BlobStoreRepository.java:1207) ~[elasticsearch-7.9.0.jar:7.9.0]\r\n\tat org.elasticsearch.repositories.RepositoriesService$3.doRun(RepositoriesService.java:248) ~[elasticsearch-7.9.0.jar:7.9.0]\r\n\tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:710) [elasticsearch-7.9.0.jar:7.9.0]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-7.9.0.jar:7.9.0]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:844) [?:?]\r\nCaused by: java.lang.NullPointerException\r\n\tat org.elasticsearch.repositories.s3.S3BlobStore.getRequestCount(S3BlobStore.java:110) ~[?:?]\r\n\tat org.elasticsearch.repositories.s3.S3BlobStore.access$000(S3BlobStore.java:41) ~[?:?]\r\n\tat org.elasticsearch.repositories.s3.S3BlobStore$3.collectMetrics(S3BlobStore.java:92) ~[?:?]\r\n\tat com.amazonaws.AmazonWebServiceClient.endClientExecution(AmazonWebServiceClient.java:819) ~[?:?]\r\n\tat com.amazonaws.AmazonWebServiceClient.endClientExecution(AmazonWebServiceClient.java:799) ~[?:?]\r\n\tat com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5079) ~[?:?]\r\n\tat com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5000) ~[?:?]\r\n\tat com.amazonaws.services.s3.AmazonS3Client.access$300(AmazonS3Client.java:394) ~[?:?]\r\n\tat com.amazonaws.services.s3.AmazonS3Client$PutObjectStrategy.invokeServiceCall(AmazonS3Client.java:5942) ~[?:?]\r\n\tat com.amazonaws.services.s3.AmazonS3Client.uploadObject(AmazonS3Client.java:1808) ~[?:?]\r\n\tat com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1768) ~[?:?]\r\n\tat org.elasticsearch.repositories.s3.S3BlobContainer.lambda$executeSingleUpload$18(S3BlobContainer.java:357) ~[?:?]\r\n\tat org.elasticsearch.repositories.s3.SocketAccess.lambda$doPrivilegedVoid$0(SocketAccess.java:57) ~[?:?]\r\n\tat java.security.AccessController.doPrivileged(Native Method) ~[?:?]\r\n\tat org.elasticsearch.repositories.s3.SocketAccess.doPrivilegedVoid(SocketAccess.java:56) ~[?:?]\r\n\tat org.elasticsearch.repositories.s3.S3BlobContainer.executeSingleUpload(S3BlobContainer.java:356) ~[?:?]\r\n\tat org.elasticsearch.repositories.s3.S3BlobContainer.lambda$writeBlob$1(S3BlobContainer.java:131) ~[?:?]\r\n\tat java.security.AccessController.doPrivileged(Native Method) ~[?:?]\r\n\tat org.elasticsearch.repositories.s3.SocketAccess.doPrivilegedIOException(SocketAccess.java:48) ~[?:?]\r\n\tat org.elasticsearch.repositories.s3.S3BlobContainer.writeBlob(S3BlobContainer.java:129) ~[?:?]\r\n\tat org.elasticsearch.repositories.s3.S3BlobContainer.writeBlobAtomic(S3BlobContainer.java:146) ~[?:?]\r\n\tat org.elasticsearch.repositories.blobstore.BlobStoreRepository.startVerification(BlobStoreRepository.java:1202) ~[elasticsearch-7.9.0.jar:7.9.0]\r\n\t... 6 more\r\n```\r\n\r\n</details>\r\n\r\n 3. However repo was created:\r\n\r\n```\r\n$ curl -u elastic:changeme -H 'content-type: application/json'  'http://localhost:9200/_snapshot/s3_repo?pretty'\r\n{\r\n  \"s3_repo\" : {\r\n    \"type\" : \"s3\",\r\n    \"settings\" : {\r\n      \"bucket\" : \"es-lups\",\r\n      \"path_style_access\" : \"true\",\r\n      \"endpoint\" : \"mail.sudo.pl:444\",\r\n      \"protocol\" : \"https\",\r\n      \"compress\" : \"true\"\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nThe above steps trigger the issue when there is permission erro to access AWS config but the same issue was observed when s3 endpoint was not reachable. S3 repo was created despite the following exception raised:\r\n\r\n<details>\r\n<summary> connection timeout exception </summary>\r\n\r\n```\r\nCaused by: org.apache.http.conn.ConnectTimeoutException: Connect to s3.obfuscated.ipv6.address:443 [s3.obfuscated.ipv6.address/2a00:1234:1234:0:0:0:0:abcd] failed: Connect timed out\r\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:151) ~[?:?]\r\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:374) ~[?:?]\r\n        at jdk.internal.reflect.GeneratedMethodAccessor31.invoke(Unknown Source) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:564) ~[?:?]\r\n        at com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76) ~[?:?]\r\n        at com.amazonaws.http.conn.$Proxy29.connect(Unknown Source) ~[?:?]\r\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[?:?]\r\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[?:?]\r\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[?:?]\r\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[?:?]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[?:?]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[?:?]\r\n        at com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72) ~[?:?]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1323) ~[?:?]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1139) ~[?:?]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:796) ~[?:?]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:764) ~[?:?]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:738) ~[?:?]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:698) ~[?:?]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:680) ~[?:?]\r\n        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:544) ~[?:?]\r\n        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:524) ~[?:?]\r\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5054) ~[?:?]\r\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5000) ~[?:?]\r\n        at com.amazonaws.services.s3.AmazonS3Client.access$300(AmazonS3Client.java:394) ~[?:?]\r\n        at com.amazonaws.services.s3.AmazonS3Client$PutObjectStrategy.invokeServiceCall(AmazonS3Client.java:5942) ~[?:?]\r\n        at com.amazonaws.services.s3.AmazonS3Client.uploadObject(AmazonS3Client.java:1808) ~[?:?]\r\n        at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1768) ~[?:?]\r\n        at org.elasticsearch.repositories.s3.S3BlobContainer.lambda$executeSingleUpload$17(S3BlobContainer.java:346) ~[?:?]\r\n        at org.elasticsearch.repositories.s3.SocketAccess.lambda$doPrivilegedVoid$0(SocketAccess.java:57) ~[?:?]\r\n        at java.security.AccessController.doPrivileged(AccessController.java:312) ~[?:?]\r\n        at org.elasticsearch.repositories.s3.SocketAccess.doPrivilegedVoid(SocketAccess.java:56) ~[?:?]\r\n        at org.elasticsearch.repositories.s3.S3BlobContainer.executeSingleUpload(S3BlobContainer.java:345) ~[?:?]\r\n        at org.elasticsearch.repositories.s3.S3BlobContainer.lambda$writeBlob$0(S3BlobContainer.java:121) ~[?:?]\r\n        at java.security.AccessController.doPrivileged(AccessController.java:554) ~[?:?]\r\n        at org.elasticsearch.repositories.s3.SocketAccess.doPrivilegedIOException(SocketAccess.java:48) ~[?:?]\r\n        at org.elasticsearch.repositories.s3.S3BlobContainer.writeBlob(S3BlobContainer.java:119) ~[?:?]\r\n        at org.elasticsearch.repositories.s3.S3BlobContainer.writeBlobAtomic(S3BlobContainer.java:136) ~[?:?]\r\n        at org.elasticsearch.repositories.blobstore.BlobStoreRepository.startVerification(BlobStoreRepository.java:1140) ~[elasticsearch-7.8.0.jar:7.8.0]\r\n        ... 6 more\r\nCaused by: java.net.SocketTimeoutException: Connect timed out\r\n        at sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:546) ~[?:?]\r\n        at sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[?:?]\r\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333) ~[?:?]\r\n        at java.net.Socket.connect(Socket.java:648) ~[?:?]\r\n        at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368) ~[?:?]\r\n        at com.amazonaws.http.conn.ssl.SdkTLSSocketFactory.connectSocket(SdkTLSSocketFactory.java:142) ~[?:?]\r\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[?:?]\r\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:374) ~[?:?]\r\n        at jdk.internal.reflect.GeneratedMethodAccessor31.invoke(Unknown Source) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:564) ~[?:?]\r\n        at com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76) ~[?:?]\r\n        at com.amazonaws.http.conn.$Proxy29.connect(Unknown Source) ~[?:?]\r\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[?:?]\r\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[?:?]\r\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[?:?]\r\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[?:?]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[?:?]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[?:?]\r\n        at com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72) ~[?:?]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1323) ~[?:?]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1139) ~[?:?]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:796) ~[?:?]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:764) ~[?:?]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:738) ~[?:?]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:698) ~[?:?]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:680) ~[?:?]\r\n        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:544) ~[?:?]\r\n        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:524) ~[?:?]\r\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5054) ~[?:?]\r\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5000) ~[?:?]\r\n        at com.amazonaws.services.s3.AmazonS3Client.access$300(AmazonS3Client.java:394) ~[?:?]\r\n        at com.amazonaws.services.s3.AmazonS3Client$PutObjectStrategy.invokeServiceCall(AmazonS3Client.java:5942) ~[?:?]\r\n        at com.amazonaws.services.s3.AmazonS3Client.uploadObject(AmazonS3Client.java:1808) ~[?:?]\r\n        at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1768) ~[?:?]\r\n        at org.elasticsearch.repositories.s3.S3BlobContainer.lambda$executeSingleUpload$17(S3BlobContainer.java:346) ~[?:?]\r\n        at org.elasticsearch.repositories.s3.SocketAccess.lambda$doPrivilegedVoid$0(SocketAccess.java:57) ~[?:?]\r\n        at java.security.AccessController.doPrivileged(AccessController.java:312) ~[?:?]\r\n        at org.elasticsearch.repositories.s3.SocketAccess.doPrivilegedVoid(SocketAccess.java:56) ~[?:?]\r\n        at org.elasticsearch.repositories.s3.S3BlobContainer.executeSingleUpload(S3BlobContainer.java:345) ~[?:?]\r\n        at org.elasticsearch.repositories.s3.S3BlobContainer.lambda$writeBlob$0(S3BlobContainer.java:121) ~[?:?]\r\n        at java.security.AccessController.doPrivileged(AccessController.java:554) ~[?:?]\r\n        at org.elasticsearch.repositories.s3.SocketAccess.doPrivilegedIOException(SocketAccess.java:48) ~[?:?]\r\n        at org.elasticsearch.repositories.s3.S3BlobContainer.writeBlob(S3BlobContainer.java:119) ~[?:?]\r\n        at org.elasticsearch.repositories.s3.S3BlobContainer.writeBlobAtomic(S3BlobContainer.java:136) ~[?:?]\r\n        at org.elasticsearch.repositories.blobstore.BlobStoreRepository.startVerification(BlobStoreRepository.java:1140) ~[elasticsearch-7.8.0.jar:7.8.0]\r\n        ... 6 more\r\n```\r\n\r\n</details>\r\n","closed_by":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"performed_via_github_app":null}