[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/383670381","html_url":"https://github.com/elastic/elasticsearch/issues/29661#issuecomment-383670381","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29661","id":383670381,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzY3MDM4MQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-04-23T18:10:35Z","updated_at":"2018-04-23T20:01:33Z","author_association":"MEMBER","body":"I think that the point of safeguards should be to guard against things that on their face seem reasonable but actually are not. For example, a naïve thought is \"Elasticsearch is a horizontally scalable system so I can have tens of thousands of shards and it is okay!\" but that's not actually reasonable. So, we have safeguards about this.\r\n\r\nIt is simply not reasonable to send many cat indices API requests per second for second after second.\r\n\r\nI want us to deliberate for what we safeguard against, and for me a criteria is: is this something that I can empathize on the user with being a reasonable thing to do? If not, I don't want to overwhelm the codebase guarding every action a user could take that can hurt them.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/383692429","html_url":"https://github.com/elastic/elasticsearch/issues/29661#issuecomment-383692429","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29661","id":383692429,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzY5MjQyOQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-04-23T19:22:39Z","updated_at":"2018-04-23T19:22:39Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/383700600","html_url":"https://github.com/elastic/elasticsearch/issues/29661#issuecomment-383700600","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29661","id":383700600,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzcwMDYwMA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-04-23T19:50:46Z","updated_at":"2018-04-23T19:50:46Z","author_association":"CONTRIBUTOR","body":"For what it is worth pinging an endpoint for stats every 5-10 seconds is a fairly normal thing for some monitoring tools. It isn't a good idea to hit `/_cat/indices` that frequently though.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/383703553","html_url":"https://github.com/elastic/elasticsearch/issues/29661#issuecomment-383703553","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29661","id":383703553,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzcwMzU1Mw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-04-23T20:00:27Z","updated_at":"2018-04-23T20:00:27Z","author_association":"MEMBER","body":"@nik9000 The case presented here is not a request every 5 to 10 seconds; it’s 5 to 10 every second. One is reasonable, the other is not.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/383704562","html_url":"https://github.com/elastic/elasticsearch/issues/29661#issuecomment-383704562","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29661","id":383704562,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzcwNDU2Mg==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-04-23T20:03:55Z","updated_at":"2018-04-23T20:03:55Z","author_association":"CONTRIBUTOR","body":"> @nik9000 The case presented here is not a request every 5 to 10 seconds; it’s 5 to 10 every second. One is reasonable, the other is not.\r\n\r\nI see that now. It isn't reasonable.\r\n\r\nI really wish we could just fail requests in situations like this without knocking over the whole server.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384295896","html_url":"https://github.com/elastic/elasticsearch/issues/29661#issuecomment-384295896","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29661","id":384295896,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDI5NTg5Ng==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2018-04-25T13:56:21Z","updated_at":"2018-04-25T13:56:21Z","author_association":"MEMBER","body":"> I really wish we could just fail requests in situations like this without knocking over the whole server.\r\n\r\nAgreed, would be better if nodes don't die with OOME if they get swamped with indices stats requests.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384783684","html_url":"https://github.com/elastic/elasticsearch/issues/29661#issuecomment-384783684","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29661","id":384783684,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDc4MzY4NA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-04-26T20:46:43Z","updated_at":"2018-04-26T20:46:43Z","author_association":"CONTRIBUTOR","body":"I had a talk with @jasontedor and some others. While I still hold that \"anything you can do with the API that takes down Elasticsearch is a bug\", I think we should be spending our time on the reasonable or reasonable-looking things that take down Elasticsearch. But hammering the `/_cat/indices` API a bunch of times a second isn't really reasonable. If we had infinite contributors we'd fix this. We don't. So I'm going to close it and be sad about it.","performed_via_github_app":null}]