{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/3810","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3810/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3810/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3810/events","html_url":"https://github.com/elastic/elasticsearch/issues/3810","id":20297343,"node_id":"MDU6SXNzdWUyMDI5NzM0Mw==","number":3810,"title":"histograms should support intervals of decimal type","user":{"login":"lepfhty","id":1322856,"node_id":"MDQ6VXNlcjEzMjI4NTY=","avatar_url":"https://avatars3.githubusercontent.com/u/1322856?v=4","gravatar_id":"","url":"https://api.github.com/users/lepfhty","html_url":"https://github.com/lepfhty","followers_url":"https://api.github.com/users/lepfhty/followers","following_url":"https://api.github.com/users/lepfhty/following{/other_user}","gists_url":"https://api.github.com/users/lepfhty/gists{/gist_id}","starred_url":"https://api.github.com/users/lepfhty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lepfhty/subscriptions","organizations_url":"https://api.github.com/users/lepfhty/orgs","repos_url":"https://api.github.com/users/lepfhty/repos","events_url":"https://api.github.com/users/lepfhty/events{/privacy}","received_events_url":"https://api.github.com/users/lepfhty/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2013-09-30T22:33:14Z","updated_at":"2017-01-17T20:33:36Z","closed_at":"2014-08-08T17:43:09Z","author_association":"NONE","active_lock_reason":null,"body":"Certain values, such as blood pH and body temperature in Celcius, require precision to the tenths or hundredths place. They also have very little variance. Blood pH ranges between 7.3 and 7.5. Body temperatures range between 35 and 40. \n\nIn 0.90.5, the smallest supported interval currently is the smallest positive integer 1. If an interval of `0.1` is submitted, a parse error is returned, claiming that `[interval] is required to be set for histogram facet`.\n\nTo support histograms of fields with precision smaller than 1, elasticsearch should support intervals of decimal type. No new functionality is proposed, just changing the type of the interval from integer to double/float.\n\nThe following cURL setup and search:\n\n```\ncurl -XPUT localhost:9200/test/test/1 -d '{ \"value\": 1.1 }'\n\ncurl -XPUT localhost:9200/test/test/2 -d '{ \"value\": 1.2 }'\n\ncurl -XPOST \"http://localhost:9200/test/test/_search\" -d'\n{\n    \"query\": {\n        \"match_all\": {}\n    },\n    \"size\": 0,\n    \"facets\": {\n        \"hist\": {\n            \"histogram\": {\n               \"field\": \"value\",\n               \"interval\": 0.1\n            }\n        }\n    }\n}'\n```\n\nShould produce the following histogram:\n\n```\n\"entries\": [\n            {\n               \"key\": 1.1,\n               \"count\": 1\n            },\n            {\n               \"key\": 1.2,\n               \"count\": 1\n            }\n         ]\n```\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}