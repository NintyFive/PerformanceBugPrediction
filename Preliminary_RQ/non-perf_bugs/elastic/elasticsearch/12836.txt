{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/12836","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12836/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12836/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12836/events","html_url":"https://github.com/elastic/elasticsearch/issues/12836","id":100582731,"node_id":"MDU6SXNzdWUxMDA1ODI3MzE=","number":12836,"title":"ES Cluster heap usage spikes up after index rolls over","user":{"login":"rsomcio","id":5067728,"node_id":"MDQ6VXNlcjUwNjc3Mjg=","avatar_url":"https://avatars2.githubusercontent.com/u/5067728?v=4","gravatar_id":"","url":"https://api.github.com/users/rsomcio","html_url":"https://github.com/rsomcio","followers_url":"https://api.github.com/users/rsomcio/followers","following_url":"https://api.github.com/users/rsomcio/following{/other_user}","gists_url":"https://api.github.com/users/rsomcio/gists{/gist_id}","starred_url":"https://api.github.com/users/rsomcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rsomcio/subscriptions","organizations_url":"https://api.github.com/users/rsomcio/orgs","repos_url":"https://api.github.com/users/rsomcio/repos","events_url":"https://api.github.com/users/rsomcio/events{/privacy}","received_events_url":"https://api.github.com/users/rsomcio/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-08-12T16:29:20Z","updated_at":"2015-08-12T16:51:19Z","closed_at":"2015-08-12T16:44:48Z","author_association":"NONE","active_lock_reason":null,"body":"ES cluster heap usage spikes up and cluster health is red.  Theres nothing obvious in the the logs except for GC messages when the spike occurs.\n\n![screen shot 2015-08-12 at 8 44 16 am](https://cloud.githubusercontent.com/assets/5067728/9229647/ffbf9ede-40d2-11e5-82c5-036a366115c0.png)\n\n[2015-08-11 16:53:48,533][WARN ][monitor.jvm              ] [es101a] [gc][old][1653310][18240] duration [13s], collections [1]/[14.2s], total [13s]/[34.5m], memory [28.8gb]->[26.6gb]/[29.6gb], all_pools {[young] [2.1gb]->[1.7mb]/[2.4gb]}{[survivor] [316.1mb]->[0b]/[316.1mb]}{[old] [26.3gb]->[26.6gb]/[26.9gb]}\n[2015-08-11 16:54:10,249][WARN ][monitor.jvm              ] [es101a] [gc][old][1653320][18242] duration [11.5s], collections [1]/[12.7s], total [11.5s]/[34.7m], memory [29.3gb]->[26.9gb]/[29.6gb], all_pools {[young] [2.3gb]->[82.3mb]/[2.4gb]}{[survivor] [316.1mb]->[0b]/[316.1mb]}{[old] [26.6gb]->[26.9gb]/[26.9gb]}\n[2015-08-11 16:54:28,559][WARN ][monitor.jvm              ] [es101a] [gc][old][1653328][18244] duration [11.1s], collections [1]/[11.2s], total [11.1s]/[34.9m], memory [29.5gb]->[27gb]/[29.6gb], all_pools {[young] [2.4gb]->[175.7mb]/[2.4gb]}{[survivor] [253.7mb]->[0b]/[316.1mb]}{[old] [26.8gb]->[26.9gb]/[26.9gb]}\n[2015-08-11 16:54:46,680][INFO ][monitor.jvm              ] [es101a] [gc][old][1653336][18247] duration [10.8s], collections [2]/[11.1s], total [10.8s]/[35.1m], memory [29.6gb]->[27.1gb]/[29.6gb], all_pools {[young] [2.4gb]->[257.5mb]/[2.4gb]}{[survivor] [250.3mb]->[0b]/[316.1mb]}{[old] [26.9gb]->[26.9gb]/[26.9gb]}\n\nI'm currently running 1.5.0-1\nelasticsearch-1.5.0-1.noarch\nCentOS 6.5\n56 Core\n64GB Memory\n20TB storage\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}