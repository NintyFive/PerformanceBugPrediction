{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/11257","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11257/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11257/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11257/events","html_url":"https://github.com/elastic/elasticsearch/issues/11257","id":78536477,"node_id":"MDU6SXNzdWU3ODUzNjQ3Nw==","number":11257,"title":"Tests: replacement test for missing elements in the diff-serialized cluster state","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"labels":[{"id":836504707,"node_id":"MDU6TGFiZWw4MzY1MDQ3MDc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Distributed","name":":Distributed/Distributed","color":"0e8a16","default":false,"description":"A catch all label for anything in the Distributed Area. If you aren't sure, use this one."},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2015-05-20T13:55:29Z","updated_at":"2018-02-13T19:57:00Z","closed_at":"2016-03-16T13:39:18Z","author_association":"MEMBER","active_lock_reason":null,"body":"The commit fd1954d74f79311e203315d62cdc5a25c9b9faab invalidated the assumption that if two cluster states are equal they must have the same binary serialized length. As a result our smoke test for cluster state diffs started to fail periodically and was removed by the commit 42ad6771277d7778a088db57fe512bb9ce885356. Therefore now we don't really have a test for a partially implemented elements in cluster state. In other words if a cluster state element is added to writeTo() but we forget to add it to equalTo and we don't json serialize it, we might miss this fact in this test. We need to come up with a better way to catch situations like this. \n","closed_by":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"performed_via_github_app":null}