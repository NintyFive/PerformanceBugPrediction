[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/114921711","html_url":"https://github.com/elastic/elasticsearch/issues/11854#issuecomment-114921711","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11854","id":114921711,"node_id":"MDEyOklzc3VlQ29tbWVudDExNDkyMTcxMQ==","user":{"login":"winterismute","id":430834,"node_id":"MDQ6VXNlcjQzMDgzNA==","avatar_url":"https://avatars1.githubusercontent.com/u/430834?v=4","gravatar_id":"","url":"https://api.github.com/users/winterismute","html_url":"https://github.com/winterismute","followers_url":"https://api.github.com/users/winterismute/followers","following_url":"https://api.github.com/users/winterismute/following{/other_user}","gists_url":"https://api.github.com/users/winterismute/gists{/gist_id}","starred_url":"https://api.github.com/users/winterismute/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/winterismute/subscriptions","organizations_url":"https://api.github.com/users/winterismute/orgs","repos_url":"https://api.github.com/users/winterismute/repos","events_url":"https://api.github.com/users/winterismute/events{/privacy}","received_events_url":"https://api.github.com/users/winterismute/received_events","type":"User","site_admin":false},"created_at":"2015-06-24T15:49:20Z","updated_at":"2015-06-24T15:49:20Z","author_association":"NONE","body":"I am now noticing that only one of my results has 2 geo points, INGA has in fact only one in \"birthplace.coordinates\". So the behavior of elasticsearch is probably consistent, and due to the \"function_score\" query.\nThis being said, is there a way to achieve what I would like to have (checking what gets matched)?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/114947401","html_url":"https://github.com/elastic/elasticsearch/issues/11854#issuecomment-114947401","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11854","id":114947401,"node_id":"MDEyOklzc3VlQ29tbWVudDExNDk0NzQwMQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-06-24T17:25:48Z","updated_at":"2015-06-24T17:25:48Z","author_association":"CONTRIBUTOR","body":"Hi @winterismute \n\nAs you've figured out, the function_score examines all of the values in the field, not just the ones matching the filter.  This is to be expected.  To work around this you could look at using nested docs.\n\nRegarding figuring out which clauses match, look at named queries: https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-named-queries-and-filters.html#_named_queries\n","performed_via_github_app":null}]