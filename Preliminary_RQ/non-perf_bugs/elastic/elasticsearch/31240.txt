{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/31240","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31240/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31240/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31240/events","html_url":"https://github.com/elastic/elasticsearch/issues/31240","id":331137959,"node_id":"MDU6SXNzdWUzMzExMzc5NTk=","number":31240,"title":"Transport client in 5.5.0 relies on Netty 3","user":{"login":"odrotbohm","id":128577,"node_id":"MDQ6VXNlcjEyODU3Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/128577?v=4","gravatar_id":"","url":"https://api.github.com/users/odrotbohm","html_url":"https://github.com/odrotbohm","followers_url":"https://api.github.com/users/odrotbohm/followers","following_url":"https://api.github.com/users/odrotbohm/following{/other_user}","gists_url":"https://api.github.com/users/odrotbohm/gists{/gist_id}","starred_url":"https://api.github.com/users/odrotbohm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/odrotbohm/subscriptions","organizations_url":"https://api.github.com/users/odrotbohm/orgs","repos_url":"https://api.github.com/users/odrotbohm/repos","events_url":"https://api.github.com/users/odrotbohm/events{/privacy}","received_events_url":"https://api.github.com/users/odrotbohm/received_events","type":"User","site_admin":false},"labels":[{"id":146854632,"node_id":"MDU6TGFiZWwxNDY4NTQ2MzI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Network","name":":Distributed/Network","color":"0e8a16","default":false,"description":"Http and internode communication implementations"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-06-11T10:48:52Z","updated_at":"2018-06-11T12:24:49Z","closed_at":"2018-06-11T11:26:00Z","author_association":"NONE","active_lock_reason":null,"body":"Spring Data Elasticsearch currently depends on the Transport client in version 5.5.0. This transitively pulls in `transport-netty3-client` and a pretty dated Netty 3.10.6. There's also a `transport-netty4-client` plugin available which creates the impression, one could use the Netty 4 variant instead of the Netty 3 one. However, excluding `transport-netty3-client` results in `java.lang.ClassNotFoundException: org.elasticsearch.transport.Netty3Plugin`, from the constructor of `PreBuiltTransportClient` as this assumes both `Netty3Plugin` and `Netty4Plugin` to be available on the classpath.\r\n\r\nIs that expected? Shouldn't the client be able to work with either Netty 3 or 4? If not, why is the Netty 3 plugin transitively depended on, but the Netty 4 plugin not?\r\n\r\nThe broader context of us running into this is that we're trying to get Spring Data Elasticsearch examples run on JDK 11 and that fails due to an invalid manifest in Netty 3.10.6. So we're looking into options of how to get rid of that dependency. ","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}