[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/308646449","html_url":"https://github.com/elastic/elasticsearch/issues/25225#issuecomment-308646449","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25225","id":308646449,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODY0NjQ0OQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2017-06-15T06:58:56Z","updated_at":"2017-06-15T06:58:56Z","author_association":"MEMBER","body":"This is already supported:\r\n\r\n````\r\nPUT t\r\n{\r\n  \"mappings\": {\r\n    \"doc\": {\r\n      \"properties\": {\r\n        \"location\": {\r\n          \"type\": \"geo_point\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nPUT t/doc/1\r\n{\r\n  \"location\": [-75, 40]\r\n}\r\n\r\nPUT t/doc/2\r\n{\r\n  \"location\": [-75, 40]\r\n}\r\n\r\n# returns only doc 2\r\nGET t/_search\r\n{\r\n    \"sort\" : [\r\n        {\r\n            \"_geo_distance\" : {\r\n                \"location\" : [-70, 40],\r\n                \"order\" : \"asc\",\r\n                \"unit\" : \"km\",\r\n                \"mode\" : \"min\",\r\n                \"distance_type\" : \"arc\"\r\n            }\r\n        }\r\n    ],\r\n    \"search_after\": [0]\r\n}\r\n````","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/333975217","html_url":"https://github.com/elastic/elasticsearch/issues/25225#issuecomment-333975217","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25225","id":333975217,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzk3NTIxNw==","user":{"login":"vseryakov","id":1746546,"node_id":"MDQ6VXNlcjE3NDY1NDY=","avatar_url":"https://avatars0.githubusercontent.com/u/1746546?v=4","gravatar_id":"","url":"https://api.github.com/users/vseryakov","html_url":"https://github.com/vseryakov","followers_url":"https://api.github.com/users/vseryakov/followers","following_url":"https://api.github.com/users/vseryakov/following{/other_user}","gists_url":"https://api.github.com/users/vseryakov/gists{/gist_id}","starred_url":"https://api.github.com/users/vseryakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vseryakov/subscriptions","organizations_url":"https://api.github.com/users/vseryakov/orgs","repos_url":"https://api.github.com/users/vseryakov/repos","events_url":"https://api.github.com/users/vseryakov/events{/privacy}","received_events_url":"https://api.github.com/users/vseryakov/received_events","type":"User","site_admin":false},"created_at":"2017-10-03T20:54:07Z","updated_at":"2017-10-03T20:54:07Z","author_association":"NONE","body":"Gives an error: Comparator type [CUSTOM] for field [latlon] is not supported in 5.5 and 5.6, \r\n\r\nthe query is:\r\n\r\n{ query: { bool: { must: { query_string: { query: '(status:Ready)' } }, filter: { geo_distance: { distance: 5000, latlon: [ 150.98081635595673, -34.194085878589426 ] } } } }, sort: [ { _geo_distance: { latlon: [ 150.98081635595673, -34.194085878589426 ], order: 'asc', unit: 'm', distance_type: 'arc' } } ], size: 3, search_after: [0] }\r\n\r\nthe latlon field is type of geo_point\r\n ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/334433488","html_url":"https://github.com/elastic/elasticsearch/issues/25225#issuecomment-334433488","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25225","id":334433488,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDQzMzQ4OA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2017-10-05T11:08:17Z","updated_at":"2017-10-05T11:08:17Z","author_association":"MEMBER","body":"`search_after` fails when you set `unit` to `m` due to an internal optimization. Sorry I missed this case and thanks @vseryakov for spotting !\r\nI opened https://github.com/elastic/elasticsearch/pull/26891\r\n\r\n","performed_via_github_app":null}]