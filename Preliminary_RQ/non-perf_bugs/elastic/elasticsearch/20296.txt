{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/20296","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20296/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20296/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20296/events","html_url":"https://github.com/elastic/elasticsearch/issues/20296","id":174718882,"node_id":"MDU6SXNzdWUxNzQ3MTg4ODI=","number":20296,"title":"Can not start ec2 discovery on 5.0.0","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"labels":[{"id":151561891,"node_id":"MDU6TGFiZWwxNTE1NjE4OTE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Logging","name":":Core/Infra/Logging","color":"0e8a16","default":false,"description":"Log management and logging utilities"},{"id":160579278,"node_id":"MDU6TGFiZWwxNjA1NzkyNzg=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Discovery-Plugins","name":":Distributed/Discovery-Plugins","color":"0e8a16","default":false,"description":"Anything related to our integration plugins with EC2, GCP and Azure"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"assignees":[{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false}],"milestone":null,"comments":10,"created_at":"2016-09-02T09:34:26Z","updated_at":"2018-02-13T19:49:46Z","closed_at":"2016-09-02T15:28:07Z","author_association":"MEMBER","active_lock_reason":null,"body":"I'm testing ec2 discovery with alpha6-SNAPSHOT (e5ff3da) and I'm getting this error which seems to be related to LOG4J.\n\n```\n2016-09-02 09:31:36,200 main ERROR An exception occurred processing Appender console java.security.AccessControlException: access denied (\"java.lang.RuntimePermission\" \"accessClassInPackage.sun.nio.ch\")\n    at java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\n    at java.security.AccessController.checkPermission(AccessController.java:884)\n    at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\n    at java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1564)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:311)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at org.apache.logging.log4j.util.LoaderUtil.loadClass(LoaderUtil.java:122)\n    at org.apache.logging.log4j.core.util.Loader.loadClass(Loader.java:228)\n    at org.apache.logging.log4j.core.impl.ThrowableProxy.loadClass(ThrowableProxy.java:496)\n    at org.apache.logging.log4j.core.impl.ThrowableProxy.toExtendedStackTrace(ThrowableProxy.java:617)\n    at org.apache.logging.log4j.core.impl.ThrowableProxy.<init>(ThrowableProxy.java:163)\n    at org.apache.logging.log4j.core.impl.ThrowableProxy.<init>(ThrowableProxy.java:138)\n    at org.apache.logging.log4j.core.impl.ThrowableProxy.<init>(ThrowableProxy.java:117)\n    at org.apache.logging.log4j.core.impl.MutableLogEvent.getThrownProxy(MutableLogEvent.java:314)\n    at org.apache.logging.log4j.core.pattern.ExtendedThrowablePatternConverter.format(ExtendedThrowablePatternConverter.java:61)\n    at org.apache.logging.log4j.core.pattern.PatternFormatter.format(PatternFormatter.java:38)\n    at org.apache.logging.log4j.core.layout.PatternLayout$PatternSerializer.toSerializable(PatternLayout.java:294)\n    at org.apache.logging.log4j.core.layout.PatternLayout.toText(PatternLayout.java:195)\n    at org.apache.logging.log4j.core.layout.PatternLayout.encode(PatternLayout.java:180)\n    at org.apache.logging.log4j.core.layout.PatternLayout.encode(PatternLayout.java:57)\n    at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.directEncodeEvent(AbstractOutputStreamAppender.java:120)\n    at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.tryAppend(AbstractOutputStreamAppender.java:113)\n    at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.append(AbstractOutputStreamAppender.java:104)\n    at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:155)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:128)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:119)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:84)\n    at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:390)\n    at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:375)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:359)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:349)\n    at org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:63)\n    at org.apache.logging.log4j.core.Logger.logMessage(Logger.java:146)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:1988)\n    at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1960)\n    at org.apache.logging.log4j.spi.AbstractLogger.error(AbstractLogger.java:733)\n    at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:281)\n    at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:100)\n    at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:95)\n    at org.elasticsearch.cli.SettingCommand.execute(SettingCommand.java:54)\n    at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:88)\n    at org.elasticsearch.cli.Command.main(Command.java:54)\n    at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:74)\n    at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:67)\n```\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}