{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/35840","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35840/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35840/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35840/events","html_url":"https://github.com/elastic/elasticsearch/issues/35840","id":383671620,"node_id":"MDU6SXNzdWUzODM2NzE2MjA=","number":35840,"title":"Invalid order of tasks when sort by column running_time in /_cat/tasks","user":{"login":"krzotr","id":655681,"node_id":"MDQ6VXNlcjY1NTY4MQ==","avatar_url":"https://avatars0.githubusercontent.com/u/655681?v=4","gravatar_id":"","url":"https://api.github.com/users/krzotr","html_url":"https://github.com/krzotr","followers_url":"https://api.github.com/users/krzotr/followers","following_url":"https://api.github.com/users/krzotr/following{/other_user}","gists_url":"https://api.github.com/users/krzotr/gists{/gist_id}","starred_url":"https://api.github.com/users/krzotr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/krzotr/subscriptions","organizations_url":"https://api.github.com/users/krzotr/orgs","repos_url":"https://api.github.com/users/krzotr/repos","events_url":"https://api.github.com/users/krzotr/events{/privacy}","received_events_url":"https://api.github.com/users/krzotr/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-11-22T23:21:31Z","updated_at":"2018-11-23T03:40:36Z","closed_at":"2018-11-23T03:38:56Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version**:\r\n6.5.1\r\n\r\n**JVM version**\r\n1.8.0\r\n\r\n**OS version**\r\nDebian 9 (Linux debian 4.9.0-8-amd64)\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nI tried to sort all Elasticsearch tasks from longest running time to shortest `/_cat/tasks?v&s=running_time:desc`. Please check below column `running_time`.\r\n\r\n```\r\nGET /_cat/tasks?v&s=running_time:desc\r\n\r\naction                         task_id                      parent_task_id               type      start_time    timestamp running_time ip           node\r\ncluster:monitor/tasks/lists[n] 6t3Zvq1-Qni0yV3LF3JWog:34915 6t3Zvq1-Qni0yV3LF3JWog:34914 direct    1542927706982 23:01:46  71.5micros   192.168.1.27 6t3Zvq1\r\ncluster:monitor/tasks/lists    6t3Zvq1-Qni0yV3LF3JWog:34914 -                            transport 1542927706982 23:01:46  223.7micros  192.168.1.27 6t3Zvq1\r\nindices:data/write/index       6t3Zvq1-Qni0yV3LF3JWog:34911 -                            transport 1542927706980 23:01:46  1.4ms        192.168.1.27 6t3Zvq1\r\nindices:data/write/bulk[s]     6t3Zvq1-Qni0yV3LF3JWog:34912 6t3Zvq1-Qni0yV3LF3JWog:34911 transport 1542927706981 23:01:46  1.3ms        192.168.1.27 6t3Zvq1\r\nindices:data/write/bulk[s][p]  6t3Zvq1-Qni0yV3LF3JWog:34913 6t3Zvq1-Qni0yV3LF3JWog:34912 direct    1542927706981 23:01:46  1.2ms        192.168.1.27 6t3Zvq1\r\n```\r\n\r\nAs i mentioned before, longest to shortest `running_time`, `1ms` > `7micros`.\r\n\r\nReceived order of tasks is wrong: 71.5micros, 223.7micros, 1.4ms, 1.3ms, 1.2ms\r\n\r\nExpected result: 1.4ms, 1.3ms, 1.2ms, 223.7micros, 71.5micros\r\n\r\nI have tested in production environment `5.6.12` and see the same wrong order.\r\n\r\n**Steps to reproduce**:\r\n\r\n 1. Go to `/_cat/tasks?v&s=running_time:desc`\r\n 2. check order of tasks (column `running_time`)","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}