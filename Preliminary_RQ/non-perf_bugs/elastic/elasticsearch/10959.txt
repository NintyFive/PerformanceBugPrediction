{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/10959","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10959/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10959/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10959/events","html_url":"https://github.com/elastic/elasticsearch/issues/10959","id":73062745,"node_id":"MDU6SXNzdWU3MzA2Mjc0NQ==","number":10959,"title":"Eliminate APIs that depend on local files","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"labels":[{"id":144457604,"node_id":"MDU6TGFiZWwxNDQ0NTc2MDQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Settings","name":":Core/Infra/Settings","color":"0e8a16","default":false,"description":"Settings infrastructure and APIs"},{"id":158399402,"node_id":"MDU6TGFiZWwxNTgzOTk0MDI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Meta","name":"Meta","color":"e11d21","default":false,"description":null},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2015-05-04T16:16:55Z","updated_at":"2018-03-14T08:49:24Z","closed_at":"2018-03-14T08:49:24Z","author_association":"MEMBER","active_lock_reason":null,"body":"We have a number of APIs that rely on the user placing files on every node. For example:\n- File scripts must exist in the scripts dir on every node\n- Some analyzer filters allow to specify their settings in local files, like a stopwords list or synonyms rules\n\nRequiring to place a file on every node is error prone, and this issue is to discuss how we can lock down all APIs like this, and track the effort.\n\nLast year, we added \"indexed scripts\", which is a special `.script` index that exists on every node. The index is very simple: it just stores the contents of the script, and can be looked up by the \"document\" id. I wonder if we could generalize this to a \"resources\" index, which could have scripts, token filter setup, and anything else we might need in the future.  Even plugins could be forced to use this, so we could remove the ability for plugins to read from local disk altogether? As far as security, I think the resources index should have the ability to be \"locked\" (metadata block?), which is essentially the same as disabling updating for indexed scripts today.\n","closed_by":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"performed_via_github_app":null}