{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/42532","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42532/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42532/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42532/events","html_url":"https://github.com/elastic/elasticsearch/issues/42532","id":448248081,"node_id":"MDU6SXNzdWU0NDgyNDgwODE=","number":42532,"title":"NoClassDefFoundError: io/netty/util/concurrent/PromiseTask","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"labels":[{"id":106454670,"node_id":"MDU6TGFiZWwxMDY0NTQ2NzA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Build","name":":Delivery/Build","color":"0e8a16","default":false,"description":"Build or test infrastructure"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"}],"state":"closed","locked":false,"assignee":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"assignees":[{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false}],"milestone":null,"comments":21,"created_at":"2019-05-24T16:10:26Z","updated_at":"2020-11-11T21:48:55Z","closed_at":"2019-06-10T17:31:38Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"[This PR build](https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+pull-request-1/14658) failed with a deeply mysterious fatal error during node startup:\r\n\r\n```\r\n  [2019-05-24T15:53:17,531][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [integTest-0] fatal error in thread [main], exiting\r\n  java.lang.NoClassDefFoundError: io/netty/util/concurrent/PromiseTask\r\n  \tat java.lang.ClassLoader.defineClass1(Native Method) ~[?:?]\r\n  \tat java.lang.ClassLoader.defineClass(ClassLoader.java:1016) ~[?:?]\r\n  \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174) ~[?:?]\r\n  \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:550) ~[?:?]\r\n  \tat java.net.URLClassLoader$1.run(URLClassLoader.java:458) ~[?:?]\r\n  \tat java.net.URLClassLoader$1.run(URLClassLoader.java:452) ~[?:?]\r\n  \tat java.security.AccessController.doPrivileged(Native Method) ~[?:?]\r\n  \tat java.net.URLClassLoader.findClass(URLClassLoader.java:451) ~[?:?]\r\n  \tat java.lang.ClassLoader.loadClass(ClassLoader.java:588) ~[?:?]\r\n  \tat java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:899) ~[?:?]\r\n  \tat java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[?:?]\r\n  \tat io.netty.util.concurrent.GlobalEventExecutor.<init>(GlobalEventExecutor.java:47) ~[?:?]\r\n  \tat io.netty.util.concurrent.GlobalEventExecutor.<clinit>(GlobalEventExecutor.java:44) ~[?:?]\r\n  \tat io.netty.util.concurrent.MultithreadEventExecutorGroup.<init>(MultithreadEventExecutorGroup.java:36) ~[?:?]\r\n  \tat io.netty.util.concurrent.MultithreadEventExecutorGroup.<init>(MultithreadEventExecutorGroup.java:58) ~[?:?]\r\n  \tat io.netty.util.concurrent.MultithreadEventExecutorGroup.<init>(MultithreadEventExecutorGroup.java:47) ~[?:?]\r\n  \tat io.netty.channel.MultithreadEventLoopGroup.<init>(MultithreadEventLoopGroup.java:59) ~[?:?]\r\n  \tat io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:77) ~[?:?]\r\n  \tat io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:72) ~[?:?]\r\n  \tat io.netty.channel.nio.NioEventLoopGroup.<init>(NioEventLoopGroup.java:59) ~[?:?]\r\n  \tat org.elasticsearch.transport.netty4.Netty4Transport.doStart(Netty4Transport.java:131) ~[?:?]\r\n  \tat org.elasticsearch.common.component.AbstractLifecycleComponent.start(AbstractLifecycleComponent.java:59) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  \tat org.elasticsearch.transport.TransportService.doStart(TransportService.java:228) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  \tat org.elasticsearch.common.component.AbstractLifecycleComponent.start(AbstractLifecycleComponent.java:59) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  \tat org.elasticsearch.node.Node.start(Node.java:682) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  \tat org.elasticsearch.bootstrap.Bootstrap.start(Bootstrap.java:271) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  \tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:348) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  \tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  \tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:150) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  \tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  \tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) ~[elasticsearch-cli-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  \tat org.elasticsearch.cli.Command.main(Command.java:90) ~[elasticsearch-cli-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  \tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:115) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  \tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  Caused by: java.lang.ClassNotFoundException: io.netty.util.concurrent.PromiseTask\r\n  \tat java.net.URLClassLoader$1.run(URLClassLoader.java:460) ~[?:?]\r\n  \tat java.net.URLClassLoader$1.run(URLClassLoader.java:452) ~[?:?]\r\n  \tat java.security.AccessController.doPrivileged(Native Method) ~[?:?]\r\n  \tat java.net.URLClassLoader.findClass(URLClassLoader.java:451) ~[?:?]\r\n  \tat java.lang.ClassLoader.loadClass(ClassLoader.java:588) ~[?:?]\r\n  \tat java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:899) ~[?:?]\r\n  \tat java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[?:?]\r\n  \t... 34 more\r\n  Caused by: java.io.EOFException\r\n  \tat java.io.RandomAccessFile.readFully(RandomAccessFile.java:472) ~[?:?]\r\n  \tat java.util.zip.ZipFile$Source.readFullyAt(ZipFile.java:1304) ~[?:?]\r\n  \tat java.util.zip.ZipFile$ZipFileInputStream.initDataOffset(ZipFile.java:998) ~[?:?]\r\n  \tat java.util.zip.ZipFile$ZipFileInputStream.read(ZipFile.java:1013) ~[?:?]\r\n  \tat java.util.zip.ZipFile$ZipFileInflaterInputStream.fill(ZipFile.java:468) ~[?:?]\r\n  \tat java.util.zip.InflaterInputStream.read(InflaterInputStream.java:159) ~[?:?]\r\n  \tat jdk.internal.loader.Resource.getBytes(Resource.java:124) ~[?:?]\r\n  \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:545) ~[?:?]\r\n  \tat java.net.URLClassLoader$1.run(URLClassLoader.java:458) ~[?:?]\r\n  \tat java.net.URLClassLoader$1.run(URLClassLoader.java:452) ~[?:?]\r\n  \tat java.security.AccessController.doPrivileged(Native Method) ~[?:?]\r\n  \tat java.net.URLClassLoader.findClass(URLClassLoader.java:451) ~[?:?]\r\n  \tat java.lang.ClassLoader.loadClass(ClassLoader.java:588) ~[?:?]\r\n  \tat java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:899) ~[?:?]\r\n  \tat java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[?:?]\r\n  \t... 34 more\r\n  [2019-05-24T15:53:17,532][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [integTest-0] uncaught exception in thread [elasticsearch[integTest-0][generic][T#1]]\r\n  java.lang.NullPointerException: null\r\n  \tat org.elasticsearch.transport.netty4.Netty4Transport.lambda$stopInternal$2(Netty4Transport.java:255) ~[?:?]\r\n  \tat org.elasticsearch.core.internal.io.IOUtils.close(IOUtils.java:103) ~[elasticsearch-core-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  \tat org.elasticsearch.core.internal.io.IOUtils.close(IOUtils.java:85) ~[elasticsearch-core-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  \tat org.elasticsearch.common.lease.Releasables.close(Releasables.java:36) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  \tat org.elasticsearch.common.lease.Releasables.close(Releasables.java:46) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  \tat org.elasticsearch.common.lease.Releasables.close(Releasables.java:51) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  \tat org.elasticsearch.transport.netty4.Netty4Transport.stopInternal(Netty4Transport.java:254) ~[?:?]\r\n  \tat org.elasticsearch.transport.TcpTransport.lambda$doStop$15(TcpTransport.java:564) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  \tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:687) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]\r\n  \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n  \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n  \tat java.lang.Thread.run(Thread.java:834) [?:?]\r\n```\r\n\r\nBuild scan: https://scans.gradle.com/s/ferny2m2wcgho\r\n\r\n","closed_by":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"performed_via_github_app":null}