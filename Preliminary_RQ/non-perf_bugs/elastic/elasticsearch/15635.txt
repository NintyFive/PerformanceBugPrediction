{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/15635","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15635/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15635/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15635/events","html_url":"https://github.com/elastic/elasticsearch/issues/15635","id":123691293,"node_id":"MDU6SXNzdWUxMjM2OTEyOTM=","number":15635,"title":"Configuration failed caused by jar hell","user":{"login":"Glecun","id":7093472,"node_id":"MDQ6VXNlcjcwOTM0NzI=","avatar_url":"https://avatars3.githubusercontent.com/u/7093472?v=4","gravatar_id":"","url":"https://api.github.com/users/Glecun","html_url":"https://github.com/Glecun","followers_url":"https://api.github.com/users/Glecun/followers","following_url":"https://api.github.com/users/Glecun/following{/other_user}","gists_url":"https://api.github.com/users/Glecun/gists{/gist_id}","starred_url":"https://api.github.com/users/Glecun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Glecun/subscriptions","organizations_url":"https://api.github.com/users/Glecun/orgs","repos_url":"https://api.github.com/users/Glecun/repos","events_url":"https://api.github.com/users/Glecun/events{/privacy}","received_events_url":"https://api.github.com/users/Glecun/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-12-23T16:56:09Z","updated_at":"2015-12-23T17:12:42Z","closed_at":"2015-12-23T17:12:42Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\n\nSorry for my english i'm french...\n\nI'm using the java api.\n\nI was using elasticsearch 1.7 and now I'm trying to update my version to elasticsearch 2.1. It works well until i have to set the 'path.home' for my Node client in my application.\n\nSo I did something like this:\n\n```\n        node   = nodeBuilder().settings(Settings.builder()\n                                            .put(\"path.home\", \"C:\\\\path\\\\to\\\\elasticsearch-2.1.0\\\\\")\n                                            .put(\"cluster.name\", \"hotline\")\n                                            .put(\"node.data\", \"false\")\n                                            .put(\"node.master\", \"false\")\n                                            .put(\"node.name\", \"Soldat\"))                                        \n                                            .node();\n```\n\nBut when I run the tomcat i have got this error:\n\n```\nGRAVE: Critical error during deployment: \ncom.sun.faces.config.ConfigurationException: CONFIGURATION FAILED! failed to load bundle [file:/C:/Users/fr115484/Desktop/elasticsearch-2.1.0/plugins/license/license-2.1.0.jar, file:/C:/Users/fr115484/Desktop/elasticsearch-2.1.0/plugins/license/license-core-2.1.0.jar, file:/C:/Users/fr115484/Desktop/elasticsearch-2.1.0/plugins/license/license-plugin-api-2.1.0.jar, file:/C:/Users/fr115484/Desktop/elasticsearch-2.1.0/plugins/marvel-agent/marvel-agent-2.1.0.jar] due to jar hell\n    at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:375)\n    at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:225)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4992)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5490)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1575)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1565)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.IllegalStateException: failed to load bundle [file:/C:/Users/fr115484/Desktop/elasticsearch-2.1.0/plugins/license/license-2.1.0.jar, file:/C:/Users/fr115484/Desktop/elasticsearch-2.1.0/plugins/license/license-core-2.1.0.jar, file:/C:/Users/fr115484/Desktop/elasticsearch-2.1.0/plugins/license/license-plugin-api-2.1.0.jar, file:/C:/Users/fr115484/Desktop/elasticsearch-2.1.0/plugins/marvel-agent/marvel-agent-2.1.0.jar] due to jar hell\n    at org.elasticsearch.plugins.PluginsService.loadBundles(PluginsService.java:338)\n    at org.elasticsearch.plugins.PluginsService.<init>(PluginsService.java:109)\n    at org.elasticsearch.node.Node.<init>(Node.java:148)\n    at org.elasticsearch.node.Node.<init>(Node.java:129)\n    at org.elasticsearch.node.NodeBuilder.build(NodeBuilder.java:145)\n    at org.elasticsearch.node.NodeBuilder.node(NodeBuilder.java:152)\n    at com.foncia.hotlinemyfoncia.service.ClientProvider.prepareClient(ClientProvider.java:44)\n    at com.foncia.hotlinemyfoncia.util.ElasticSearchSystemEventListener.processEvent(ElasticSearchSystemEventListener.java:32)\n    at javax.faces.event.SystemEvent.processListener(SystemEvent.java:106)\n    at com.sun.faces.application.ApplicationImpl.processListeners(ApplicationImpl.java:2168)\n    at com.sun.faces.application.ApplicationImpl.invokeListenersFor(ApplicationImpl.java:2144)\n    at com.sun.faces.application.ApplicationImpl.publishEvent(ApplicationImpl.java:302)\n    at com.sun.faces.config.ConfigManager.publishPostConfigEvent(ConfigManager.java:600)\n    at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:369)\n    ... 10 more\nCaused by: java.lang.IllegalStateException: jar hell!\nclass: org.apache.catalina.loader.StandardClassLoader\njar1: C:\\dev\\apache-tomcat-7.0.55\\bin\\bootstrap.jar\njar2: C:\\dev\\bin\\bootstrap.jar\n    at org.elasticsearch.bootstrap.JarHell.checkClass(JarHell.java:280)\n    at org.elasticsearch.bootstrap.JarHell.checkJarHell(JarHell.java:186)\n    at org.elasticsearch.plugins.PluginsService.loadBundles(PluginsService.java:336)\n    ... 23 more\n```\n\nI think he cannot load the plugins but actually I don't need any plugin for my Node Client...\n\nPlease how can I correct that ?\n\nThanks\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}