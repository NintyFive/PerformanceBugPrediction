[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/435336430","html_url":"https://github.com/elastic/elasticsearch/issues/35196#issuecomment-435336430","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35196","id":435336430,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTMzNjQzMA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-11-02T10:30:55Z","updated_at":"2018-11-02T10:30:55Z","author_association":"COLLABORATOR","body":"Pinging @elastic/ml-core","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/435834487","html_url":"https://github.com/elastic/elasticsearch/issues/35196#issuecomment-435834487","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35196","id":435834487,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTgzNDQ4Nw==","user":{"login":"davidkyle","id":2353640,"node_id":"MDQ6VXNlcjIzNTM2NDA=","avatar_url":"https://avatars1.githubusercontent.com/u/2353640?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkyle","html_url":"https://github.com/davidkyle","followers_url":"https://api.github.com/users/davidkyle/followers","following_url":"https://api.github.com/users/davidkyle/following{/other_user}","gists_url":"https://api.github.com/users/davidkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkyle/subscriptions","organizations_url":"https://api.github.com/users/davidkyle/orgs","repos_url":"https://api.github.com/users/davidkyle/repos","events_url":"https://api.github.com/users/davidkyle/events{/privacy}","received_events_url":"https://api.github.com/users/davidkyle/received_events","type":"User","site_admin":false},"created_at":"2018-11-05T10:56:57Z","updated_at":"2018-11-05T10:56:57Z","author_association":"MEMBER","body":"Researching this I came across the term 'benign error message' which should be an oxymoron but is a thing. \r\n\r\nFrom the microsoft [docs](https://msdn.microsoft.com/en-us/library/aa365146.aspx) \r\n\r\n`\r\nConnectNamedPipe returns zero, and GetLastError returns ERROR_NO_DATA if the previous client has closed its handle...\r\n`\r\n\r\nIn this case the error comes from the server side. The client connected to the server wrote a message then closed its connection before the server had chance to read the message. The client connection is [closed]( https://github.com/elastic/elasticsearch/blob/28d12b05b77472d0596df319d7129cea3ba9154a/x-pack/plugin/ml/qa/no-bootstrap-tests/src/test/java/org/elasticsearch/xpack/ml/utils/NamedPipeHelperNoBootstrapTests.java#L327) before the server thread joins hence the race. The test fails very rarely. \r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/435841204","html_url":"https://github.com/elastic/elasticsearch/issues/35196#issuecomment-435841204","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35196","id":435841204,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTg0MTIwNA==","user":{"login":"davidkyle","id":2353640,"node_id":"MDQ6VXNlcjIzNTM2NDA=","avatar_url":"https://avatars1.githubusercontent.com/u/2353640?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkyle","html_url":"https://github.com/davidkyle","followers_url":"https://api.github.com/users/davidkyle/followers","following_url":"https://api.github.com/users/davidkyle/following{/other_user}","gists_url":"https://api.github.com/users/davidkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkyle/subscriptions","organizations_url":"https://api.github.com/users/davidkyle/orgs","repos_url":"https://api.github.com/users/davidkyle/repos","events_url":"https://api.github.com/users/davidkyle/events{/privacy}","received_events_url":"https://api.github.com/users/davidkyle/received_events","type":"User","site_admin":false},"created_at":"2018-11-05T11:23:48Z","updated_at":"2018-11-05T11:23:48Z","author_association":"MEMBER","body":"Given that the test has not failed in the last 12 months I added a [comment](https://github.com/elastic/elasticsearch/commit/85f8458f0641554cdc4f85bbba4f465f70529031) to the code describing possible failure scenarios. If the failure repeats the test should be re-worked.\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/435848147","html_url":"https://github.com/elastic/elasticsearch/issues/35196#issuecomment-435848147","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35196","id":435848147,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTg0ODE0Nw==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2018-11-05T11:51:17Z","updated_at":"2018-11-05T11:51:17Z","author_association":"CONTRIBUTOR","body":"The production code doesn't contain anything specific to handle this case, so I was wondering if the production code could also suffer from this.\r\n\r\nI think the answer is that it can't (except in the case of some other major error), because we connect the output of the native process after connecting the input, and the Java side won't do anything with either of the pipes until all are connected.  So in the event of the input pipe in the C++ process being closed by the Java in between creating and connecting the pipe, it would be because of some major event like the whole JVM being shut down, and in this situation it would be reasonable for the C++ to consider it a fatal error.","performed_via_github_app":null}]