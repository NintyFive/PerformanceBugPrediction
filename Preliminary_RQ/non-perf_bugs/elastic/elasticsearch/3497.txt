{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/3497","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3497/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3497/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3497/events","html_url":"https://github.com/elastic/elasticsearch/issues/3497","id":18000354,"node_id":"MDU6SXNzdWUxODAwMDM1NA==","number":3497,"title":"Cannot index JSON formatted as JSONML","user":{"login":"kefo","id":613377,"node_id":"MDQ6VXNlcjYxMzM3Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/613377?v=4","gravatar_id":"","url":"https://api.github.com/users/kefo","html_url":"https://github.com/kefo","followers_url":"https://api.github.com/users/kefo/followers","following_url":"https://api.github.com/users/kefo/following{/other_user}","gists_url":"https://api.github.com/users/kefo/gists{/gist_id}","starred_url":"https://api.github.com/users/kefo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kefo/subscriptions","organizations_url":"https://api.github.com/users/kefo/orgs","repos_url":"https://api.github.com/users/kefo/repos","events_url":"https://api.github.com/users/kefo/events{/privacy}","received_events_url":"https://api.github.com/users/kefo/received_events","type":"User","site_admin":false},"labels":[{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2013-08-13T14:47:24Z","updated_at":"2014-08-08T14:16:42Z","closed_at":"2014-08-08T14:16:42Z","author_association":"NONE","active_lock_reason":null,"body":"I get an error on ES 0.90.1 when trying to load/index JSON formatted as [JSONML](http://www.jsonml.org/).\n\n``` bash\n curl -XPUT 'http://localhost:9200/default/resource/2' -d '{ \n   \"data\":[\n      \"ul\",\n      [\n         \"li\",\n         {\n            \"style\":\"color:red\"\n         },\n         \"First Item\"\n      ],\n      [\n         \"li\",\n         {\n            \"title\":\"Some hover text.\",\n            \"style\":\"color:green\"\n         },\n         \"Second Item\"\n      ],\n      [\n         \"li\",\n         [\n            \"span\",\n            {\n               \"class\":\"code-example-third\"\n            },\n            \"Third\"\n         ],\n         \" Item\"\n      ]\n   ]\n}'\n```\n\nOutput:\n\n``` bash\n{\"error\":\"MapperParsingException[failed to parse [data]]; nested: ElasticSearchIllegalArgumentException[unknown property [style]]; \",\"status\":400}\n```\n\nThe JSON comes directly from the JSONML website cited above.\n\nI've narrowed this error down to the above, so this is but an example that raises the error.  My actual data has a few more properties to it.  Nevertheless, the PUT fails, however, with the JSONML.  \n\nTesting workarounds, I've also modified the PUT data so that the JSONML is effectively an object ( { \"data\": { \"jsonml\": [...] } } ) and then created a mapping instruction that set the \"data\" object to enabled=false.  Same error.\n\nI was under the impression that ES could handle any properly formatted JSON.  \n\nIs this expected behavior?  \n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}