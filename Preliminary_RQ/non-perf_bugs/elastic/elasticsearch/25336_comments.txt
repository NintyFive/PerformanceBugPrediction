[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/310141692","html_url":"https://github.com/elastic/elasticsearch/issues/25336#issuecomment-310141692","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25336","id":310141692,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDE0MTY5Mg==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2017-06-21T16:59:21Z","updated_at":"2017-06-21T16:59:21Z","author_association":"MEMBER","body":"+1, I think 3 nodes is a good way to test, it may shake out things that we don't see with primary promotion (such as things similar to #25277)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/310667325","html_url":"https://github.com/elastic/elasticsearch/issues/25336#issuecomment-310667325","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25336","id":310667325,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDY2NzMyNQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2017-06-23T13:37:05Z","updated_at":"2017-06-23T13:37:11Z","author_association":"MEMBER","body":"Discussed in FixitFriday, sound like a good idea in general but we want to get @rjernst opinion about this too since it touches on build issues as well.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/311150603","html_url":"https://github.com/elastic/elasticsearch/issues/25336#issuecomment-311150603","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25336","id":311150603,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTE1MDYwMw==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2017-06-26T18:57:48Z","updated_at":"2017-06-26T18:57:48Z","author_association":"MEMBER","body":"I don't think a bwc integration test is the place to find issues. We won't have randomization here, and the intent of these tests is to directly test _integration_ of components in the system with how they behave in a backward compatible way. Testing internal behavior of how the system operates should be done with unit tests IMO.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/311411204","html_url":"https://github.com/elastic/elasticsearch/issues/25336#issuecomment-311411204","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25336","id":311411204,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTQxMTIwNA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2017-06-27T16:25:12Z","updated_at":"2017-06-27T16:25:12Z","author_association":"MEMBER","body":"I chatted with @ywelsch and we came to an agreement. I am ok with modifying the the rolling restart test to use 3 nodes, under the premise that a user doing a rolling restart with 2 nodes is not realistic, and the entire point of these tests is to be \"representative\" of a basic user. With 3 nodes, it also makes sense to have an index with both 1 and 2 replicas test through the rolling restart. What I would like to _not_ see is any test mentioning \"primary failover\" or anything like that. And if we ever catch something at this level, a unit test should be added, as finding issues with the rolling restart tests is a last resort.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/383869161","html_url":"https://github.com/elastic/elasticsearch/issues/25336#issuecomment-383869161","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25336","id":383869161,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mzg2OTE2MQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-04-24T09:38:20Z","updated_at":"2018-04-24T09:38:20Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/383880557","html_url":"https://github.com/elastic/elasticsearch/issues/25336#issuecomment-383880557","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25336","id":383880557,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mzg4MDU1Nw==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2018-04-24T10:17:55Z","updated_at":"2018-04-24T10:17:55Z","author_association":"MEMBER","body":"@ywelsch I presume we still want to do this (the test still uses 2 nodes as far as I can tell). I vaguely remember you trying and it ended up being more difficult, but I'm not sure. If that's true, can you share your experiences? Otherwise it might be a good opportunity for @vladimirdolzhenko do learn the qa tests universe.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/383911785","html_url":"https://github.com/elastic/elasticsearch/issues/25336#issuecomment-383911785","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25336","id":383911785,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzkxMTc4NQ==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2018-04-24T12:27:22Z","updated_at":"2018-04-24T12:27:22Z","author_association":"CONTRIBUTOR","body":"The tricky bit is to make the Gradle changes. Setting this up for a 2 node cluster is already tricky, see https://github.com/elastic/elasticsearch/blob/master/qa/rolling-upgrade/build.gradle\r\nDoing it for a 3 node cluster is even harder as it requires more state transitions, which are tricky to model with Gradle dependencies and easy to get wrong (and very hard to debug). Unless @vladimirdolzhenko wants to become a Gradle expert, I don't recommend this as a ramp-up task.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/394636643","html_url":"https://github.com/elastic/elasticsearch/issues/25336#issuecomment-394636643","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25336","id":394636643,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDYzNjY0Mw==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2018-06-05T09:04:23Z","updated_at":"2018-06-05T09:04:23Z","author_association":"CONTRIBUTOR","body":"I'm reopening this issue as #30728 only fixed this for OSS Elasticsearch. The x-pack rolling upgrade tests under `x-pack/qa` still use 2 nodes.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/394636786","html_url":"https://github.com/elastic/elasticsearch/issues/25336#issuecomment-394636786","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25336","id":394636786,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDYzNjc4Ng==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-06-05T09:04:51Z","updated_at":"2018-06-05T09:04:51Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/394674178","html_url":"https://github.com/elastic/elasticsearch/issues/25336#issuecomment-394674178","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25336","id":394674178,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDY3NDE3OA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-06-05T11:24:55Z","updated_at":"2018-06-05T11:24:55Z","author_association":"CONTRIBUTOR","body":"Ah, yes the with security rolling upgrade tests. I can take a look at that\ntoday. We get quite a bit of coverage by running the oss tests with the\ndefault distribution but this will cover more xpack apis and covers the pre\n6.3 xpack to post 6.3 xpack upgrade.\n\nOn Tue, Jun 5, 2018, 5:04 AM Elastic Machine <notifications@github.com>\nwrote:\n\n> Pinging @elastic/es-core-infra\n> <https://github.com/orgs/elastic/teams/es-core-infra>\n>\n> —\n> You are receiving this because you modified the open/close state.\n>\n>\n> Reply to this email directly, view it on GitHub\n> <https://github.com/elastic/elasticsearch/issues/25336#issuecomment-394636786>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AANLopANrskDniGJdq-YaxvIzlDqKAsbks5t5km5gaJpZM4OBHK0>\n> .\n>\n","performed_via_github_app":null}]