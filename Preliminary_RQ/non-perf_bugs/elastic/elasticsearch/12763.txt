{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/12763","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12763/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12763/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12763/events","html_url":"https://github.com/elastic/elasticsearch/issues/12763","id":100010872,"node_id":"MDU6SXNzdWUxMDAwMTA4NzI=","number":12763,"title":"cluster.blocks.read_only set as a persistent setting","user":{"login":"magnusbaeck","id":9032797,"node_id":"MDQ6VXNlcjkwMzI3OTc=","avatar_url":"https://avatars0.githubusercontent.com/u/9032797?v=4","gravatar_id":"","url":"https://api.github.com/users/magnusbaeck","html_url":"https://github.com/magnusbaeck","followers_url":"https://api.github.com/users/magnusbaeck/followers","following_url":"https://api.github.com/users/magnusbaeck/following{/other_user}","gists_url":"https://api.github.com/users/magnusbaeck/gists{/gist_id}","starred_url":"https://api.github.com/users/magnusbaeck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magnusbaeck/subscriptions","organizations_url":"https://api.github.com/users/magnusbaeck/orgs","repos_url":"https://api.github.com/users/magnusbaeck/repos","events_url":"https://api.github.com/users/magnusbaeck/events{/privacy}","received_events_url":"https://api.github.com/users/magnusbaeck/received_events","type":"User","site_admin":false},"labels":[{"id":144457604,"node_id":"MDU6TGFiZWwxNDQ0NTc2MDQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Settings","name":":Core/Infra/Settings","color":"0e8a16","default":false,"description":"Settings infrastructure and APIs"},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-08-10T08:49:44Z","updated_at":"2016-01-26T18:34:49Z","closed_at":"2016-01-26T18:34:49Z","author_association":"NONE","active_lock_reason":null,"body":"If you manage to set cluster.blocks.read_only=true as a persistent cluster setting it seems you get into a catch-22 since the cluster won't allow you to disable the setting when it's in read-only mode. I was eventually able to get out of it after a full cluster restart.\n\nThis raises a few questions:\n- Should cluster.blocks.read_only even be settable as a persistent setting?\n- If yes, how are you supposed to disable it?\n- Regardless, can we improve [the documentation](https://www.elastic.co/guide/en/elasticsearch/reference/1.6/cluster-update-settings.html#_metadata) to make the intended semantics clear? Right now it easily gives the impression that among metadata operations it's only index creation and deletion that's blocked which clearly isn't true.\n\nI initially raised this at https://discuss.elastic.co/t/recovering-from-cluster-blocks-read-only-true-in-dynamic-settings and additional details can be found there.\n\nThis was on ES 1.7.1.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}