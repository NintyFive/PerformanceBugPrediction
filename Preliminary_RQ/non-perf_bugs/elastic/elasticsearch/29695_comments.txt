[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384129042","html_url":"https://github.com/elastic/elasticsearch/issues/29695#issuecomment-384129042","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29695","id":384129042,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEyOTA0Mg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T17:19:13Z","updated_at":"2018-04-25T01:14:03Z","author_association":"COLLABORATOR","body":"*Original comment by @rmuir:*\n\nThere can be serious performance issues with java 8. The intrinsics are only being added to java 9.\n\nWithout the improved support, the performance is so bad that its essentially unusable. We are talking about bandwidth in KB/s or single MB/s even with large blocksizes.\n\nSee LINK REDACTED for more information.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384129043","html_url":"https://github.com/elastic/elasticsearch/issues/29695#issuecomment-384129043","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29695","id":384129043,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEyOTA0Mw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T17:19:13Z","updated_at":"2018-04-25T01:14:04Z","author_association":"COLLABORATOR","body":"*Original comment by @jaymode:*\n\nThanks @rmuir for pointing that out. I incorrectly thought the Ghash intrinsics had been backported, but they have not LINK REDACTED Given that we should wait until we require JDK 9\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384129044","html_url":"https://github.com/elastic/elasticsearch/issues/29695#issuecomment-384129044","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29695","id":384129044,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEyOTA0NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T17:19:14Z","updated_at":"2018-04-25T01:14:04Z","author_association":"COLLABORATOR","body":"*Original comment by @rmuir:*\n\nYeah and we should keep an eye on stuff like LINK REDACTED ... the intrinsics currently sit broken on skylake for months with low priority...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384129045","html_url":"https://github.com/elastic/elasticsearch/issues/29695#issuecomment-384129045","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29695","id":384129045,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEyOTA0NQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T17:19:14Z","updated_at":"2018-04-25T01:14:04Z","author_association":"COLLABORATOR","body":"*Original comment by @rmuir:*\n\nLooks like java 9 will get delayed 6 months, we may want to rethink this one. \n\nAn intermediate solution is to see if the current speed is usable on java 8 update 60 and above (see LINK REDACTED). If we can ensure we use large block size, the combination may be reasonable.\n\nStill, I am not sure about about defaults, we would want to maybe check the jvm version or something? cc @jasontedor \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384129046","html_url":"https://github.com/elastic/elasticsearch/issues/29695#issuecomment-384129046","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29695","id":384129046,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEyOTA0Ng==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-02-26T23:09:24Z","updated_at":"2018-04-25T01:14:04Z","author_association":"COLLABORATOR","body":"*Original comment by @bizybot:*\n\nBoth issues that were stalling the progress, have been resolved.\r\nLINK REDACTED - Resolved for JDK9\r\nLINK REDACTED -Not a bug JDK9\r\nSo this is now be fixed.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/584602574","html_url":"https://github.com/elastic/elasticsearch/issues/29695#issuecomment-584602574","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29695","id":584602574,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDYwMjU3NA==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2020-02-11T12:00:50Z","updated_at":"2020-02-11T12:00:50Z","author_association":"CONTRIBUTOR","body":"Looks like https://bugs.openjdk.java.net/browse/JDK-8129238 is backported to Java 8 ( since 8u60 ) and that gives a significant performance boost, not sure if this is enough to motivate us adding AES-GCM to the default supported ciphers in 7.x even when running with < Java 11","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/585254378","html_url":"https://github.com/elastic/elasticsearch/issues/29695#issuecomment-585254378","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29695","id":585254378,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTI1NDM3OA==","user":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"created_at":"2020-02-12T15:16:23Z","updated_at":"2020-02-12T15:16:23Z","author_association":"MEMBER","body":"This issue should be considered resolved IMO since we support these ciphers running on JDK 11+ since #42082 in 7.x. Regarding support for older JDKs like 8, I think it is worth considering but proper detection of the true hardware acceleration might be a bit tricky due to the fact that OpenJDK and Oracle JDK actually differ in this intrinsic support for 8u, see https://mail.openjdk.java.net/pipermail/jdk8u-dev/2019-November/010630.html and https://bugs.openjdk.java.net/browse/JDK-8129238.\r\n\r\n@jkakavas are you ok with closing this issue and possibly opening a new one for support on pre-11 JDKs?","performed_via_github_app":null}]