[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/448235425","html_url":"https://github.com/elastic/elasticsearch/issues/30006#issuecomment-448235425","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30006","id":448235425,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODIzNTQyNQ==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2018-12-18T14:17:53Z","updated_at":"2018-12-18T14:17:53Z","author_association":"CONTRIBUTOR","body":"One argument _against_ changing the way we do this today is that it's really useful to have the persistent task with `failed` status in the cluster state in support diags as it means we can see which node a job was running on at the time it failed.\r\n\r\nI think we should leave things as they are until there's an alternative way to achieve this.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/552904724","html_url":"https://github.com/elastic/elasticsearch/issues/30006#issuecomment-552904724","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30006","id":552904724,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjkwNDcyNA==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2019-11-12T13:59:13Z","updated_at":"2019-11-12T13:59:13Z","author_association":"CONTRIBUTOR","body":"This also ties in with #48934.  Just as it makes sense to completely cancel a `stopping` datafeed if the node it was running on is removed from the cluster, it makes sense to completely cancel a `closing` job if node it was running on is removed from the cluster.\r\n\r\nIn both cases if the code doing the graceful stop/close is killed part way through its work there's no way another node can take over.  So the datafeed/job might as well be considered stopped/closed rather than left in limbo stopping/closing on a new node.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/616406318","html_url":"https://github.com/elastic/elasticsearch/issues/30006#issuecomment-616406318","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30006","id":616406318,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjQwNjMxOA==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2020-04-20T08:51:28Z","updated_at":"2020-04-20T08:51:28Z","author_association":"CONTRIBUTOR","body":"Fixed by #55315","performed_via_github_app":null}]