{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/23408","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23408/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23408/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23408/events","html_url":"https://github.com/elastic/elasticsearch/issues/23408","id":210780559,"node_id":"MDU6SXNzdWUyMTA3ODA1NTk=","number":23408,"title":"logstash ingest attachment plugin not working while using update action","user":{"login":"ssunka","id":2323921,"node_id":"MDQ6VXNlcjIzMjM5MjE=","avatar_url":"https://avatars0.githubusercontent.com/u/2323921?v=4","gravatar_id":"","url":"https://api.github.com/users/ssunka","html_url":"https://github.com/ssunka","followers_url":"https://api.github.com/users/ssunka/followers","following_url":"https://api.github.com/users/ssunka/following{/other_user}","gists_url":"https://api.github.com/users/ssunka/gists{/gist_id}","starred_url":"https://api.github.com/users/ssunka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ssunka/subscriptions","organizations_url":"https://api.github.com/users/ssunka/orgs","repos_url":"https://api.github.com/users/ssunka/repos","events_url":"https://api.github.com/users/ssunka/events{/privacy}","received_events_url":"https://api.github.com/users/ssunka/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-02-28T13:03:26Z","updated_at":"2017-07-05T11:34:47Z","closed_at":"2017-02-28T13:25:48Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version**: 5.2\r\n\r\n**Plugins installed**: [ingest_attachment]\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nThis happens in logstash configuration \r\n\r\n**Steps to reproduce**:\r\nElastic search and logstash should be installed.\r\ningest_atatchment plugin needs to be added\r\n 1. Create a document with some random fields\r\n 2. Update document with some attachment data which is base64 encoded\r\n 3. attachment data will only get decoded while inserting but not while updating.\r\n\r\nHere is my configuration file.\r\n\r\nelasticsearch {\r\n            hosts => [\"localhost:9200\"]\r\n            index => \"some_index\"\r\n            action => \"update\"\r\n            document_id => \"%{some_id}\"\r\n            pipeline => \"attach_pipeline\"\r\n          }\r\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}