{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/36744","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36744/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36744/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36744/events","html_url":"https://github.com/elastic/elasticsearch/issues/36744","id":391927645,"node_id":"MDU6SXNzdWUzOTE5Mjc2NDU=","number":36744,"title":"[CI] Time-outs in MixedClusterClientYamlTestSuiteIT","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"labels":[{"id":881394071,"node_id":"MDU6TGFiZWw4ODEzOTQwNzE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Cluster%20Coordination","name":":Distributed/Cluster Coordination","color":"0e8a16","default":false,"description":"Cluster formation and cluster state publication, including cluster membership and fault detection."},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"assignees":[{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2018-12-17T23:06:56Z","updated_at":"2018-12-18T03:03:46Z","closed_at":"2018-12-18T03:03:46Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"First noticed in a PR run (https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+pull-request+default-distro/1638/ , https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+pull-request-1/2629/ ) but it also reproduces locally on master ( 384757deffb1bd88781c2d5c3459ca25f15792a3 ) . \r\n\r\nExample reproduction\r\n\r\n```\r\n./gradlew :qa:mixed-cluster:v6.6.0#mixedClusterTestRunner -Dtests.seed=12F9CEDCE5032389 -Dtests.class=org.elasticsearch.backwards.MixedClusterClientYamlTestSuiteIT -Dtests.security.manager=true -Dtests.loce=fr-LU -Dtests.timezone=UTC -Dtests.distribution=zip -Dcompiler.java=11 -Druntime.java=8\r\n```\r\n<details>\r\n<summary>Click for example output:</Summary>\r\n\r\n```\r\nSuite: org.elasticsearch.backwards.MixedClusterClientYamlTestSuiteIT\r\n  1> [2018-12-17T22:53:31,661][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=indices.get_settings/10_basic/Get /*/_settings/{name}] before test\r\n  1> [2018-12-17T22:53:31,767][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] initializing REST clients against [http://[::1]:36025, http://[::1]:42601, http://[::1]:34203, http://[::1]:36849]\r\n  1> [2018-12-17T22:53:32,242][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] initializing client, minimum es version [6.6.0], master version, [6.6.0], hosts [http://[::1]:36025, http://[::1]:42601, http://[::1]:34203, http://[::1]:36849]\r\n  1> [2018-12-17T22:53:33,755][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=indices.get_settings/10_basic/Get /*/_settings/{name}] after test\r\n  1> [2018-12-17T22:53:33,775][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=cat.indices/10_basic/Test cat indices sort] before test\r\n  1> [2018-12-17T22:53:35,039][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=cat.indices/10_basic/Test cat indices sort] after test\r\n  1> [2018-12-17T22:53:35,049][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=suggest/30_context/Multi contexts should work] before test\r\n  1> [2018-12-17T22:53:35,448][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 2]] request [PUT http://[::1]:36849/test?error_trace=true] returned 1 warnings: [299 Elasticsearch-6.6.0-SNAPSHOT-4f9196a \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Mon, 17 Dec 2018 22:53:35 GMT\"]\r\n  1> [2018-12-17T22:53:36,672][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=suggest/30_context/Multi contexts should work] after test\r\n  1> [2018-12-17T22:53:36,679][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=create/30_internal_version/Internal versioning with explicit version] before test\r\n  1> [2018-12-17T22:53:36,894][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=create/30_internal_version/Internal versioning with explicit version] after test\r\n  1> [2018-12-17T22:53:36,905][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=mget/70_source_filtering/Source filtering -  include field] before test\r\n  1> [2018-12-17T22:53:37,076][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=mget/70_source_filtering/Source filtering -  include field] after test\r\nIGNOR/A 0.19s | MixedClusterClientYamlTestSuiteIT.test {p0=mget/70_source_filtering/Source filtering -  include field}\r\n   > Assumption #1: [mget/70_source_filtering] skipped, reason: [types are required in requests before 7.0.0]\r\n  1> [2018-12-17T22:53:37,088][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=search.aggregation/190_percentiles_hdr_metric/Only aggs test] before test\r\n  1> [2018-12-17T22:53:37,912][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=search.aggregation/190_percentiles_hdr_metric/Only aggs test] after test\r\n  1> [2018-12-17T22:53:37,920][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=indices.put_mapping/10_basic/PUT mapping with a type and include_type_name: false] before test\r\n  1> [2018-12-17T22:53:38,101][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=indices.put_mapping/10_basic/PUT mapping with a type and include_type_name: false] after test\r\nIGNOR/A 0.19s | MixedClusterClientYamlTestSuiteIT.test {p0=indices.put_mapping/10_basic/PUT mapping with a type and include_type_name: false}\r\n   > Assumption #1: [indices.put_mapping/10_basic/PUT mapping with a type and include_type_name: false] skipped, reason: [types are required in requests before 7.0.0]\r\n  1> [2018-12-17T22:53:38,108][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=count/20_query_string/count with query_string parameters] before test\r\n  1> [2018-12-17T22:53:38,487][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 1]] request [PUT http://[::1]:36025/test?error_trace=true] returned 1 warnings: [299 Elasticsearch-6.6.0-SNAPSHOT-4f9196a \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Mon, 17 Dec 2018 22:53:38 GMT\"]\r\n  1> [2018-12-17T22:53:39,458][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=count/20_query_string/count with query_string parameters] after test\r\n  1> [2018-12-17T22:53:39,467][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=search.aggregation/20_terms/Boolean test] before test\r\n  1> [2018-12-17T22:53:39,786][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 1]] request [PUT http://[::1]:36025/test_1?error_trace=true] returned 1 warnings: [299 Elasticsearch-6.6.0-SNAPSHOT-4f9196a \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Mon, 17 Dec 2018 22:53:39 GMT\"]\r\n  1> [2018-12-17T22:53:40,103][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 2]] request [PUT http://[::1]:36849/test_2?error_trace=true] returned 1 warnings: [299 Elasticsearch-6.6.0-SNAPSHOT-4f9196a \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Mon, 17 Dec 2018 22:53:39 GMT\"]\r\n  1> [2018-12-17T22:53:40,591][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=search.aggregation/20_terms/Boolean test] after test\r\n  1> [2018-12-17T22:53:40,597][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=exists/10_basic/Basic] before test\r\n  1> [2018-12-17T22:53:40,791][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=exists/10_basic/Basic] after test\r\nIGNOR/A 0.20s | MixedClusterClientYamlTestSuiteIT.test {p0=exists/10_basic/Basic}\r\n   > Assumption #1: [exists/10_basic/Basic] skipped, reason: [types are required in requests before 7.0.0]\r\n  1> [2018-12-17T22:53:40,798][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=indices.stats/12_level/Level - indices] before test\r\n  1> [2018-12-17T22:53:41,386][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 1]] request [PUT http://[::1]:36025/test1/bar/1?error_trace=true] returned 1 warnings: [299 Elasticsearch-6.6.0-SNAPSHOT-4f9196a \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Mon, 17 Dec 2018 22:53:40 GMT\"]\r\n  1> [2018-12-17T22:53:42,069][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 2]] request [PUT http://[::1]:36849/test2/baz/1?error_trace=true] returned 1 warnings: [299 Elasticsearch-6.6.0-SNAPSHOT-4f9196a \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Mon, 17 Dec 2018 22:53:41 GMT\"]\r\n  1> [2018-12-17T22:53:42,458][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=indices.stats/12_level/Level - indices] after test\r\n  1> [2018-12-17T22:53:42,466][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=indices.get_mapping/11_basic_with_types/Get /_mapping/{type}] before test\r\n  1> [2018-12-17T22:53:42,842][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 5]] request [PUT http://[::1]:42601/test_1?error_trace=true] returned 1 warnings: [299 Elasticsearch-6.6.0-SNAPSHOT-4f9196a \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Mon, 17 Dec 2018 22:53:42 GMT\"]\r\n  1> [2018-12-17T22:53:43,247][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 1]] request [PUT http://[::1]:36025/test_2?error_trace=true] returned 1 warnings: [299 Elasticsearch-6.6.0-SNAPSHOT-4f9196a \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Mon, 17 Dec 2018 22:53:42 GMT\"]\r\n  1> [2018-12-17T22:53:43,608][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=indices.get_mapping/11_basic_with_types/Get /_mapping/{type}] after test\r\n  1> [2018-12-17T22:53:43,615][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=cat.snapshots/10_basic/Test cat snapshots output] before test\r\n  1> [2018-12-17T22:53:45,317][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=cat.snapshots/10_basic/Test cat snapshots output] after test\r\n  1> [2018-12-17T22:53:45,326][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=search.aggregation/160_extended_stats_metric/Sigma test] before test\r\n  1> [2018-12-17T22:53:45,640][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 4]] request [PUT http://[::1]:34203/test_1?error_trace=true] returned 1 warnings: [299 Elasticsearch-6.6.0-SNAPSHOT-4f9196a \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Mon, 17 Dec 2018 22:53:45 GMT\"]\r\n  1> [2018-12-17T22:53:46,035][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=search.aggregation/160_extended_stats_metric/Sigma test] after test\r\n  1> [2018-12-17T22:53:46,042][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=delete/60_missing/Missing document with ignore] before test\r\n  1> [2018-12-17T22:53:46,215][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=delete/60_missing/Missing document with ignore] after test\r\nIGNOR/A 0.18s | MixedClusterClientYamlTestSuiteIT.test {p0=delete/60_missing/Missing document with ignore}\r\n   > Assumption #1: [delete/60_missing/Missing document with ignore] skipped, reason: [types are required in requests before 7.0.0]\r\n  1> [2018-12-17T22:53:46,226][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=cluster.state/20_filtering/Filtering the cluster state by routing table only should work] before test\r\n  1> [2018-12-17T22:53:46,849][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 2]] request [PUT http://[::1]:36849/testidx/testtype/testing_document?error_trace=true] returned 1 warnings: [299 Elasticsearch-6.6.0-SNAPSHOT-4f9196a \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Mon, 17 Dec 2018 22:53:46 GMT\"]\r\n  1> [2018-12-17T22:53:47,155][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=cluster.state/20_filtering/Filtering the cluster state by routing table only should work] after test\r\n  1> [2018-12-17T22:53:47,163][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=get/51_with_headers_with_types/REST test with headers] before test\r\n  1> [2018-12-17T22:53:47,762][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 5]] request [PUT http://[::1]:42601/test_1/test/1?error_trace=true] returned 1 warnings: [299 Elasticsearch-6.6.0-SNAPSHOT-4f9196a \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Mon, 17 Dec 2018 22:53:47 GMT\"]\r\n  1> [2018-12-17T22:53:48,120][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=get/51_with_headers_with_types/REST test with headers] after test\r\n  1> [2018-12-17T22:53:48,130][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=search/40_indices_boost/Indices boost using array multiple match] before test\r\n  1> [2018-12-17T22:53:48,510][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 2]] request [PUT http://[::1]:36849/test_1?error_trace=true] returned 1 warnings: [299 Elasticsearch-6.6.0-SNAPSHOT-4f9196a \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Mon, 17 Dec 2018 22:53:48 GMT\"]\r\n  1> [2018-12-17T22:53:48,900][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 4]] request [PUT http://[::1]:34203/test_2?error_trace=true] returned 1 warnings: [299 Elasticsearch-6.6.0-SNAPSHOT-4f9196a \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Mon, 17 Dec 2018 22:53:48 GMT\"]\r\n  1> [2018-12-17T22:53:49,892][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=search/40_indices_boost/Indices boost using array multiple match] after test\r\n  1> [2018-12-17T22:53:49,899][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=indices.get_alias/10_basic/Get all aliases via /_alias] before test\r\n  1> [2018-12-17T22:53:50,263][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 4]] request [PUT http://[::1]:34203/test_index?error_trace=true] returned 1 warnings: [299 Elasticsearch-6.6.0-SNAPSHOT-4f9196a \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Mon, 17 Dec 2018 22:53:49 GMT\"]\r\n  1> [2018-12-17T22:53:50,644][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 5]] request [PUT http://[::1]:42601/test_index_2?error_trace=true] returned 1 warnings: [299 Elasticsearch-6.6.0-SNAPSHOT-4f9196a \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Mon, 17 Dec 2018 22:53:50 GMT\"]\r\n  1> [2018-12-17T22:53:51,134][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 1]] request [PUT http://[::1]:36025/test_index_3?error_trace=true] returned 1 warnings: [299 Elasticsearch-6.6.0-SNAPSHOT-4f9196a \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Mon, 17 Dec 2018 22:53:50 GMT\"]\r\n  1> [2018-12-17T22:53:51,636][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=indices.get_alias/10_basic/Get all aliases via /_alias] after test\r\n  1> [2018-12-17T22:53:51,645][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=indices.put_settings/10_basic/Test preserve_existing settings] before test\r\n  1> [2018-12-17T22:53:51,945][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 4]] request [PUT http://[::1]:34203/test-index?error_trace=true] returned 1 warnings: [299 Elasticsearch-6.6.0-SNAPSHOT-4f9196a \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Mon, 17 Dec 2018 22:53:51 GMT\"]\r\n  1> [2018-12-17T22:53:52,882][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=indices.put_settings/10_basic/Test preserve_existing settings] after test\r\n  1> [2018-12-17T22:53:52,890][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=suggest/50_completion_with_multi_fields/Search by suggestion on sub field should work] before test\r\n  1> [2018-12-17T22:53:53,069][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=suggest/50_completion_with_multi_fields/Search by suggestion on sub field should work] after test\r\nIGNOR/A 0.19s | MixedClusterClientYamlTestSuiteIT.test {p0=suggest/50_completion_with_multi_fields/Search by suggestion on sub field should work}\r\n   > Assumption #1: [suggest/50_completion_with_multi_fields/Search by suggestion on sub field should work] skipped, reason: [Search by suggestion with multi-fields was introduced 7.0.0]\r\n  1> [2018-12-17T22:53:53,078][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=search/160_exists_query/Test exists query on float field in empty index] before test\r\nHEARTBEAT J0 PID(17219@arlandria): 2018-12-18T00:54:03, stalled for 10.1s at: MixedClusterClientYamlTestSuiteIT.test {p0=search/160_exists_query/Test exists query on float field in empty index}\r\nHEARTBEAT J0 PID(17219@arlandria): 2018-12-18T00:54:13, stalled for 20.1s at: MixedClusterClientYamlTestSuiteIT.test {p0=search/160_exists_query/Test exists query on float field in empty index}\r\n  1> [2018-12-17T22:54:23,082][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] Stash dump on test failure [{\r\n  1>   \"stash\" : {\r\n  1>     \"body\" : null\r\n  1>   }\r\n  1> }]\r\nHEARTBEAT J0 PID(17219@arlandria): 2018-12-18T00:54:23, stalled for 30.1s at: MixedClusterClientYamlTestSuiteIT.test {p0=search/160_exists_query/Test exists query on float field in empty index}\r\nHEARTBEAT J0 PID(17219@arlandria): 2018-12-18T00:54:33, stalled for 40.1s at: MixedClusterClientYamlTestSuiteIT.test {p0=search/160_exists_query/Test exists query on float field in empty index}\r\nHEARTBEAT J0 PID(17219@arlandria): 2018-12-18T00:54:43, stalled for 50.1s at: MixedClusterClientYamlTestSuiteIT.test {p0=search/160_exists_query/Test exists query on float field in empty index}\r\n  1> [2018-12-17T22:54:53,084][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=search/160_exists_query/Test exists query on float field in empty index] after test\r\n  2> REPRODUCE WITH: ./gradlew :qa:mixed-cluster:v6.6.0#mixedClusterTestRunner -Dtests.seed=12F9CEDCE5032389 -Dtests.class=org.elasticsearch.backwards.MixedClusterClientYamlTestSuiteIT -Dtests.method=\"test {p0=search/160_exists_query/Test exists query on float field in empty index}\" -Dtests.security.manager=true -Dtests.locale=fr-LU -Dtests.timezone=UTC -Dtests.distribution=zip -Dcompiler.java=11 -Druntime.java=8\r\n  2> REPRODUCE WITH: ./gradlew :qa:mixed-cluster:v6.6.0#mixedClusterTestRunner -Dtests.seed=12F9CEDCE5032389 -Dtests.class=org.elasticsearch.backwards.MixedClusterClientYamlTestSuiteIT -Dtests.method=\"test {p0=search/160_exists_query/Test exists query on float field in empty index}\" -Dtests.security.manager=true -Dtests.locale=fr-LU -Dtests.timezone=UTC -Dtests.distribution=zip -Dcompiler.java=11 -Druntime.java=8\r\nERROR   60.0s | MixedClusterClientYamlTestSuiteIT.test {p0=search/160_exists_query/Test exists query on float field in empty index} <<< FAILURES!\r\n   > Throwable #1: java.lang.RuntimeException: Failure at [search/160_exists_query:5]: listener timeout after waiting for [30000] ms\r\n   >    at org.elasticsearch.test.rest.yaml.ESClientYamlSuiteTestCase.executeSection(ESClientYamlSuiteTestCase.java:409)\r\n   >    at org.elasticsearch.test.rest.yaml.ESClientYamlSuiteTestCase.test(ESClientYamlSuiteTestCase.java:375)\r\n   >    at java.lang.Thread.run(Thread.java:748)\r\n   > Caused by: java.io.IOException: listener timeout after waiting for [30000] ms\r\n   >    at org.elasticsearch.client.RestClient$SyncResponseListener.get(RestClient.java:669)\r\n   >    at org.elasticsearch.client.RestClient.performRequest(RestClient.java:218)\r\n   >    at org.elasticsearch.test.rest.yaml.ClientYamlTestClient.callApi(ClientYamlTestClient.java:193)\r\n   >    at org.elasticsearch.test.rest.yaml.ClientYamlTestExecutionContext.callApiInternal(ClientYamlTestExecutionContext.java:169)\r\n   >    at org.elasticsearch.test.rest.yaml.ClientYamlTestExecutionContext.callApi(ClientYamlTestExecutionContext.java:101)\r\n   >    at org.elasticsearch.test.rest.yaml.section.DoSection.execute(DoSection.java:244)\r\n   >    at org.elasticsearch.test.rest.yaml.ESClientYamlSuiteTestCase.executeSection(ESClientYamlSuiteTestCase.java:400)\r\n   >    ... 37 moreThrowable #2: java.io.IOException: listener timeout after waiting for [30000] ms\r\n   >    at org.elasticsearch.client.RestClient$SyncResponseListener.get(RestClient.java:669)\r\n   >    at org.elasticsearch.client.RestClient.performRequest(RestClient.java:218)\r\n   >    at org.elasticsearch.test.rest.ESRestTestCase.wipeCluster(ESRestTestCase.java:443)\r\n   >    at org.elasticsearch.test.rest.ESRestTestCase.cleanUpCluster(ESRestTestCase.java:274)\r\n   >    at java.lang.Thread.run(Thread.java:748)\r\n  1> [2018-12-17T22:54:53,099][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=indices.get_mapping/30_missing_index/Index missing, ignore_unavailable=true, allow_no_indices=false] before test\r\nHEARTBEAT J0 PID(17219@arlandria): 2018-12-18T00:55:03, stalled for 10.1s at: MixedClusterClientYamlTestSuiteIT.test {p0=indices.get_mapping/30_missing_index/Index missing, ignore_unavailable=true, allow_no_indices=false}\r\nHEARTBEAT J0 PID(17219@arlandria): 2018-12-18T00:55:13, stalled for 20.1s at: MixedClusterClientYamlTestSuiteIT.test {p0=indices.get_mapping/30_missing_index/Index missing, ignore_unavailable=true, allow_no_indices=false}\r\n  1> [2018-12-17T22:55:23,100][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] Stash dump on test failure [{\r\n  1>   \"stash\" : {\r\n  1>     \"body\" : null\r\n  1>   }\r\n  1> }]\r\nHEARTBEAT J0 PID(17219@arlandria): 2018-12-18T00:55:23, stalled for 30.1s at: MixedClusterClientYamlTestSuiteIT.test {p0=indices.get_mapping/30_missing_index/Index missing, ignore_unavailable=true, allow_no_indices=false}\r\nHEARTBEAT J0 PID(17219@arlandria): 2018-12-18T00:55:33, stalled for 40.1s at: MixedClusterClientYamlTestSuiteIT.test {p0=indices.get_mapping/30_missing_index/Index missing, ignore_unavailable=true, allow_no_indices=false}\r\nHEARTBEAT J0 PID(17219@arlandria): 2018-12-18T00:55:43, stalled for 50.1s at: MixedClusterClientYamlTestSuiteIT.test {p0=indices.get_mapping/30_missing_index/Index missing, ignore_unavailable=true, allow_no_indices=false}\r\n  1> [2018-12-17T22:55:53,102][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=indices.get_mapping/30_missing_index/Index missing, ignore_unavailable=true, allow_no_indices=false] after test\r\n  2> REPRODUCE WITH: ./gradlew :qa:mixed-cluster:v6.6.0#mixedClusterTestRunner -Dtests.seed=12F9CEDCE5032389 -Dtests.class=org.elasticsearch.backwards.MixedClusterClientYamlTestSuiteIT -Dtests.method=\"test {p0=indices.get_mapping/30_missing_index/Index missing, ignore_unavailable=true, allow_no_indices=false}\" -Dtests.security.manager=true -Dtests.locale=fr-LU -Dtests.timezone=UTC -Dtests.distribution=zip -Dcompiler.java=11 -Druntime.java=8\r\n  2> REPRODUCE WITH: ./gradlew :qa:mixed-cluster:v6.6.0#mixedClusterTestRunner -Dtests.seed=12F9CEDCE5032389 -Dtests.class=org.elasticsearch.backwards.MixedClusterClientYamlTestSuiteIT -Dtests.method=\"test {p0=indices.get_mapping/30_missing_index/Index missing, ignore_unavailable=true, allow_no_indices=false}\" -Dtests.security.manager=true -Dtests.locale=fr-LU -Dtests.timezone=UTC -Dtests.distribution=zip -Dcompiler.java=11 -Druntime.java=8\r\nERROR   60.0s | MixedClusterClientYamlTestSuiteIT.test {p0=indices.get_mapping/30_missing_index/Index missing, ignore_unavailable=true, allow_no_indices=false} <<< FAILURES!\r\n   > Throwable #1: java.lang.RuntimeException: Failure at [indices.get_mapping/30_missing_index:30]: listener timeout after waiting for [30000] ms\r\n   >    at org.elasticsearch.test.rest.yaml.ESClientYamlSuiteTestCase.executeSection(ESClientYamlSuiteTestCase.java:409)\r\n   >    at org.elasticsearch.test.rest.yaml.ESClientYamlSuiteTestCase.test(ESClientYamlSuiteTestCase.java:384)\r\n   >    at java.lang.Thread.run(Thread.java:748)\r\n   > Caused by: java.io.IOException: listener timeout after waiting for [30000] ms\r\n   >    at org.elasticsearch.client.RestClient$SyncResponseListener.get(RestClient.java:669)\r\n   >    at org.elasticsearch.client.RestClient.performRequest(RestClient.java:218)\r\n   >    at org.elasticsearch.test.rest.yaml.ClientYamlTestClient.callApi(ClientYamlTestClient.java:193)\r\n   >    at org.elasticsearch.test.rest.yaml.ClientYamlTestExecutionContext.callApiInternal(ClientYamlTestExecutionContext.java:169)\r\n   >    at org.elasticsearch.test.rest.yaml.ClientYamlTestExecutionContext.callApi(ClientYamlTestExecutionContext.java:101)\r\n   >    at org.elasticsearch.test.rest.yaml.section.DoSection.execute(DoSection.java:244)\r\n   >    at org.elasticsearch.test.rest.yaml.ESClientYamlSuiteTestCase.executeSection(ESClientYamlSuiteTestCase.java:400)\r\n   >    ... 37 moreThrowable #2: java.io.IOException: listener timeout after waiting for [30000] ms\r\n   >    at org.elasticsearch.client.RestClient$SyncResponseListener.get(RestClient.java:669)\r\n   >    at org.elasticsearch.client.RestClient.performRequest(RestClient.java:218)\r\n   >    at org.elasticsearch.test.rest.ESRestTestCase.wipeCluster(ESRestTestCase.java:443)\r\n   >    at org.elasticsearch.test.rest.ESRestTestCase.cleanUpCluster(ESRestTestCase.java:274)\r\n   >    at java.lang.Thread.run(Thread.java:748)\r\n  1> [2018-12-17T22:55:53,113][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] [test] [p0=indices.put_alias/all_path_options/put alias with blank index] before test\r\nHEARTBEAT J0 PID(17219@arlandria): 2018-12-18T00:56:03, stalled for 10.1s at: MixedClusterClientYamlTestSuiteIT.test {p0=indices.put_alias/all_path_options/put alias with blank index}\r\n<============-> 98% EXECUTING [5m 2s]\r\n> :qa:mixed-cluster:v6.6.0#mixedClusterTestRunner > Suites: 0/1\r\n> :qa:mixed-cluster:v6.6.0#mixedClusterTestRunner > Tests: completed: 23, failed: 2, ignored: 5\r\n> :qa:mixed-cluster:v6.6.0#mixedClusterTestRunner > J0: MixedClusterClientYamlTestSuiteIT.test {p0=indices.put_alias/all_path_options/put alias with blank index} stalled for 10.1s\r\n```\r\n\r\n</details> \r\n\r\n\r\nAlso, @jasontedor took a jstack from his reproduction: \r\n\r\n```\r\n\"elasticsearch[node-1][generic][T#2]\" #36 daemon prio=5 os_prio=0 cpu=385.03ms elapsed=274.79s tid=0x00007f63863d3800 nid=0x295c waiting on condition  [0x00007f62d0c8c000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n    at jdk.internal.misc.Unsafe.park(java.base@11/Native Method)\r\n    - parking to wait for  <0x00000000e1cc4be0> (a java.util.concurrent.CompletableFuture$Signaller)\r\n    at java.util.concurrent.locks.LockSupport.park(java.base@11/LockSupport.java:194)\r\n    at java.util.concurrent.CompletableFuture$Signaller.block(java.base@11/CompletableFuture.java:1796)\r\n    at java.util.concurrent.ForkJoinPool.managedBlock(java.base@11/ForkJoinPool.java:3128)\r\n    at java.util.concurrent.CompletableFuture.waitingGet(java.base@11/CompletableFuture.java:1823)\r\n    at java.util.concurrent.CompletableFuture.get(java.base@11/CompletableFuture.java:1998)\r\n    at org.elasticsearch.discovery.zen.ZenDiscovery.pingAndWait(ZenDiscovery.java:1064)\r\n    at org.elasticsearch.discovery.zen.ZenDiscovery.findMaster(ZenDiscovery.java:901)\r\n    at org.elasticsearch.discovery.zen.ZenDiscovery.innerJoinCluster(ZenDiscovery.java:443)\r\n    at org.elasticsearch.discovery.zen.ZenDiscovery.access$1800(ZenDiscovery.java:89)\r\n    at org.elasticsearch.discovery.zen.ZenDiscovery$JoinThreadControl$1.run(ZenDiscovery.java:1268)\r\n    at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:660)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@11/ThreadPoolExecutor.java:1128)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@11/ThreadPoolExecutor.java:628)\r\n    at java.lang.Thread.run(java.base@11/Thread.java:834)\r\n```","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}