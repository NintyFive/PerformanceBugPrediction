[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/66690929","html_url":"https://github.com/elastic/elasticsearch/issues/8909#issuecomment-66690929","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8909","id":66690929,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjkwOTI5","user":{"login":"missinglink","id":738069,"node_id":"MDQ6VXNlcjczODA2OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/738069?v=4","gravatar_id":"","url":"https://api.github.com/users/missinglink","html_url":"https://github.com/missinglink","followers_url":"https://api.github.com/users/missinglink/followers","following_url":"https://api.github.com/users/missinglink/following{/other_user}","gists_url":"https://api.github.com/users/missinglink/gists{/gist_id}","starred_url":"https://api.github.com/users/missinglink/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/missinglink/subscriptions","organizations_url":"https://api.github.com/users/missinglink/orgs","repos_url":"https://api.github.com/users/missinglink/repos","events_url":"https://api.github.com/users/missinglink/events{/privacy}","received_events_url":"https://api.github.com/users/missinglink/received_events","type":"User","site_admin":false},"created_at":"2014-12-11T21:21:07Z","updated_at":"2014-12-11T21:21:07Z","author_association":"CONTRIBUTOR","body":"hey @areek, where does this code live? I'd be happy to compile it locally and provide some feedback before it's released.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/66697511","html_url":"https://github.com/elastic/elasticsearch/issues/8909#issuecomment-66697511","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8909","id":66697511,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Njk3NTEx","user":{"login":"areek","id":753679,"node_id":"MDQ6VXNlcjc1MzY3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/753679?v=4","gravatar_id":"","url":"https://api.github.com/users/areek","html_url":"https://github.com/areek","followers_url":"https://api.github.com/users/areek/followers","following_url":"https://api.github.com/users/areek/following{/other_user}","gists_url":"https://api.github.com/users/areek/gists{/gist_id}","starred_url":"https://api.github.com/users/areek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areek/subscriptions","organizations_url":"https://api.github.com/users/areek/orgs","repos_url":"https://api.github.com/users/areek/repos","events_url":"https://api.github.com/users/areek/events{/privacy}","received_events_url":"https://api.github.com/users/areek/received_events","type":"User","site_admin":false},"created_at":"2014-12-11T22:04:13Z","updated_at":"2014-12-11T22:04:13Z","author_association":"CONTRIBUTOR","body":"hey @missinglink, this will be developed in a public branch (will update the issue with the branch name, once it is there). The purpose of this issue atm is to share the planned features of the next CompletionSuggester and get feedback on them. It would be awesome to get any feedback on the planned feature set.\np.s. use-case on https://github.com/elasticsearch/elasticsearch/issues/6444#issuecomment-64408912 could be addressed nicely with the new version :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/66991532","html_url":"https://github.com/elastic/elasticsearch/issues/8909#issuecomment-66991532","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8909","id":66991532,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTkxNTMy","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2014-12-15T13:08:38Z","updated_at":"2014-12-15T13:08:38Z","author_association":"CONTRIBUTOR","body":"I can't wait for this to hit the branch! areek, what is the status of NRTSuggester at this point, is it solely in ES at this point? \n\nWhile reading through this  I was wondering about the payload format, is this going to be JSON or XContent or what are we doing there? I wonder if we should turn it into binary at index time (SMILE?) and then render whatever we need to on the response end? \n\nOn a different note, did we think about making indexing easier here too? I really wonder if we can put into the mapping directly where the category comes from, where the payload comes from and where we get the actual suggest value from such that this is really just a one off configuration? we might do this in a way where we use copy_field for the actual input (suggest text) and we fetch the rest from the document?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/67108225","html_url":"https://github.com/elastic/elasticsearch/issues/8909#issuecomment-67108225","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8909","id":67108225,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTA4MjI1","user":{"login":"abhijitiitr","id":1880441,"node_id":"MDQ6VXNlcjE4ODA0NDE=","avatar_url":"https://avatars2.githubusercontent.com/u/1880441?v=4","gravatar_id":"","url":"https://api.github.com/users/abhijitiitr","html_url":"https://github.com/abhijitiitr","followers_url":"https://api.github.com/users/abhijitiitr/followers","following_url":"https://api.github.com/users/abhijitiitr/following{/other_user}","gists_url":"https://api.github.com/users/abhijitiitr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhijitiitr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhijitiitr/subscriptions","organizations_url":"https://api.github.com/users/abhijitiitr/orgs","repos_url":"https://api.github.com/users/abhijitiitr/repos","events_url":"https://api.github.com/users/abhijitiitr/events{/privacy}","received_events_url":"https://api.github.com/users/abhijitiitr/received_events","type":"User","site_admin":false},"created_at":"2014-12-16T03:41:00Z","updated_at":"2014-12-16T03:41:00Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/67110213","html_url":"https://github.com/elastic/elasticsearch/issues/8909#issuecomment-67110213","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8909","id":67110213,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTEwMjEz","user":{"login":"areek","id":753679,"node_id":"MDQ6VXNlcjc1MzY3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/753679?v=4","gravatar_id":"","url":"https://api.github.com/users/areek","html_url":"https://github.com/areek","followers_url":"https://api.github.com/users/areek/followers","following_url":"https://api.github.com/users/areek/following{/other_user}","gists_url":"https://api.github.com/users/areek/gists{/gist_id}","starred_url":"https://api.github.com/users/areek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areek/subscriptions","organizations_url":"https://api.github.com/users/areek/orgs","repos_url":"https://api.github.com/users/areek/repos","events_url":"https://api.github.com/users/areek/events{/privacy}","received_events_url":"https://api.github.com/users/areek/received_events","type":"User","site_admin":false},"created_at":"2014-12-16T04:12:36Z","updated_at":"2014-12-16T04:12:36Z","author_association":"CONTRIBUTOR","body":"The work on NRTSuggester is currently done only in ES at this point, but the plan is to push it down to Lucene. At this point, the NRTSuggester has been refactored to have a pluggable context-aware scorer and has 'native' support for filtering suggestions based on context(s) [Categories]. I am currently working on refactoring the completion postingsformat and figuring out the right abstraction for the new `SegmentLookup` API (replaces the previous `Lookup` API).\n\nThe idea for the payload format was to have user-defined `payload_template` (mustache template compiled at index time) supporting desired field names as variables, which will be resolve, populated and returned with each suggestion at query time.\n\n> I really wonder if we can put into the mapping directly where the category comes from, where the payload comes from and where we get the actual suggest value from such that this is really just a one off configuration? we might do this in a way where we use copy_field for the actual input (suggest text) and we fetch the rest from the document?\n\nThat is a great idea and would simplify indexing configurations quite a bit, at this point I have refactored the `SuggestField` to be 'self-sufficient' but it still needs more work, after the abstractions make sense, I will start experimenting with the idea.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/74498046","html_url":"https://github.com/elastic/elasticsearch/issues/8909#issuecomment-74498046","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8909","id":74498046,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDk4MDQ2","user":{"login":"missinglink","id":738069,"node_id":"MDQ6VXNlcjczODA2OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/738069?v=4","gravatar_id":"","url":"https://api.github.com/users/missinglink","html_url":"https://github.com/missinglink","followers_url":"https://api.github.com/users/missinglink/followers","following_url":"https://api.github.com/users/missinglink/following{/other_user}","gists_url":"https://api.github.com/users/missinglink/gists{/gist_id}","starred_url":"https://api.github.com/users/missinglink/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/missinglink/subscriptions","organizations_url":"https://api.github.com/users/missinglink/orgs","repos_url":"https://api.github.com/users/missinglink/repos","events_url":"https://api.github.com/users/missinglink/events{/privacy}","received_events_url":"https://api.github.com/users/missinglink/received_events","type":"User","site_admin":false},"created_at":"2015-02-16T11:55:33Z","updated_at":"2015-02-16T12:02:21Z","author_association":"CONTRIBUTOR","body":"hey @areek @s1monw happy new year!\n\nAfter using the existing completion suggester extensively over the last 6+ months for https://github.com/pelias/pelias we are now looking at replacing our autocomplete functionality with an `ngram` solution, for a variety of reasons:\n1. unable to achieve POI classification as per: https://github.com/elasticsearch/elasticsearch/issues/6444\n2. unable to sort results, by geographic distance or otherwise\n3. payload fields take a huge amount of RAM, we ended up just storing IDs and saving >100GB RAM.\n4. when not using payload fields the double-query approach negates the speed gains from the FST\n5. FST traversal is strictly anchored on the left and so will never be able to return \"121 mapzen place\" for the query \"122 mapzen place\". Similar problems arise for \"corner of x street and y street\".\n6. unable to provide 2x fields such as `name,city` separately and boost at query time\n7. unable to query the whole planet due to `precision:0` issue\n\nI hope this might give you some insights in to how the new context suggester could be better. If you need any more info about any specific point I'd be happy to help.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/74802892","html_url":"https://github.com/elastic/elasticsearch/issues/8909#issuecomment-74802892","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8909","id":74802892,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODAyODky","user":{"login":"areek","id":753679,"node_id":"MDQ6VXNlcjc1MzY3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/753679?v=4","gravatar_id":"","url":"https://api.github.com/users/areek","html_url":"https://github.com/areek","followers_url":"https://api.github.com/users/areek/followers","following_url":"https://api.github.com/users/areek/following{/other_user}","gists_url":"https://api.github.com/users/areek/gists{/gist_id}","starred_url":"https://api.github.com/users/areek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areek/subscriptions","organizations_url":"https://api.github.com/users/areek/orgs","repos_url":"https://api.github.com/users/areek/repos","events_url":"https://api.github.com/users/areek/events{/privacy}","received_events_url":"https://api.github.com/users/areek/received_events","type":"User","site_admin":false},"created_at":"2015-02-18T03:00:37Z","updated_at":"2015-02-18T03:00:37Z","author_association":"CONTRIBUTOR","body":"Hey @missinglink happy new year to you too!\n\nThanks for the detailed feedback. The work on the new 'suggester' is being done on https://github.com/elasticsearch/elasticsearch/pull/9643 (Lucene API; work on the ES API will be started soon). I will update this issue with the new ES API for it.\n\nSome comments based on https://github.com/elasticsearch/elasticsearch/pull/9643 (WIP):\n\n> unable to achieve POI classification as per: #6444\n\ncan be achieved through query-time filtering/fine grained lookup field(s)\n\n>  unable to sort results, by geographic distance or otherwise\n\ncan be done through a \"geo scorer\", which will return the completions sorted by the distance between the completion document and the provided geo location\n\n> payload fields take a huge amount of RAM, we ended up just storing IDs and saving >100GB RAM.\n\nno more payload fields, one can simply return other field(s) from a document\n\n> unable to query the whole planet due to `precision:0` issue\n\nIt will be possible to get completions with no context\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/88300115","html_url":"https://github.com/elastic/elasticsearch/issues/8909#issuecomment-88300115","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8909","id":88300115,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MzAwMTE1","user":{"login":"Godstermx","id":5854010,"node_id":"MDQ6VXNlcjU4NTQwMTA=","avatar_url":"https://avatars1.githubusercontent.com/u/5854010?v=4","gravatar_id":"","url":"https://api.github.com/users/Godstermx","html_url":"https://github.com/Godstermx","followers_url":"https://api.github.com/users/Godstermx/followers","following_url":"https://api.github.com/users/Godstermx/following{/other_user}","gists_url":"https://api.github.com/users/Godstermx/gists{/gist_id}","starred_url":"https://api.github.com/users/Godstermx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Godstermx/subscriptions","organizations_url":"https://api.github.com/users/Godstermx/orgs","repos_url":"https://api.github.com/users/Godstermx/repos","events_url":"https://api.github.com/users/Godstermx/events{/privacy}","received_events_url":"https://api.github.com/users/Godstermx/received_events","type":"User","site_admin":false},"created_at":"2015-04-01T01:04:18Z","updated_at":"2015-04-01T01:04:18Z","author_association":"NONE","body":"hi  \n\nthe Completion Suggester Version 2 source code is in master ?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/88973519","html_url":"https://github.com/elastic/elasticsearch/issues/8909#issuecomment-88973519","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8909","id":88973519,"node_id":"MDEyOklzc3VlQ29tbWVudDg4OTczNTE5","user":{"login":"areek","id":753679,"node_id":"MDQ6VXNlcjc1MzY3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/753679?v=4","gravatar_id":"","url":"https://api.github.com/users/areek","html_url":"https://github.com/areek","followers_url":"https://api.github.com/users/areek/followers","following_url":"https://api.github.com/users/areek/following{/other_user}","gists_url":"https://api.github.com/users/areek/gists{/gist_id}","starred_url":"https://api.github.com/users/areek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areek/subscriptions","organizations_url":"https://api.github.com/users/areek/orgs","repos_url":"https://api.github.com/users/areek/repos","events_url":"https://api.github.com/users/areek/events{/privacy}","received_events_url":"https://api.github.com/users/areek/received_events","type":"User","site_admin":false},"created_at":"2015-04-02T16:54:08Z","updated_at":"2015-04-02T16:54:08Z","author_association":"CONTRIBUTOR","body":"Hi @Godstermx, the completion suggester V2 is not in master yet. It is still being worked on.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/95421096","html_url":"https://github.com/elastic/elasticsearch/issues/8909#issuecomment-95421096","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8909","id":95421096,"node_id":"MDEyOklzc3VlQ29tbWVudDk1NDIxMDk2","user":{"login":"areek","id":753679,"node_id":"MDQ6VXNlcjc1MzY3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/753679?v=4","gravatar_id":"","url":"https://api.github.com/users/areek","html_url":"https://github.com/areek","followers_url":"https://api.github.com/users/areek/followers","following_url":"https://api.github.com/users/areek/following{/other_user}","gists_url":"https://api.github.com/users/areek/gists{/gist_id}","starred_url":"https://api.github.com/users/areek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areek/subscriptions","organizations_url":"https://api.github.com/users/areek/orgs","repos_url":"https://api.github.com/users/areek/repos","events_url":"https://api.github.com/users/areek/events{/privacy}","received_events_url":"https://api.github.com/users/areek/received_events","type":"User","site_admin":false},"created_at":"2015-04-23T04:01:36Z","updated_at":"2015-04-23T04:01:36Z","author_association":"CONTRIBUTOR","body":"closing in favour of https://github.com/elastic/elasticsearch/issues/10746, sorry for the noise\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/99467041","html_url":"https://github.com/elastic/elasticsearch/issues/8909#issuecomment-99467041","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8909","id":99467041,"node_id":"MDEyOklzc3VlQ29tbWVudDk5NDY3MDQx","user":{"login":"violaivy","id":12274754,"node_id":"MDQ6VXNlcjEyMjc0NzU0","avatar_url":"https://avatars1.githubusercontent.com/u/12274754?v=4","gravatar_id":"","url":"https://api.github.com/users/violaivy","html_url":"https://github.com/violaivy","followers_url":"https://api.github.com/users/violaivy/followers","following_url":"https://api.github.com/users/violaivy/following{/other_user}","gists_url":"https://api.github.com/users/violaivy/gists{/gist_id}","starred_url":"https://api.github.com/users/violaivy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/violaivy/subscriptions","organizations_url":"https://api.github.com/users/violaivy/orgs","repos_url":"https://api.github.com/users/violaivy/repos","events_url":"https://api.github.com/users/violaivy/events{/privacy}","received_events_url":"https://api.github.com/users/violaivy/received_events","type":"User","site_admin":false},"created_at":"2015-05-06T13:49:32Z","updated_at":"2015-05-06T13:49:32Z","author_association":"NONE","body":"Is there any way to sort completion suggester results. Need help\n","performed_via_github_app":null}]