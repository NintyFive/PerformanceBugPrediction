[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/193911493","html_url":"https://github.com/elastic/elasticsearch/issues/17016#issuecomment-193911493","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17016","id":193911493,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MzkxMTQ5Mw==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2016-03-08T18:47:29Z","updated_at":"2016-03-08T18:47:29Z","author_association":"MEMBER","body":"/cc @jpountz \n\nI skimmed LUCENE-6077 and see the frequency is slightly different depending on query type:  freq = 2 for \"expensive to build\" and \"cheap to cache\", while freq = 5 for everything else.  What kinds of queries fall into the freq=2 category?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/195299338","html_url":"https://github.com/elastic/elasticsearch/issues/17016#issuecomment-195299338","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17016","id":195299338,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTI5OTMzOA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-03-11T09:49:58Z","updated_at":"2016-03-11T09:49:58Z","author_association":"CONTRIBUTOR","body":"freq=2 is used for all queries that need to evaluate the documents that they match on the whole index regardless of whether they are intersected with a selective filter or not. So this includes for instance range, wildcard and prefix queries.\n\n> In a multitenant environment, there can easily be more than 50 distinct filters for each customer id\n\nI agree that we might want to consider increasing the size of the history, but I don't think caching term queries on customer ids would be very helpful: by nature an inverted index is a already a cache of matching documents for every possible term and Lucene makes sure that they can be decoded efficiently. Loading term queries in the query cache only duplicates parts of the inverted index in memory.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/288107528","html_url":"https://github.com/elastic/elasticsearch/issues/17016#issuecomment-288107528","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17016","id":288107528,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODEwNzUyOA==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2017-03-21T15:04:51Z","updated_at":"2017-03-21T15:04:51Z","author_association":"MEMBER","body":"Is this issue still relevant?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/376035393","html_url":"https://github.com/elastic/elasticsearch/issues/17016#issuecomment-376035393","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17016","id":376035393,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjAzNTM5Mw==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-03-26T03:19:11Z","updated_at":"2018-03-26T03:19:11Z","author_association":"CONTRIBUTOR","body":"Closing this since there has not been much feedback given in over a year. despite this issue being closed please feel free to leave feedback on the proposal (including +1s).","performed_via_github_app":null}]