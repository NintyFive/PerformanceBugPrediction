[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/527731713","html_url":"https://github.com/elastic/elasticsearch/issues/46302#issuecomment-527731713","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46302","id":527731713,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzczMTcxMw==","user":{"login":"cjcenizal","id":1238659,"node_id":"MDQ6VXNlcjEyMzg2NTk=","avatar_url":"https://avatars2.githubusercontent.com/u/1238659?v=4","gravatar_id":"","url":"https://api.github.com/users/cjcenizal","html_url":"https://github.com/cjcenizal","followers_url":"https://api.github.com/users/cjcenizal/followers","following_url":"https://api.github.com/users/cjcenizal/following{/other_user}","gists_url":"https://api.github.com/users/cjcenizal/gists{/gist_id}","starred_url":"https://api.github.com/users/cjcenizal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cjcenizal/subscriptions","organizations_url":"https://api.github.com/users/cjcenizal/orgs","repos_url":"https://api.github.com/users/cjcenizal/repos","events_url":"https://api.github.com/users/cjcenizal/events{/privacy}","received_events_url":"https://api.github.com/users/cjcenizal/received_events","type":"User","site_admin":false},"created_at":"2019-09-04T04:12:16Z","updated_at":"2019-09-04T04:12:16Z","author_association":"CONTRIBUTOR","body":"Moved to Kibana: https://github.com/elastic/kibana/issues/44746","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/530973162","html_url":"https://github.com/elastic/elasticsearch/issues/46302#issuecomment-530973162","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46302","id":530973162,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDk3MzE2Mg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-09-12T19:34:35Z","updated_at":"2019-09-12T19:34:35Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-features","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/567549750","html_url":"https://github.com/elastic/elasticsearch/issues/46302#issuecomment-567549750","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46302","id":567549750,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzU0OTc1MA==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T15:59:05Z","updated_at":"2019-12-19T15:59:05Z","author_association":"MEMBER","body":"We discussed this today and decided against this. There are multiple reasons:\r\n\r\n- Configuration should be specified in as few places as possible, so specifying it both in a template AND in an ILM policy duplicates the settings and introduces potential for a mismatch in behavior (expecting it to follow one way and finding that it doesn't)\r\n- ILM enforces its allocation rules, so if a user configured a policy in the `hot` phase that couldn't be conformed, then indices created with that policy would not be able to proceed. This is very dangerous in scenarios where rollover can't happen because the index hasn't transitioned past the allocation step. They could end up filling up a single index without knowing it.\r\n- By putting the allocation in the ILM policy, we'd allocate shards to a random node and then immediately move them. Instead, when the allocation goes into the template, the shards are allocated according to the policy when they are first created, rather than immediately triggering a relocation.\r\n\r\nBecause of these reasons, we're going to close this issue.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/567609582","html_url":"https://github.com/elastic/elasticsearch/issues/46302#issuecomment-567609582","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46302","id":567609582,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzYwOTU4Mg==","user":{"login":"cjcenizal","id":1238659,"node_id":"MDQ6VXNlcjEyMzg2NTk=","avatar_url":"https://avatars2.githubusercontent.com/u/1238659?v=4","gravatar_id":"","url":"https://api.github.com/users/cjcenizal","html_url":"https://github.com/cjcenizal","followers_url":"https://api.github.com/users/cjcenizal/followers","following_url":"https://api.github.com/users/cjcenizal/following{/other_user}","gists_url":"https://api.github.com/users/cjcenizal/gists{/gist_id}","starred_url":"https://api.github.com/users/cjcenizal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cjcenizal/subscriptions","organizations_url":"https://api.github.com/users/cjcenizal/orgs","repos_url":"https://api.github.com/users/cjcenizal/repos","events_url":"https://api.github.com/users/cjcenizal/events{/privacy}","received_events_url":"https://api.github.com/users/cjcenizal/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T18:35:07Z","updated_at":"2019-12-19T18:35:07Z","author_association":"CONTRIBUTOR","body":"@dakrone Can you confirm that using index templates as @medcl outlined would be the right way to control shard allocation during the hot phase?\r\n\r\nI created https://github.com/elastic/kibana/issues/53621 so that we can add hints to the UI to make it easier for users to adopt this tactic.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/567621979","html_url":"https://github.com/elastic/elasticsearch/issues/46302#issuecomment-567621979","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46302","id":567621979,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzYyMTk3OQ==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T19:08:51Z","updated_at":"2019-12-19T19:08:51Z","author_association":"MEMBER","body":"@cjcenizal that's correct. Using index templates or manually setting the settings while creating the index is the correct way to control this.","performed_via_github_app":null}]