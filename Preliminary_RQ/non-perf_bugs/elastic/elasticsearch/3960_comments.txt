[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/26979725","html_url":"https://github.com/elastic/elasticsearch/issues/3960#issuecomment-26979725","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3960","id":26979725,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTc5NzI1","user":{"login":"bobrik","id":89186,"node_id":"MDQ6VXNlcjg5MTg2","avatar_url":"https://avatars0.githubusercontent.com/u/89186?v=4","gravatar_id":"","url":"https://api.github.com/users/bobrik","html_url":"https://github.com/bobrik","followers_url":"https://api.github.com/users/bobrik/followers","following_url":"https://api.github.com/users/bobrik/following{/other_user}","gists_url":"https://api.github.com/users/bobrik/gists{/gist_id}","starred_url":"https://api.github.com/users/bobrik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bobrik/subscriptions","organizations_url":"https://api.github.com/users/bobrik/orgs","repos_url":"https://api.github.com/users/bobrik/repos","events_url":"https://api.github.com/users/bobrik/events{/privacy}","received_events_url":"https://api.github.com/users/bobrik/received_events","type":"User","site_admin":false},"created_at":"2013-10-24T09:57:26Z","updated_at":"2013-10-24T09:57:26Z","author_association":"CONTRIBUTOR","body":"@brwe I'm wondering if \"flattering\" before applying `function_score` could work too. Like in #3926 each function could be applied to each value and `score_mode` could be used to calculate result from NxM values where N is functions count and M is values count.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/26980239","html_url":"https://github.com/elastic/elasticsearch/issues/3960#issuecomment-26980239","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3960","id":26980239,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTgwMjM5","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-10-24T10:06:23Z","updated_at":"2013-10-24T10:06:23Z","author_association":"CONTRIBUTOR","body":"we have a bunch of places where we do similar things like in Sorting we use `org.elasticsearch.index.fielddata.fieldcomparator.SortMode` where users can simply pick if they want the min/max/sum/average of a multivalued field.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/26981584","html_url":"https://github.com/elastic/elasticsearch/issues/3960#issuecomment-26981584","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3960","id":26981584,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTgxNTg0","user":{"login":"brwe","id":4320215,"node_id":"MDQ6VXNlcjQzMjAyMTU=","avatar_url":"https://avatars0.githubusercontent.com/u/4320215?v=4","gravatar_id":"","url":"https://api.github.com/users/brwe","html_url":"https://github.com/brwe","followers_url":"https://api.github.com/users/brwe/followers","following_url":"https://api.github.com/users/brwe/following{/other_user}","gists_url":"https://api.github.com/users/brwe/gists{/gist_id}","starred_url":"https://api.github.com/users/brwe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brwe/subscriptions","organizations_url":"https://api.github.com/users/brwe/orgs","repos_url":"https://api.github.com/users/brwe/repos","events_url":"https://api.github.com/users/brwe/events{/privacy}","received_events_url":"https://api.github.com/users/brwe/received_events","type":"User","site_admin":false},"created_at":"2013-10-24T10:30:50Z","updated_at":"2013-10-24T10:30:50Z","author_association":"CONTRIBUTOR","body":"I see. Might make sense.\nDo you think we should also take care of the following use case?\n\nI have a multi valued field with N entries, but it actually represents an N-dim vector. Instead of computing avg, min or max distance, I actually want to give the origin as vector as well and then compute euclidean distance of origin and field vector.\n\nIn this case the number of values in the field should be the same as the number of values given in the `origin` parameter.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41278894","html_url":"https://github.com/elastic/elasticsearch/issues/3960#issuecomment-41278894","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3960","id":41278894,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjc4ODk0","user":{"login":"brwe","id":4320215,"node_id":"MDQ6VXNlcjQzMjAyMTU=","avatar_url":"https://avatars0.githubusercontent.com/u/4320215?v=4","gravatar_id":"","url":"https://api.github.com/users/brwe","html_url":"https://github.com/brwe","followers_url":"https://api.github.com/users/brwe/followers","following_url":"https://api.github.com/users/brwe/following{/other_user}","gists_url":"https://api.github.com/users/brwe/gists{/gist_id}","starred_url":"https://api.github.com/users/brwe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brwe/subscriptions","organizations_url":"https://api.github.com/users/brwe/orgs","repos_url":"https://api.github.com/users/brwe/repos","events_url":"https://api.github.com/users/brwe/events{/privacy}","received_events_url":"https://api.github.com/users/brwe/received_events","type":"User","site_admin":false},"created_at":"2014-04-24T13:23:03Z","updated_at":"2014-04-24T13:23:03Z","author_association":"CONTRIBUTOR","body":"Closed this issue. Feel free to open a new issue if you think multiple values should be handled as described above.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41279373","html_url":"https://github.com/elastic/elasticsearch/issues/3960#issuecomment-41279373","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3960","id":41279373,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjc5Mzcz","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2014-04-24T13:27:49Z","updated_at":"2014-04-24T13:27:49Z","author_association":"CONTRIBUTOR","body":"@brwe Unfortunately, the `isMultiValued` method might return true even if the field is single-valued. The reason is that our doc-values-based impls can't know whether they are single-valued. (This reminds me that we should randomly use doc values instead of uninverted field data in our tests /cc @javanna @s1monw)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41281906","html_url":"https://github.com/elastic/elasticsearch/issues/3960#issuecomment-41281906","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3960","id":41281906,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjgxOTA2","user":{"login":"brwe","id":4320215,"node_id":"MDQ6VXNlcjQzMjAyMTU=","avatar_url":"https://avatars0.githubusercontent.com/u/4320215?v=4","gravatar_id":"","url":"https://api.github.com/users/brwe","html_url":"https://github.com/brwe","followers_url":"https://api.github.com/users/brwe/followers","following_url":"https://api.github.com/users/brwe/following{/other_user}","gists_url":"https://api.github.com/users/brwe/gists{/gist_id}","starred_url":"https://api.github.com/users/brwe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brwe/subscriptions","organizations_url":"https://api.github.com/users/brwe/orgs","repos_url":"https://api.github.com/users/brwe/repos","events_url":"https://api.github.com/users/brwe/events{/privacy}","received_events_url":"https://api.github.com/users/brwe/received_events","type":"User","site_admin":false},"created_at":"2014-04-24T13:50:15Z","updated_at":"2014-04-24T13:50:15Z","author_association":"CONTRIBUTOR","body":"Thanks! I reverted the commits for now.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41286179","html_url":"https://github.com/elastic/elasticsearch/issues/3960#issuecomment-41286179","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3960","id":41286179,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjg2MTc5","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2014-04-24T14:26:20Z","updated_at":"2014-04-24T14:26:20Z","author_association":"CONTRIBUTOR","body":"@brwe I pushed a commit on how we could solve this - just as an example to start the discussion\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41287365","html_url":"https://github.com/elastic/elasticsearch/issues/3960#issuecomment-41287365","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3960","id":41287365,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjg3MzY1","user":{"login":"brwe","id":4320215,"node_id":"MDQ6VXNlcjQzMjAyMTU=","avatar_url":"https://avatars0.githubusercontent.com/u/4320215?v=4","gravatar_id":"","url":"https://api.github.com/users/brwe","html_url":"https://github.com/brwe","followers_url":"https://api.github.com/users/brwe/followers","following_url":"https://api.github.com/users/brwe/following{/other_user}","gists_url":"https://api.github.com/users/brwe/gists{/gist_id}","starred_url":"https://api.github.com/users/brwe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brwe/subscriptions","organizations_url":"https://api.github.com/users/brwe/orgs","repos_url":"https://api.github.com/users/brwe/repos","events_url":"https://api.github.com/users/brwe/events{/privacy}","received_events_url":"https://api.github.com/users/brwe/received_events","type":"User","site_admin":false},"created_at":"2014-04-24T14:36:17Z","updated_at":"2014-04-24T14:36:17Z","author_association":"CONTRIBUTOR","body":"@s1monw That would work I think. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41374848","html_url":"https://github.com/elastic/elasticsearch/issues/3960#issuecomment-41374848","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3960","id":41374848,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzc0ODQ4","user":{"login":"brwe","id":4320215,"node_id":"MDQ6VXNlcjQzMjAyMTU=","avatar_url":"https://avatars0.githubusercontent.com/u/4320215?v=4","gravatar_id":"","url":"https://api.github.com/users/brwe","html_url":"https://github.com/brwe","followers_url":"https://api.github.com/users/brwe/followers","following_url":"https://api.github.com/users/brwe/following{/other_user}","gists_url":"https://api.github.com/users/brwe/gists{/gist_id}","starred_url":"https://api.github.com/users/brwe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brwe/subscriptions","organizations_url":"https://api.github.com/users/brwe/orgs","repos_url":"https://api.github.com/users/brwe/repos","events_url":"https://api.github.com/users/brwe/events{/privacy}","received_events_url":"https://api.github.com/users/brwe/received_events","type":"User","site_admin":false},"created_at":"2014-04-25T09:33:32Z","updated_at":"2014-04-25T09:33:32Z","author_association":"CONTRIBUTOR","body":"Opened pull request #5940\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41665028","html_url":"https://github.com/elastic/elasticsearch/issues/3960#issuecomment-41665028","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3960","id":41665028,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNjY1MDI4","user":{"login":"brwe","id":4320215,"node_id":"MDQ6VXNlcjQzMjAyMTU=","avatar_url":"https://avatars0.githubusercontent.com/u/4320215?v=4","gravatar_id":"","url":"https://api.github.com/users/brwe","html_url":"https://github.com/brwe","followers_url":"https://api.github.com/users/brwe/followers","following_url":"https://api.github.com/users/brwe/following{/other_user}","gists_url":"https://api.github.com/users/brwe/gists{/gist_id}","starred_url":"https://api.github.com/users/brwe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brwe/subscriptions","organizations_url":"https://api.github.com/users/brwe/orgs","repos_url":"https://api.github.com/users/brwe/repos","events_url":"https://api.github.com/users/brwe/events{/privacy}","received_events_url":"https://api.github.com/users/brwe/received_events","type":"User","site_admin":false},"created_at":"2014-04-29T11:28:01Z","updated_at":"2014-04-29T11:28:01Z","author_association":"CONTRIBUTOR","body":"Closing, the issue is fixed by https://github.com/elasticsearch/elasticsearch/pull/5940\n","performed_via_github_app":null}]