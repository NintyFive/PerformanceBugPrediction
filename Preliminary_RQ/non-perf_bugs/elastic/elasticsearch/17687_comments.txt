[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/209011585","html_url":"https://github.com/elastic/elasticsearch/issues/17687#issuecomment-209011585","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17687","id":209011585,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTAxMTU4NQ==","user":{"login":"uboness","id":211019,"node_id":"MDQ6VXNlcjIxMTAxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/211019?v=4","gravatar_id":"","url":"https://api.github.com/users/uboness","html_url":"https://github.com/uboness","followers_url":"https://api.github.com/users/uboness/followers","following_url":"https://api.github.com/users/uboness/following{/other_user}","gists_url":"https://api.github.com/users/uboness/gists{/gist_id}","starred_url":"https://api.github.com/users/uboness/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uboness/subscriptions","organizations_url":"https://api.github.com/users/uboness/orgs","repos_url":"https://api.github.com/users/uboness/repos","events_url":"https://api.github.com/users/uboness/events{/privacy}","received_events_url":"https://api.github.com/users/uboness/received_events","type":"User","site_admin":false},"created_at":"2016-04-12T17:11:56Z","updated_at":"2016-04-12T17:12:25Z","author_association":"CONTRIBUTOR","body":"align the message with the deprecated settings message?\n\n```\n\"Endpoint [xxxxxx] is deprecated, use [yyyyyy] instead\"\n```\n\ndo we also want:\n\n``` java\ncontroller.registerRemovedEndpoint(POST, \"/_optimize\");\n```\n\nthat will emit:\n\n```\n\"Endpoint [xxxxxx] has been removed, use [yyyyyy] instead\"\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/209021824","html_url":"https://github.com/elastic/elasticsearch/issues/17687#issuecomment-209021824","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17687","id":209021824,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTAyMTgyNA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-04-12T17:37:28Z","updated_at":"2016-04-12T17:37:28Z","author_association":"MEMBER","body":"As a bonanza, adding an HTTP header containing the same might be useful (the client might not have access to the server logs where the deprecation logging would be emitted)?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/209367170","html_url":"https://github.com/elastic/elasticsearch/issues/17687#issuecomment-209367170","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17687","id":209367170,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTM2NzE3MA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-04-13T11:00:33Z","updated_at":"2016-04-13T11:00:33Z","author_association":"CONTRIBUTOR","body":"++\n\n> As a bonanza, adding an HTTP header containing the same might be useful (the client might not have access to the server logs where the deprecation logging would be emitted)?\n\nI was going to comment that the clients don't expose headers at all, so this info would be hidden.  But actually, the clients all have logging facilities. I think the clients should look for these headers and warn if found.  This would improve the discoverability of deprecations (https://github.com/elastic/elasticsearch/issues/8963) which currently require deprecation logging to be specifically enabled.  It'd also make it easier to figure out which requests are using deprecated syntax.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/209567657","html_url":"https://github.com/elastic/elasticsearch/issues/17687#issuecomment-209567657","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17687","id":209567657,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTU2NzY1Nw==","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"created_at":"2016-04-13T17:56:37Z","updated_at":"2016-04-13T17:56:37Z","author_association":"MEMBER","body":"Is there a preferred, existing header for this?\n\nAs a side note, I took a look for a better response code, and [there does exist `299` as a warn code](http://www.iana.org/assignments/http-warn-codes/http-warn-codes.xhtml#warn-codes) in the 2xx line of response codes. The other [2xx response codes seem more exact in nature](http://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml).\n\nAlong with 299, it also brings along some other headers that seem highly relevant: https://tools.ietf.org/html/rfc7234#section-5.5\n\n>  The \"Warning\" header field is used to carry additional information\n>    about the status or transformation of a message that might not be\n>    reflected in the status code.  This information is typically used to\n>    warn about possible incorrectness introduced by caching operations or\n>    transformations applied to the payload of the message.\n> \n>   Warnings can be used for other purposes, both cache-related and\n>    otherwise.  The use of a warning, rather than an error status code,\n>    distinguishes these responses from true failures.\n\nThis would allow us to signal a valid response without breaking anyone that checks for a `[200, 300)` response code and provide it in a standardized format. What do you think?\n\nI think that the way it should be handled is:\n\n```\nif response code is 200 or 201, then\n   change to 299\nend\n\nadd warning header info\n```\n\nWhat do we think?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/209571885","html_url":"https://github.com/elastic/elasticsearch/issues/17687#issuecomment-209571885","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17687","id":209571885,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTU3MTg4NQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-04-13T18:06:02Z","updated_at":"2016-04-14T00:59:25Z","author_association":"MEMBER","body":"> Is there a preferred, existing header for this?\n\nI think that we can use the `Warning:` header.\n\nI do not think that we should change the status code. I especially do not think that we should use 299 from RFC 7234; while RFC 7234 is published on the Standards Track it is still in [Proposed Standard](http://www.rfc-editor.org/info/rfc7234) status (as of 2016-04-13). I doubt that clients will properly handle this.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/209818671","html_url":"https://github.com/elastic/elasticsearch/issues/17687#issuecomment-209818671","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17687","id":209818671,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTgxODY3MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-04-14T08:08:54Z","updated_at":"2016-04-14T08:08:54Z","author_association":"CONTRIBUTOR","body":"@elastic/es-clients see https://github.com/elastic/elasticsearch/issues/17687#issuecomment-209571885\n","performed_via_github_app":null}]