[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/4185216","html_url":"https://github.com/elastic/elasticsearch/issues/1732#issuecomment-4185216","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1732","id":4185216,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODUyMTY=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2012-02-26T22:32:12Z","updated_at":"2012-02-26T22:32:12Z","author_association":"MEMBER","body":"Yes, the fields need to be of the same type, across the indices.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/4191301","html_url":"https://github.com/elastic/elasticsearch/issues/1732#issuecomment-4191301","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1732","id":4191301,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTEzMDE=","user":{"login":"MagmaRules","id":32690,"node_id":"MDQ6VXNlcjMyNjkw","avatar_url":"https://avatars0.githubusercontent.com/u/32690?v=4","gravatar_id":"","url":"https://api.github.com/users/MagmaRules","html_url":"https://github.com/MagmaRules","followers_url":"https://api.github.com/users/MagmaRules/followers","following_url":"https://api.github.com/users/MagmaRules/following{/other_user}","gists_url":"https://api.github.com/users/MagmaRules/gists{/gist_id}","starred_url":"https://api.github.com/users/MagmaRules/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MagmaRules/subscriptions","organizations_url":"https://api.github.com/users/MagmaRules/orgs","repos_url":"https://api.github.com/users/MagmaRules/repos","events_url":"https://api.github.com/users/MagmaRules/events{/privacy}","received_events_url":"https://api.github.com/users/MagmaRules/received_events","type":"User","site_admin":false},"created_at":"2012-02-27T10:48:02Z","updated_at":"2012-02-27T10:48:02Z","author_association":"NONE","body":"Yes i understand that =). They have the same type. \n\nThe problem is that in one of the indices the field has not been initialized. It appears that if the field has no values then ES assumes string. This is a problem when we first start our application because one of the indices may take longer to get entries indexed.\n\nIsn't there a way ES can know if a field has been initialized? If the field has not been initialized ES should ignore it.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/4192113","html_url":"https://github.com/elastic/elasticsearch/issues/1732#issuecomment-4192113","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1732","id":4192113,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTIxMTM=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2012-02-27T11:55:08Z","updated_at":"2012-02-27T11:55:08Z","author_association":"MEMBER","body":"Yes, that might be possible.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/4577717","html_url":"https://github.com/elastic/elasticsearch/issues/1732#issuecomment-4577717","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1732","id":4577717,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Nzc3MTc=","user":{"login":"vermaport","id":1252721,"node_id":"MDQ6VXNlcjEyNTI3MjE=","avatar_url":"https://avatars1.githubusercontent.com/u/1252721?v=4","gravatar_id":"","url":"https://api.github.com/users/vermaport","html_url":"https://github.com/vermaport","followers_url":"https://api.github.com/users/vermaport/followers","following_url":"https://api.github.com/users/vermaport/following{/other_user}","gists_url":"https://api.github.com/users/vermaport/gists{/gist_id}","starred_url":"https://api.github.com/users/vermaport/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vermaport/subscriptions","organizations_url":"https://api.github.com/users/vermaport/orgs","repos_url":"https://api.github.com/users/vermaport/repos","events_url":"https://api.github.com/users/vermaport/events{/privacy}","received_events_url":"https://api.github.com/users/vermaport/received_events","type":"User","site_admin":false},"created_at":"2012-03-19T16:43:03Z","updated_at":"2012-03-19T16:43:03Z","author_association":"NONE","body":"I am also getting this error when I have configured a river, which seems to create an internal _river index that is included when _all indices are searched. I am trying to facet on a long field named \"severity\" that exists (and is a long) in all of my regular indices (except for _river, of course). Oddly, if I facet on just the _river index, or on all indices except the _river index, it works as expected (I get 0 hits on the _river index, which is fine). If I specify _all or no index/type, I get the ClassCastException. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/4774310","html_url":"https://github.com/elastic/elasticsearch/issues/1732#issuecomment-4774310","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1732","id":4774310,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzQzMTA=","user":{"login":"vermaport","id":1252721,"node_id":"MDQ6VXNlcjEyNTI3MjE=","avatar_url":"https://avatars1.githubusercontent.com/u/1252721?v=4","gravatar_id":"","url":"https://api.github.com/users/vermaport","html_url":"https://github.com/vermaport","followers_url":"https://api.github.com/users/vermaport/followers","following_url":"https://api.github.com/users/vermaport/following{/other_user}","gists_url":"https://api.github.com/users/vermaport/gists{/gist_id}","starred_url":"https://api.github.com/users/vermaport/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vermaport/subscriptions","organizations_url":"https://api.github.com/users/vermaport/orgs","repos_url":"https://api.github.com/users/vermaport/repos","events_url":"https://api.github.com/users/vermaport/events{/privacy}","received_events_url":"https://api.github.com/users/vermaport/received_events","type":"User","site_admin":false},"created_at":"2012-03-28T17:39:50Z","updated_at":"2012-03-28T17:39:50Z","author_association":"NONE","body":"Here's a gist of the issue. Very easy to reproduce. The only workaround appears to be installing all mappings in all indices so that fields are never missing, or only faceting on indices with mappings that are known to have the field. Or only using a single index.\n\nhttps://gist.github.com/2228486\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/18389257","html_url":"https://github.com/elastic/elasticsearch/issues/1732#issuecomment-18389257","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1732","id":18389257,"node_id":"MDEyOklzc3VlQ29tbWVudDE4Mzg5MjU3","user":{"login":"nahap","id":17428,"node_id":"MDQ6VXNlcjE3NDI4","avatar_url":"https://avatars1.githubusercontent.com/u/17428?v=4","gravatar_id":"","url":"https://api.github.com/users/nahap","html_url":"https://github.com/nahap","followers_url":"https://api.github.com/users/nahap/followers","following_url":"https://api.github.com/users/nahap/following{/other_user}","gists_url":"https://api.github.com/users/nahap/gists{/gist_id}","starred_url":"https://api.github.com/users/nahap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nahap/subscriptions","organizations_url":"https://api.github.com/users/nahap/orgs","repos_url":"https://api.github.com/users/nahap/repos","events_url":"https://api.github.com/users/nahap/events{/privacy}","received_events_url":"https://api.github.com/users/nahap/received_events","type":"User","site_admin":false},"created_at":"2013-05-24T06:52:30Z","updated_at":"2013-05-24T06:52:30Z","author_association":"NONE","body":"will this also happen if i have a shard in which the field has no values yet?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/48342847","html_url":"https://github.com/elastic/elasticsearch/issues/1732#issuecomment-48342847","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1732","id":48342847,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzQyODQ3","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-08T14:24:23Z","updated_at":"2014-07-08T14:24:23Z","author_association":"CONTRIBUTOR","body":"This works correctly in aggregations. Closing\n","performed_via_github_app":null}]