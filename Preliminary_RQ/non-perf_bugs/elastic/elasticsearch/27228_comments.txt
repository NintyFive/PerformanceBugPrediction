[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341378114","html_url":"https://github.com/elastic/elasticsearch/issues/27228#issuecomment-341378114","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27228","id":341378114,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTM3ODExNA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-11-02T10:24:34Z","updated_at":"2017-11-02T10:24:34Z","author_association":"MEMBER","body":"I'm reassigning this to myself because I think I see the problem already.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341379255","html_url":"https://github.com/elastic/elasticsearch/issues/27228#issuecomment-341379255","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27228","id":341379255,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTM3OTI1NQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2017-11-02T10:29:13Z","updated_at":"2017-11-02T10:29:13Z","author_association":"MEMBER","body":"@jasontedor do you think this is a test or more of a test infra problem? Asking because if its the later it might be related to other test failures that I'm looking at currently.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341379361","html_url":"https://github.com/elastic/elasticsearch/issues/27228#issuecomment-341379361","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27228","id":341379361,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTM3OTM2MQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-11-02T10:29:38Z","updated_at":"2017-11-02T10:29:38Z","author_association":"MEMBER","body":"I think it's a problem specific to this test (i.e., a test bug).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341382025","html_url":"https://github.com/elastic/elasticsearch/issues/27228#issuecomment-341382025","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27228","id":341382025,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTM4MjAyNQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2017-11-02T10:40:51Z","updated_at":"2017-11-02T10:40:51Z","author_association":"MEMBER","body":"Another one, in case you need more data points: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+intake/578/console","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341382688","html_url":"https://github.com/elastic/elasticsearch/issues/27228#issuecomment-341382688","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27228","id":341382688,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTM4MjY4OA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-11-02T10:43:37Z","updated_at":"2017-11-02T10:43:37Z","author_association":"MEMBER","body":"Closed by bc63691eda1eaa8c4aaa9c251dee5d39b2914b3e","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341397542","html_url":"https://github.com/elastic/elasticsearch/issues/27228#issuecomment-341397542","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27228","id":341397542,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTM5NzU0Mg==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2017-11-02T11:48:40Z","updated_at":"2017-11-02T11:49:13Z","author_association":"MEMBER","body":"Could you take another look at a later failure that seems to include your fix on the 6.0 branch?\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.0+intake/432/consoleFull\r\n\r\n```\r\n10:44:55 Checking out Revision 38328b33fa32de79c6bf7ee85ea025431e64671c (refs/remotes/origin/6.0)\r\n10:44:55  > git config core.sparsecheckout # timeout=20\r\n10:44:55  > git checkout -f 38328b33fa32de79c6bf7ee85ea025431e64671c\r\n10:44:56 Commit message: \"Fix sequence number assertions in BWC tests\"\r\n10:44:56  > git rev-list a8dbde6ae2608aa0e06bba0b256d63e4365d9454 # timeout=20\r\n```\r\n\r\nI'm not sure if there is anything special about the mixed cluster tests in this case:\r\n\r\n```\r\n11:30:24   2> REPRODUCE WITH: gradle :qa:mixed-cluster:v5.6.4-SNAPSHOT#mixedClusterTestRunner -Dtests.seed=6257E4F15DF2C13A -Dtests.class=org.elasticsearch.backwards.IndexingIT -Dtests.method=\"testSeqNoCheckpoints\" -Dtests.security.manager=true -Dtests.locale=de-CH -Dtests.timezone=Europe/Podgorica\r\n11:30:24 FAILURE 11.0s | IndexingIT.testSeqNoCheckpoints <<< FAILURES!\r\n11:30:24    > Throwable #1: java.lang.AssertionError: max_seq no on Node{id='6DaPPL8cQJiqAStVx6BsbQ', nodeName='node-2', version=6.0.0} is wrong\r\n11:30:24    > Expected: <11L>\r\n11:30:24    >      but: was <3L>\r\n11:30:24    > \tat __randomizedtesting.SeedInfo.seed([6257E4F15DF2C13A:533B0E3A976D4466]:0)\r\n11:30:24    > \tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n11:30:24    > \tat org.elasticsearch.backwards.IndexingIT.lambda$assertSeqNoOnShards$3(IndexingIT.java:281)\r\n11:30:24    > \tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:722)\r\n11:30:24    > \tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:696)\r\n11:30:24    > \tat org.elasticsearch.backwards.IndexingIT.assertSeqNoOnShards(IndexingIT.java:262)\r\n11:30:24    > \tat org.elasticsearch.backwards.IndexingIT.testSeqNoCheckpoints(IndexingIT.java:223)\r\n11:30:24    > \tat java.lang.Thread.run(Thread.java:745)\r\n11:30:24    > \tSuppressed: java.lang.AssertionError: max_seq no on Node{id='6DaPPL8cQJiqAStVx6BsbQ', nodeName='node-2', version=6.0.0} is wrong\r\n11:30:24    > Expected: <11L>\r\n11:30:24    >      but: was <3L>\r\n11:30:24    > \t\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n11:30:24    > \t\tat org.elasticsearch.backwards.IndexingIT.lambda$assertSeqNoOnShards$3(IndexingIT.java:281)\r\n11:30:24    > \t\tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:710)\r\n11:30:24    > \t\t... 40 more\r\n11:30:24    > \tSuppressed: java.lang.AssertionError: max_seq no on Node{id='6DaPPL8cQJiqAStVx6BsbQ', nodeName='node-2', version=6.0.0} is wrong\r\n11:30:24    > Expected: <11L>\r\n11:30:24    >      but: was <3L>\r\n11:30:24    > \t\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n11:30:24   2> NOTE: leaving temporary files on disk at: /var/lib/jenkins/workspace/elastic+elasticsearch+6.0+intake/qa/mixed-cluster/build/testrun/v5.6.4-SNAPSHOT#mixedClusterTestRunner/J0/temp/org.elasticsearch.backwards.IndexingIT_6257E4F15DF2C13A-001\r\n11:30:24   2> NOTE: test params are: codec=Asserting(Lucene70): {}, docValues:{}, maxPointsInLeafNode=1404, maxMBSortInHeap=5.100370776080765, sim=RandomSimilarity(queryNorm=true): {}, locale=de-CH, timezone=Europe/Podgorica\r\n11:30:24    > \t\tat org.elasticsearch.backwards.IndexingIT.lambda$assertSeqNoOnShards$3(IndexingIT.java:281)\r\n11:30:24   2> NOTE: Linux 4.4.49-92.14-default amd64/Oracle Corporation 1.8.0_121 (64-bit)/cpus=4,threads=1,free=429185928,total=514850816\r\n11:30:24   2> NOTE: All tests run in this JVM: [IndexingIT]\r\n11:30:24    > \t\tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:710)\r\n11:30:24    > \t\t... 40 more\r\n11:30:24    > \tSuppressed: java.lang.AssertionError: max_seq no on Node{id='6DaPPL8cQJiqAStVx6BsbQ', nodeName='node-2', version=6.0.0} is wrong\r\n11:30:24    > Expected: <11L>\r\n11:30:24    >      but: was <3L>\r\n11:30:24    > \t\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n11:30:24    > \t\tat org.elasticsearch.backwards.IndexingIT.lambda$assertSeqNoOnShards$3(IndexingIT.java:281)\r\n11:30:24    > \t\tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:710)\r\n11:30:24    > \t\t... 40 more\r\n11:30:24    > \tSuppressed: java.lang.AssertionError: max_seq no on Node{id='6DaPPL8cQJiqAStVx6BsbQ', nodeName='node-2', version=6.0.0} is wrong\r\n11:30:24    > Expected: <11L>\r\n11:30:24    >      but: was <3L>\r\n11:30:24    > \t\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n11:30:24    > \t\tat org.elasticsearch.backwards.IndexingIT.lambda$assertSeqNoOnShards$3(IndexingIT.java:281)\r\n11:30:24    > \t\tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:710)\r\n11:30:24    > \t\t... 40 more\r\n11:30:24    > \tSuppressed: java.lang.AssertionError: max_seq no on Node{id='6DaPPL8cQJiqAStVx6BsbQ', nodeName='node-2', version=6.0.0} is wrong\r\n11:30:24    > Expected: <11L>\r\n11:30:24    >      but: was <3L>\r\n11:30:24    > \t\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n11:30:24    > \t\tat org.elasticsearch.backwards.IndexingIT.lambda$assertSeqNoOnShards$3(IndexingIT.java:281)\r\n11:30:24    > \t\tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:710)\r\n11:30:24    > \t\t... 40 more\r\n11:30:24    > \tSuppressed: java.lang.AssertionError: max_seq no on Node{id='6DaPPL8cQJiqAStVx6BsbQ', nodeName='node-2', version=6.0.0} is wrong\r\n11:30:24    > Expected: <11L>\r\n11:30:24    >      but: was <3L>\r\n11:30:24    > \t\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n11:30:24    > \t\tat org.elasticsearch.backwards.IndexingIT.lambda$assertSeqNoOnShards$3(IndexingIT.java:281)\r\n11:30:24    > \t\tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:710)\r\n11:30:24    > \t\t... 40 more\r\n11:30:24    > \tSuppressed: java.lang.AssertionError: max_seq no on Node{id='6DaPPL8cQJiqAStVx6BsbQ', nodeName='node-2', version=6.0.0} is wrong\r\n11:30:24    > Expected: <11L>\r\n11:30:24    >      but: was <3L>\r\n11:30:24    > \t\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n11:30:24    > \t\tat org.elasticsearch.backwards.IndexingIT.lambda$assertSeqNoOnShards$3(IndexingIT.java:281)\r\n11:30:24    > \t\tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:710)\r\n11:30:24    > \t\t... 40 more\r\n11:30:24    > \tSuppressed: java.lang.AssertionError: max_seq no on Node{id='6DaPPL8cQJiqAStVx6BsbQ', nodeName='node-2', version=6.0.0} is wrong\r\n11:30:24    > Expected: <11L>\r\n11:30:24    >      but: was <3L>\r\n11:30:24    > \t\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n11:30:24    > \t\tat org.elasticsearch.backwards.IndexingIT.lambda$assertSeqNoOnShards$3(IndexingIT.java:281)\r\n11:30:24    > \t\tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:710)\r\n11:30:24    > \t\t... 40 more\r\n11:30:24    > \tSuppressed: java.lang.AssertionError: max_seq no on Node{id='6DaPPL8cQJiqAStVx6BsbQ', nodeName='node-2', version=6.0.0} is wrong\r\n11:30:24    > Expected: <11L>\r\n11:30:24    >      but: was <3L>\r\n11:30:24    > \t\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n11:30:24    > \t\tat org.elasticsearch.backwards.IndexingIT.lambda$assertSeqNoOnShards$3(IndexingIT.java:281)\r\n11:30:24    > \t\tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:710)\r\n11:30:24    > \t\t... 40 more\r\n11:30:24    > \tSuppressed: java.lang.AssertionError: max_seq no on Node{id='6DaPPL8cQJiqAStVx6BsbQ', nodeName='node-2', version=6.0.0} is wrong\r\n11:30:24    > Expected: <11L>\r\n11:30:24    >      but: was <3L>\r\n11:30:24    > \t\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n11:30:24    > \t\tat org.elasticsearch.backwards.IndexingIT.lambda$assertSeqNoOnShards$3(IndexingIT.java:281)\r\n11:30:24    > \t\tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:710)\r\n11:30:24    > \t\t... 40 more\r\n11:30:24    > \tSuppressed: java.lang.AssertionError: max_seq no on Node{id='6DaPPL8cQJiqAStVx6BsbQ', nodeName='node-2', version=6.0.0} is wrong\r\n11:30:24    > Expected: <11L>\r\n11:30:24    >      but: was <3L>\r\n11:30:24    > \t\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n11:30:24    > \t\tat org.elasticsearch.backwards.IndexingIT.lambda$assertSeqNoOnShards$3(IndexingIT.java:281)\r\n11:30:24    > \t\tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:710)\r\n11:30:24    > \t\t... 40 more\r\n11:30:24    > \tSuppressed: java.lang.AssertionError: max_seq no on Node{id='6DaPPL8cQJiqAStVx6BsbQ', nodeName='node-2', version=6.0.0} is wrong\r\n11:30:24    > Expected: <11L>\r\n11:30:24    >      but: was <3L>\r\n11:30:24    > \t\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n11:30:24    > \t\tat org.elasticsearch.backwards.IndexingIT.lambda$assertSeqNoOnShards$3(IndexingIT.java:281)\r\n11:30:25    > \t\tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:710)\r\n11:30:25    > \t\t... 40 more\r\n11:30:25    > \tSuppressed: java.lang.AssertionError: max_seq no on Node{id='6DaPPL8cQJiqAStVx6BsbQ', nodeName='node-2', version=6.0.0} is wrong\r\n11:30:25    > Expected: <11L>\r\n11:30:25    >      but: was <3L>\r\n11:30:25    > \t\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n11:30:25    > \t\tat org.elasticsearch.backwards.IndexingIT.lambda$assertSeqNoOnShards$3(IndexingIT.java:281)\r\n11:30:25    > \t\tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:710)\r\n11:30:25    > \t\t... 40 more\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341403022","html_url":"https://github.com/elastic/elasticsearch/issues/27228#issuecomment-341403022","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27228","id":341403022,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTQwMzAyMg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-11-02T12:14:47Z","updated_at":"2017-11-02T12:14:47Z","author_association":"MEMBER","body":"The assertions were correct as-was on 6.0, where there is a 5.6 node in play that is not maintaining sequence numbers when it acts as the primary. Therefore I should not have backported the fix that was applicable to the 6.x branch to 6.0. I have reverted this in df0eae2a3cf5add16481dcf25afad792d69438d0.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341419044","html_url":"https://github.com/elastic/elasticsearch/issues/27228#issuecomment-341419044","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27228","id":341419044,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTQxOTA0NA==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2017-11-02T13:22:57Z","updated_at":"2017-11-02T13:22:57Z","author_association":"MEMBER","body":"@jasontedor sorry to bother yet another time, but I'm still getting similar errors on the 6.0 branch:\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.0+intake/433/consoleFull\r\n\r\n```\r\n12:14:39  > git checkout -f df0eae2a3cf5add16481dcf25afad792d69438d0\r\n12:14:40 Commit message: \"Revert \"Remove checkpoint tracker bit sets setting\"\"\r\n```\r\n\r\n```\r\n13:01:06   2> REPRODUCE WITH: gradle :qa:mixed-cluster:v5.6.4-SNAPSHOT#mixedClusterTestRunner -Dtests.seed=F9E2FADEDD2FFE3B -Dtests.class=org.elasticsearch.backwards.IndexingIT -Dtests.method=\"testSeqNoCheckpoints\" -Dtests.security.manager=true -Dtests.locale=sr-BA -Dtests.timezone=VST\r\n13:01:06 FAILURE 11.5s | IndexingIT.testSeqNoCheckpoints <<< FAILURES!\r\n13:01:06    > Throwable #1: java.lang.AssertionError: max_seq no on Node{id='Jl6oXYmqTP2VZvxepcka7Q', nodeName='node-2', version=6.0.0} is wrong\r\n13:01:06    > Expected: <8L>\r\n13:01:06    >      but: was <0L>\r\n13:01:06    > \tat __randomizedtesting.SeedInfo.seed([F9E2FADEDD2FFE3B:C88E101517B07B67]:0)\r\n13:01:06    > \tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n13:01:06    > \tat org.elasticsearch.backwards.IndexingIT.lambda$assertSeqNoOnShards$3(IndexingIT.java:281)\r\n13:01:06    > \tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:722)\r\n13:01:06    > \tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:696)\r\n13:01:06    > \tat org.elasticsearch.backwards.IndexingIT.assertSeqNoOnShards(IndexingIT.java:262)\r\n13:01:06    > \tat org.elasticsearch.backwards.IndexingIT.testSeqNoCheckpoints(IndexingIT.java:223)\r\n13:01:06    > \tat java.lang.Thread.run(Thread.java:745)\r\n13:01:06    > \tSuppressed: java.lang.AssertionError: max_seq no on Node{id='Jl6oXYmqTP2VZvxepcka7Q', nodeName='node-2', version=6.0.0} is wrong\r\n13:01:06    > Expected: <8L>\r\n13:01:06    >      but: was <0L>\r\n13:01:06    > \t\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n13:01:06    > \t\tat org.elasticsearch.backwards.IndexingIT.lambda$assertSeqNoOnShards$3(IndexingIT.java:281)\r\n13:01:06    > \t\tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:710)\r\n13:01:06    > \t\t... 40 more\r\n13:01:06    > \tSuppressed: java.lang.AssertionError: max_seq no on Node{id='Jl6oXYmqTP2VZvxepcka7Q', nodeName='node-2', version=6.0.0} is wrong\r\n```\r\n\r\nI might have misunderstood sth. but I thought 38328b33fa32de79c6bf7ee8 should have been reverted, but the above commit seems to have reverted another commit?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341420006","html_url":"https://github.com/elastic/elasticsearch/issues/27228#issuecomment-341420006","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27228","id":341420006,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTQyMDAwNg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-11-02T13:26:27Z","updated_at":"2017-11-02T13:26:27Z","author_association":"MEMBER","body":"I'm really not sure how that happened. I have fixed this.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341420362","html_url":"https://github.com/elastic/elasticsearch/issues/27228#issuecomment-341420362","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27228","id":341420362,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTQyMDM2Mg==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2017-11-02T13:27:49Z","updated_at":"2017-11-02T13:27:49Z","author_association":"MEMBER","body":"np, thanks, will keep an eye on it ;-)","performed_via_github_app":null}]