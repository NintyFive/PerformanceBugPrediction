{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/16016","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16016/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16016/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16016/events","html_url":"https://github.com/elastic/elasticsearch/issues/16016","id":126886961,"node_id":"MDU6SXNzdWUxMjY4ODY5NjE=","number":16016,"title":"Kibana: No Living connections","user":{"login":"lakal-malimage","id":10530340,"node_id":"MDQ6VXNlcjEwNTMwMzQw","avatar_url":"https://avatars1.githubusercontent.com/u/10530340?v=4","gravatar_id":"","url":"https://api.github.com/users/lakal-malimage","html_url":"https://github.com/lakal-malimage","followers_url":"https://api.github.com/users/lakal-malimage/followers","following_url":"https://api.github.com/users/lakal-malimage/following{/other_user}","gists_url":"https://api.github.com/users/lakal-malimage/gists{/gist_id}","starred_url":"https://api.github.com/users/lakal-malimage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lakal-malimage/subscriptions","organizations_url":"https://api.github.com/users/lakal-malimage/orgs","repos_url":"https://api.github.com/users/lakal-malimage/repos","events_url":"https://api.github.com/users/lakal-malimage/events{/privacy}","received_events_url":"https://api.github.com/users/lakal-malimage/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-01-15T14:50:37Z","updated_at":"2016-01-15T15:16:28Z","closed_at":"2016-01-15T15:16:28Z","author_association":"NONE","active_lock_reason":null,"body":"I have ES 1.5.2 cluster with Kibana 4.0.1. This consists of 4 data/master nodes along with 4 client nodes. When I'm trying to load kibana sometimes it takes longer time to load data or sometimes I need to restart the ES client node which kibana is pointed to. \n\nI get below console error in Kibana page\nFailed to load resource: net::ERR_EMPTY_RESPONSE - http://xx.xx.xx.xx/elasticsearch/_nodes\n\nand below error in ES log\n[2016-01-15 07:01:52,629][DEBUG][http.netty] [xxxxxx] Caught exception while handling client http traffic, closing connection [id: 0x8301fd2b, /xx.xx.xx.xx:54237 :> /xx.xx.xx.xx:9200]\n\nAll the masters has below config\n\n\"index\" : {\n          \"number_of_shards\" : \"3\"\n        },\n        \"bootstrap\" : {\n          \"mlockall\" : \"true\"\n        },\n        \"threadpool\" : {\n          \"search\" : {\n            \"queue_size\" : \"2000\",\n            \"size\" : \"20\"\n          }\n\"indices\" : {\n          \"fielddata\" : {\n            \"cache\" : {\n              \"size\" : \"50%\"\n            }\n          }\n        },\n        \"discovery\" : {\n          \"zen\" : {\n            \"master_election\" : {\n              \"filter_client\" : \"true\"\n            },\n            \"ping\" : {\n              \"multicast\" : {\n                \"enabled\" : \"false\"\n              },\n              \"timeout\" : \"6s\",\n              \"unicast\" : {\n                \"hosts\" : [ \"xxxx\", \"xxx\", \"xxxx\" ]\n              }\n            }\n          }\n        },\n        \"name\" : \"xxxxx\",\n        \"http\" : {\n          \"enabled\" : \"true\"\n        },\n        \"action\" : {\n          \"disable_delete_all_indices\" : \"true\"\n        },\n        \"client\" : {\n          \"type\" : \"node\"\n        },\n        \"config\" : \"/xxxxx/elasticsearch-1.5.2/config/elasticsearch.yml\"\n      },\n      \"os\" : {\n        \"refresh_interval_in_millis\" : 1000,\n        \"available_processors\" : 4,\n        \"cpu\" : {\n          \"vendor\" : \"Intel\",\n          \"model\" : \"Xeon\",\n          \"mhz\" : 2400,\n          \"total_cores\" : 4,\n          \"total_sockets\" : 2,\n          \"cores_per_socket\" : 2,\n          \"cache_size_in_bytes\" : 30720\n        },\n        \"mem\" : {\n          \"total_in_bytes\" : 16820760576\n        },\n        \"swap\" : {\n          \"total_in_bytes\" : 2145382400\n        }\n      },\n      \"process\" : {\n        \"refresh_interval_in_millis\" : 1000,\n        \"id\" : 48090,\n        \"max_file_descriptors\" : 65535,\n        \"mlockall\" : true\n      },\n      \"jvm\" : {\n        \"pid\" : 48090,\n        \"version\" : \"1.8.0_45\",\n        \"vm_name\" : \"Java HotSpot(TM) 64-Bit Server VM\",\n        \"vm_version\" : \"25.45-b02\",\n        \"vm_vendor\" : \"Oracle Corporation\",\n        \"start_time_in_millis\" : 1452791955862,\n        \"mem\" : {\n          \"heap_init_in_bytes\" : 8589934592,\n          \"heap_max_in_bytes\" : 8555069440,\n          \"non_heap_init_in_bytes\" : 2555904,\n          \"non_heap_max_in_bytes\" : 0,\n          \"direct_max_in_bytes\" : 8555069440\n        },\n        \"gc_collectors\" : [ \"ParNew\", \"ConcurrentMarkSweep\" ],\n        \"memory_pools\" : [ \"Code Cache\", \"Metaspace\", \"Compressed Class Space\", \"Par Eden Space\", \"Par Survivor Space\", \"CMS Old Gen\" ]\n      },\n      \"thread_pool\" : {\n        \"percolate\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 4,\n          \"max\" : 4,\n          \"queue_size\" : \"1k\"\n        },\n        \"listener\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 2,\n          \"max\" : 2,\n          \"queue_size\" : -1\n        },\n        \"index\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 4,\n          \"max\" : 4,\n          \"queue_size\" : \"200\"\n        },\n        \"refresh\" : {\n          \"type\" : \"scaling\",\n          \"min\" : 1,\n          \"max\" : 2,\n          \"keep_alive\" : \"5m\",\n          \"queue_size\" : -1\n        },\n        \"suggest\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 4,\n          \"max\" : 4,\n          \"queue_size\" : \"1k\"\n        },\n        \"generic\" : {\n          \"type\" : \"cached\",\n          \"keep_alive\" : \"30s\",\n          \"queue_size\" : -1\n        },\n        \"warmer\" : {\n          \"type\" : \"scaling\",\n          \"min\" : 1,\n          \"max\" : 2,\n          \"keep_alive\" : \"5m\",\n          \"queue_size\" : -1\n        },\n        \"search\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 20,\n          \"max\" : 20,\n          \"queue_size\" : \"2k\"\n        },\n        \"flush\" : {\n          \"type\" : \"scaling\",\n          \"min\" : 1,\n          \"max\" : 2,\n          \"keep_alive\" : \"5m\",\n          \"queue_size\" : -1\n        },\n        \"optimize\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"queue_size\" : -1\n        },\n        \"management\" : {\n          \"type\" : \"scaling\",\n          \"min\" : 1,\n          \"max\" : 5,\n          \"keep_alive\" : \"5m\",\n          \"queue_size\" : -1\n        },\n        \"get\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 4,\n          \"max\" : 4,\n          \"queue_size\" : \"1k\"\n        },\n        \"merge\" : {\n          \"type\" : \"scaling\",\n          \"min\" : 1,\n          \"max\" : 2,\n          \"keep_alive\" : \"5m\",\n          \"queue_size\" : -1\n        },\n        \"bulk\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 4,\n          \"max\" : 4,\n          \"queue_size\" : \"50\"\n        },\n        \"snapshot\" : {\n          \"type\" : \"scaling\",\n          \"min\" : 1,\n          \"max\" : 2,\n          \"keep_alive\" : \"5m\",\n          \"queue_size\" : -1\n        }\n      },\n      \"network\" : {\n        \"refresh_interval_in_millis\" : 5000,\n        \"primary_interface\" : {\n          \"address\" : \"xxxxxx\",\n          \"name\" : \"eth0\",\n          \"mac_address\" : \"xxxxxxx\"\n        }\n      },\n      \"transport\" : {\n        \"bound_address\" : \"inet[/xxxxx:9300]\",\n        \"publish_address\" : \"inet[/1xxxx:9300]\",\n        \"profiles\" : { }\n      },\n      \"http\" : {\n        \"bound_address\" : \"inet[/1xxxxx:9200]\",\n        \"publish_address\" : \"inet[/xxxxx:9200]\",\n        \"max_content_length_in_bytes\" : 104857600\n      },\n\nAll the clients has below config\n\n\"index\" : {\n          \"number_of_shards\" : \"3\"\n        },\n        \"bootstrap\" : {\n          \"mlockall\" : \"true\"\n        },\n        \"threadpool\" : {\n          \"search\" : {\n            \"queue_size\" : \"2000\",\n            \"size\" : \"20\"\n          }\n\"indices\" : {\n          \"fielddata\" : {\n            \"cache\" : {\n              \"size\" : \"50%\"\n            }\n          }\n        },\n        \"discovery\" : {\n          \"zen\" : {\n            \"master_election\" : {\n              \"filter_client\" : \"true\"\n            },\n            \"ping\" : {\n              \"multicast\" : {\n                \"enabled\" : \"false\"\n              },\n              \"timeout\" : \"6s\",\n              \"unicast\" : {\n                \"hosts\" : [ \"xx.xx.xx.xx\", \"xx.xx.xx.xx\", \"xx.xx.xx.xx\", \"xx.xx.xx.xx\" ]\n              }\n            }\n          }\n        },\n        \"name\" : \"xxxxxx\",\n        \"action\" : {\n          \"disable_delete_all_indices\" : \"true\"\n        },\n        \"client\" : {\n          \"type\" : \"node\"\n        },\n        \"config\" : \"/xxxx/elasticsearch-1.5.2/config/elasticsearch.yml\"\n      },\n      \"os\" : {\n        \"refresh_interval_in_millis\" : 1000,\n        \"available_processors\" : 2,\n        \"cpu\" : {\n          \"vendor\" : \"Intel\",\n          \"model\" : \"Xeon\",\n          \"mhz\" : 2400,\n          \"total_cores\" : 2,\n          \"total_sockets\" : 1,\n          \"cores_per_socket\" : 2,\n          \"cache_size_in_bytes\" : 30720\n        },\n        \"mem\" : {\n          \"total_in_bytes\" : 8365080576\n        },\n        \"swap\" : {\n          \"total_in_bytes\" : 2145382400\n        }\n      },\n      \"process\" : {\n        \"refresh_interval_in_millis\" : 1000,\n        \"id\" : 34778,\n        \"max_file_descriptors\" : 65535,\n        \"mlockall\" : true\n      },\n      \"jvm\" : {\n        \"pid\" : 34778,\n        \"version\" : \"1.8.0_45\",\n        \"vm_name\" : \"Java HotSpot(TM) 64-Bit Server VM\",\n        \"vm_version\" : \"25.45-b02\",\n        \"vm_vendor\" : \"Oracle Corporation\",\n        \"start_time_in_millis\" : 1452792092500,\n        \"mem\" : {\n          \"heap_init_in_bytes\" : 4294967296,\n          \"heap_max_in_bytes\" : 4277534720,\n          \"non_heap_init_in_bytes\" : 2555904,\n          \"non_heap_max_in_bytes\" : 0,\n          \"direct_max_in_bytes\" : 4277534720\n        },\n        \"gc_collectors\" : [ \"ParNew\", \"ConcurrentMarkSweep\" ],\n        \"memory_pools\" : [ \"Code Cache\", \"Metaspace\", \"Compressed Class Space\", \"Par Eden Space\", \"Par Survivor Space\", \"CMS Old Gen\" ]\n      },\n      \"thread_pool\" : {\n        \"percolate\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 2,\n          \"max\" : 2,\n          \"queue_size\" : \"1k\"\n        },\n        \"listener\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"queue_size\" : -1\n        },\n        \"index\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 2,\n          \"max\" : 2,\n          \"queue_size\" : \"200\"\n        },\n        \"refresh\" : {\n          \"type\" : \"scaling\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"keep_alive\" : \"5m\",\n          \"queue_size\" : -1\n        },\n        \"suggest\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 2,\n          \"max\" : 2,\n          \"queue_size\" : \"1k\"\n        },\n        \"generic\" : {\n          \"type\" : \"cached\",\n          \"keep_alive\" : \"30s\",\n          \"queue_size\" : -1\n        },\n        \"warmer\" : {\n          \"type\" : \"scaling\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"keep_alive\" : \"5m\",\n          \"queue_size\" : -1\n        },\n        \"search\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 20,\n          \"max\" : 20,\n          \"queue_size\" : \"2k\"\n        },\n        \"flush\" : {\n          \"type\" : \"scaling\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"keep_alive\" : \"5m\",\n          \"queue_size\" : -1\n        },\n        \"optimize\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"queue_size\" : -1\n        },\n        \"management\" : {\n          \"type\" : \"scaling\",\n          \"min\" : 1,\n          \"max\" : 5,\n          \"keep_alive\" : \"5m\",\n          \"queue_size\" : -1\n        },\n        \"get\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 2,\n          \"max\" : 2,\n          \"queue_size\" : \"1k\"\n        },\n        \"merge\" : {\n          \"type\" : \"scaling\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"keep_alive\" : \"5m\",\n          \"queue_size\" : -1\n        },\n        \"bulk\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 2,\n          \"max\" : 2,\n          \"queue_size\" : \"50\"\n        },\n        \"snapshot\" : {\n          \"type\" : \"scaling\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"keep_alive\" : \"5m\",\n          \"queue_size\" : -1\n        }\n      },\n      \"network\" : {\n        \"refresh_interval_in_millis\" : 5000,\n        \"primary_interface\" : {\n          \"address\" : \"xx.xx.xx.xx\",\n          \"name\" : \"eth0\",\n          \"mac_address\" : \"xx.xx.xx.xx\"\n        }\n      },\n      \"transport\" : {\n        \"bound_address\" : \"inet[/xx.xx.xx.xx:9300]\",\n        \"publish_address\" : \"inet[/xx.xx.xx.xx:9300]\",\n        \"profiles\" : { }\n      },\n      \"http\" : {\n        \"bound_address\" : \"inet[/xx.xx.xx.xx:9200]\",\n        \"publish_address\" : \"inet[/xx.xx.xx.xx:9200]\",\n        \"max_content_length_in_bytes\" : 104857600\n      },\n      \"plugins\" : [ ]\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}