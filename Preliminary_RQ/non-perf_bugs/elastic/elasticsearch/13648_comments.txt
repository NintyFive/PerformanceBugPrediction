[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/141480842","html_url":"https://github.com/elastic/elasticsearch/issues/13648#issuecomment-141480842","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13648","id":141480842,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MTQ4MDg0Mg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-09-18T15:18:57Z","updated_at":"2015-09-18T15:18:57Z","author_association":"CONTRIBUTOR","body":"@PandiyanCool Are you setting `bootstrap.mlockall` to true in the config file?  Also, what version of ES are you using?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/141617555","html_url":"https://github.com/elastic/elasticsearch/issues/13648#issuecomment-141617555","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13648","id":141617555,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MTYxNzU1NQ==","user":{"login":"PandiyanCool","id":6157834,"node_id":"MDQ6VXNlcjYxNTc4MzQ=","avatar_url":"https://avatars1.githubusercontent.com/u/6157834?v=4","gravatar_id":"","url":"https://api.github.com/users/PandiyanCool","html_url":"https://github.com/PandiyanCool","followers_url":"https://api.github.com/users/PandiyanCool/followers","following_url":"https://api.github.com/users/PandiyanCool/following{/other_user}","gists_url":"https://api.github.com/users/PandiyanCool/gists{/gist_id}","starred_url":"https://api.github.com/users/PandiyanCool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PandiyanCool/subscriptions","organizations_url":"https://api.github.com/users/PandiyanCool/orgs","repos_url":"https://api.github.com/users/PandiyanCool/repos","events_url":"https://api.github.com/users/PandiyanCool/events{/privacy}","received_events_url":"https://api.github.com/users/PandiyanCool/received_events","type":"User","site_admin":false},"created_at":"2015-09-19T03:45:26Z","updated_at":"2015-09-19T03:45:26Z","author_association":"CONTRIBUTOR","body":"Yup, I've set it. I'm using version 1.7.1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/141667842","html_url":"https://github.com/elastic/elasticsearch/issues/13648#issuecomment-141667842","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13648","id":141667842,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MTY2Nzg0Mg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-09-19T13:22:47Z","updated_at":"2015-09-19T13:22:47Z","author_association":"CONTRIBUTOR","body":"@gmarz any ideas about this?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/142109928","html_url":"https://github.com/elastic/elasticsearch/issues/13648#issuecomment-142109928","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13648","id":142109928,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MjEwOTkyOA==","user":{"login":"gmarz","id":1594777,"node_id":"MDQ6VXNlcjE1OTQ3Nzc=","avatar_url":"https://avatars0.githubusercontent.com/u/1594777?v=4","gravatar_id":"","url":"https://api.github.com/users/gmarz","html_url":"https://github.com/gmarz","followers_url":"https://api.github.com/users/gmarz/followers","following_url":"https://api.github.com/users/gmarz/following{/other_user}","gists_url":"https://api.github.com/users/gmarz/gists{/gist_id}","starred_url":"https://api.github.com/users/gmarz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmarz/subscriptions","organizations_url":"https://api.github.com/users/gmarz/orgs","repos_url":"https://api.github.com/users/gmarz/repos","events_url":"https://api.github.com/users/gmarz/events{/privacy}","received_events_url":"https://api.github.com/users/gmarz/received_events","type":"User","site_admin":false},"created_at":"2015-09-21T21:14:20Z","updated_at":"2015-09-21T21:14:20Z","author_association":"MEMBER","body":"Hey @PandiyanCool how much RAM does the machine have?  What's the % of total memory used after elasticsearch starts up (and the 4gb is allocated)?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/142158022","html_url":"https://github.com/elastic/elasticsearch/issues/13648#issuecomment-142158022","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13648","id":142158022,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MjE1ODAyMg==","user":{"login":"PandiyanCool","id":6157834,"node_id":"MDQ6VXNlcjYxNTc4MzQ=","avatar_url":"https://avatars1.githubusercontent.com/u/6157834?v=4","gravatar_id":"","url":"https://api.github.com/users/PandiyanCool","html_url":"https://github.com/PandiyanCool","followers_url":"https://api.github.com/users/PandiyanCool/followers","following_url":"https://api.github.com/users/PandiyanCool/following{/other_user}","gists_url":"https://api.github.com/users/PandiyanCool/gists{/gist_id}","starred_url":"https://api.github.com/users/PandiyanCool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PandiyanCool/subscriptions","organizations_url":"https://api.github.com/users/PandiyanCool/orgs","repos_url":"https://api.github.com/users/PandiyanCool/repos","events_url":"https://api.github.com/users/PandiyanCool/events{/privacy}","received_events_url":"https://api.github.com/users/PandiyanCool/received_events","type":"User","site_admin":false},"created_at":"2015-09-22T01:55:51Z","updated_at":"2015-09-22T01:55:51Z","author_association":"CONTRIBUTOR","body":"@gmarz \nTotal RAM memory is 8 GB\nAfter installing & starting the Elasticsearch service, 4 GB is used by Elasticsearch service (checked in task manager - details tab)\n\nAfter some time, Elasticsearch services is using ~less than 1 GB (as per task manger details).\n\nBut when i checked in nodes/stats in API request, the jvm committed heap size is showing 4 GB properly.\n\nAm i missing something?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/142433229","html_url":"https://github.com/elastic/elasticsearch/issues/13648#issuecomment-142433229","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13648","id":142433229,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MjQzMzIyOQ==","user":{"login":"gmarz","id":1594777,"node_id":"MDQ6VXNlcjE1OTQ3Nzc=","avatar_url":"https://avatars0.githubusercontent.com/u/1594777?v=4","gravatar_id":"","url":"https://api.github.com/users/gmarz","html_url":"https://github.com/gmarz","followers_url":"https://api.github.com/users/gmarz/followers","following_url":"https://api.github.com/users/gmarz/following{/other_user}","gists_url":"https://api.github.com/users/gmarz/gists{/gist_id}","starred_url":"https://api.github.com/users/gmarz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmarz/subscriptions","organizations_url":"https://api.github.com/users/gmarz/orgs","repos_url":"https://api.github.com/users/gmarz/repos","events_url":"https://api.github.com/users/gmarz/events{/privacy}","received_events_url":"https://api.github.com/users/gmarz/received_events","type":"User","site_admin":false},"created_at":"2015-09-22T21:53:19Z","updated_at":"2015-09-22T21:53:19Z","author_association":"MEMBER","body":"So I've been looking into this have been able to reproduce the same behavior, and I don't think this is expected.\n\nThe 4gb committed heap size that you see in the node stats API is the amount of virtual memory that's _reserved_ by setting ES_HEAP_SIZE (`Xms`), which is expected, even with `bootstrap.mlockall` disabled.\n\nBy enabling `bootstrap.mlockall`, we expect the call to `VirtualLock()` to lock the working set into physical memory, which happens initially (this is the memory you see in task manager), but eventually drops off.\n\nI don't have a solid explanation for this yet, but I have observed that the more memory pressure the system is under (i.e. less free space available), the quicker the \"drop off\" occurs.  It's as though Windows doesn't respect the fact that the pages in the working set are locked, and will release them when resources become low.\n\nThere's a lot of info out there that seems to indicate that `VirtualLock` doesn't guarantee pages won't be swapped, only reduces the odds, however the documentation says nothing about this.\n\nI'll continue to look into a possible fix/explanation for this...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/142485534","html_url":"https://github.com/elastic/elasticsearch/issues/13648#issuecomment-142485534","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13648","id":142485534,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MjQ4NTUzNA==","user":{"login":"PandiyanCool","id":6157834,"node_id":"MDQ6VXNlcjYxNTc4MzQ=","avatar_url":"https://avatars1.githubusercontent.com/u/6157834?v=4","gravatar_id":"","url":"https://api.github.com/users/PandiyanCool","html_url":"https://github.com/PandiyanCool","followers_url":"https://api.github.com/users/PandiyanCool/followers","following_url":"https://api.github.com/users/PandiyanCool/following{/other_user}","gists_url":"https://api.github.com/users/PandiyanCool/gists{/gist_id}","starred_url":"https://api.github.com/users/PandiyanCool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PandiyanCool/subscriptions","organizations_url":"https://api.github.com/users/PandiyanCool/orgs","repos_url":"https://api.github.com/users/PandiyanCool/repos","events_url":"https://api.github.com/users/PandiyanCool/events{/privacy}","received_events_url":"https://api.github.com/users/PandiyanCool/received_events","type":"User","site_admin":false},"created_at":"2015-09-23T04:06:34Z","updated_at":"2015-09-23T04:06:34Z","author_association":"CONTRIBUTOR","body":"Sure @gmarz  :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/142663828","html_url":"https://github.com/elastic/elasticsearch/issues/13648#issuecomment-142663828","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13648","id":142663828,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MjY2MzgyOA==","user":{"login":"gmarz","id":1594777,"node_id":"MDQ6VXNlcjE1OTQ3Nzc=","avatar_url":"https://avatars0.githubusercontent.com/u/1594777?v=4","gravatar_id":"","url":"https://api.github.com/users/gmarz","html_url":"https://github.com/gmarz","followers_url":"https://api.github.com/users/gmarz/followers","following_url":"https://api.github.com/users/gmarz/following{/other_user}","gists_url":"https://api.github.com/users/gmarz/gists{/gist_id}","starred_url":"https://api.github.com/users/gmarz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmarz/subscriptions","organizations_url":"https://api.github.com/users/gmarz/orgs","repos_url":"https://api.github.com/users/gmarz/repos","events_url":"https://api.github.com/users/gmarz/events{/privacy}","received_events_url":"https://api.github.com/users/gmarz/received_events","type":"User","site_admin":false},"created_at":"2015-09-23T17:02:37Z","updated_at":"2015-09-23T17:02:37Z","author_association":"MEMBER","body":"From https://msdn.microsoft.com/en-us/library/windows/desktop/ms686237(v=vs.85).aspx:\n\n> When an application is idle, or a low-memory situation causes a demand for memory, the operating system can reduce the application's working set below its minimum working set limit. If memory is abundant, the system might allow an application to exceed its maximum working set limit. The QUOTA_LIMITS_HARDWS_MIN_ENABLE and QUOTA_LIMITS_HARDWS_MAX_ENABLE flags enable you to ensure that limits are enforced.\n\nSounds like this could be the issue.  Currently, we call [SetProcessWorkingSetSize](https://msdn.microsoft.com/en-us/library/windows/desktop/ms686234%28v=vs.85%29.aspx) which doesn't accept any flags for controlling the working set size limits.\n\nI'm going to try replacing this with `SetProcessWorkingSetSizeEx()` with the QUOTA_LIMITS_HARDWS_MIN_ENABLE flag.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/142808804","html_url":"https://github.com/elastic/elasticsearch/issues/13648#issuecomment-142808804","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13648","id":142808804,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MjgwODgwNA==","user":{"login":"PandiyanCool","id":6157834,"node_id":"MDQ6VXNlcjYxNTc4MzQ=","avatar_url":"https://avatars1.githubusercontent.com/u/6157834?v=4","gravatar_id":"","url":"https://api.github.com/users/PandiyanCool","html_url":"https://github.com/PandiyanCool","followers_url":"https://api.github.com/users/PandiyanCool/followers","following_url":"https://api.github.com/users/PandiyanCool/following{/other_user}","gists_url":"https://api.github.com/users/PandiyanCool/gists{/gist_id}","starred_url":"https://api.github.com/users/PandiyanCool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PandiyanCool/subscriptions","organizations_url":"https://api.github.com/users/PandiyanCool/orgs","repos_url":"https://api.github.com/users/PandiyanCool/repos","events_url":"https://api.github.com/users/PandiyanCool/events{/privacy}","received_events_url":"https://api.github.com/users/PandiyanCool/received_events","type":"User","site_admin":false},"created_at":"2015-09-24T04:35:04Z","updated_at":"2015-09-24T04:35:04Z","author_association":"CONTRIBUTOR","body":"thanks for information @gmarz :) Happy to receive more details about this, Interesting.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/162776016","html_url":"https://github.com/elastic/elasticsearch/issues/13648#issuecomment-162776016","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13648","id":162776016,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mjc3NjAxNg==","user":{"login":"PandiyanCool","id":6157834,"node_id":"MDQ6VXNlcjYxNTc4MzQ=","avatar_url":"https://avatars1.githubusercontent.com/u/6157834?v=4","gravatar_id":"","url":"https://api.github.com/users/PandiyanCool","html_url":"https://github.com/PandiyanCool","followers_url":"https://api.github.com/users/PandiyanCool/followers","following_url":"https://api.github.com/users/PandiyanCool/following{/other_user}","gists_url":"https://api.github.com/users/PandiyanCool/gists{/gist_id}","starred_url":"https://api.github.com/users/PandiyanCool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PandiyanCool/subscriptions","organizations_url":"https://api.github.com/users/PandiyanCool/orgs","repos_url":"https://api.github.com/users/PandiyanCool/repos","events_url":"https://api.github.com/users/PandiyanCool/events{/privacy}","received_events_url":"https://api.github.com/users/PandiyanCool/received_events","type":"User","site_admin":false},"created_at":"2015-12-08T05:50:47Z","updated_at":"2015-12-08T05:50:47Z","author_association":"CONTRIBUTOR","body":"hi @gmarz \n\nIs there any updates on this?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/162899207","html_url":"https://github.com/elastic/elasticsearch/issues/13648#issuecomment-162899207","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13648","id":162899207,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mjg5OTIwNw==","user":{"login":"gmarz","id":1594777,"node_id":"MDQ6VXNlcjE1OTQ3Nzc=","avatar_url":"https://avatars0.githubusercontent.com/u/1594777?v=4","gravatar_id":"","url":"https://api.github.com/users/gmarz","html_url":"https://github.com/gmarz","followers_url":"https://api.github.com/users/gmarz/followers","following_url":"https://api.github.com/users/gmarz/following{/other_user}","gists_url":"https://api.github.com/users/gmarz/gists{/gist_id}","starred_url":"https://api.github.com/users/gmarz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmarz/subscriptions","organizations_url":"https://api.github.com/users/gmarz/orgs","repos_url":"https://api.github.com/users/gmarz/repos","events_url":"https://api.github.com/users/gmarz/events{/privacy}","received_events_url":"https://api.github.com/users/gmarz/received_events","type":"User","site_admin":false},"created_at":"2015-12-08T14:33:23Z","updated_at":"2015-12-08T14:33:23Z","author_association":"MEMBER","body":"Hey @PandiyanCool, sorry for the delay here.  Had to put this on the back burner as I've been bogged down with other commitments.  That said, haven't forgotten about this and will look into it in the coming days.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/163515006","html_url":"https://github.com/elastic/elasticsearch/issues/13648#issuecomment-163515006","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13648","id":163515006,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MzUxNTAwNg==","user":{"login":"PandiyanCool","id":6157834,"node_id":"MDQ6VXNlcjYxNTc4MzQ=","avatar_url":"https://avatars1.githubusercontent.com/u/6157834?v=4","gravatar_id":"","url":"https://api.github.com/users/PandiyanCool","html_url":"https://github.com/PandiyanCool","followers_url":"https://api.github.com/users/PandiyanCool/followers","following_url":"https://api.github.com/users/PandiyanCool/following{/other_user}","gists_url":"https://api.github.com/users/PandiyanCool/gists{/gist_id}","starred_url":"https://api.github.com/users/PandiyanCool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PandiyanCool/subscriptions","organizations_url":"https://api.github.com/users/PandiyanCool/orgs","repos_url":"https://api.github.com/users/PandiyanCool/repos","events_url":"https://api.github.com/users/PandiyanCool/events{/privacy}","received_events_url":"https://api.github.com/users/PandiyanCool/received_events","type":"User","site_admin":false},"created_at":"2015-12-10T06:32:57Z","updated_at":"2015-12-10T06:32:57Z","author_association":"CONTRIBUTOR","body":"thanks @gmarz  :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273288528","html_url":"https://github.com/elastic/elasticsearch/issues/13648#issuecomment-273288528","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13648","id":273288528,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzI4ODUyOA==","user":{"login":"blkbltjns","id":629009,"node_id":"MDQ6VXNlcjYyOTAwOQ==","avatar_url":"https://avatars0.githubusercontent.com/u/629009?v=4","gravatar_id":"","url":"https://api.github.com/users/blkbltjns","html_url":"https://github.com/blkbltjns","followers_url":"https://api.github.com/users/blkbltjns/followers","following_url":"https://api.github.com/users/blkbltjns/following{/other_user}","gists_url":"https://api.github.com/users/blkbltjns/gists{/gist_id}","starred_url":"https://api.github.com/users/blkbltjns/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blkbltjns/subscriptions","organizations_url":"https://api.github.com/users/blkbltjns/orgs","repos_url":"https://api.github.com/users/blkbltjns/repos","events_url":"https://api.github.com/users/blkbltjns/events{/privacy}","received_events_url":"https://api.github.com/users/blkbltjns/received_events","type":"User","site_admin":false},"created_at":"2017-01-17T20:23:40Z","updated_at":"2017-01-17T20:23:40Z","author_association":"NONE","body":"Any word on this issue?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/279389902","html_url":"https://github.com/elastic/elasticsearch/issues/13648#issuecomment-279389902","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13648","id":279389902,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTM4OTkwMg==","user":{"login":"PandiyanCool","id":6157834,"node_id":"MDQ6VXNlcjYxNTc4MzQ=","avatar_url":"https://avatars1.githubusercontent.com/u/6157834?v=4","gravatar_id":"","url":"https://api.github.com/users/PandiyanCool","html_url":"https://github.com/PandiyanCool","followers_url":"https://api.github.com/users/PandiyanCool/followers","following_url":"https://api.github.com/users/PandiyanCool/following{/other_user}","gists_url":"https://api.github.com/users/PandiyanCool/gists{/gist_id}","starred_url":"https://api.github.com/users/PandiyanCool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PandiyanCool/subscriptions","organizations_url":"https://api.github.com/users/PandiyanCool/orgs","repos_url":"https://api.github.com/users/PandiyanCool/repos","events_url":"https://api.github.com/users/PandiyanCool/events{/privacy}","received_events_url":"https://api.github.com/users/PandiyanCool/received_events","type":"User","site_admin":false},"created_at":"2017-02-13T13:18:34Z","updated_at":"2017-02-13T13:18:34Z","author_association":"CONTRIBUTOR","body":"No @blkbltjns ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/279425785","html_url":"https://github.com/elastic/elasticsearch/issues/13648#issuecomment-279425785","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13648","id":279425785,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTQyNTc4NQ==","user":{"login":"gmarz","id":1594777,"node_id":"MDQ6VXNlcjE1OTQ3Nzc=","avatar_url":"https://avatars0.githubusercontent.com/u/1594777?v=4","gravatar_id":"","url":"https://api.github.com/users/gmarz","html_url":"https://github.com/gmarz","followers_url":"https://api.github.com/users/gmarz/followers","following_url":"https://api.github.com/users/gmarz/following{/other_user}","gists_url":"https://api.github.com/users/gmarz/gists{/gist_id}","starred_url":"https://api.github.com/users/gmarz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmarz/subscriptions","organizations_url":"https://api.github.com/users/gmarz/orgs","repos_url":"https://api.github.com/users/gmarz/repos","events_url":"https://api.github.com/users/gmarz/events{/privacy}","received_events_url":"https://api.github.com/users/gmarz/received_events","type":"User","site_admin":false},"created_at":"2017-02-13T15:33:11Z","updated_at":"2017-02-13T15:33:11Z","author_association":"MEMBER","body":"Hey @PandiyanCool @blkbltjns I apologize for the really slow reply on this one.\r\n\r\nI did try swapping out `SetProcessWorkingSetSize` with `SetProcessWorkingSetSizeEx(QUOTA_LIMITS_HARDWAS_MIN_ENABLE)` a while back as explained above, but unfortunately it didn't have any effect.\r\n\r\n> There's a lot of info out there that seems to indicate that VirtualLock doesn't guarantee pages won't be swapped, only reduces the odds, however the documentation says nothing about this.\r\n\r\nThis seems to be true, and VirtualLock is just a hint, or a best effort- and doesn't guarantee to keep pages in physical memory.  If the process has no running threads, or the system is low on resources, the OS is free to swap out the process.  We will update our docs to mention this.\r\n\r\nStill, it's worth enabling it as it's better than nothing.  However, if you want to guarantee that ES is never swapped then you can reduce the size of the page file, or disable it entirely (however this has other consequences like losing memory dumps, and running out of memory can cause the entire OS to crash).\r\n\r\nClosing this one for now as there isn't anything actionable.  But please feel free to continue discussion.","performed_via_github_app":null}]