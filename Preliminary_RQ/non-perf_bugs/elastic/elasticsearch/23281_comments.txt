[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281285196","html_url":"https://github.com/elastic/elasticsearch/issues/23281#issuecomment-281285196","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23281","id":281285196,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTI4NTE5Ng==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-02-21T09:08:34Z","updated_at":"2017-02-21T09:08:34Z","author_association":"CONTRIBUTOR","body":"@yannisf what version of Elasticsearch are you using?\r\n\r\nThere is a PR which improved the performance of these queries that went into 5.1.1 https://github.com/elastic/elasticsearch/pull/21776\r\n\r\nAlso, if you could presort your terms, you'd get an extra boost.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281290823","html_url":"https://github.com/elastic/elasticsearch/issues/23281#issuecomment-281290823","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23281","id":281290823,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTI5MDgyMw==","user":{"login":"yannisf","id":205878,"node_id":"MDQ6VXNlcjIwNTg3OA==","avatar_url":"https://avatars0.githubusercontent.com/u/205878?v=4","gravatar_id":"","url":"https://api.github.com/users/yannisf","html_url":"https://github.com/yannisf","followers_url":"https://api.github.com/users/yannisf/followers","following_url":"https://api.github.com/users/yannisf/following{/other_user}","gists_url":"https://api.github.com/users/yannisf/gists{/gist_id}","starred_url":"https://api.github.com/users/yannisf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yannisf/subscriptions","organizations_url":"https://api.github.com/users/yannisf/orgs","repos_url":"https://api.github.com/users/yannisf/repos","events_url":"https://api.github.com/users/yannisf/events{/privacy}","received_events_url":"https://api.github.com/users/yannisf/received_events","type":"User","site_admin":false},"created_at":"2017-02-21T09:32:32Z","updated_at":"2017-02-21T09:32:32Z","author_association":"NONE","body":"I am using 2.4, but tested this provisionally with 5.2 and the issue is still there. \r\nMy terms are uuid4. Presorting them using what sort order is the best?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281301295","html_url":"https://github.com/elastic/elasticsearch/issues/23281#issuecomment-281301295","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23281","id":281301295,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTMwMTI5NQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2017-02-21T10:15:36Z","updated_at":"2017-02-21T10:15:36Z","author_association":"CONTRIBUTOR","body":"Is there a way that you could add additional metadata to your documents and run `term` queries instead of running very large `terms` filters on uuids?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281312313","html_url":"https://github.com/elastic/elasticsearch/issues/23281#issuecomment-281312313","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23281","id":281312313,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTMxMjMxMw==","user":{"login":"yannisf","id":205878,"node_id":"MDQ6VXNlcjIwNTg3OA==","avatar_url":"https://avatars0.githubusercontent.com/u/205878?v=4","gravatar_id":"","url":"https://api.github.com/users/yannisf","html_url":"https://github.com/yannisf","followers_url":"https://api.github.com/users/yannisf/followers","following_url":"https://api.github.com/users/yannisf/following{/other_user}","gists_url":"https://api.github.com/users/yannisf/gists{/gist_id}","starred_url":"https://api.github.com/users/yannisf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yannisf/subscriptions","organizations_url":"https://api.github.com/users/yannisf/orgs","repos_url":"https://api.github.com/users/yannisf/repos","events_url":"https://api.github.com/users/yannisf/events{/privacy}","received_events_url":"https://api.github.com/users/yannisf/received_events","type":"User","site_admin":false},"created_at":"2017-02-21T11:05:01Z","updated_at":"2017-02-21T11:05:01Z","author_association":"NONE","body":"We could, but the level of indirection the aliases provide, simplified a lot our design. You see, these metadata are quite dynamic, so the solution to just recreate the aliases (once per day) is much simpler than having to update 2Bi of documents.\r\n\r\nOf course now that we run on this roadblock we are all open to suggestions. @jpountz I really appreciate that you are trying to help.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/286536095","html_url":"https://github.com/elastic/elasticsearch/issues/23281#issuecomment-286536095","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23281","id":286536095,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjUzNjA5NQ==","user":{"login":"yannisf","id":205878,"node_id":"MDQ6VXNlcjIwNTg3OA==","avatar_url":"https://avatars0.githubusercontent.com/u/205878?v=4","gravatar_id":"","url":"https://api.github.com/users/yannisf","html_url":"https://github.com/yannisf","followers_url":"https://api.github.com/users/yannisf/followers","following_url":"https://api.github.com/users/yannisf/following{/other_user}","gists_url":"https://api.github.com/users/yannisf/gists{/gist_id}","starred_url":"https://api.github.com/users/yannisf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yannisf/subscriptions","organizations_url":"https://api.github.com/users/yannisf/orgs","repos_url":"https://api.github.com/users/yannisf/repos","events_url":"https://api.github.com/users/yannisf/events{/privacy}","received_events_url":"https://api.github.com/users/yannisf/received_events","type":"User","site_admin":false},"created_at":"2017-03-14T19:38:12Z","updated_at":"2017-03-14T19:38:12Z","author_association":"NONE","body":"Hi @clintongormley , @jpountz,\r\n\r\nI would very much appreciate some feedback on the issue, even if it is something \"There is nothing you can do other than redesigning your index\".  From my side, I would like to see as a feature: When searching against a filtered alias.  use the cached bitset (if there is one cached already), instead of having to reevaluate the alias filters all the time.\r\n\r\nHopefully, the feature request make sense. Thank you for your support.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/286876297","html_url":"https://github.com/elastic/elasticsearch/issues/23281#issuecomment-286876297","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23281","id":286876297,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njg3NjI5Nw==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2017-03-15T20:55:55Z","updated_at":"2017-03-15T20:55:55Z","author_association":"CONTRIBUTOR","body":"The answer is likely that the index should be redesigned indeed. Large terms filters are quite an anti pattern to efficiently leverage Elasticsearch. In case you can get hot threads while you are running some queries in a loop, I could get a look at the hot threads to check what the bottleneck is. I want to keep expectations low, but it might something we can improve. If you can check against 5.x rather than 2.x, that would be more helpful.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294837410","html_url":"https://github.com/elastic/elasticsearch/issues/23281#issuecomment-294837410","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23281","id":294837410,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDgzNzQxMA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-04-18T13:11:56Z","updated_at":"2017-04-18T13:11:56Z","author_association":"MEMBER","body":"No further feedback. Closing.","performed_via_github_app":null}]