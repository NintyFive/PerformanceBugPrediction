{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/26071","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26071/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26071/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26071/events","html_url":"https://github.com/elastic/elasticsearch/issues/26071","id":248241767,"node_id":"MDU6SXNzdWUyNDgyNDE3Njc=","number":26071,"title":"Search no have any results","user":{"login":"parsasaei","id":22427314,"node_id":"MDQ6VXNlcjIyNDI3MzE0","avatar_url":"https://avatars3.githubusercontent.com/u/22427314?v=4","gravatar_id":"","url":"https://api.github.com/users/parsasaei","html_url":"https://github.com/parsasaei","followers_url":"https://api.github.com/users/parsasaei/followers","following_url":"https://api.github.com/users/parsasaei/following{/other_user}","gists_url":"https://api.github.com/users/parsasaei/gists{/gist_id}","starred_url":"https://api.github.com/users/parsasaei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parsasaei/subscriptions","organizations_url":"https://api.github.com/users/parsasaei/orgs","repos_url":"https://api.github.com/users/parsasaei/repos","events_url":"https://api.github.com/users/parsasaei/events{/privacy}","received_events_url":"https://api.github.com/users/parsasaei/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-08-06T11:35:12Z","updated_at":"2017-08-06T13:50:33Z","closed_at":"2017-08-06T13:48:39Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version** (`bin/elasticsearch --version 5.5.1`):\r\n\r\n**JVM version** (`8.0_45`):\r\n\r\n**OS version** (`Windows 10`):\r\n\r\n**Steps to reproduce**:\r\n\r\nHi Iâ€™m an asp.net developer and I want to implement elastic search in windows.\r\nI installed and configured the elasticsearch service like as described in this articles:\r\n\r\n1- http://caraulean.com/2016/install-and-configure-elasticsearch-in-windows/\r\n2- http://hintdesk.com/how-to-connect-elasticsearch-to-ms-sql-server/\r\n3- https://discuss.elastic.co/t/moving-data-from-sql-server-2012-to-elasticsearch/70683\r\n\r\nI installed elastic search service on windows and I do this below steps:\r\n\r\nThis is my importer as a `.bat` file:\r\n```\r\n@echo off\r\n\r\nset DIR=%~dp0\r\nset LIB=%DIR%..\\lib\\*\r\nset BIN=%DIR%..\\bin\r\n\r\nREM ???\r\n\r\n\"%JAVA_HOME%\\bin\\java.exe\" -cp \"%LIB%\" -Dlog4j.configurationFile=\"%BIN%\\log4j2.xml\" \"org.xbib.tools.Runner\" \"org.xbib.tools.JDBCImporter\" \"statefile.json\"\r\n```\r\n\r\n\r\n**Here is my statefile.json as the third article which my importer file must be run it:**:\r\n```\r\n{ \r\n\"type\": \"jdbc\", \r\n\"jdbc\": { \"url\": \"jdbc:sqlserver://serverip:1433;databaseName=dbName\", \r\n              \"user\": \"ElasticSearch\", \r\n              \"password\": \"Password\", \"\r\n              sql\": \"SELECT * FROM Video\", \r\n              \"treat_binary_as_string\": true, \r\n              \"elasticsearch\": { \r\n              \"cluster\": \"elasticsearch\", \r\n              \"host\": \"localhost\", \r\n              \"port\": 9200, \r\n              \"index\": \"record\", \r\n              \"type\": \"record\" } \r\n  }\r\n }\r\n```\r\nAfter creation of this files, I runned my `importer.bat` then I called http://localhost:9200/record/_count in browser.\r\nThe result of this url http://localhost:9200/record/_count is:\r\n```\r\n{\"error\":{\"root_cause\":[{\"type\":\"index_not_found_exception\",\"reason\":\"no such index\",\"resource.type\":\"index_or_alias\",\"resource.id\":\"record\",\"index_uuid\":\"_na_\",\"index\":\"record\"}],\"type\":\"index_not_found_exception\",\"reason\":\"no such index\",\"resource.type\":\"index_or_alias\",\"resource.id\":\"record\",\"index_uuid\":\"_na_\",\"index\":\"record\"},\"status\":404}\r\n```\r\nAnd here is my jdbc.log:\r\n```\r\n[15:17:20,766][INFO ][importer.jdbc            ][pool-2-thread-1] strategy standard: settings = {elasticsearch.cluster=elasticsearch, elasticsearch.host=localhost, elasticsearch.index=record, elasticsearch.port=9200, elasticsearch.type=record, password=password, sql=SELECT * FROM Video, treat_binary_as_string=true, url=jdbc:sqlserver://serverip:1433;databaseName=dbName, user=ElasticSearch}, context = org.xbib.elasticsearch.jdbc.strategy.standard.StandardContext@14c66f6e\r\n[15:17:20,778][INFO ][importer.jdbc.context.standard][pool-2-thread-1] found sink class org.xbib.elasticsearch.jdbc.strategy.standard.StandardSink@3248931b\r\n[15:17:20,785][INFO ][importer.jdbc.context.standard][pool-2-thread-1] found source class org.xbib.elasticsearch.jdbc.strategy.standard.StandardSource@209d758f\r\n[15:17:20,834][INFO ][org.xbib.elasticsearch.helper.client.BaseTransportClient][pool-2-thread-1] creating transport client on Windows 8.1 Java HotSpot(TM) 64-Bit Server VM Oracle Corporation 1.8.0_45-b15 25.45-b02 with effective settings {autodiscover=false, client.transport.ignore_cluster_name=false, client.transport.nodes_sampler_interval=5s, client.transport.ping_timeout=5s, cluster.name=elasticsearch, flush_interval=5s, host.0=localhost, max_actions_per_request=10000, max_concurrent_requests=8, max_volume_per_request=10mb, name=importer, port=9200, sniff=false}\r\n[15:17:20,869][INFO ][org.elasticsearch.plugins][pool-2-thread-1] [importer] modules [], plugins [helper], sites []\r\n[15:17:21,495][INFO ][org.xbib.elasticsearch.helper.client.BaseTransportClient][pool-2-thread-1] trying to connect to [localhost/127.0.0.1:9200]\r\n[15:17:26,566][INFO ][org.elasticsearch.org.xbib.elasticsearch.helper.client.TransportClient][pool-2-thread-1] [importer] failed to get node info for {#transport#-1}{127.0.0.1}{localhost/127.0.0.1:9200}, disconnecting...\r\norg.elasticsearch.transport.ReceiveTimeoutTransportException: [][localhost/127.0.0.1:9200][cluster:monitor/nodes/liveness] request_id [0] timed out after [5001ms]\r\n\tat org.elasticsearch.transport.TransportService$TimeoutHandler.run(TransportService.java:679) ~[elasticsearch-2.3.4.jar:2.3.4]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [?:1.8.0_45]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [?:1.8.0_45]\r\n\tat java.lang.Thread.run(Unknown Source) [?:1.8.0_45]\r\n[15:17:26,613][ERROR][importer.jdbc            ][pool-2-thread-1] error while processing request: no cluster nodes available, check settings {autodiscover=false, client.transport.ignore_cluster_name=false, client.transport.nodes_sampler_interval=5s, client.transport.ping_timeout=5s, cluster.name=elasticsearch, flush_interval=5s, host.0=localhost, max_actions_per_request=10000, max_concurrent_requests=8, max_volume_per_request=10mb, name=importer, port=9200, sniff=false}\r\norg.elasticsearch.client.transport.NoNodeAvailableException: no cluster nodes available, check settings {autodiscover=false, client.transport.ignore_cluster_name=false, client.transport.nodes_sampler_interval=5s, client.transport.ping_timeout=5s, cluster.name=elasticsearch, flush_interval=5s, host.0=localhost, max_actions_per_request=10000, max_concurrent_requests=8, max_volume_per_request=10mb, name=importer, port=9200, sniff=false}\r\n\tat org.xbib.elasticsearch.helper.client.BulkTransportClient.init(BulkTransportClient.java:164) ~[elasticsearch-helper-2.3.4.0.jar:?]\r\n\tat org.xbib.elasticsearch.helper.client.ClientBuilder.toBulkTransportClient(ClientBuilder.java:113) ~[elasticsearch-helper-2.3.4.0.jar:?]\r\n\tat org.xbib.elasticsearch.jdbc.strategy.standard.StandardSink.createClient(StandardSink.java:348) ~[elasticsearch-jdbc-2.3.4.1.jar:?]\r\n\tat org.xbib.elasticsearch.jdbc.strategy.standard.StandardSink.beforeFetch(StandardSink.java:100) ~[elasticsearch-jdbc-2.3.4.1.jar:?]\r\n\tat org.xbib.elasticsearch.jdbc.strategy.standard.StandardContext.beforeFetch(StandardContext.java:183) ~[elasticsearch-jdbc-2.3.4.1.jar:?]\r\n\tat org.xbib.elasticsearch.jdbc.strategy.standard.StandardContext.execute(StandardContext.java:164) ~[elasticsearch-jdbc-2.3.4.1.jar:?]\r\n\tat org.xbib.tools.JDBCImporter.process(JDBCImporter.java:203) ~[elasticsearch-jdbc-2.3.4.1.jar:?]\r\n\tat org.xbib.tools.JDBCImporter.newRequest(JDBCImporter.java:189) [elasticsearch-jdbc-2.3.4.1.jar:?]\r\n\tat org.xbib.tools.JDBCImporter.newRequest(JDBCImporter.java:53) [elasticsearch-jdbc-2.3.4.1.jar:?]\r\n\tat org.xbib.pipeline.AbstractPipeline.call(AbstractPipeline.java:50) [elasticsearch-jdbc-2.3.4.1.jar:?]\r\n\tat org.xbib.pipeline.AbstractPipeline.call(AbstractPipeline.java:16) [elasticsearch-jdbc-2.3.4.1.jar:?]\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source) [?:1.8.0_45]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [?:1.8.0_45]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [?:1.8.0_45]\r\n\tat java.lang.Thread.run(Unknown Source) [?:1.8.0_45]\r\n\r\n```\r\nIs there anything wrong is in my steps, or are there any steps that I don't do that?\r\nCan anyone help me?\r\n\r\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}