[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/21024561","html_url":"https://github.com/elastic/elasticsearch/issues/3334#issuecomment-21024561","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3334","id":21024561,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMDI0NTYx","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-07-16T06:55:48Z","updated_at":"2013-07-16T06:55:48Z","author_association":"MEMBER","body":"The ID of a document is used to decide to which shard the request is sent. You may configure your mapping, to extract the routing out of a field from your document. Alternatively you can use the alias API and configure an automatic routing.\n\nSee http://www.elasticsearch.org/guide/reference/mapping/routing-field/ and http://www.elasticsearch.org/guide/reference/api/admin-indices-aliases/\n\nAlso, please do not use github issues for this, but rather the google groups (as many more people are looking at your problem and will have different ideas to help you). If you still think you found a bug, please read http://www.elasticsearch.org/help/ first.\n\nThanks!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/21067625","html_url":"https://github.com/elastic/elasticsearch/issues/3334#issuecomment-21067625","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3334","id":21067625,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMDY3NjI1","user":{"login":"scottc52-zz","id":1693715,"node_id":"MDQ6VXNlcjE2OTM3MTU=","avatar_url":"https://avatars3.githubusercontent.com/u/1693715?v=4","gravatar_id":"","url":"https://api.github.com/users/scottc52-zz","html_url":"https://github.com/scottc52-zz","followers_url":"https://api.github.com/users/scottc52-zz/followers","following_url":"https://api.github.com/users/scottc52-zz/following{/other_user}","gists_url":"https://api.github.com/users/scottc52-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/scottc52-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scottc52-zz/subscriptions","organizations_url":"https://api.github.com/users/scottc52-zz/orgs","repos_url":"https://api.github.com/users/scottc52-zz/repos","events_url":"https://api.github.com/users/scottc52-zz/events{/privacy}","received_events_url":"https://api.github.com/users/scottc52-zz/received_events","type":"User","site_admin":false},"created_at":"2013-07-16T19:37:35Z","updated_at":"2013-07-16T19:37:35Z","author_association":"NONE","body":"Yes, but I want to be able to update an existing entry without knowing it's routing value. Since, I don't know the routing value, I can't send it in my request. I know that you can't index a new entry without a routing value, but it seems that I should be able to update one that already exists (since you can both find and delete entries just from their id even if they have custom routing). \n\nI understand that internally elasticsearch is finding my document, doing some computations on it, and reindexing it. It  shouldn't be difficult to search for the old document using the id, and reindex the updated document using the same routing value as the old document.\n\nSorry if this isn't the right place for this. I guess this isn't really a bug so much as a feature request.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/21117798","html_url":"https://github.com/elastic/elasticsearch/issues/3334#issuecomment-21117798","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3334","id":21117798,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMTE3Nzk4","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2013-07-17T14:45:55Z","updated_at":"2013-07-17T14:45:55Z","author_association":"MEMBER","body":"Hi, \nsince you indexed the document in the first place providing the routing, it should be easy to provide the same value when trying to update it. You could for instance adding it to your documents and configure a path for it in your mapping like @spinscale mentioned.\n\nHere is the reasoning behind it: as you mentioned we need to know which shard to hit when we index a document. An update is pretty much the same, except for the get that we need in order to retrieve the doc, modify it and reindex it. Given that the doc is retrieved by id, using the get api internally, we need to know the routing value (id by default) since the get is always executed on a single shard. It doesn't make much sense to switch to a search request here, because that would require to query all the shards that the index is composed of. Furthermore, that way it would be possible to retrieve only committed documents in lucene, since the get api is real time while the search api is (near) real time. There might be documents that you can retrieve using get (from the transaction log) but not (yet) searching for them. Hope this makes things clearer.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/21129744","html_url":"https://github.com/elastic/elasticsearch/issues/3334#issuecomment-21129744","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3334","id":21129744,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMTI5NzQ0","user":{"login":"scottc52-zz","id":1693715,"node_id":"MDQ6VXNlcjE2OTM3MTU=","avatar_url":"https://avatars3.githubusercontent.com/u/1693715?v=4","gravatar_id":"","url":"https://api.github.com/users/scottc52-zz","html_url":"https://github.com/scottc52-zz","followers_url":"https://api.github.com/users/scottc52-zz/followers","following_url":"https://api.github.com/users/scottc52-zz/following{/other_user}","gists_url":"https://api.github.com/users/scottc52-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/scottc52-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scottc52-zz/subscriptions","organizations_url":"https://api.github.com/users/scottc52-zz/orgs","repos_url":"https://api.github.com/users/scottc52-zz/repos","events_url":"https://api.github.com/users/scottc52-zz/events{/privacy}","received_events_url":"https://api.github.com/users/scottc52-zz/received_events","type":"User","site_admin":false},"created_at":"2013-07-17T17:32:18Z","updated_at":"2013-07-17T17:32:18Z","author_association":"NONE","body":"Ah, okay. Thank you. That helps me understand what's happening internally a little better.\n\nIn my situation, I guess I'll just have to either query ES for the routing or treat the id and the routing value as a tuple throughout my application, so I'll always have access to the routing information.\n","performed_via_github_app":null}]