[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/16135702","html_url":"https://github.com/elastic/elasticsearch/issues/2880#issuecomment-16135702","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2880","id":16135702,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTM1NzAy","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2013-04-09T19:48:16Z","updated_at":"2013-04-09T19:48:16Z","author_association":"MEMBER","body":"Can you create a curl recreation of this problem?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/16136298","html_url":"https://github.com/elastic/elasticsearch/issues/2880#issuecomment-16136298","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2880","id":16136298,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTM2Mjk4","user":{"login":"ytokas","id":1658132,"node_id":"MDQ6VXNlcjE2NTgxMzI=","avatar_url":"https://avatars0.githubusercontent.com/u/1658132?v=4","gravatar_id":"","url":"https://api.github.com/users/ytokas","html_url":"https://github.com/ytokas","followers_url":"https://api.github.com/users/ytokas/followers","following_url":"https://api.github.com/users/ytokas/following{/other_user}","gists_url":"https://api.github.com/users/ytokas/gists{/gist_id}","starred_url":"https://api.github.com/users/ytokas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ytokas/subscriptions","organizations_url":"https://api.github.com/users/ytokas/orgs","repos_url":"https://api.github.com/users/ytokas/repos","events_url":"https://api.github.com/users/ytokas/events{/privacy}","received_events_url":"https://api.github.com/users/ytokas/received_events","type":"User","site_admin":false},"created_at":"2013-04-09T19:59:07Z","updated_at":"2013-04-09T19:59:07Z","author_association":"NONE","body":"Below are the curl requests for the same, Thanks.\n\nBulk delete request:\n$ curl -s -XPOST http://localhost:9200/index/type/_bulk?refresh=true -d { \"delete\" : {\"_id\" : \"2279\"}}\n{ \"delete\" : {\"_id\" : \"2221\"}}\n\nSearch request \n$ curl -s -XPOST http://localhost:9200/index/type/_search -d {\n  \"track_scores\": true,\n  \"fields\": [ \"_id\"  ],\n  \"query\": {\n    \"filtered\": {\n      \"query\": {\n        \"query_string\": {\n          \"query\": \"*\",\n          \"default_operator\": \"OR\",\n          \"analyze_wildcard\": true\n        }\n     },\n      \"filter\": {\n        \"and\": [{\n            \"query\": {\n              \"term\": {\n                \"_id\": \"2279\"\n              }}}]\n      }}\n  },\n  \"size\": 999,\n  \"from\": 0\n} \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/16161431","html_url":"https://github.com/elastic/elasticsearch/issues/2880#issuecomment-16161431","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2880","id":16161431,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTYxNDMx","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-04-10T08:26:43Z","updated_at":"2013-04-10T08:26:43Z","author_association":"MEMBER","body":"Hey,\n\nIs there really a newline in your deletes? Try writing the delete statement to a file to make sure.\n\n```\n{ \"delete\" : {\"_id\" : \"1\"} }\n{ \"delete\" : {\"_id\" : \"2\"} }\n```\n\nNow run this curl call (make sure `--data-binary` is used)\n\n```\ncurl -v -X POST 'localhost:9200/test/test/_bulk?refresh=true' --data-binary @/tmp/bulk-delete.json\n```\n\nThis works for me, put perhaps we have a bug.\n\nIn case this still fails for you, can you tell us your elasticsearch version, so we can try to recreate your problem..\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/16170330","html_url":"https://github.com/elastic/elasticsearch/issues/2880#issuecomment-16170330","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2880","id":16170330,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTcwMzMw","user":{"login":"ytokas","id":1658132,"node_id":"MDQ6VXNlcjE2NTgxMzI=","avatar_url":"https://avatars0.githubusercontent.com/u/1658132?v=4","gravatar_id":"","url":"https://api.github.com/users/ytokas","html_url":"https://github.com/ytokas","followers_url":"https://api.github.com/users/ytokas/followers","following_url":"https://api.github.com/users/ytokas/following{/other_user}","gists_url":"https://api.github.com/users/ytokas/gists{/gist_id}","starred_url":"https://api.github.com/users/ytokas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ytokas/subscriptions","organizations_url":"https://api.github.com/users/ytokas/orgs","repos_url":"https://api.github.com/users/ytokas/repos","events_url":"https://api.github.com/users/ytokas/events{/privacy}","received_events_url":"https://api.github.com/users/ytokas/received_events","type":"User","site_admin":false},"created_at":"2013-04-10T12:12:35Z","updated_at":"2013-04-10T12:12:35Z","author_association":"NONE","body":"I forgot to mention earlier that I was using routing key to store the data and then was using the same routing key in the bulk delete call.\n\nIssue with the call was that I was sending the routing key as query string parameter, where as if I sent it in each delete statement it works. \n\nearlier call that was not working:\n\n```\n    curl -s -X POST 'http://localhost:9200/test/test/_bulk?refresh=true&routing=xyz' \n    -d {\"delete\" : {\"_id\" : \"1\"}}\n```\n\nCorrect call:\n\n```\n    curl -s -X POST 'http://localhost:9200/test/test/_bulk?refresh=true' \n    -d {\"delete\" : {\"_id\" : \"1\", \"_routing\" : \"xyz\"}}\n```\n\nSo this means that I have to send routing key with each command instead of just sending it once in the query string?\n\n And if so why is the get document throwing \"404 Not Found\", but returning the document in search calls. \n","performed_via_github_app":null}]