[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/138561491","html_url":"https://github.com/elastic/elasticsearch/issues/13392#issuecomment-138561491","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13392","id":138561491,"node_id":"MDEyOklzc3VlQ29tbWVudDEzODU2MTQ5MQ==","user":{"login":"nellicus","id":8770097,"node_id":"MDQ6VXNlcjg3NzAwOTc=","avatar_url":"https://avatars2.githubusercontent.com/u/8770097?v=4","gravatar_id":"","url":"https://api.github.com/users/nellicus","html_url":"https://github.com/nellicus","followers_url":"https://api.github.com/users/nellicus/followers","following_url":"https://api.github.com/users/nellicus/following{/other_user}","gists_url":"https://api.github.com/users/nellicus/gists{/gist_id}","starred_url":"https://api.github.com/users/nellicus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nellicus/subscriptions","organizations_url":"https://api.github.com/users/nellicus/orgs","repos_url":"https://api.github.com/users/nellicus/repos","events_url":"https://api.github.com/users/nellicus/events{/privacy}","received_events_url":"https://api.github.com/users/nellicus/received_events","type":"User","site_admin":false},"created_at":"2015-09-08T13:40:09Z","updated_at":"2015-09-08T13:40:09Z","author_association":"MEMBER","body":"will try this on 2.x \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/138951682","html_url":"https://github.com/elastic/elasticsearch/issues/13392#issuecomment-138951682","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13392","id":138951682,"node_id":"MDEyOklzc3VlQ29tbWVudDEzODk1MTY4Mg==","user":{"login":"nellicus","id":8770097,"node_id":"MDQ6VXNlcjg3NzAwOTc=","avatar_url":"https://avatars2.githubusercontent.com/u/8770097?v=4","gravatar_id":"","url":"https://api.github.com/users/nellicus","html_url":"https://github.com/nellicus","followers_url":"https://api.github.com/users/nellicus/followers","following_url":"https://api.github.com/users/nellicus/following{/other_user}","gists_url":"https://api.github.com/users/nellicus/gists{/gist_id}","starred_url":"https://api.github.com/users/nellicus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nellicus/subscriptions","organizations_url":"https://api.github.com/users/nellicus/orgs","repos_url":"https://api.github.com/users/nellicus/repos","events_url":"https://api.github.com/users/nellicus/events{/privacy}","received_events_url":"https://api.github.com/users/nellicus/received_events","type":"User","site_admin":false},"created_at":"2015-09-09T15:44:50Z","updated_at":"2015-09-09T15:44:50Z","author_association":"MEMBER","body":"still reproducible on 2.x I'm afraid\n\n```\nLast login: Tue Sep  8 11:12:34 2015 from antonios-macbook-air.local\nelk@master-clone:~$ wget https://download.elasticsearch.org/elasticsearch/release/org/elasticsearch/distribution/deb/elasticsearch/2.0.0-beta1/elasticsearch-2.0.0-beta1.deb\n--2015-09-09 17:31:08--  https://download.elasticsearch.org/elasticsearch/release/org/elasticsearch/distribution/deb/elasticsearch/2.0.0-beta1/elasticsearch-2.0.0-beta1.deb\nResolving download.elasticsearch.org (download.elasticsearch.org)... 107.21.118.106, 107.20.198.195, 184.72.232.248, ...\nConnecting to download.elasticsearch.org (download.elasticsearch.org)|107.21.118.106|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 28431018 (27M) [application/x-debian-package]\nSaving to: `elasticsearch-2.0.0-beta1.deb'\n\n100%[=================================================================================================================================================================================================================================================================================>] 28,431,018  4.48M/s   in 9.1s    \n\n2015-09-09 17:31:19 (2.99 MB/s) - `elasticsearch-2.0.0-beta1.deb' saved [28431018/28431018]\n\nelk@master-clone:~$ sudo dpkg -i elasticsearch-2.0.0-beta1.deb \n[sudo] password for elk: \n\nSelecting previously unselected package elasticsearch.\n(Reading database ... 143837 files and directories currently installed.)\nUnpacking elasticsearch (from elasticsearch-2.0.0-beta1.deb) ...\nCreating elasticsearch group... OK\nCreating elasticsearch user... OK\nSetting up elasticsearch (2.0.0~beta1) ...\n\nelk@master-clone:~$ uname -a\nLinux master-clone 3.2.0-4-amd64 #1 SMP Debian 3.2.68-1+deb7u3 x86_64 GNU/Linux\nelk@master-clone:~$ cat /etc/debian_version \n7.9\nelk@master-clone:~$ java -version\njava version \"1.6.0_36\"\nOpenJDK Runtime Environment (IcedTea6 1.13.8) (6b36-1.13.8-1~deb7u1)\nOpenJDK 64-Bit Server VM (build 23.25-b01, mixed mode)\nelk@master-clone:~$ time sudo /etc/init.d/elasticsearch start\n[FAIL] Starting Elasticsearch Server: failed!\n\nreal    0m11.111s\nuser    0m0.004s\nsys 0m0.012s\nelk@master-clone:~$ sudo cp /etc/init.d/elasticsearch ~/\nelk@master-clone:~$ egrep start-stop-daemon /etc/init.d/elasticsearch \n# Description:       Starts elasticsearch using start-stop-daemon\n    start-stop-daemon -d $ES_HOME --start -b --user \"$ES_USER\" -c \"$ES_USER\" --pidfile \"$PID_FILE\" --exec $DAEMON -- $DAEMON_OPTS\n        start-stop-daemon --stop --pidfile \"$PID_FILE\" \\\n```\n\nremove background flag\n\n```\nelk@master-clone:~$ sudo sed -i 's/\\-b//g' /etc/init.d/elasticsearch \n```\n\n```\nelk@master-clone:~$ egrep start-stop-daemon /etc/init.d/elasticsearch \n# Description:       Starts elasticsearch using start-stop-daemon\n    start-stop-daemon -d $ES_HOME --start  --user \"$ES_USER\" -c \"$ES_USER\" --pidfile \"$PID_FILE\" --exec $DAEMON -- $DAEMON_OPTS\n        start-stop-daemon --stop --pidfile \"$PID_FILE\" \\\nelk@master-clone:~$ time sudo /etc/init.d/elasticsearch start\n[....] Starting Elasticsearch Server:Exception in thread \"main\" java.lang.UnsupportedClassVersionError: org/elasticsearch/bootstrap/Elasticsearch : Unsupported major.minor version 51.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:643)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:277)\n    at java.net.URLClassLoader.access$000(URLClassLoader.java:73)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:212)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:205)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:323)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:294)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:268)\nCould not find the main class: org.elasticsearch.bootstrap.Elasticsearch. Program will exit.\n failed!\n\nreal    0m11.101s\nuser    0m0.004s\nsys 0m0.008s\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/138953868","html_url":"https://github.com/elastic/elasticsearch/issues/13392#issuecomment-138953868","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13392","id":138953868,"node_id":"MDEyOklzc3VlQ29tbWVudDEzODk1Mzg2OA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-09-09T15:50:27Z","updated_at":"2015-09-09T15:50:27Z","author_association":"CONTRIBUTOR","body":"I've dropped the discuss label because I'm pretty sure this is worth fixing. I'll have a go at it sometime in the next few days if no one else wants it. I'm claiming it now so I don't forget about it but if anyone wants it chime in. I don't enjoy working on packaging issues but I enjoy having them solved....\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/138987408","html_url":"https://github.com/elastic/elasticsearch/issues/13392#issuecomment-138987408","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13392","id":138987408,"node_id":"MDEyOklzc3VlQ29tbWVudDEzODk4NzQwOA==","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2015-09-09T17:43:18Z","updated_at":"2015-09-09T17:43:18Z","author_association":"CONTRIBUTOR","body":"Its too bad `java` launcher is so broken, since it has a `-version:xxx` with fancy support for lists, wildcards, ranges, etc, to specify what is needed.\n\nBut it does not work at all.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/141107918","html_url":"https://github.com/elastic/elasticsearch/issues/13392#issuecomment-141107918","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13392","id":141107918,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MTEwNzkxOA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-09-17T14:41:46Z","updated_at":"2015-09-17T14:41:46Z","author_association":"CONTRIBUTOR","body":"OK! I'm going to have a look at this.\n\nI noticed that in systemd we've got elasticsearch setup as a `simple` service (the default) but if we switched to a `notify` service then we'd be able to send notifications back to systemd over a socket that tells it how Elasticsearch is doing. Neat stuff. Minimally I'd hope that we could send it a notification once the node is started. We could even send it information about where we are in the startup process.... Neat! Anyway, [man sd_notify](http://www.dsm.fordham.edu/cgi-bin/man-cgi.pl?topic=sd_notify&ampsect=3) has good docs for this. sd_notify doesn't have a Java library so that'd be trouble there.\n\nNow I'll investigate the init script side....\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/176244670","html_url":"https://github.com/elastic/elasticsearch/issues/13392#issuecomment-176244670","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13392","id":176244670,"node_id":"MDEyOklzc3VlQ29tbWVudDE3NjI0NDY3MA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-01-28T15:51:49Z","updated_at":"2016-01-28T15:51:49Z","author_association":"CONTRIBUTOR","body":"I think this can be fixed simply by not double-daemonizing as we do today.  Closing in favour of https://github.com/elastic/elasticsearch/issues/8796\n\n(If I've got this wrong, please reopen)\n","performed_via_github_app":null}]