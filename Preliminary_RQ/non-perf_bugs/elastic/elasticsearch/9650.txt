{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/9650","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9650/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9650/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9650/events","html_url":"https://github.com/elastic/elasticsearch/issues/9650","id":57305427,"node_id":"MDU6SXNzdWU1NzMwNTQyNw==","number":9650,"title":"Got RepositoryMissingException when creating a snapshot repository","user":{"login":"hlangli","id":707778,"node_id":"MDQ6VXNlcjcwNzc3OA==","avatar_url":"https://avatars0.githubusercontent.com/u/707778?v=4","gravatar_id":"","url":"https://api.github.com/users/hlangli","html_url":"https://github.com/hlangli","followers_url":"https://api.github.com/users/hlangli/followers","following_url":"https://api.github.com/users/hlangli/following{/other_user}","gists_url":"https://api.github.com/users/hlangli/gists{/gist_id}","starred_url":"https://api.github.com/users/hlangli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hlangli/subscriptions","organizations_url":"https://api.github.com/users/hlangli/orgs","repos_url":"https://api.github.com/users/hlangli/repos","events_url":"https://api.github.com/users/hlangli/events{/privacy}","received_events_url":"https://api.github.com/users/hlangli/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-02-11T11:40:21Z","updated_at":"2015-02-11T12:30:02Z","closed_at":"2015-02-11T12:30:02Z","author_association":"NONE","active_lock_reason":null,"body":"I'm trying to create a snapshot repository with the following command:\n\ncurl -XPUT \"http://elasticsearchserver1:9200/_snapshot/erstdistribution\" -d '{\"type\": \"fs\",\"settings\": {\"location\": \"/data/filetrans/backup/erstdistribution\"}}'\n\n...but I get\n\n{\"error\":\"RemoteTransportException[[elasticsearchserver1][inet[/10.0.108.7:9300]][cluster:admin/repository/put]]; nested: RepositoryVerificationException[[erstdistribution] [hLDideaFQGeOjujUgCeMsQ, 'RemoteTransportException[[elasticsearchserver2][inet[/10.0.108.71:9300]][internal:admin/repository/verify]]; nested: RepositoryVerificationException[[erstdistribution] store location [/data/filetrans/backup/erstdistribution] is not shared between node [[elasticsearchserver2][hLDideaFQGeOjujUgCeMsQ][elasticsearchserver2.nces.slt.10ni.net][inet[elasticsearchserver2-23/10.0.108.71:9300]]{master=true}] and the master node]; ']]]; \",\"status\":(reverse-i-search)`'\n\nSo then I mounted /data/filetrans/backup/erstdistribution over sshfs between the two machines like so:\n\nelasticsearchserver2$ sshfs es@elasticsearchserver1:/data/filetrans/backup /data/filetrans/backup\nelasticsearchserver2$ mount\n...\nes@elasticsearchserver1:/data/filetrans/backup on /data/filetrans/backup type fuse.sshfs (rw,nosuid,nodev,user=es)\n\nWhen I then try to create the repository again, I got:\n{\"error\":\"RepositoryVerificationException[[erstdistribution] [hLDideaFQGeOjujUgCeMsQ, 'RemoteTransportException[[elasticsearchserver2][inet[/10.0.108.71:9300]][internal:admin/repository/verify]]; nested: RepositoryMissingException[[erstdistribution] missing]; ']]]\",\"status\":500}\n\nThe directory is created if it's not already present, and ownership and permissions are fine.\n\nI should mention, however, that I'm running the ElasticSearch nodes from inside a webapp due to corporate restrictions on deployment procedures.  This means that the directory and all files written by ElasticSearch are owned by the \"tomcat\" user.\n\nSo, is this a bug or am I doing something wrong?\n\nP.S. I apologize in advance for posting here, but I can't seem to find a dedicated ElasticSearch forum associated with elasticsearch.org!?\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}