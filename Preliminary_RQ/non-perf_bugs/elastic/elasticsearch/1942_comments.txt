[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/5674512","html_url":"https://github.com/elastic/elasticsearch/issues/1942#issuecomment-5674512","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1942","id":5674512,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzQ1MTI=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2012-05-13T07:15:26Z","updated_at":"2012-05-13T07:15:26Z","author_association":"MEMBER","body":"Nothing in the OS log files regarding why it failed?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/5675308","html_url":"https://github.com/elastic/elasticsearch/issues/1942#issuecomment-5675308","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1942","id":5675308,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzUzMDg=","user":{"login":"vijayakumark","id":1730652,"node_id":"MDQ6VXNlcjE3MzA2NTI=","avatar_url":"https://avatars2.githubusercontent.com/u/1730652?v=4","gravatar_id":"","url":"https://api.github.com/users/vijayakumark","html_url":"https://github.com/vijayakumark","followers_url":"https://api.github.com/users/vijayakumark/followers","following_url":"https://api.github.com/users/vijayakumark/following{/other_user}","gists_url":"https://api.github.com/users/vijayakumark/gists{/gist_id}","starred_url":"https://api.github.com/users/vijayakumark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vijayakumark/subscriptions","organizations_url":"https://api.github.com/users/vijayakumark/orgs","repos_url":"https://api.github.com/users/vijayakumark/repos","events_url":"https://api.github.com/users/vijayakumark/events{/privacy}","received_events_url":"https://api.github.com/users/vijayakumark/received_events","type":"User","site_admin":false},"created_at":"2012-05-13T10:21:28Z","updated_at":"2012-05-13T10:21:28Z","author_association":"NONE","body":"Yes. Except for the auth log having an entry about switching user to elasticsearch there is no other entry in the OS logs at all. At times, it starts just fine. \n\nWhen it doesn't start, If I manually ran the script at /usr/share/elasticsearch/bin/elasticsearch with same parameters, ran just fine.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15940508","html_url":"https://github.com/elastic/elasticsearch/issues/1942#issuecomment-15940508","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1942","id":15940508,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTQwNTA4","user":{"login":"oleiade","id":690867,"node_id":"MDQ6VXNlcjY5MDg2Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/690867?v=4","gravatar_id":"","url":"https://api.github.com/users/oleiade","html_url":"https://github.com/oleiade","followers_url":"https://api.github.com/users/oleiade/followers","following_url":"https://api.github.com/users/oleiade/following{/other_user}","gists_url":"https://api.github.com/users/oleiade/gists{/gist_id}","starred_url":"https://api.github.com/users/oleiade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oleiade/subscriptions","organizations_url":"https://api.github.com/users/oleiade/orgs","repos_url":"https://api.github.com/users/oleiade/repos","events_url":"https://api.github.com/users/oleiade/events{/privacy}","received_events_url":"https://api.github.com/users/oleiade/received_events","type":"User","site_admin":false},"created_at":"2013-04-05T06:13:41Z","updated_at":"2013-04-05T06:28:26Z","author_association":"NONE","body":"+1 but in my case, elasticsearch actually nevers starts using the init.d.\n\nAfter a few digging, I discovered lauching via `sudo  -u elasticsearch /usr/share/elasticsearch/bin/elasticsearch` that their might be a owner/rights problem over `/usr/share/elasticsearch` as it thrown:\n\n``` shell\n{0.20.6}: Initialization Failed ...\n- ElasticSearchIllegalStateException[Failed to obtain node lock, is the following location writable?: [/usr/share/elasticsearch/data/elasticsearch]]\n    IOException[failed to obtain lock on /usr/share/elasticsearch/data/elasticsearch/nodes/49]\n        IOException[Cannot create directory: /usr/share/elasticsearch/data/elasticsearch/nodes/49]\n```\n\nOnce I `chwon -R elasticsearch:elasticsearch /usr/share/elasticsearch` the error goes away, but still, the service does not start using the init.d script, and nothing appears in logs.\n\nAny further ideas?\nThanks\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15941146","html_url":"https://github.com/elastic/elasticsearch/issues/1942#issuecomment-15941146","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1942","id":15941146,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTQxMTQ2","user":{"login":"oleiade","id":690867,"node_id":"MDQ6VXNlcjY5MDg2Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/690867?v=4","gravatar_id":"","url":"https://api.github.com/users/oleiade","html_url":"https://github.com/oleiade","followers_url":"https://api.github.com/users/oleiade/followers","following_url":"https://api.github.com/users/oleiade/following{/other_user}","gists_url":"https://api.github.com/users/oleiade/gists{/gist_id}","starred_url":"https://api.github.com/users/oleiade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oleiade/subscriptions","organizations_url":"https://api.github.com/users/oleiade/orgs","repos_url":"https://api.github.com/users/oleiade/repos","events_url":"https://api.github.com/users/oleiade/events{/privacy}","received_events_url":"https://api.github.com/users/oleiade/received_events","type":"User","site_admin":false},"created_at":"2013-04-05T06:41:22Z","updated_at":"2013-04-05T06:41:22Z","author_association":"NONE","body":"Okay, I found out, and write it down here as it might be useful to someone else.\nTrying to launch elasticsearch using the same command as the init.d script through the elasticsearch user, I had this error:\n\n``` shell\n$ sudo -u elasticsearch /usr/share/elasticsearch/bin/elasticsearch -p /var/run/elasticsearch.pid -Des.default.config=/etc/elasticsearch/elasticsearch.yml -Des.default.path.home=/usr/share/elasticsearch -Des.default.path.logs=/var/log/elasticsearch -Des.default.path.data=/var/lib/elasticsearch -Des.default.path.work=/tmp/elasticsearch -Des.default.path.conf=/etc/elasticsearch\n\nleiade@gesicht:~$ {0.20.6}: Initialization Failed ...\n- ElasticSearchIllegalStateException[Failed to obtain node lock, is the following location writable?: [/var/elasticsearch/data/pluto]]\n    IOException[failed to obtain lock on /var/elasticsearch/data/pluto/nodes/49]\n        IOException[Cannot create directory: /var/elasticsearch/data/pluto/nodes/49]\n```\n\nYet another rights problem. After `mkdir /var/elasticsearch && chown -R elasticsearch:elasticsearch /var/elasticsearch` the init.d script works fine.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15942036","html_url":"https://github.com/elastic/elasticsearch/issues/1942#issuecomment-15942036","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1942","id":15942036,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTQyMDM2","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-04-05T07:15:54Z","updated_at":"2013-04-05T07:15:54Z","author_association":"MEMBER","body":"hey,\n\nwhy do you have /var/elasticsearch as your data dir. It should be /var/lib/elasticsearch - did you reconfigure it?\n\nAnyway it should work (if the directory was specified in your configuration). In the current init script, we are setting the permissions and the ownership for those directories in `/etc/init.d/elasticsearch` - maybe you can add `set -x` to the init script and see if the calls changing the permissions happen.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15943725","html_url":"https://github.com/elastic/elasticsearch/issues/1942#issuecomment-15943725","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1942","id":15943725,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTQzNzI1","user":{"login":"oleiade","id":690867,"node_id":"MDQ6VXNlcjY5MDg2Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/690867?v=4","gravatar_id":"","url":"https://api.github.com/users/oleiade","html_url":"https://github.com/oleiade","followers_url":"https://api.github.com/users/oleiade/followers","following_url":"https://api.github.com/users/oleiade/following{/other_user}","gists_url":"https://api.github.com/users/oleiade/gists{/gist_id}","starred_url":"https://api.github.com/users/oleiade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oleiade/subscriptions","organizations_url":"https://api.github.com/users/oleiade/orgs","repos_url":"https://api.github.com/users/oleiade/repos","events_url":"https://api.github.com/users/oleiade/events{/privacy}","received_events_url":"https://api.github.com/users/oleiade/received_events","type":"User","site_admin":false},"created_at":"2013-04-05T08:16:51Z","updated_at":"2013-04-05T08:16:51Z","author_association":"NONE","body":"Hey!\n\nthanks for this quick answer!\n\nYes, I've reconfigured the data dir to point to `/var/elasticsearch/data`, that's why it points there. No problem for me as I'm deploying elasticsearch via puppet, and can easily set the right permissions myself. \n\nI've added `set -x` to the init script, and here's the result:\n\n```\n+ PATH=/bin:/usr/bin:/sbin:/usr/sbin\n+ NAME=elasticsearch\n+ DESC='ElasticSearch Server'\n+ DEFAULT=/etc/default/elasticsearch\n++ id -u\n+ '[' 0 -ne 0 ']'\n+ . /lib/lsb/init-functions\n++ FANCYTTY=\n++ '[' -e /etc/lsb-base-logging.sh ']'\n++ . /etc/lsb-base-logging.sh\n+++ LOG_DAEMON_MSG=\n+ '[' -r /etc/default/rcS ']'\n+ . /etc/default/rcS\n++ TMPTIME=0\n++ SULOGIN=no\n++ DELAYLOGIN=no\n++ UTC=yes\n++ VERBOSE=no\n++ FSCKFIX=yes\n+ ES_USER=elasticsearch\n+ ES_GROUP=elasticsearch\n+ JDK_DIRS='/usr/lib/jvm/java-7-oracle /usr/lib/jvm/java-7-openjdk /usr/lib/jvm/java-7-openjdk-amd64/ /usr/lib/jvm/java-7-openjdk-i386/ /usr/lib/jvm/java-6-sun /usr/lib/jvm/java-6-openjdk'\n+ for jdir in '$JDK_DIRS'\n+ '[' -r /usr/lib/jvm/java-7-oracle/bin/java -a -z '' ']'\n+ for jdir in '$JDK_DIRS'\n+ '[' -r /usr/lib/jvm/java-7-openjdk/bin/java -a -z '' ']'\n+ for jdir in '$JDK_DIRS'\n+ '[' -r /usr/lib/jvm/java-7-openjdk-amd64//bin/java -a -z '' ']'\n+ JAVA_HOME=/usr/lib/jvm/java-7-openjdk-amd64/\n+ for jdir in '$JDK_DIRS'\n+ '[' -r /usr/lib/jvm/java-7-openjdk-i386//bin/java -a -z /usr/lib/jvm/java-7-openjdk-amd64/ ']'\n+ for jdir in '$JDK_DIRS'\n+ '[' -r /usr/lib/jvm/java-6-sun/bin/java -a -z /usr/lib/jvm/java-7-openjdk-amd64/ ']'\n+ for jdir in '$JDK_DIRS'\n+ '[' -r /usr/lib/jvm/java-6-openjdk/bin/java -a -z /usr/lib/jvm/java-7-openjdk-amd64/ ']'\n+ export JAVA_HOME\n+ ES_HOME=/usr/share/elasticsearch\n+ MAX_OPEN_FILES=65535\n+ LOG_DIR=/var/log/elasticsearch\n+ DATA_DIR=/var/lib/elasticsearch\n+ WORK_DIR=/tmp/elasticsearch\n+ CONF_DIR=/etc/elasticsearch\n+ CONF_FILE=/etc/elasticsearch/elasticsearch.yml\n+ '[' -f /etc/default/elasticsearch ']'\n+ . /etc/default/elasticsearch\n+ PID_FILE=/var/run/elasticsearch.pid\n+ DAEMON=/usr/share/elasticsearch/bin/elasticsearch\n+ DAEMON_OPTS='-p /var/run/elasticsearch.pid -Des.default.config=/etc/elasticsearch/elasticsearch.yml -Des.default.path.home=/usr/share/elasticsearch -Des.default.path.logs=/var/log/elasticsearch -Des.default.path.data=/var/lib/elasticsearch -Des.default.path.work=/tmp/elasticsearch -Des.default.path.conf=/etc/elasticsearch'\n+ export ES_HEAP_SIZE\n+ export ES_HEAP_NEWSIZE\n+ export ES_DIRECT_SIZE\n+ export ES_JAVA_OPTS\n+ test -x /usr/share/elasticsearch/bin/elasticsearch\n+ case \"$1\" in\n+ '[' -z /usr/lib/jvm/java-7-openjdk-amd64/ ']'\n+ '[' -n '' -a -z '' ']'\n+ log_daemon_msg 'Starting ElasticSearch Server'\n+ '[' -z 'Starting ElasticSearch Server' ']'\n+ log_use_fancy_output\n+ TPUT=/usr/bin/tput\n+ EXPR=/usr/bin/expr\n+ '[' -t 1 ']'\n+ FANCYTTY=0\n+ case \"$FANCYTTY\" in\n+ false\n+ echo ' * Starting ElasticSearch Server'\n * Starting ElasticSearch Server\n+ COL=\n+ start-stop-daemon --test --start --pidfile /var/run/elasticsearch.pid --user elasticsearch --exec /usr/lib/jvm/java-7-openjdk-amd64//bin/java\n+ log_progress_msg '(already running)'\n+ :\n+ log_end_msg 0\n+ '[' -z 0 ']'\n+ '[' '' ']'\n+ '[' 0 -eq 0 ']'\n+ echo '   ...done.'\n   ...done.\n+ return 0\n+ exit 0\n```\n\nGrep can't find any mentions of `chmod` or `chown` in it, so it doesn't seem like the script is modifying permissions or owner in any way; but I'm not a shell script rock star, maybe I've missed a thing :)\nJust to be sure, I've reset the initial permissions over /var/elasticsearch to root:root in order to see if the permission change happens, and it's not.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15945310","html_url":"https://github.com/elastic/elasticsearch/issues/1942#issuecomment-15945310","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1942","id":15945310,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTQ1MzEw","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-04-05T09:01:52Z","updated_at":"2013-04-05T09:01:52Z","author_association":"MEMBER","body":"the output is not from a real startup, because elasticsearch is already running (see the last ten lines). Or at least the pid file is still existing.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15945957","html_url":"https://github.com/elastic/elasticsearch/issues/1942#issuecomment-15945957","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1942","id":15945957,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTQ1OTU3","user":{"login":"oleiade","id":690867,"node_id":"MDQ6VXNlcjY5MDg2Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/690867?v=4","gravatar_id":"","url":"https://api.github.com/users/oleiade","html_url":"https://github.com/oleiade","followers_url":"https://api.github.com/users/oleiade/followers","following_url":"https://api.github.com/users/oleiade/following{/other_user}","gists_url":"https://api.github.com/users/oleiade/gists{/gist_id}","starred_url":"https://api.github.com/users/oleiade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oleiade/subscriptions","organizations_url":"https://api.github.com/users/oleiade/orgs","repos_url":"https://api.github.com/users/oleiade/repos","events_url":"https://api.github.com/users/oleiade/events{/privacy}","received_events_url":"https://api.github.com/users/oleiade/received_events","type":"User","site_admin":false},"created_at":"2013-04-05T09:19:09Z","updated_at":"2013-04-05T09:19:09Z","author_association":"NONE","body":"Woops, my bad, sorry :D\nActually, once starting correctly with `set -x` it seems that, yes, it chowns the directories, but not those I've set up in the config.\n\n``` shell\n$ sudo /etc/init.d/elasticsearch &> out\n$ cat res | grep \"chown\"\n+ chown elasticsearch:elasticsearch /var/log/elasticsearch /var/lib/elasticsearch /tmp/elasticsearch\n+ chown elasticsearch:elasticsearch /var/run/elasticsearch.pid\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15946190","html_url":"https://github.com/elastic/elasticsearch/issues/1942#issuecomment-15946190","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1942","id":15946190,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTQ2MTkw","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-04-05T09:25:25Z","updated_at":"2013-04-05T09:25:25Z","author_association":"MEMBER","body":"just to make sure:\nDid you set `DATA_DIR=/var/elasticsearch` in `/etc/default/elasticsearch` or did you set it in `elasticsearch.yml` - when reading `/etc/default/elasticsearch` the default DATA_DIR setup should be overwritten in the init script, what seems not to be the case judging from your last output.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15947384","html_url":"https://github.com/elastic/elasticsearch/issues/1942#issuecomment-15947384","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1942","id":15947384,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTQ3Mzg0","user":{"login":"oleiade","id":690867,"node_id":"MDQ6VXNlcjY5MDg2Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/690867?v=4","gravatar_id":"","url":"https://api.github.com/users/oleiade","html_url":"https://github.com/oleiade","followers_url":"https://api.github.com/users/oleiade/followers","following_url":"https://api.github.com/users/oleiade/following{/other_user}","gists_url":"https://api.github.com/users/oleiade/gists{/gist_id}","starred_url":"https://api.github.com/users/oleiade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oleiade/subscriptions","organizations_url":"https://api.github.com/users/oleiade/orgs","repos_url":"https://api.github.com/users/oleiade/repos","events_url":"https://api.github.com/users/oleiade/events{/privacy}","received_events_url":"https://api.github.com/users/oleiade/received_events","type":"User","site_admin":false},"created_at":"2013-04-05T09:53:44Z","updated_at":"2013-04-05T09:53:44Z","author_association":"NONE","body":"I've just set it up in `elasticsearch.yml`, here it is:\n\n``` yaml\n### MANAGED BY PUPPET ###\n---\ncluster: \n  name: pluto\nnode: \n  name: gesicht\npath: \n  data: /var/elasticsearch/data\n  logs: /var/log/elasticsearch\n```\n\nand here's my `/etc/default/elasticsearch`:\n\n``` ini\n# Run ElasticSearch as this user ID and group ID\n#ES_USER=elasticsearch\n#ES_GROUP=elasticsearch\n\n# Heap Size (defaults to 256m min, 1g max)\n#ES_HEAP_SIZE=2g\n\n# Heap new generation\n#ES_HEAP_NEWSIZE=\n\n# max direct memory\n#ES_DIRECT_SIZE=\n\n# Maximum number of open files, defaults to 65535.\n#MAX_OPEN_FILES=65535\n\n# Maximum locked memory size. Set to \"unlimited\" if you use the\n# bootstrap.mlockall option in elasticsearch.yml. You must also set\n# ES_HEAP_SIZE.\n#MAX_LOCKED_MEMORY=unlimited\n\n# ElasticSearch log directory\n#LOG_DIR=/var/log/elasticsearch\n\n# ElasticSearch data directory\n#DATA_DIR=/var/lib/elasticsearch\n\n# ElasticSearch work directory\n#WORK_DIR=/tmp/elasticsearch\n\n# ElasticSearch configuration directory\n#CONF_DIR=/etc/elasticsearch\n\n# ElasticSearch configuration file (elasticsearch.yml)\n#CONF_FILE=/etc/elasticsearch/elasticsearch.yml\n\n# Additional Java OPTS\n#ES_JAVA_OPTS=\n```\n\nShould I make sure puppet sets DATA_DIR in `/etc/default/elasticsearch` too then?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/16278601","html_url":"https://github.com/elastic/elasticsearch/issues/1942#issuecomment-16278601","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1942","id":16278601,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mjc4NjAx","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-04-12T07:01:21Z","updated_at":"2013-04-12T07:01:21Z","author_association":"MEMBER","body":"This depends on your setup. If you handle chmod/chown yourself, there is no need for updating `/etc/default/elasticsearch` - if you want to have it handled by the init script, you should add it there as well and distribute the file correctly.\n\nAs the original report is 11 months old and no useful information has been added and your problem looks fixed to me, I will close this one.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22006011","html_url":"https://github.com/elastic/elasticsearch/issues/1942#issuecomment-22006011","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1942","id":22006011,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDA2MDEx","user":{"login":"haf","id":193115,"node_id":"MDQ6VXNlcjE5MzExNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/193115?v=4","gravatar_id":"","url":"https://api.github.com/users/haf","html_url":"https://github.com/haf","followers_url":"https://api.github.com/users/haf/followers","following_url":"https://api.github.com/users/haf/following{/other_user}","gists_url":"https://api.github.com/users/haf/gists{/gist_id}","starred_url":"https://api.github.com/users/haf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haf/subscriptions","organizations_url":"https://api.github.com/users/haf/orgs","repos_url":"https://api.github.com/users/haf/repos","events_url":"https://api.github.com/users/haf/events{/privacy}","received_events_url":"https://api.github.com/users/haf/received_events","type":"User","site_admin":false},"created_at":"2013-08-02T13:38:50Z","updated_at":"2013-08-02T13:38:50Z","author_association":"NONE","body":"The problem was probably that the puppet module didn't set the CONF_DIR variable in `/etc/{default,sysconf}/elasticsearch` to `/etc/elasticsearch`.\n\n```\n\n  $service_settings = merge_hashes({\n    'CONF_DIR' => '/etc/elasticsearch'\n  },$elasticsearch::service_settings)\n```\n","performed_via_github_app":null}]