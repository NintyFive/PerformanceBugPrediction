{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/62415","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/62415/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/62415/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/62415/events","html_url":"https://github.com/elastic/elasticsearch/issues/62415","id":702218292,"node_id":"MDU6SXNzdWU3MDIyMTgyOTI=","number":62415,"title":"[CI] Failures in MlConfigIndexMappingsFullClusterRestartIT.testMlConfigIndexMappingsAfterMigration","user":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"labels":[{"id":912833043,"node_id":"MDU6TGFiZWw5MTI4MzMwNDM=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:ml","name":":ml","color":"0e8a16","default":false,"description":"Machine learning"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-09-15T20:00:09Z","updated_at":"2020-09-16T08:30:56Z","closed_at":"2020-09-16T08:30:56Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Numerous [recurring failures](https://groups.google.com/a/elastic.co/g/build-elasticsearch/search?q=MlConfigIndexMappingsFullClusterRestartIT.testMlConfigIndexMappingsAfterMigration) in `MlConfigIndexMappingsFullClusterRestartIT.testMlConfigIndexMappingsAfterMigration`\r\n\r\n\r\nReproduce with:\r\n```\r\n./gradlew ':x-pack:qa:full-cluster-restart:v7.3.0#upgradedClusterTest' --tests \"org.elasticsearch.xpack.restart.MlConfigIndexMappingsFullClusterRestartIT.testMlConfigIndexMappingsAfterMigration\" -Dtests.seed=B4DB8F510E8EA210 -Dtests.security.manager=true -Dtests.locale=fr -Dtests.timezone=Turkey -Dtests.distribution=default -Druntime.java=11\r\n```\r\n\r\nException found:\r\n\r\n```\r\n11:54:00 org.elasticsearch.xpack.restart.MlConfigIndexMappingsFullClusterRestartIT > testMlConfigIndexMappingsAfterMigration FAILED\r\n11:54:00     org.elasticsearch.client.ResponseException: method [GET], host [http://[::1]:42938], URI [.ml-notifications-000001/_mapping], status line [HTTP/1.1 404 Not Found]\r\n11:54:00     {\"error\":{\"root_cause\":[{\"type\":\"index_not_found_exception\",\"reason\":\"no such index [.ml-notifications-000001]\",\"resource.type\":\"index_or_alias\",\"resource.id\":\".ml-notifications-000001\",\"index_uuid\":\"_na_\",\"index\":\".ml-notifications-000001\"}],\"type\":\"index_not_found_exception\",\"reason\":\"no such index [.ml-notifications-000001]\",\"resource.type\":\"index_or_alias\",\"resource.id\":\".ml-notifications-000001\",\"index_uuid\":\"_na_\",\"index\":\".ml-notifications-000001\"},\"status\":404}\r\n11:54:00         at __randomizedtesting.SeedInfo.seed([B4DB8F510E8EA210:B0BA8120654B157D]:0)\r\n11:54:00         at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:318)\r\n11:54:00         at org.elasticsearch.client.RestClient.performRequest(RestClient.java:288)\r\n11:54:00         at org.elasticsearch.client.RestClient.performRequest(RestClient.java:262)\r\n11:54:00         at org.elasticsearch.xpack.test.rest.IndexMappingTemplateAsserter.assertLegacyTemplateMatchesIndexMappings(IndexMappingTemplateAsserter.java:143)\r\n11:54:00         at org.elasticsearch.xpack.test.rest.IndexMappingTemplateAsserter.assertLegacyTemplateMatchesIndexMappings(IndexMappingTemplateAsserter.java:239)\r\n11:54:00         at org.elasticsearch.xpack.test.rest.IndexMappingTemplateAsserter.assertMlMappingsMatchTemplates(IndexMappingTemplateAsserter.java:90)\r\n11:54:00         at org.elasticsearch.xpack.restart.MlConfigIndexMappingsFullClusterRestartIT.testMlConfigIndexMappingsAfterMigration(MlConfigIndexMappingsFullClusterRestartIT.java:68)\r\n```\r\n\r\n","closed_by":{"login":"davidkyle","id":2353640,"node_id":"MDQ6VXNlcjIzNTM2NDA=","avatar_url":"https://avatars1.githubusercontent.com/u/2353640?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkyle","html_url":"https://github.com/davidkyle","followers_url":"https://api.github.com/users/davidkyle/followers","following_url":"https://api.github.com/users/davidkyle/following{/other_user}","gists_url":"https://api.github.com/users/davidkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkyle/subscriptions","organizations_url":"https://api.github.com/users/davidkyle/orgs","repos_url":"https://api.github.com/users/davidkyle/repos","events_url":"https://api.github.com/users/davidkyle/events{/privacy}","received_events_url":"https://api.github.com/users/davidkyle/received_events","type":"User","site_admin":false},"performed_via_github_app":null}