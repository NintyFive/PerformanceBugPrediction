[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/35254471","html_url":"https://github.com/elastic/elasticsearch/issues/5142#issuecomment-35254471","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5142","id":35254471,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjU0NDcx","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2014-02-17T12:58:19Z","updated_at":"2014-02-17T12:58:19Z","author_association":"CONTRIBUTOR","body":"The `exists` filter works by looking at matches in the inverted index for any value of the given field. The reason why it doesn't work on object is that they are not indexed. In the example that you gave, the inverted index only has entries for `complex.object` and `simple`.\n\nI will a a note to the documentation.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/35254778","html_url":"https://github.com/elastic/elasticsearch/issues/5142#issuecomment-35254778","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5142","id":35254778,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjU0Nzc4","user":{"login":"bobrik","id":89186,"node_id":"MDQ6VXNlcjg5MTg2","avatar_url":"https://avatars0.githubusercontent.com/u/89186?v=4","gravatar_id":"","url":"https://api.github.com/users/bobrik","html_url":"https://github.com/bobrik","followers_url":"https://api.github.com/users/bobrik/followers","following_url":"https://api.github.com/users/bobrik/following{/other_user}","gists_url":"https://api.github.com/users/bobrik/gists{/gist_id}","starred_url":"https://api.github.com/users/bobrik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bobrik/subscriptions","organizations_url":"https://api.github.com/users/bobrik/orgs","repos_url":"https://api.github.com/users/bobrik/repos","events_url":"https://api.github.com/users/bobrik/events{/privacy}","received_events_url":"https://api.github.com/users/bobrik/received_events","type":"User","site_admin":false},"created_at":"2014-02-17T13:02:51Z","updated_at":"2014-02-17T13:02:51Z","author_association":"CONTRIBUTOR","body":"So `missing` filter will use field data and not inverted index, right?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/35255207","html_url":"https://github.com/elastic/elasticsearch/issues/5142#issuecomment-35255207","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5142","id":35255207,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjU1MjA3","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2014-02-17T13:09:24Z","updated_at":"2014-02-17T13:09:24Z","author_association":"CONTRIBUTOR","body":"The `missing` filter works exactly as if you wrapped the `exists` filter under a `not` filter, so the same limitations apply.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/35256986","html_url":"https://github.com/elastic/elasticsearch/issues/5142#issuecomment-35256986","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5142","id":35256986,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjU2OTg2","user":{"login":"bobrik","id":89186,"node_id":"MDQ6VXNlcjg5MTg2","avatar_url":"https://avatars0.githubusercontent.com/u/89186?v=4","gravatar_id":"","url":"https://api.github.com/users/bobrik","html_url":"https://github.com/bobrik","followers_url":"https://api.github.com/users/bobrik/followers","following_url":"https://api.github.com/users/bobrik/following{/other_user}","gists_url":"https://api.github.com/users/bobrik/gists{/gist_id}","starred_url":"https://api.github.com/users/bobrik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bobrik/subscriptions","organizations_url":"https://api.github.com/users/bobrik/orgs","repos_url":"https://api.github.com/users/bobrik/repos","events_url":"https://api.github.com/users/bobrik/events{/privacy}","received_events_url":"https://api.github.com/users/bobrik/received_events","type":"User","site_admin":false},"created_at":"2014-02-17T13:34:28Z","updated_at":"2014-02-17T13:34:28Z","author_association":"CONTRIBUTOR","body":"Since this works:\n\n```\ncurl -X POST 'http://127.0.0.1:9200/wtf/test/_search?pretty' -d '{ \"query\": { \"filtered\": { \"filter\": { \"exists\": { \"field\": \"complex\" } } } } }'\n```\n\nand this doesn't:\n\n```\ncurl -X POST 'http://127.0.0.1:9200/wtf/test/_search?pretty&q=_exists_:complex'\n```\n\nI understand that `_exists_` in query only uses inverted index, but `exists` filter knows that `complex` is object and cannot be found in index so field data should be used. Do I get this right?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/35286052","html_url":"https://github.com/elastic/elasticsearch/issues/5142#issuecomment-35286052","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5142","id":35286052,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Mjg2MDUy","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2014-02-17T14:28:58Z","updated_at":"2014-02-17T14:28:58Z","author_association":"CONTRIBUTOR","body":"I had to check the code to understand what happens, the difference is that `exists` tries to be smarter than `_exists_` when matching an object by using sub-fields. That is, `exists` is able to translate `\"exists\": { \"field\": \"complex\"}` to `\"exists\": { \"field\": \"complex.object\"}`. Let me see if I can fix `_exists_` to behave consistently with `exists`.\n","performed_via_github_app":null}]