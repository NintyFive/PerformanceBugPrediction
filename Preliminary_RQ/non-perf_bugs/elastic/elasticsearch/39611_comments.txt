[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/469169643","html_url":"https://github.com/elastic/elasticsearch/issues/39611#issuecomment-469169643","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39611","id":469169643,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTE2OTY0Mw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-03-04T08:55:35Z","updated_at":"2019-03-04T08:55:35Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/469171158","html_url":"https://github.com/elastic/elasticsearch/issues/39611#issuecomment-469171158","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39611","id":469171158,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTE3MTE1OA==","user":{"login":"matriv","id":5058131,"node_id":"MDQ6VXNlcjUwNTgxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/5058131?v=4","gravatar_id":"","url":"https://api.github.com/users/matriv","html_url":"https://github.com/matriv","followers_url":"https://api.github.com/users/matriv/followers","following_url":"https://api.github.com/users/matriv/following{/other_user}","gists_url":"https://api.github.com/users/matriv/gists{/gist_id}","starred_url":"https://api.github.com/users/matriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matriv/subscriptions","organizations_url":"https://api.github.com/users/matriv/orgs","repos_url":"https://api.github.com/users/matriv/repos","events_url":"https://api.github.com/users/matriv/events{/privacy}","received_events_url":"https://api.github.com/users/matriv/received_events","type":"User","site_admin":false},"created_at":"2019-03-04T09:00:10Z","updated_at":"2019-03-04T09:00:10Z","author_association":"CONTRIBUTOR","body":"Maybe something is wrong here: https://github.com/elastic/elasticsearch/blob/master/distribution/src/bin/elasticsearch-env.bat#L61 ?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/528527813","html_url":"https://github.com/elastic/elasticsearch/issues/39611#issuecomment-528527813","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39611","id":528527813,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODUyNzgxMw==","user":{"login":"williamrandolph","id":3253644,"node_id":"MDQ6VXNlcjMyNTM2NDQ=","avatar_url":"https://avatars3.githubusercontent.com/u/3253644?v=4","gravatar_id":"","url":"https://api.github.com/users/williamrandolph","html_url":"https://github.com/williamrandolph","followers_url":"https://api.github.com/users/williamrandolph/followers","following_url":"https://api.github.com/users/williamrandolph/following{/other_user}","gists_url":"https://api.github.com/users/williamrandolph/gists{/gist_id}","starred_url":"https://api.github.com/users/williamrandolph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/williamrandolph/subscriptions","organizations_url":"https://api.github.com/users/williamrandolph/orgs","repos_url":"https://api.github.com/users/williamrandolph/repos","events_url":"https://api.github.com/users/williamrandolph/events{/privacy}","received_events_url":"https://api.github.com/users/williamrandolph/received_events","type":"User","site_admin":false},"created_at":"2019-09-05T19:02:21Z","updated_at":"2019-09-05T20:26:38Z","author_association":"CONTRIBUTOR","body":"I can replicate this error message by fussing around with `bin/elasticsearch-env.bat`. At the point where we set `ES_TMPDIR`, I changed `` `\"`` and ``\"` `` to `'`:\r\n\r\n```\r\nif not defined ES_TMPDIR (\r\n  for /f \"tokens=* usebackq\" %%a in ('%JAVA% -cp \"!ES_CLASSPATH!\" \"org.elasticsearch.tools.launchers.TempDirectory\"') do set ES_TMPDIR=%%a\r\n)\r\n```\r\n\r\nThis makes some sense. On my dev box, the final Elasticsearch invocation ends up looking like this (newlines added for legibility):\r\n\r\n```\r\n\"C:\\Users\\jenkins\\.java\\java11\\bin\\java.exe\" \r\n  -Xms1g -Xmx1g -XX:+UseConcMarkSweepGC \r\n  [snip]\r\n  -Dlog4j2.disable.jmx=true \r\n\r\n  -Djava.io.tmpdir=C:\\Users\\WILLIA~1\\AppData\\Local\\Temp\\2\\elasticsearch\r\n\r\n  -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=data \r\n  -XX:ErrorFile=logs/hs_err_pid%p.log \r\n  -Xlog:gc*,gc+age=trace,safepoint:file=logs/gc.log:utctime,pid,tags:filecount=32,filesize=64m \r\n  -Djava.locale.providers=COMPAT -XX:UseAVX=2  -Delasticsearch \r\n  -Des.path.home=\"C:\\Users\\william_brafford\\tasks\\busted661startup\\elasticsearch-6.6.1-SNAPSHOT\" \r\n  -Des.path.conf=\"C:\\Users\\william_brafford\\tasks\\busted661startup\\elasticsearch-6.6.1-SNAPSHOT\\config\"\r\n  -Des.distribution.flavor=\"default\" -Des.distribution.type=\"zip\" \r\n  -cp \"C:\\Users\\william_brafford\\tasks\\busted661startup\\elasticsearch-6.6.1-SNAPSHOT\\lib\\*\" \r\n  \"org.elasticsearch.bootstrap.Elasticsearch\"\r\n```\r\n\r\nNote that everything following the `java.io.tmpdir` line is the stuff that shows up in the stack trace. I believe that the `ES_TMPDIR` variable is getting set to something like `foo \"org.elasticsearch.tools.launchers.TempDirectory\"`. This means that the Java command picks up `TempDirectory` as the target class and everything that comes after it is interpreted as arguments to that command.\r\n\r\nNow I'm going to try to see if I can find any way that `elasticsearch-env.bat` could have behaved like this without manual edits.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/528595924","html_url":"https://github.com/elastic/elasticsearch/issues/39611#issuecomment-528595924","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39611","id":528595924,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODU5NTkyNA==","user":{"login":"williamrandolph","id":3253644,"node_id":"MDQ6VXNlcjMyNTM2NDQ=","avatar_url":"https://avatars3.githubusercontent.com/u/3253644?v=4","gravatar_id":"","url":"https://api.github.com/users/williamrandolph","html_url":"https://github.com/williamrandolph","followers_url":"https://api.github.com/users/williamrandolph/followers","following_url":"https://api.github.com/users/williamrandolph/following{/other_user}","gists_url":"https://api.github.com/users/williamrandolph/gists{/gist_id}","starred_url":"https://api.github.com/users/williamrandolph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/williamrandolph/subscriptions","organizations_url":"https://api.github.com/users/williamrandolph/orgs","repos_url":"https://api.github.com/users/williamrandolph/repos","events_url":"https://api.github.com/users/williamrandolph/events{/privacy}","received_events_url":"https://api.github.com/users/williamrandolph/received_events","type":"User","site_admin":false},"created_at":"2019-09-05T21:27:55Z","updated_at":"2019-09-05T21:27:55Z","author_association":"CONTRIBUTOR","body":"@vikramjakkampudi \r\n\r\nI am sorry that it has taken so long to take a close look at this issue. I have not been able to reproduce it without purposefully editing the startup scripts.\r\n\r\nAre you still having this problem? Have you tried a more recent version of Elasticsearch? How did you install Elasticsearch on your PC?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/542248764","html_url":"https://github.com/elastic/elasticsearch/issues/39611#issuecomment-542248764","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39611","id":542248764,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MjI0ODc2NA==","user":{"login":"williamrandolph","id":3253644,"node_id":"MDQ6VXNlcjMyNTM2NDQ=","avatar_url":"https://avatars3.githubusercontent.com/u/3253644?v=4","gravatar_id":"","url":"https://api.github.com/users/williamrandolph","html_url":"https://github.com/williamrandolph","followers_url":"https://api.github.com/users/williamrandolph/followers","following_url":"https://api.github.com/users/williamrandolph/following{/other_user}","gists_url":"https://api.github.com/users/williamrandolph/gists{/gist_id}","starred_url":"https://api.github.com/users/williamrandolph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/williamrandolph/subscriptions","organizations_url":"https://api.github.com/users/williamrandolph/orgs","repos_url":"https://api.github.com/users/williamrandolph/repos","events_url":"https://api.github.com/users/williamrandolph/events{/privacy}","received_events_url":"https://api.github.com/users/williamrandolph/received_events","type":"User","site_admin":false},"created_at":"2019-10-15T14:44:29Z","updated_at":"2019-10-15T14:44:29Z","author_association":"CONTRIBUTOR","body":"With no activity on this ticket, I'm going to close it. If you have this issue and can provide more information, please re-open.","performed_via_github_app":null}]