[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/395814169","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-395814169","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":395814169,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTgxNDE2OQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-06-08T16:25:41Z","updated_at":"2018-06-08T16:25:41Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396113163","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-396113163","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":396113163,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjExMzE2Mw==","user":{"login":"adol-ch","id":6873877,"node_id":"MDQ6VXNlcjY4NzM4Nzc=","avatar_url":"https://avatars1.githubusercontent.com/u/6873877?v=4","gravatar_id":"","url":"https://api.github.com/users/adol-ch","html_url":"https://github.com/adol-ch","followers_url":"https://api.github.com/users/adol-ch/followers","following_url":"https://api.github.com/users/adol-ch/following{/other_user}","gists_url":"https://api.github.com/users/adol-ch/gists{/gist_id}","starred_url":"https://api.github.com/users/adol-ch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adol-ch/subscriptions","organizations_url":"https://api.github.com/users/adol-ch/orgs","repos_url":"https://api.github.com/users/adol-ch/repos","events_url":"https://api.github.com/users/adol-ch/events{/privacy}","received_events_url":"https://api.github.com/users/adol-ch/received_events","type":"User","site_admin":false},"created_at":"2018-06-11T03:30:57Z","updated_at":"2018-06-11T03:30:57Z","author_association":"NONE","body":"My cluster have the same issue","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/408021789","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-408021789","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":408021789,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODAyMTc4OQ==","user":{"login":"furkalor","id":12525911,"node_id":"MDQ6VXNlcjEyNTI1OTEx","avatar_url":"https://avatars2.githubusercontent.com/u/12525911?v=4","gravatar_id":"","url":"https://api.github.com/users/furkalor","html_url":"https://github.com/furkalor","followers_url":"https://api.github.com/users/furkalor/followers","following_url":"https://api.github.com/users/furkalor/following{/other_user}","gists_url":"https://api.github.com/users/furkalor/gists{/gist_id}","starred_url":"https://api.github.com/users/furkalor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/furkalor/subscriptions","organizations_url":"https://api.github.com/users/furkalor/orgs","repos_url":"https://api.github.com/users/furkalor/repos","events_url":"https://api.github.com/users/furkalor/events{/privacy}","received_events_url":"https://api.github.com/users/furkalor/received_events","type":"User","site_admin":false},"created_at":"2018-07-26T08:36:21Z","updated_at":"2018-07-26T08:36:21Z","author_association":"NONE","body":"I had this problem too. I work around it by increasing breaker limit on the fly:\r\n```\r\ncurl -X PUT \"localhost:9200/_cluster/settings\" -H 'Content-Type: application/json' -d'\r\n {\r\n     \"transient\" : {\r\n         \"indices.breaker.total.limit\" : \"80%\"\r\n     }\r\n }\r\n '\r\n```\r\nBy default it's 70%.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/416904696","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-416904696","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":416904696,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNjkwNDY5Ng==","user":{"login":"hrr888","id":9976504,"node_id":"MDQ6VXNlcjk5NzY1MDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/9976504?v=4","gravatar_id":"","url":"https://api.github.com/users/hrr888","html_url":"https://github.com/hrr888","followers_url":"https://api.github.com/users/hrr888/followers","following_url":"https://api.github.com/users/hrr888/following{/other_user}","gists_url":"https://api.github.com/users/hrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/hrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hrr888/subscriptions","organizations_url":"https://api.github.com/users/hrr888/orgs","repos_url":"https://api.github.com/users/hrr888/repos","events_url":"https://api.github.com/users/hrr888/events{/privacy}","received_events_url":"https://api.github.com/users/hrr888/received_events","type":"User","site_admin":false},"created_at":"2018-08-29T10:27:44Z","updated_at":"2018-08-29T10:27:44Z","author_association":"NONE","body":"My cluster is also affected by this bug. Workaround helps only for a few days, then circuit breaker hits the limit again, and I bump it up few percent more. Rolling restart doesn't help.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/417053166","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-417053166","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":417053166,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzA1MzE2Ng==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-08-29T18:17:33Z","updated_at":"2018-08-29T18:17:33Z","author_association":"MEMBER","body":"Elasticsearch 6.2.0 introduced the accounting circuit breaker to account for segment memory usage: #27116. This means that for installations having a large number of shards, it would be expected that this breaker would start tripping on them when it previously was not. All that we have done here is do a better job of accounting for memory and can therefore break now in more situations. This is a good thing, it prevents us from going out of memory and completely blowing up. In 7.0.0 we are making further enhancements to the circuit breaker to account for the real memory usage: #33125\r\n\r\nI do not see a bug here, I think that Elasticsearch and the circuit breaker are behaving as expected.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/417200380","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-417200380","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":417200380,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzIwMDM4MA==","user":{"login":"hrr888","id":9976504,"node_id":"MDQ6VXNlcjk5NzY1MDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/9976504?v=4","gravatar_id":"","url":"https://api.github.com/users/hrr888","html_url":"https://github.com/hrr888","followers_url":"https://api.github.com/users/hrr888/followers","following_url":"https://api.github.com/users/hrr888/following{/other_user}","gists_url":"https://api.github.com/users/hrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/hrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hrr888/subscriptions","organizations_url":"https://api.github.com/users/hrr888/orgs","repos_url":"https://api.github.com/users/hrr888/repos","events_url":"https://api.github.com/users/hrr888/events{/privacy}","received_events_url":"https://api.github.com/users/hrr888/received_events","type":"User","site_admin":false},"created_at":"2018-08-30T06:05:03Z","updated_at":"2018-08-30T06:05:03Z","author_association":"NONE","body":"Maybe I don't understand something, but how simple request can allocate so much memory:\r\n\r\n  curl -X GET 'http://localhost:9200/_cat/health?v'\r\n\r\n  {\"error\":{\"root_cause\":[{\"type\":\"circuit_breaking_exception\",\"reason\":\"[parent] Data too large, data for [<http_request>] would be [18213502664/16.9gb], which is larger than the limit of [18193693409/16.9gb]\",\"bytes_wanted\":18213502664,\"bytes_limit\":18193693409}],\"type\":\"circuit_breaking_exception\",\"reason\":\"[parent] Data too large, data for [<http_request>] would be [18213502664/16.9gb], which is larger than the limit of [18193693409/16.9gb]\",\"bytes_wanted\":18213502664,\"bytes_limit\":18193693409},\"status\":503}","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/417217874","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-417217874","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":417217874,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzIxNzg3NA==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2018-08-30T07:27:34Z","updated_at":"2018-08-30T07:27:34Z","author_association":"MEMBER","body":"@hrr888 it is not that this particular request allocates so much memory. Circuit breakers are hierarchical so the \"parent\" breaker accumulates the reserved memory of the other circuit breakers. It is likely that one of the other circuit breakers (see [docs](https://www.elastic.co/guide/en/elasticsearch/reference/current/circuit-breaker.html)) is already reserving a lot of memory and this request just pushes it over the limit and the parent circuit breaker trips due to totally reserved memory usage of all other circuit breakers. You can use the node stats API (i.e. `GET /_nodes/stats/breaker`) to inspect the current circuit breaker status.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/417220273","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-417220273","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":417220273,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzIyMDI3Mw==","user":{"login":"hrr888","id":9976504,"node_id":"MDQ6VXNlcjk5NzY1MDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/9976504?v=4","gravatar_id":"","url":"https://api.github.com/users/hrr888","html_url":"https://github.com/hrr888","followers_url":"https://api.github.com/users/hrr888/followers","following_url":"https://api.github.com/users/hrr888/following{/other_user}","gists_url":"https://api.github.com/users/hrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/hrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hrr888/subscriptions","organizations_url":"https://api.github.com/users/hrr888/orgs","repos_url":"https://api.github.com/users/hrr888/repos","events_url":"https://api.github.com/users/hrr888/events{/privacy}","received_events_url":"https://api.github.com/users/hrr888/received_events","type":"User","site_admin":false},"created_at":"2018-08-30T07:36:28Z","updated_at":"2018-08-30T07:36:28Z","author_association":"NONE","body":"Ok, thanks for explanation. But then, this error message is somewhat misleading. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/417285365","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-417285365","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":417285365,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzI4NTM2NQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-08-30T11:24:37Z","updated_at":"2018-08-30T11:32:39Z","author_association":"MEMBER","body":"@hrr888 We are open to suggestions on how we can improve any aspect of the system. Can you help us understand what is would make it better?\r\n\r\nStarting with:\r\n\r\n```\r\n{\r\n  \"error\": {\r\n    \"root_cause\": [\r\n      {\r\n        \"type\": \"circuit_breaking_exception\",\r\n        \"reason\": \"[parent] Data too large, data for [<http_request>] would be [18213502664/16.9gb], which is larger than the limit of [18193693409/16.9gb]\",\r\n        \"bytes_wanted\": 18213502664,\r\n        \"bytes_limit\": 18193693409\r\n      }\r\n    ],\r\n    \"type\": \"circuit_breaking_exception\",\r\n    \"reason\": \"[parent] Data too large, data for [<http_request>] would be [18213502664/16.9gb], which is larger than the limit of [18193693409/16.9gb]\",\r\n    \"bytes_wanted\": 18213502664,\r\n    \"bytes_limit\": 18193693409\r\n  },\r\n  \"status\": 503\r\n}\r\n```\r\n\r\nThere was an `error`, its `root_cause` is a `circuit_breaking_exception` and the reason is because\r\n`[parent] Data too large, data for [<http_request>] would be [18213502664/16.9gb], which is larger than the limit of [18193693409/16.9gb]`.\r\n\r\nThis means it is the `parent` circuit breaker that tripped, it is an HTTP request that tripped it, if we accepted the HTTP request than the breaker would be at 18213502664 bytes (`bytes_wanted`) which is larger than the limit of 18193693409 bytes (`bytes_limit`). Therefore, the circuit breaker trips and the request is rejected.\r\n\r\nThe status code on the HTTP response is 503, internal server error (see #31986).\r\n\r\nFinally, `root_cause` and the top-level exception are the same (they would not be in the case of, say, a remote exception where on the remote side the cause was, for example, and illegal argument exception).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/417520092","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-417520092","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":417520092,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzUyMDA5Mg==","user":{"login":"r32rtb","id":8427533,"node_id":"MDQ6VXNlcjg0Mjc1MzM=","avatar_url":"https://avatars2.githubusercontent.com/u/8427533?v=4","gravatar_id":"","url":"https://api.github.com/users/r32rtb","html_url":"https://github.com/r32rtb","followers_url":"https://api.github.com/users/r32rtb/followers","following_url":"https://api.github.com/users/r32rtb/following{/other_user}","gists_url":"https://api.github.com/users/r32rtb/gists{/gist_id}","starred_url":"https://api.github.com/users/r32rtb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r32rtb/subscriptions","organizations_url":"https://api.github.com/users/r32rtb/orgs","repos_url":"https://api.github.com/users/r32rtb/repos","events_url":"https://api.github.com/users/r32rtb/events{/privacy}","received_events_url":"https://api.github.com/users/r32rtb/received_events","type":"User","site_admin":false},"created_at":"2018-08-31T01:27:48Z","updated_at":"2018-08-31T01:27:48Z","author_association":"NONE","body":"Since upgrading to 6.4.0 I have no longer seen this issue. 6.4.0 appears to be much more stable. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/417625489","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-417625489","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":417625489,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzYyNTQ4OQ==","user":{"login":"hrr888","id":9976504,"node_id":"MDQ6VXNlcjk5NzY1MDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/9976504?v=4","gravatar_id":"","url":"https://api.github.com/users/hrr888","html_url":"https://github.com/hrr888","followers_url":"https://api.github.com/users/hrr888/followers","following_url":"https://api.github.com/users/hrr888/following{/other_user}","gists_url":"https://api.github.com/users/hrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/hrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hrr888/subscriptions","organizations_url":"https://api.github.com/users/hrr888/orgs","repos_url":"https://api.github.com/users/hrr888/repos","events_url":"https://api.github.com/users/hrr888/events{/privacy}","received_events_url":"https://api.github.com/users/hrr888/received_events","type":"User","site_admin":false},"created_at":"2018-08-31T10:39:38Z","updated_at":"2018-08-31T10:41:31Z","author_association":"NONE","body":"@jasontedor Explanation you gave make it all clear. Maybe it's my poor understanding of English. The [docs](https://www.elastic.co/guide/en/elasticsearch/reference/current/circuit-breaker.html#circuit-breaker) say\r\n> Each breaker specifies a limit for how much memory it can use. Additionally, there is a parent-level breaker that specifies the total amount of memory that can be used across all breakers.\r\n\r\n\"Across\" is for me as \"if any breaker has own limit greater than parent, then parent has precedence\", but it not implies that parent is applied to sum of all allocated memory, as @danielmitterdorfer explained (I found the root cause of the problem. Thanks, @danielmitterdorfer :) ).\r\n\r\nMaybe cited sentence should be rephrased or exdended.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/494050544","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-494050544","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":494050544,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDA1MDU0NA==","user":{"login":"wanthalf","id":1882909,"node_id":"MDQ6VXNlcjE4ODI5MDk=","avatar_url":"https://avatars0.githubusercontent.com/u/1882909?v=4","gravatar_id":"","url":"https://api.github.com/users/wanthalf","html_url":"https://github.com/wanthalf","followers_url":"https://api.github.com/users/wanthalf/followers","following_url":"https://api.github.com/users/wanthalf/following{/other_user}","gists_url":"https://api.github.com/users/wanthalf/gists{/gist_id}","starred_url":"https://api.github.com/users/wanthalf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wanthalf/subscriptions","organizations_url":"https://api.github.com/users/wanthalf/orgs","repos_url":"https://api.github.com/users/wanthalf/repos","events_url":"https://api.github.com/users/wanthalf/events{/privacy}","received_events_url":"https://api.github.com/users/wanthalf/received_events","type":"User","site_admin":false},"created_at":"2019-05-20T16:04:58Z","updated_at":"2019-05-20T16:04:58Z","author_association":"NONE","body":"After upgrade to ES7, I get this error just to any request (including health status) after a few minutes of monitoring by cerebro UI and no queries nor other requests at all. Heap is set to 16GB and it gets almost full just after initialisation of the 15 indexes (each having 5 shards). When setting the heap size to the default 1GB, ES does not even finish initialisation. So, I have to raise even higher than 16GB?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/494634495","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-494634495","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":494634495,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDYzNDQ5NQ==","user":{"login":"virtuman","id":1087996,"node_id":"MDQ6VXNlcjEwODc5OTY=","avatar_url":"https://avatars1.githubusercontent.com/u/1087996?v=4","gravatar_id":"","url":"https://api.github.com/users/virtuman","html_url":"https://github.com/virtuman","followers_url":"https://api.github.com/users/virtuman/followers","following_url":"https://api.github.com/users/virtuman/following{/other_user}","gists_url":"https://api.github.com/users/virtuman/gists{/gist_id}","starred_url":"https://api.github.com/users/virtuman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/virtuman/subscriptions","organizations_url":"https://api.github.com/users/virtuman/orgs","repos_url":"https://api.github.com/users/virtuman/repos","events_url":"https://api.github.com/users/virtuman/events{/privacy}","received_events_url":"https://api.github.com/users/virtuman/received_events","type":"User","site_admin":false},"created_at":"2019-05-22T03:06:03Z","updated_at":"2019-05-22T03:06:03Z","author_association":"NONE","body":"same in my case. i set a cluster up with 3 data, 3 master, and 3 ingest nodes.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/497093508","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-497093508","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":497093508,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzA5MzUwOA==","user":{"login":"avloss","id":17853685,"node_id":"MDQ6VXNlcjE3ODUzNjg1","avatar_url":"https://avatars3.githubusercontent.com/u/17853685?v=4","gravatar_id":"","url":"https://api.github.com/users/avloss","html_url":"https://github.com/avloss","followers_url":"https://api.github.com/users/avloss/followers","following_url":"https://api.github.com/users/avloss/following{/other_user}","gists_url":"https://api.github.com/users/avloss/gists{/gist_id}","starred_url":"https://api.github.com/users/avloss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avloss/subscriptions","organizations_url":"https://api.github.com/users/avloss/orgs","repos_url":"https://api.github.com/users/avloss/repos","events_url":"https://api.github.com/users/avloss/events{/privacy}","received_events_url":"https://api.github.com/users/avloss/received_events","type":"User","site_admin":false},"created_at":"2019-05-29T20:18:35Z","updated_at":"2019-05-29T20:18:35Z","author_association":"NONE","body":"Getting same error with a \"toy\" example - this is so strange - I would expect Elastic to just \"work\".","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/497095687","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-497095687","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":497095687,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzA5NTY4Nw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-05-29T20:25:04Z","updated_at":"2019-05-29T20:25:04Z","author_association":"MEMBER","body":"@avloss I'm sorry that you're experiencing trouble, but without details of the issue that you're experiencing it is not actionable for us. We would love to understand the issue that you're facing, and supply a fix if appropriate. Help us help you and the rest of our userbase.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/497124365","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-497124365","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":497124365,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzEyNDM2NQ==","user":{"login":"wanthalf","id":1882909,"node_id":"MDQ6VXNlcjE4ODI5MDk=","avatar_url":"https://avatars0.githubusercontent.com/u/1882909?v=4","gravatar_id":"","url":"https://api.github.com/users/wanthalf","html_url":"https://github.com/wanthalf","followers_url":"https://api.github.com/users/wanthalf/followers","following_url":"https://api.github.com/users/wanthalf/following{/other_user}","gists_url":"https://api.github.com/users/wanthalf/gists{/gist_id}","starred_url":"https://api.github.com/users/wanthalf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wanthalf/subscriptions","organizations_url":"https://api.github.com/users/wanthalf/orgs","repos_url":"https://api.github.com/users/wanthalf/repos","events_url":"https://api.github.com/users/wanthalf/events{/privacy}","received_events_url":"https://api.github.com/users/wanthalf/received_events","type":"User","site_admin":false},"created_at":"2019-05-29T21:59:17Z","updated_at":"2019-05-30T13:55:18Z","author_association":"NONE","body":"Still the same with 7.1. And I only have one single node. After raising the Java heap to 48GB, ES seems to manage common traffic well.\r\n\r\nOn the other hand, there is one great improvement since ES6, though: no more crazy garbage collection causing heavy load on all the 112 cores of the server every 1 second, even when the server is completely idle...!?! :-)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/497320687","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-497320687","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":497320687,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzMyMDY4Nw==","user":{"login":"e-orz","id":18255673,"node_id":"MDQ6VXNlcjE4MjU1Njcz","avatar_url":"https://avatars2.githubusercontent.com/u/18255673?v=4","gravatar_id":"","url":"https://api.github.com/users/e-orz","html_url":"https://github.com/e-orz","followers_url":"https://api.github.com/users/e-orz/followers","following_url":"https://api.github.com/users/e-orz/following{/other_user}","gists_url":"https://api.github.com/users/e-orz/gists{/gist_id}","starred_url":"https://api.github.com/users/e-orz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/e-orz/subscriptions","organizations_url":"https://api.github.com/users/e-orz/orgs","repos_url":"https://api.github.com/users/e-orz/repos","events_url":"https://api.github.com/users/e-orz/events{/privacy}","received_events_url":"https://api.github.com/users/e-orz/received_events","type":"User","site_admin":false},"created_at":"2019-05-30T13:00:15Z","updated_at":"2019-05-30T13:00:15Z","author_association":"NONE","body":"I have the same issue. I think that the parent memory calculation is wrong with 7.x (doesn't happen with version 6)\r\nsee this discussion:\r\nhttps://discuss.elastic.co/t/parent-circuit-breaker-calculation-seems-to-wrong-with-version-7-x/183530","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/499073715","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-499073715","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":499073715,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTA3MzcxNQ==","user":{"login":"hackerwin7","id":15257080,"node_id":"MDQ6VXNlcjE1MjU3MDgw","avatar_url":"https://avatars3.githubusercontent.com/u/15257080?v=4","gravatar_id":"","url":"https://api.github.com/users/hackerwin7","html_url":"https://github.com/hackerwin7","followers_url":"https://api.github.com/users/hackerwin7/followers","following_url":"https://api.github.com/users/hackerwin7/following{/other_user}","gists_url":"https://api.github.com/users/hackerwin7/gists{/gist_id}","starred_url":"https://api.github.com/users/hackerwin7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hackerwin7/subscriptions","organizations_url":"https://api.github.com/users/hackerwin7/orgs","repos_url":"https://api.github.com/users/hackerwin7/repos","events_url":"https://api.github.com/users/hackerwin7/events{/privacy}","received_events_url":"https://api.github.com/users/hackerwin7/received_events","type":"User","site_admin":false},"created_at":"2019-06-05T13:03:17Z","updated_at":"2019-06-05T13:03:17Z","author_association":"NONE","body":"same issues in 7.1.0, there is a internal server error in /_stats/fielddata\r\n```\r\n\"failures\":[  \r\n         {  \r\n            \"shard\":6,\r\n            \"index\":\"ad_stat_sum_extend-2019.05.08\",\r\n            \"status\":\"INTERNAL_SERVER_ERROR\",\r\n            \"reason\":{  \r\n               \"type\":\"failed_node_exception\",\r\n               \"reason\":\"Failed node [PMeDcHfMS4ilMZxQbrSt1w]\",\r\n               \"node_id\":\"PMeDcHfMS4ilMZxQbrSt1w\",\r\n               \"caused_by\":{  \r\n                  \"type\":\"circuit_breaking_exception\",\r\n                  \"reason\":\"[parent] Data too large, data for [<transport_request>] would be [26445028500/24.6gb], which is larger than the limit of [25769803776/24gb], real usage: [26445014040/24.6gb], new bytes reserved: [14460/14.1kb]\",\r\n                  \"bytes_wanted\":26445028500,\r\n                  \"bytes_limit\":25769803776,\r\n                  \"durability\":\"PERMANENT\"\r\n               }\r\n            }\r\n         },\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/501114967","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-501114967","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":501114967,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTExNDk2Nw==","user":{"login":"blueabysm","id":731420,"node_id":"MDQ6VXNlcjczMTQyMA==","avatar_url":"https://avatars1.githubusercontent.com/u/731420?v=4","gravatar_id":"","url":"https://api.github.com/users/blueabysm","html_url":"https://github.com/blueabysm","followers_url":"https://api.github.com/users/blueabysm/followers","following_url":"https://api.github.com/users/blueabysm/following{/other_user}","gists_url":"https://api.github.com/users/blueabysm/gists{/gist_id}","starred_url":"https://api.github.com/users/blueabysm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blueabysm/subscriptions","organizations_url":"https://api.github.com/users/blueabysm/orgs","repos_url":"https://api.github.com/users/blueabysm/repos","events_url":"https://api.github.com/users/blueabysm/events{/privacy}","received_events_url":"https://api.github.com/users/blueabysm/received_events","type":"User","site_admin":false},"created_at":"2019-06-12T04:22:27Z","updated_at":"2019-06-12T04:22:27Z","author_association":"NONE","body":"Same issue in 7.1.1.\r\nI am new to Elasticsearch. I use ES cluster as a log center. Yesterday this issue made ES lose logs, many alerts related to this were triggered. I deleted indices 5 days ago (actually my cluster has just run a week) this morning, ES cluster finally receives logs normally.\r\n\r\nAfter read this thread, I know that it is the expected behavior of ES. Is there any suggestion to avoid run into this issue again? Or, is there any walkaround? Thanks! @jasontedor ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/501632513","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-501632513","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":501632513,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTYzMjUxMw==","user":{"login":"Theoooooo","id":33425208,"node_id":"MDQ6VXNlcjMzNDI1MjA4","avatar_url":"https://avatars1.githubusercontent.com/u/33425208?v=4","gravatar_id":"","url":"https://api.github.com/users/Theoooooo","html_url":"https://github.com/Theoooooo","followers_url":"https://api.github.com/users/Theoooooo/followers","following_url":"https://api.github.com/users/Theoooooo/following{/other_user}","gists_url":"https://api.github.com/users/Theoooooo/gists{/gist_id}","starred_url":"https://api.github.com/users/Theoooooo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Theoooooo/subscriptions","organizations_url":"https://api.github.com/users/Theoooooo/orgs","repos_url":"https://api.github.com/users/Theoooooo/repos","events_url":"https://api.github.com/users/Theoooooo/events{/privacy}","received_events_url":"https://api.github.com/users/Theoooooo/received_events","type":"User","site_admin":false},"created_at":"2019-06-13T09:47:58Z","updated_at":"2019-06-13T10:08:48Z","author_association":"NONE","body":"I got the same issue after upgrading from 6.6.0 to 7.1.0 on a single node cluster with 3Gb of heap. Every 3 request (these are really small requests with very little data to retreive), i hit the Heap Limit and have to wait. \r\n\r\nBut i also got another ES cluster with 3 nodes, fresh install of he 7.1.1 and i never got this problem.\r\nSeems like this issue appear with the upgrade i did.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/502426393","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-502426393","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":502426393,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjQyNjM5Mw==","user":{"login":"e-orz","id":18255673,"node_id":"MDQ6VXNlcjE4MjU1Njcz","avatar_url":"https://avatars2.githubusercontent.com/u/18255673?v=4","gravatar_id":"","url":"https://api.github.com/users/e-orz","html_url":"https://github.com/e-orz","followers_url":"https://api.github.com/users/e-orz/followers","following_url":"https://api.github.com/users/e-orz/following{/other_user}","gists_url":"https://api.github.com/users/e-orz/gists{/gist_id}","starred_url":"https://api.github.com/users/e-orz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/e-orz/subscriptions","organizations_url":"https://api.github.com/users/e-orz/orgs","repos_url":"https://api.github.com/users/e-orz/repos","events_url":"https://api.github.com/users/e-orz/events{/privacy}","received_events_url":"https://api.github.com/users/e-orz/received_events","type":"User","site_admin":false},"created_at":"2019-06-16T06:52:03Z","updated_at":"2019-06-16T06:52:03Z","author_association":"NONE","body":"@Theoooooo \r\nWith my case it happens with fresh install.\r\nWhat is the GC type, CMS or G1GC?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/502914451","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-502914451","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":502914451,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjkxNDQ1MQ==","user":{"login":"wuxiangli91","id":20499691,"node_id":"MDQ6VXNlcjIwNDk5Njkx","avatar_url":"https://avatars3.githubusercontent.com/u/20499691?v=4","gravatar_id":"","url":"https://api.github.com/users/wuxiangli91","html_url":"https://github.com/wuxiangli91","followers_url":"https://api.github.com/users/wuxiangli91/followers","following_url":"https://api.github.com/users/wuxiangli91/following{/other_user}","gists_url":"https://api.github.com/users/wuxiangli91/gists{/gist_id}","starred_url":"https://api.github.com/users/wuxiangli91/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuxiangli91/subscriptions","organizations_url":"https://api.github.com/users/wuxiangli91/orgs","repos_url":"https://api.github.com/users/wuxiangli91/repos","events_url":"https://api.github.com/users/wuxiangli91/events{/privacy}","received_events_url":"https://api.github.com/users/wuxiangli91/received_events","type":"User","site_admin":false},"created_at":"2019-06-18T01:55:32Z","updated_at":"2019-06-18T01:55:32Z","author_association":"NONE","body":"just use: \r\nES_JAVA_OPTS=\"-Xms10g -Xmx10g\" ./bin/elasticsearch\r\n\r\nsince the default heap is 1G, if your data is big ,you should set it bigger\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503209727","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-503209727","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":503209727,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzIwOTcyNw==","user":{"login":"Theoooooo","id":33425208,"node_id":"MDQ6VXNlcjMzNDI1MjA4","avatar_url":"https://avatars1.githubusercontent.com/u/33425208?v=4","gravatar_id":"","url":"https://api.github.com/users/Theoooooo","html_url":"https://github.com/Theoooooo","followers_url":"https://api.github.com/users/Theoooooo/followers","following_url":"https://api.github.com/users/Theoooooo/following{/other_user}","gists_url":"https://api.github.com/users/Theoooooo/gists{/gist_id}","starred_url":"https://api.github.com/users/Theoooooo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Theoooooo/subscriptions","organizations_url":"https://api.github.com/users/Theoooooo/orgs","repos_url":"https://api.github.com/users/Theoooooo/repos","events_url":"https://api.github.com/users/Theoooooo/events{/privacy}","received_events_url":"https://api.github.com/users/Theoooooo/received_events","type":"User","site_admin":false},"created_at":"2019-06-18T16:23:25Z","updated_at":"2019-06-18T16:27:22Z","author_association":"NONE","body":"@e-orz What's GC Type ? \r\n\r\n@wuxiangli91 And what if you have limited ressources available ? That's making non sense but it's also right in the same time.\r\n\r\nAfter testing many different configuration later (in term of ressources), well the answer to the problem is just to allocate more RAM. But with very small query that demand very small ressources and almost no cross-indices search, it's just a problem right now\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503596970","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-503596970","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":503596970,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzU5Njk3MA==","user":{"login":"e-orz","id":18255673,"node_id":"MDQ6VXNlcjE4MjU1Njcz","avatar_url":"https://avatars2.githubusercontent.com/u/18255673?v=4","gravatar_id":"","url":"https://api.github.com/users/e-orz","html_url":"https://github.com/e-orz","followers_url":"https://api.github.com/users/e-orz/followers","following_url":"https://api.github.com/users/e-orz/following{/other_user}","gists_url":"https://api.github.com/users/e-orz/gists{/gist_id}","starred_url":"https://api.github.com/users/e-orz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/e-orz/subscriptions","organizations_url":"https://api.github.com/users/e-orz/orgs","repos_url":"https://api.github.com/users/e-orz/repos","events_url":"https://api.github.com/users/e-orz/events{/privacy}","received_events_url":"https://api.github.com/users/e-orz/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T14:56:48Z","updated_at":"2019-06-19T14:56:48Z","author_association":"NONE","body":"@Theoooooo I meant the garbage collection type. The default is CMS (concurrent mark and sweep) and the newer one is G1GC that should require less tweaks but might only be suited for larger heaps.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503998107","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-503998107","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":503998107,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzk5ODEwNw==","user":{"login":"Theoooooo","id":33425208,"node_id":"MDQ6VXNlcjMzNDI1MjA4","avatar_url":"https://avatars1.githubusercontent.com/u/33425208?v=4","gravatar_id":"","url":"https://api.github.com/users/Theoooooo","html_url":"https://github.com/Theoooooo","followers_url":"https://api.github.com/users/Theoooooo/followers","following_url":"https://api.github.com/users/Theoooooo/following{/other_user}","gists_url":"https://api.github.com/users/Theoooooo/gists{/gist_id}","starred_url":"https://api.github.com/users/Theoooooo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Theoooooo/subscriptions","organizations_url":"https://api.github.com/users/Theoooooo/orgs","repos_url":"https://api.github.com/users/Theoooooo/repos","events_url":"https://api.github.com/users/Theoooooo/events{/privacy}","received_events_url":"https://api.github.com/users/Theoooooo/received_events","type":"User","site_admin":false},"created_at":"2019-06-20T12:00:35Z","updated_at":"2019-06-20T12:00:35Z","author_association":"NONE","body":"@e-orz How do you check which version is used by java with elasticsearch ? ( i assume it's java ^^)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/504155407","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-504155407","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":504155407,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDE1NTQwNw==","user":{"login":"e-orz","id":18255673,"node_id":"MDQ6VXNlcjE4MjU1Njcz","avatar_url":"https://avatars2.githubusercontent.com/u/18255673?v=4","gravatar_id":"","url":"https://api.github.com/users/e-orz","html_url":"https://github.com/e-orz","followers_url":"https://api.github.com/users/e-orz/followers","following_url":"https://api.github.com/users/e-orz/following{/other_user}","gists_url":"https://api.github.com/users/e-orz/gists{/gist_id}","starred_url":"https://api.github.com/users/e-orz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/e-orz/subscriptions","organizations_url":"https://api.github.com/users/e-orz/orgs","repos_url":"https://api.github.com/users/e-orz/repos","events_url":"https://api.github.com/users/e-orz/events{/privacy}","received_events_url":"https://api.github.com/users/e-orz/received_events","type":"User","site_admin":false},"created_at":"2019-06-20T19:38:01Z","updated_at":"2019-06-20T19:38:01Z","author_association":"NONE","body":"@Theoooooo you can check the `jvm.options` file.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/504356092","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-504356092","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":504356092,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDM1NjA5Mg==","user":{"login":"Theoooooo","id":33425208,"node_id":"MDQ6VXNlcjMzNDI1MjA4","avatar_url":"https://avatars1.githubusercontent.com/u/33425208?v=4","gravatar_id":"","url":"https://api.github.com/users/Theoooooo","html_url":"https://github.com/Theoooooo","followers_url":"https://api.github.com/users/Theoooooo/followers","following_url":"https://api.github.com/users/Theoooooo/following{/other_user}","gists_url":"https://api.github.com/users/Theoooooo/gists{/gist_id}","starred_url":"https://api.github.com/users/Theoooooo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Theoooooo/subscriptions","organizations_url":"https://api.github.com/users/Theoooooo/orgs","repos_url":"https://api.github.com/users/Theoooooo/repos","events_url":"https://api.github.com/users/Theoooooo/events{/privacy}","received_events_url":"https://api.github.com/users/Theoooooo/received_events","type":"User","site_admin":false},"created_at":"2019-06-21T09:17:57Z","updated_at":"2019-06-21T09:21:06Z","author_association":"NONE","body":"@e-orz \r\n![image](https://user-images.githubusercontent.com/33425208/59912368-33c12c80-9416-11e9-8ca6-2b668df82b58.png)\r\nIt's the same content in the default jvm.options generated by elasticsearch at the installation","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/510306195","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-510306195","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":510306195,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDMwNjE5NQ==","user":{"login":"32328254","id":16772833,"node_id":"MDQ6VXNlcjE2NzcyODMz","avatar_url":"https://avatars0.githubusercontent.com/u/16772833?v=4","gravatar_id":"","url":"https://api.github.com/users/32328254","html_url":"https://github.com/32328254","followers_url":"https://api.github.com/users/32328254/followers","following_url":"https://api.github.com/users/32328254/following{/other_user}","gists_url":"https://api.github.com/users/32328254/gists{/gist_id}","starred_url":"https://api.github.com/users/32328254/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/32328254/subscriptions","organizations_url":"https://api.github.com/users/32328254/orgs","repos_url":"https://api.github.com/users/32328254/repos","events_url":"https://api.github.com/users/32328254/events{/privacy}","received_events_url":"https://api.github.com/users/32328254/received_events","type":"User","site_admin":false},"created_at":"2019-07-11T02:43:04Z","updated_at":"2019-07-11T02:43:04Z","author_association":"NONE","body":"I have the same issue.\r\ni tested CMS GC way and G1GC way，But there are still the same problems。","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/518060421","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-518060421","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":518060421,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODA2MDQyMQ==","user":{"login":"Guilai1990","id":14935638,"node_id":"MDQ6VXNlcjE0OTM1NjM4","avatar_url":"https://avatars3.githubusercontent.com/u/14935638?v=4","gravatar_id":"","url":"https://api.github.com/users/Guilai1990","html_url":"https://github.com/Guilai1990","followers_url":"https://api.github.com/users/Guilai1990/followers","following_url":"https://api.github.com/users/Guilai1990/following{/other_user}","gists_url":"https://api.github.com/users/Guilai1990/gists{/gist_id}","starred_url":"https://api.github.com/users/Guilai1990/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Guilai1990/subscriptions","organizations_url":"https://api.github.com/users/Guilai1990/orgs","repos_url":"https://api.github.com/users/Guilai1990/repos","events_url":"https://api.github.com/users/Guilai1990/events{/privacy}","received_events_url":"https://api.github.com/users/Guilai1990/received_events","type":"User","site_admin":false},"created_at":"2019-08-05T02:08:33Z","updated_at":"2019-08-05T02:08:33Z","author_association":"NONE","body":"I encounter the same issue when import 51M file only to Kibana. May I know any workaround to address this issue? The error message like below shows:\r\n{\r\n  \"error\" : {\r\n    \"root_cause\" : [\r\n      {\r\n        \"type\" : \"circuit_breaking_exception\",\r\n        \"reason\" : \"[parent] Data too large, data for [<http_request>] would be [524283980/499.9mb], which is larger than the limit of [493030604/470.1mb], real usage: [417981352/398.6mb], new bytes reserved: [106302628/101.3mb]\",\r\n        \"bytes_wanted\" : 524283980,\r\n        \"bytes_limit\" : 493030604,\r\n        \"durability\" : \"TRANSIENT\"\r\n      }\r\n    ],\r\n    \"type\" : \"circuit_breaking_exception\",\r\n    \"reason\" : \"[parent] Data too large, data for [<http_request>] would be [524283980/499.9mb], which is larger than the limit of [493030604/470.1mb], real usage: [417981352/398.6mb], new bytes reserved: [106302628/101.3mb]\",\r\n    \"bytes_wanted\" : 524283980,\r\n    \"bytes_limit\" : 493030604,\r\n    \"durability\" : \"TRANSIENT\"\r\n  },\r\n  \"status\" : 429\r\n}\r\nAnd my JVM option is \r\n-Xms1g -Xmx1g -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djruby.compile.invokedynamic=true -Djruby.jit.threshold=0 -XX:+HeapDumpOnOutOfMemoryError\r\nCould you help look into this and advise? Highly appreciate your efforts on it\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/629153359","html_url":"https://github.com/elastic/elasticsearch/issues/31197#issuecomment-629153359","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31197","id":629153359,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTE1MzM1OQ==","user":{"login":"cawoodm","id":498834,"node_id":"MDQ6VXNlcjQ5ODgzNA==","avatar_url":"https://avatars2.githubusercontent.com/u/498834?v=4","gravatar_id":"","url":"https://api.github.com/users/cawoodm","html_url":"https://github.com/cawoodm","followers_url":"https://api.github.com/users/cawoodm/followers","following_url":"https://api.github.com/users/cawoodm/following{/other_user}","gists_url":"https://api.github.com/users/cawoodm/gists{/gist_id}","starred_url":"https://api.github.com/users/cawoodm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cawoodm/subscriptions","organizations_url":"https://api.github.com/users/cawoodm/orgs","repos_url":"https://api.github.com/users/cawoodm/repos","events_url":"https://api.github.com/users/cawoodm/events{/privacy}","received_events_url":"https://api.github.com/users/cawoodm/received_events","type":"User","site_admin":false},"created_at":"2020-05-15T10:13:27Z","updated_at":"2020-05-15T10:13:27Z","author_association":"CONTRIBUTOR","body":"We just upgraded ElasticSearch and Kibana to 7.7 from 7.6.2 and now Kibana won't start with the same message.\r\n\r\n>  FATAL  [circuit_breaking_exception] [parent] Data too large, data for [<http_request>] would be [987270888/941.5mb]...","performed_via_github_app":null}]