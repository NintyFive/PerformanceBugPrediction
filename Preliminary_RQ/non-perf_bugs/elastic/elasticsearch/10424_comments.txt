[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/89832146","html_url":"https://github.com/elastic/elasticsearch/issues/10424#issuecomment-89832146","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10424","id":89832146,"node_id":"MDEyOklzc3VlQ29tbWVudDg5ODMyMTQ2","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-05T19:00:29Z","updated_at":"2015-04-05T19:00:29Z","author_association":"CONTRIBUTOR","body":"Hi @torrancew \n\nThe ruby client should use the address provided in this output:\n\n```\nGET /_nodes/http\n```\n\nYou should be able to set an `https` flag in the ruby client itself, which will automatically use https:// for sniffed nodes instead of http.  eg see https://github.com/elastic/elasticsearch-ruby/tree/master/elasticsearch-transport#authentication\n\nEither way, Elasticsearch doesn't know about https, and it shouldn't.  \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/90166550","html_url":"https://github.com/elastic/elasticsearch/issues/10424#issuecomment-90166550","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10424","id":90166550,"node_id":"MDEyOklzc3VlQ29tbWVudDkwMTY2NTUw","user":{"login":"torrancew","id":235666,"node_id":"MDQ6VXNlcjIzNTY2Ng==","avatar_url":"https://avatars0.githubusercontent.com/u/235666?v=4","gravatar_id":"","url":"https://api.github.com/users/torrancew","html_url":"https://github.com/torrancew","followers_url":"https://api.github.com/users/torrancew/followers","following_url":"https://api.github.com/users/torrancew/following{/other_user}","gists_url":"https://api.github.com/users/torrancew/gists{/gist_id}","starred_url":"https://api.github.com/users/torrancew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/torrancew/subscriptions","organizations_url":"https://api.github.com/users/torrancew/orgs","repos_url":"https://api.github.com/users/torrancew/repos","events_url":"https://api.github.com/users/torrancew/events{/privacy}","received_events_url":"https://api.github.com/users/torrancew/received_events","type":"User","site_admin":false},"created_at":"2015-04-06T17:36:31Z","updated_at":"2015-04-06T17:36:31Z","author_association":"NONE","body":"@clintongormley Thanks, that clears up the https matter, but I'm still having trouble setting an http publish port that differs from the port Elasticsearch is listening on. What is the proper config key for that? Currently, we set `http.publish_port` in elasticsearch.yml, with no visible effect.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/90190560","html_url":"https://github.com/elastic/elasticsearch/issues/10424#issuecomment-90190560","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10424","id":90190560,"node_id":"MDEyOklzc3VlQ29tbWVudDkwMTkwNTYw","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-06T18:36:19Z","updated_at":"2015-04-06T18:36:19Z","author_association":"CONTRIBUTOR","body":"Hi @torrancew \n\nIf I start Elasticsearch as follows:\n\n```\n ./bin/elasticsearch --http.publish_port 9506\n```\n\nthen it listens to localhost:9200 but the HTTP port is set to :9506\n\n```\nGET /_nodes/http\n```\n\nReturns:\n\n```\n{\n   \"cluster_name\": \"elasticsearch\",\n   \"nodes\": {\n      \"OrGQUNFjQe6BWmPPE7_1XA\": {\n         \"name\": \"Tyrannosaur\",\n         \"transport_address\": \"inet[/192.168.2.184:9300]\",\n         \"host\": \"Slim-2.local\",\n         \"ip\": \"192.168.2.184\",\n         \"version\": \"1.5.0\",\n         \"build\": \"5448160\",\n         \"http_address\": \"inet[/192.168.2.184:9506]\",\n         \"http\": {\n            \"bound_address\": \"inet[/0:0:0:0:0:0:0:0:9200]\",\n            \"publish_address\": \"inet[/192.168.2.184:9506]\",\n            \"max_content_length_in_bytes\": 104857600\n         }\n      }\n   }\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/90194538","html_url":"https://github.com/elastic/elasticsearch/issues/10424#issuecomment-90194538","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10424","id":90194538,"node_id":"MDEyOklzc3VlQ29tbWVudDkwMTk0NTM4","user":{"login":"torrancew","id":235666,"node_id":"MDQ6VXNlcjIzNTY2Ng==","avatar_url":"https://avatars0.githubusercontent.com/u/235666?v=4","gravatar_id":"","url":"https://api.github.com/users/torrancew","html_url":"https://github.com/torrancew","followers_url":"https://api.github.com/users/torrancew/followers","following_url":"https://api.github.com/users/torrancew/following{/other_user}","gists_url":"https://api.github.com/users/torrancew/gists{/gist_id}","starred_url":"https://api.github.com/users/torrancew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/torrancew/subscriptions","organizations_url":"https://api.github.com/users/torrancew/orgs","repos_url":"https://api.github.com/users/torrancew/repos","events_url":"https://api.github.com/users/torrancew/events{/privacy}","received_events_url":"https://api.github.com/users/torrancew/received_events","type":"User","site_admin":false},"created_at":"2015-04-06T18:48:45Z","updated_at":"2015-04-06T18:48:45Z","author_association":"NONE","body":"Thanks, this helps quite a bit, but I still have a few problems left to solve (or perhaps I'm doomed to not be able to use cluster enumeration?)\n\nPrimarily, I need to advertise a hostname, not an IP, for certificate validation to pass.\nPast that, I see that I can set a scheme per-host when instantiating the Elasticsearch::Client instance, but I don't understand how that would carry over to hosts discovered after connecting. Is there a setting at a higher scope that I'm missing?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/90199920","html_url":"https://github.com/elastic/elasticsearch/issues/10424#issuecomment-90199920","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10424","id":90199920,"node_id":"MDEyOklzc3VlQ29tbWVudDkwMTk5OTIw","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-06T19:04:04Z","updated_at":"2015-04-06T19:04:04Z","author_association":"CONTRIBUTOR","body":"> Primarily, I need to advertise a hostname, not an IP, for certificate validation to pass.\n\nElasticsearch internally deals only with IP addresses, not hosts, so I think you're out of luck there.  Sniffing is used when the client is part of the same network as the clusters.  This sounds like you have a determined list of proxies in front of Elasticsearch, which you could list specificially rather than relying on sniffing.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/90226721","html_url":"https://github.com/elastic/elasticsearch/issues/10424#issuecomment-90226721","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10424","id":90226721,"node_id":"MDEyOklzc3VlQ29tbWVudDkwMjI2NzIx","user":{"login":"torrancew","id":235666,"node_id":"MDQ6VXNlcjIzNTY2Ng==","avatar_url":"https://avatars0.githubusercontent.com/u/235666?v=4","gravatar_id":"","url":"https://api.github.com/users/torrancew","html_url":"https://github.com/torrancew","followers_url":"https://api.github.com/users/torrancew/followers","following_url":"https://api.github.com/users/torrancew/following{/other_user}","gists_url":"https://api.github.com/users/torrancew/gists{/gist_id}","starred_url":"https://api.github.com/users/torrancew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/torrancew/subscriptions","organizations_url":"https://api.github.com/users/torrancew/orgs","repos_url":"https://api.github.com/users/torrancew/repos","events_url":"https://api.github.com/users/torrancew/events{/privacy}","received_events_url":"https://api.github.com/users/torrancew/received_events","type":"User","site_admin":false},"created_at":"2015-04-06T20:12:23Z","updated_at":"2015-04-06T20:12:23Z","author_association":"NONE","body":"@clintongormley thanks. In this case, our automation installs a local proxy per Elasticsearch cluster node, so the list is inherently as dynamic as the cluster itself. That said, we can probably make due with specifying the list, and maintaining it separately - we were just hoping that we could make the cluster do the work for us.\n","performed_via_github_app":null}]