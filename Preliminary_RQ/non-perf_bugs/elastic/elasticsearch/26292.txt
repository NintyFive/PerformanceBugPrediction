{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/26292","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26292/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26292/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26292/events","html_url":"https://github.com/elastic/elasticsearch/issues/26292","id":251317626,"node_id":"MDU6SXNzdWUyNTEzMTc2MjY=","number":26292,"title":"Fields defined in _source return other fields too ","user":{"login":"aliostad","id":487334,"node_id":"MDQ6VXNlcjQ4NzMzNA==","avatar_url":"https://avatars3.githubusercontent.com/u/487334?v=4","gravatar_id":"","url":"https://api.github.com/users/aliostad","html_url":"https://github.com/aliostad","followers_url":"https://api.github.com/users/aliostad/followers","following_url":"https://api.github.com/users/aliostad/following{/other_user}","gists_url":"https://api.github.com/users/aliostad/gists{/gist_id}","starred_url":"https://api.github.com/users/aliostad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aliostad/subscriptions","organizations_url":"https://api.github.com/users/aliostad/orgs","repos_url":"https://api.github.com/users/aliostad/repos","events_url":"https://api.github.com/users/aliostad/events{/privacy}","received_events_url":"https://api.github.com/users/aliostad/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-08-18T18:01:56Z","updated_at":"2017-08-21T08:39:10Z","closed_at":"2017-08-21T06:27:17Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version**: 5.1.2\r\n**Plugins installed**: x-pack\r\n**JVM version**: 1.8.0_111\r\n**OS version**: Linux myvmname 3.16.0-43-generic #58~14.04.1-Ubuntu SMP Mon Jun 22 10:21:20 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nIf I define field `foobar` in the `_source` and my document has field `foo`, it will be returned. I find this happens if the content of the field is an array - but this is just an observation. Not sure how it could be related. \r\n\r\n**Steps to reproduce**:\r\n\r\n``` JSON\r\nPOST sisyphus/life\r\n{\r\n  \"stone\" : [\"large\"],\r\n  \"stoneWeight\" : [500]\r\n}\r\n\r\nPOST sisyphus/life\r\n{\r\n  \"stone\" : [\"small\"],\r\n  \"stoneWeight\" : [200]\r\n}\r\n\r\nGET sisyphus/_search\r\n{\r\n  \"_source\": \"stoneWeight\", \r\n  \"query\": {\r\n    \"match_all\": {}\r\n  }\r\n}\r\n```\r\n\r\nReturns `stone` as well as `stoneWeight`:\r\n\r\n``` JSON\r\n{\r\n  \"took\": 4,\r\n  \"timed_out\": false,\r\n  \"_shards\": {\r\n    \"total\": 5,\r\n    \"successful\": 5,\r\n    \"failed\": 0\r\n  },\r\n  \"hits\": {\r\n    \"total\": 2,\r\n    \"max_score\": 1,\r\n    \"hits\": [\r\n      {\r\n        \"_index\": \"sisyphus\",\r\n        \"_type\": \"life\",\r\n        \"_id\": \"AV32c1_JK9fID-KFUKqO\",\r\n        \"_score\": 1,\r\n        \"_source\": {\r\n          \"stoneWeight\": [\r\n            500\r\n          ],\r\n          \"stone\": [\r\n            \"large\"\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        \"_index\": \"sisyphus\",\r\n        \"_type\": \"life\",\r\n        \"_id\": \"AV32c2hbK9fID-KFUKqP\",\r\n        \"_score\": 1,\r\n        \"_source\": {\r\n          \"stoneWeight\": [\r\n            500\r\n          ],\r\n          \"stone\": [\r\n            \"large\"\r\n          ]\r\n        }\r\n      }\r\n    ]\r\n  }\r\n}\r\n\r\n```","closed_by":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"performed_via_github_app":null}