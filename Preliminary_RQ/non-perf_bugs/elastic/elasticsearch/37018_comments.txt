[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/450377126","html_url":"https://github.com/elastic/elasticsearch/issues/37018#issuecomment-450377126","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37018","id":450377126,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDM3NzEyNg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-12-28T15:29:53Z","updated_at":"2018-12-28T15:29:53Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/451850879","html_url":"https://github.com/elastic/elasticsearch/issues/37018#issuecomment-451850879","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37018","id":451850879,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTg1MDg3OQ==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2019-01-07T07:59:13Z","updated_at":"2019-01-07T07:59:13Z","author_association":"MEMBER","body":"@sebelga The follow stats api returns the stats of the shard follow tasks for a particular follower index. When a follower shard is removed, the shard follow tasks are not removed automatically. The shard following process itself fails and the follow stats api include a fatal error for the shard follow tasks that have a follower index that no longer exists. The reason that the shard follow tasks don't stop automatically is because there can be other errors that can cause index following to fail and keeping the shard follow tasks around with a fatal error set, will help debugging (instead of going though logs).\r\n\r\nIf indexing following is paused then the shard follow tasks are removed and then the follow stats api will no longer include stats for this follower index.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/452635233","html_url":"https://github.com/elastic/elasticsearch/issues/37018#issuecomment-452635233","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37018","id":452635233,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MjYzNTIzMw==","user":{"login":"sebelga","id":2854616,"node_id":"MDQ6VXNlcjI4NTQ2MTY=","avatar_url":"https://avatars0.githubusercontent.com/u/2854616?v=4","gravatar_id":"","url":"https://api.github.com/users/sebelga","html_url":"https://github.com/sebelga","followers_url":"https://api.github.com/users/sebelga/followers","following_url":"https://api.github.com/users/sebelga/following{/other_user}","gists_url":"https://api.github.com/users/sebelga/gists{/gist_id}","starred_url":"https://api.github.com/users/sebelga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebelga/subscriptions","organizations_url":"https://api.github.com/users/sebelga/orgs","repos_url":"https://api.github.com/users/sebelga/repos","events_url":"https://api.github.com/users/sebelga/events{/privacy}","received_events_url":"https://api.github.com/users/sebelga/received_events","type":"User","site_admin":false},"created_at":"2019-01-09T09:47:15Z","updated_at":"2019-01-09T09:48:25Z","author_association":"CONTRIBUTOR","body":"@martijnvg, I understand that there can be multiple causes for a following to fail. But doesn't it make sense, if we delete the follower index, that the following tasks associated with it get deleted too?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/452664190","html_url":"https://github.com/elastic/elasticsearch/issues/37018#issuecomment-452664190","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37018","id":452664190,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MjY2NDE5MA==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2019-01-09T11:27:55Z","updated_at":"2019-01-09T11:27:55Z","author_association":"MEMBER","body":">  if we delete the follower index, that the following tasks associated with it get deleted too?\r\n\r\nThe delete index api doesn't know about ccr and that an index is a follower index, so that isn't something that can be done automatically as part of the delete index itself. However a follower shard task could remove itself when it detects that the follower index no longer exists. Today we don't do this and a shard follow tasks stop following and sets the fatal error field.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/453426037","html_url":"https://github.com/elastic/elasticsearch/issues/37018#issuecomment-453426037","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37018","id":453426037,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzQyNjAzNw==","user":{"login":"sebelga","id":2854616,"node_id":"MDQ6VXNlcjI4NTQ2MTY=","avatar_url":"https://avatars0.githubusercontent.com/u/2854616?v=4","gravatar_id":"","url":"https://api.github.com/users/sebelga","html_url":"https://github.com/sebelga","followers_url":"https://api.github.com/users/sebelga/followers","following_url":"https://api.github.com/users/sebelga/following{/other_user}","gists_url":"https://api.github.com/users/sebelga/gists{/gist_id}","starred_url":"https://api.github.com/users/sebelga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebelga/subscriptions","organizations_url":"https://api.github.com/users/sebelga/orgs","repos_url":"https://api.github.com/users/sebelga/repos","events_url":"https://api.github.com/users/sebelga/events{/privacy}","received_events_url":"https://api.github.com/users/sebelga/received_events","type":"User","site_admin":false},"created_at":"2019-01-11T08:24:40Z","updated_at":"2019-01-11T08:24:40Z","author_association":"CONTRIBUTOR","body":"Let's keep this as an improvement for the future ðŸ˜Š cheers","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/514602792","html_url":"https://github.com/elastic/elasticsearch/issues/37018#issuecomment-514602792","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37018","id":514602792,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDYwMjc5Mg==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2019-07-24T12:01:42Z","updated_at":"2019-07-24T12:01:42Z","author_association":"MEMBER","body":"> However a follower shard task could remove itself when it detects that the follower index no longer exists. Today we don't do this and a shard follow tasks stop following and sets the fatal error field.\r\n\r\nThis has been implemented in #44702: shard follow tasks are now removed if the task concerns a deleted index. As a consequence, the Follow Stats API does not report stats for deleted indices anymore.","performed_via_github_app":null}]