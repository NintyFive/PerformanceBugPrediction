{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/40982","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40982/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40982/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40982/events","html_url":"https://github.com/elastic/elasticsearch/issues/40982","id":430606629,"node_id":"MDU6SXNzdWU0MzA2MDY2Mjk=","number":40982,"title":"elasticsearch.exceptions.ConnectionTimeout with Flask","user":{"login":"loicquirion","id":45216918,"node_id":"MDQ6VXNlcjQ1MjE2OTE4","avatar_url":"https://avatars3.githubusercontent.com/u/45216918?v=4","gravatar_id":"","url":"https://api.github.com/users/loicquirion","html_url":"https://github.com/loicquirion","followers_url":"https://api.github.com/users/loicquirion/followers","following_url":"https://api.github.com/users/loicquirion/following{/other_user}","gists_url":"https://api.github.com/users/loicquirion/gists{/gist_id}","starred_url":"https://api.github.com/users/loicquirion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/loicquirion/subscriptions","organizations_url":"https://api.github.com/users/loicquirion/orgs","repos_url":"https://api.github.com/users/loicquirion/repos","events_url":"https://api.github.com/users/loicquirion/events{/privacy}","received_events_url":"https://api.github.com/users/loicquirion/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-04-08T18:56:23Z","updated_at":"2019-04-09T00:04:13Z","closed_at":"2019-04-09T00:04:12Z","author_association":"NONE","active_lock_reason":null,"body":"Hi guys, I'm getting this error (elasticsearch.exceptions.ConnectionTimeout) after writing a simple search engine using Flask and Elasticsearch.\r\n\r\nCan someone help me?\r\n\r\nHere's my code from my app.py file:\r\n\r\n```\r\nfrom flask import Flask, render_template, request\r\nfrom elasticsearch import Elasticsearch\r\n\r\napp = Flask(__name__)\r\nes = Elasticsearch(host='localhost', port=9200)\r\n\r\n\r\n@app.route('/')\r\ndef home():\r\n    return render_template('search.html')\r\n\r\n@app.route('/search/results', methods=['GET', 'POST'])\r\ndef search_request():\r\n    search_term = request.form[\"input\"]\r\n    res = es.search(\r\n        index=\"scrape-codif\",\r\n        size=20,\r\n        request_timeout=30,\r\n        body={\r\n            \"query\": {\r\n                \"multi_match\" : {\r\n                    \"query\": search_term,\r\n                    \"fields\": [\r\n                        \"name\",\r\n                        \"description\",\r\n                        \"price\",\r\n                        \"tags\"\r\n                    ]\r\n                }\r\n            }\r\n        }\r\n    )\r\n    return render_template('results.html', res=res)\r\n\r\n\r\nif __name__ == '__main__':\r\n    app.secret_key = '************'\r\n    app.run(debug=True, host='localhost', port=5000)\r\n\r\n```\r\n\r\nThanks a lot in advance! :)","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}