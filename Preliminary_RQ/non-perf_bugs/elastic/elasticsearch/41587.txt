{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/41587","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41587/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41587/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41587/events","html_url":"https://github.com/elastic/elasticsearch/issues/41587","id":437741238,"node_id":"MDU6SXNzdWU0Mzc3NDEyMzg=","number":41587,"title":"Voting config exclusions API: node_name is not parsed as a comma-separated list","user":{"login":"barkbay","id":976373,"node_id":"MDQ6VXNlcjk3NjM3Mw==","avatar_url":"https://avatars2.githubusercontent.com/u/976373?v=4","gravatar_id":"","url":"https://api.github.com/users/barkbay","html_url":"https://github.com/barkbay","followers_url":"https://api.github.com/users/barkbay/followers","following_url":"https://api.github.com/users/barkbay/following{/other_user}","gists_url":"https://api.github.com/users/barkbay/gists{/gist_id}","starred_url":"https://api.github.com/users/barkbay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barkbay/subscriptions","organizations_url":"https://api.github.com/users/barkbay/orgs","repos_url":"https://api.github.com/users/barkbay/repos","events_url":"https://api.github.com/users/barkbay/events{/privacy}","received_events_url":"https://api.github.com/users/barkbay/received_events","type":"User","site_admin":false},"labels":[{"id":881394071,"node_id":"MDU6TGFiZWw4ODEzOTQwNzE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Cluster%20Coordination","name":":Distributed/Cluster Coordination","color":"0e8a16","default":false,"description":"Cluster formation and cluster state publication, including cluster membership and fault detection."},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-04-26T16:01:05Z","updated_at":"2019-04-27T10:18:05Z","closed_at":"2019-04-27T10:18:05Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"<!-- Bug report -->\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`): >=7\r\n\r\n**Description of the problem including expected versus actual behavior**: In the voting config exclusions API the `node_name` parameter is converted into an array of 1 element and not processed as a comma-separated list of individual filters as expected.\r\n\r\nSee line 52 here:\r\nhttps://github.com/elastic/elasticsearch/blob/1038f23510e81b0edffb12d0dfd6a13179682bce/server/src/main/java/org/elasticsearch/rest/action/admin/cluster/RestAddVotingConfigExclusionAction.java#L50-L54\r\n\r\n**Steps to reproduce**:\r\n1. setup a 3 master nodes cluster\r\n2. Try to add at least 2 master nodes to the voting exclusions list, e.g. do a `POST` on `http://es:9200/_cluster/voting_config_exclusions/node-1,node-2`\r\n\r\n**Provide logs (if relevant)**:\r\n\r\n> 400 Bad Request: add voting config exclusions request for [node-1,node-2] matched no master-eligible nodes\"\r\n\r\n","closed_by":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"performed_via_github_app":null}