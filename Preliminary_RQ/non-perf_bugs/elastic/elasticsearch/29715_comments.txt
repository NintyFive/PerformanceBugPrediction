[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384129312","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-384129312","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":384129312,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEyOTMxMg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-07-01T00:08:33Z","updated_at":"2018-04-25T01:15:18Z","author_association":"COLLABORATOR","body":"*Original comment by @pickypg:*\n\nThis has existed since 5.0.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384129314","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-384129314","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":384129314,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEyOTMxNA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-09-01T08:00:16Z","updated_at":"2018-04-25T01:15:19Z","author_association":"COLLABORATOR","body":"*Original comment by @tlrx:*\n\nI'm reopening this one because I don't think that monitoring exporters supports `proxy.host` and `proxy.port` settings, and now we are offering free Elastic Stack Monitoring Service customers are asking where to configure proxies (see LINK REDACTED and others).\r\n\r\nThis question has been in the backlog of many BugPools but it has never been discussed. I'm not sure if there's any security reason in not implementing this, and I think it should be implemented soon.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384129316","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-384129316","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":384129316,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEyOTMxNg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-12-30T00:34:24Z","updated_at":"2018-04-25T01:15:19Z","author_association":"COLLABORATOR","body":"*Original comment by @GlenRSmith:*\n\nSubscribe","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384129317","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-384129317","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":384129317,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEyOTMxNw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-03-08T13:17:53Z","updated_at":"2018-04-25T01:15:19Z","author_association":"COLLABORATOR","body":"*Original comment by @gmoskovicz:*\n\nCC @pickypg any plans on adding this?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384129318","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-384129318","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":384129318,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEyOTMxOA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-03-08T17:27:10Z","updated_at":"2018-04-25T01:15:19Z","author_association":"COLLABORATOR","body":"*Original comment by @gmoskovicz:*\n\nStarting from 5.6.7 it seems that https://github.com/elastic/elasticsearch/pull/27829 is preventing you from using a proxy for Monitoring as the JVM parameters don't work any longer.\r\n\r\n\r\nCC @jaymode @pickypg ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384129320","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-384129320","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":384129320,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEyOTMyMA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-03-08T17:29:32Z","updated_at":"2018-04-25T01:15:20Z","author_association":"COLLABORATOR","body":"*Original comment by @pickypg:*\n\n> This question has been in the backlog of many BugPools but it has never been discussed. I'm not sure if there's any security reason in not implementing this, and I think it should be implemented soon.\r\n\r\nI'm not aware of any true issue. We could add the settings and manipulate the `HttpAsyncClient` as needed.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384129321","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-384129321","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":384129321,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEyOTMyMQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-03-08T17:37:26Z","updated_at":"2018-04-25T01:15:20Z","author_association":"COLLABORATOR","body":"*Original comment by @jaymode:*\n\nSupport for this was unintentionally added with LINK REDACTED which happened to break other things so it was rolled back in https://github.com/elastic/elasticsearch/pull/27829","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384129323","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-384129323","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":384129323,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEyOTMyMw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-03-08T17:43:44Z","updated_at":"2018-04-25T01:15:20Z","author_association":"COLLABORATOR","body":"*Original comment by @gmoskovicz:*\n\nIndeed, i seem to see this working in 5.6.1 . \r\n\r\n~I think that we could add a monitoring specific setting to build the `HttpAsyncClient` for this?~ I see previous comments.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/428220578","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-428220578","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":428220578,"node_id":"MDEyOklzc3VlQ29tbWVudDQyODIyMDU3OA==","user":{"login":"ckloote","id":1152181,"node_id":"MDQ6VXNlcjExNTIxODE=","avatar_url":"https://avatars2.githubusercontent.com/u/1152181?v=4","gravatar_id":"","url":"https://api.github.com/users/ckloote","html_url":"https://github.com/ckloote","followers_url":"https://api.github.com/users/ckloote/followers","following_url":"https://api.github.com/users/ckloote/following{/other_user}","gists_url":"https://api.github.com/users/ckloote/gists{/gist_id}","starred_url":"https://api.github.com/users/ckloote/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ckloote/subscriptions","organizations_url":"https://api.github.com/users/ckloote/orgs","repos_url":"https://api.github.com/users/ckloote/repos","events_url":"https://api.github.com/users/ckloote/events{/privacy}","received_events_url":"https://api.github.com/users/ckloote/received_events","type":"User","site_admin":false},"created_at":"2018-10-09T14:44:11Z","updated_at":"2018-10-09T14:44:11Z","author_association":"NONE","body":"I would also be interested in having this as a feature. We run several good-sized Elastic clusters on a private network and would like to make use of the cloud monitoring service.\r\n\r\nThanks.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/439834673","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-439834673","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":439834673,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTgzNDY3Mw==","user":{"login":"JalehD","id":19384859,"node_id":"MDQ6VXNlcjE5Mzg0ODU5","avatar_url":"https://avatars2.githubusercontent.com/u/19384859?v=4","gravatar_id":"","url":"https://api.github.com/users/JalehD","html_url":"https://github.com/JalehD","followers_url":"https://api.github.com/users/JalehD/followers","following_url":"https://api.github.com/users/JalehD/following{/other_user}","gists_url":"https://api.github.com/users/JalehD/gists{/gist_id}","starred_url":"https://api.github.com/users/JalehD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JalehD/subscriptions","organizations_url":"https://api.github.com/users/JalehD/orgs","repos_url":"https://api.github.com/users/JalehD/repos","events_url":"https://api.github.com/users/JalehD/events{/privacy}","received_events_url":"https://api.github.com/users/JalehD/received_events","type":"User","site_admin":false},"created_at":"2018-11-19T09:53:31Z","updated_at":"2018-11-19T09:53:31Z","author_association":"NONE","body":"@ycombinator @elasticmachine is this in the roadmap?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/439917000","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-439917000","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":439917000,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTkxNzAwMA==","user":{"login":"ycombinator","id":51061,"node_id":"MDQ6VXNlcjUxMDYx","avatar_url":"https://avatars2.githubusercontent.com/u/51061?v=4","gravatar_id":"","url":"https://api.github.com/users/ycombinator","html_url":"https://github.com/ycombinator","followers_url":"https://api.github.com/users/ycombinator/followers","following_url":"https://api.github.com/users/ycombinator/following{/other_user}","gists_url":"https://api.github.com/users/ycombinator/gists{/gist_id}","starred_url":"https://api.github.com/users/ycombinator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ycombinator/subscriptions","organizations_url":"https://api.github.com/users/ycombinator/orgs","repos_url":"https://api.github.com/users/ycombinator/repos","events_url":"https://api.github.com/users/ycombinator/events{/privacy}","received_events_url":"https://api.github.com/users/ycombinator/received_events","type":"User","site_admin":false},"created_at":"2018-11-19T14:47:00Z","updated_at":"2018-11-19T14:47:00Z","author_association":"CONTRIBUTOR","body":"@JalehD Thanks for the ping. We discussed this in our weekly team meeting this morning. The thinking is that rather than implement a proxy setting in ES, we ask users to use Metricbeat for monitoring instead, which is the long-term plan anyway.\r\n\r\nHowever, before we make this recommendation:\r\n\r\n1. The setting in Metricbeat for configuring a proxy for the Elasticsearch output is https://www.elastic.co/guide/en/beats/metricbeat/current/elasticsearch-output.html#_literal_proxy_url_literal. Will this get you what you need or do you need something more?\r\n\r\n2. It would be good to know if users are looking to monitor ES or Kibana or LS or Beats? The reason I ask is we currently support monitoring of ES and Kibana using Metricbeat and are working on building support for LS and Beats next.\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/439941847","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-439941847","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":439941847,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTk0MTg0Nw==","user":{"login":"JalehD","id":19384859,"node_id":"MDQ6VXNlcjE5Mzg0ODU5","avatar_url":"https://avatars2.githubusercontent.com/u/19384859?v=4","gravatar_id":"","url":"https://api.github.com/users/JalehD","html_url":"https://github.com/JalehD","followers_url":"https://api.github.com/users/JalehD/followers","following_url":"https://api.github.com/users/JalehD/following{/other_user}","gists_url":"https://api.github.com/users/JalehD/gists{/gist_id}","starred_url":"https://api.github.com/users/JalehD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JalehD/subscriptions","organizations_url":"https://api.github.com/users/JalehD/orgs","repos_url":"https://api.github.com/users/JalehD/repos","events_url":"https://api.github.com/users/JalehD/events{/privacy}","received_events_url":"https://api.github.com/users/JalehD/received_events","type":"User","site_admin":false},"created_at":"2018-11-19T15:54:25Z","updated_at":"2018-11-19T15:54:25Z","author_association":"NONE","body":"@ycombinator this issue affects the usability of this [service](https://www.elastic.co/blog/introducing-the-elastic-stack-monitoring-service) for those who have servers that must connect to internet through proxy and this use-case I'm afraid won't be addressed by your above suggestions as it requires the ability to configure proxy settings in Monitoring Exporter configuration. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/439944329","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-439944329","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":439944329,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTk0NDMyOQ==","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"created_at":"2018-11-19T16:00:59Z","updated_at":"2018-11-19T16:00:59Z","author_association":"MEMBER","body":"> this use-case I'm afraid won't be addressed by your above suggestions as it requires the ability to configure proxy settings in Monitoring Exporter configuration.\r\n\r\nFor any user that only monitors ES / K, then the above solution should work as a _substitute_ for configuring any Monitoring Exporter configuration.\r\n\r\nFor any user that needs to also monitor LS / Beats / APM Server, then they need such a feature (or Metricbeat to support monitoring them).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/439944661","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-439944661","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":439944661,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTk0NDY2MQ==","user":{"login":"ycombinator","id":51061,"node_id":"MDQ6VXNlcjUxMDYx","avatar_url":"https://avatars2.githubusercontent.com/u/51061?v=4","gravatar_id":"","url":"https://api.github.com/users/ycombinator","html_url":"https://github.com/ycombinator","followers_url":"https://api.github.com/users/ycombinator/followers","following_url":"https://api.github.com/users/ycombinator/following{/other_user}","gists_url":"https://api.github.com/users/ycombinator/gists{/gist_id}","starred_url":"https://api.github.com/users/ycombinator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ycombinator/subscriptions","organizations_url":"https://api.github.com/users/ycombinator/orgs","repos_url":"https://api.github.com/users/ycombinator/repos","events_url":"https://api.github.com/users/ycombinator/events{/privacy}","received_events_url":"https://api.github.com/users/ycombinator/received_events","type":"User","site_admin":false},"created_at":"2018-11-19T16:01:49Z","updated_at":"2018-11-19T16:02:29Z","author_association":"CONTRIBUTOR","body":"@JalehD Let me step back and try to understand the setup and why using Metricbeat as the monitoring agent wouldn't work.\r\n\r\nThe ESMS blog post you linked to says:\r\n\r\n> By opting in for this service, the Elastic Support team will create an Elastic Cloud cluster, and then send you the instructions for configuring your production Elasticsearch cluster to send its monitoring data to the Elastic Cloud cluster.\r\n\r\nWith the Metricbeat monitoring method, the instructions will change from something like:\r\n\r\n\"Setup `xpack.monitoring.exporters.*` in your Elasticsearch production cluster with XYZ settings (pointing to the ESMS cluster)\"\r\n\r\nTo something like:\r\n\r\n\"Install Metricbeat along side Elastic products you want to monitor and configure it with XYZ settings (pointing to the ESMS cluster)\".","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/439946834","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-439946834","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":439946834,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTk0NjgzNA==","user":{"login":"Erni","id":725315,"node_id":"MDQ6VXNlcjcyNTMxNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/725315?v=4","gravatar_id":"","url":"https://api.github.com/users/Erni","html_url":"https://github.com/Erni","followers_url":"https://api.github.com/users/Erni/followers","following_url":"https://api.github.com/users/Erni/following{/other_user}","gists_url":"https://api.github.com/users/Erni/gists{/gist_id}","starred_url":"https://api.github.com/users/Erni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Erni/subscriptions","organizations_url":"https://api.github.com/users/Erni/orgs","repos_url":"https://api.github.com/users/Erni/repos","events_url":"https://api.github.com/users/Erni/events{/privacy}","received_events_url":"https://api.github.com/users/Erni/received_events","type":"User","site_admin":false},"created_at":"2018-11-19T16:07:48Z","updated_at":"2018-11-19T16:07:48Z","author_association":"CONTRIBUTOR","body":"@ycombinator the issue actually affects any monitored cluster that connects to a monitoring cluster that is not in the same network and has to go through the internet.\r\n\r\nAs it says [here](https://www.elastic.co/guide/en/x-pack/current/monitoring-production.html) `In production, you should send data to a separate monitoring cluster so that historical monitoring data is available even if the nodes you are monitoring are not.` Therefore for all those users with a separate monitoring cluster, in which the monitored one sits behind a proxy, adding proxy support would be useful.\r\n\r\nSo I guess, from your last comment, that for all the users that might have above issue, the workaround is using Metricbeat?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/439948913","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-439948913","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":439948913,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTk0ODkxMw==","user":{"login":"ycombinator","id":51061,"node_id":"MDQ6VXNlcjUxMDYx","avatar_url":"https://avatars2.githubusercontent.com/u/51061?v=4","gravatar_id":"","url":"https://api.github.com/users/ycombinator","html_url":"https://github.com/ycombinator","followers_url":"https://api.github.com/users/ycombinator/followers","following_url":"https://api.github.com/users/ycombinator/following{/other_user}","gists_url":"https://api.github.com/users/ycombinator/gists{/gist_id}","starred_url":"https://api.github.com/users/ycombinator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ycombinator/subscriptions","organizations_url":"https://api.github.com/users/ycombinator/orgs","repos_url":"https://api.github.com/users/ycombinator/repos","events_url":"https://api.github.com/users/ycombinator/events{/privacy}","received_events_url":"https://api.github.com/users/ycombinator/received_events","type":"User","site_admin":false},"created_at":"2018-11-19T16:13:26Z","updated_at":"2018-11-19T16:14:23Z","author_association":"CONTRIBUTOR","body":"@Erni ++ I understand the need for a proxy, regardless of whether the monitoring cluster is ESMS or another cluster on a different network behind a proxy.\r\n\r\n> So I guess, from your last comment, that for all the users that might have above issue, the workaround is using Metricbeat?\r\n\r\nYes, but it's not so much a \"workaround\" as where we are going longer-term anyway - having Metricbeat monitoring Elastic stack products instead of the way we do things now with internal collection and exporters on the production cluster. So we need to make sure Metricbeat can support the requirements mentioned in this issue. Specifically, it would be helpful to know the answers to [these two questions](https://github.com/elastic/elasticsearch/issues/29715#issuecomment-439917000).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/439949645","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-439949645","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":439949645,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTk0OTY0NQ==","user":{"login":"JalehD","id":19384859,"node_id":"MDQ6VXNlcjE5Mzg0ODU5","avatar_url":"https://avatars2.githubusercontent.com/u/19384859?v=4","gravatar_id":"","url":"https://api.github.com/users/JalehD","html_url":"https://github.com/JalehD","followers_url":"https://api.github.com/users/JalehD/followers","following_url":"https://api.github.com/users/JalehD/following{/other_user}","gists_url":"https://api.github.com/users/JalehD/gists{/gist_id}","starred_url":"https://api.github.com/users/JalehD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JalehD/subscriptions","organizations_url":"https://api.github.com/users/JalehD/orgs","repos_url":"https://api.github.com/users/JalehD/repos","events_url":"https://api.github.com/users/JalehD/events{/privacy}","received_events_url":"https://api.github.com/users/JalehD/received_events","type":"User","site_admin":false},"created_at":"2018-11-19T16:15:28Z","updated_at":"2018-11-19T16:15:28Z","author_association":"NONE","body":"@ycombinator Wouldn't the use of Metricbeats also require additional work to make sure the index name and templates are set up in such a way that monitoring dashboard are actually useable with the resulting data?  or is the intention to make sure this module https://www.elastic.co/guide/en/beats/metricbeat/current/metricbeat-module-elasticsearch.html takes care of all that?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/439955285","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-439955285","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":439955285,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTk1NTI4NQ==","user":{"login":"ycombinator","id":51061,"node_id":"MDQ6VXNlcjUxMDYx","avatar_url":"https://avatars2.githubusercontent.com/u/51061?v=4","gravatar_id":"","url":"https://api.github.com/users/ycombinator","html_url":"https://github.com/ycombinator","followers_url":"https://api.github.com/users/ycombinator/followers","following_url":"https://api.github.com/users/ycombinator/following{/other_user}","gists_url":"https://api.github.com/users/ycombinator/gists{/gist_id}","starred_url":"https://api.github.com/users/ycombinator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ycombinator/subscriptions","organizations_url":"https://api.github.com/users/ycombinator/orgs","repos_url":"https://api.github.com/users/ycombinator/repos","events_url":"https://api.github.com/users/ycombinator/events{/privacy}","received_events_url":"https://api.github.com/users/ycombinator/received_events","type":"User","site_admin":false},"created_at":"2018-11-19T16:30:40Z","updated_at":"2018-11-19T16:33:26Z","author_association":"CONTRIBUTOR","body":"@JalehD Correct, the idea is that the `elasticsearch` module in Metricbeat would send the data into the correct indices (`.monitoring-es-*`) so that the Monitoring UI continues to work as it does today. Same goes for the `kibana` and `logstash` modules as well. And we will soon be working on beats internally shipping data directly to a monitoring cluster as well (as opposed to going through a production ES cluster like they do today).\r\n\r\nThe progress of this work can be tracked in this meta issue: https://github.com/elastic/beats/issues/7035 \r\n\r\nAs you can see we now have support for Kibana monitoring via Metricbeat (since 6.4 [[docs](https://www.elastic.co/guide/en/kibana/6.4/monitoring-metricbeat.html)]) and Elasticsearch monitoring with Metricbeat (since 6.5 [[docs](https://www.elastic.co/guide/en/elasticsearch/reference/6.5/configuring-metricbeat.html)]). We are now working on Logstash monitoring with Metricbeat and Beats internally shipping directly to the monitoring cluster. So, depending on your needs (again, see my [two questions](https://github.com/elastic/elasticsearch/issues/29715#issuecomment-439917000) from earlier), you may have everything necessary already OR it may be coming soon.\r\n\r\nI think I'm not doing a good job of getting the larger point across, which is: we want to support this proxy functionality, but rather than build it into the ES exporters we want to build it into Metricbeat, since that's the monitoring method we will be recommending in the future.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/439957350","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-439957350","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":439957350,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTk1NzM1MA==","user":{"login":"JalehD","id":19384859,"node_id":"MDQ6VXNlcjE5Mzg0ODU5","avatar_url":"https://avatars2.githubusercontent.com/u/19384859?v=4","gravatar_id":"","url":"https://api.github.com/users/JalehD","html_url":"https://github.com/JalehD","followers_url":"https://api.github.com/users/JalehD/followers","following_url":"https://api.github.com/users/JalehD/following{/other_user}","gists_url":"https://api.github.com/users/JalehD/gists{/gist_id}","starred_url":"https://api.github.com/users/JalehD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JalehD/subscriptions","organizations_url":"https://api.github.com/users/JalehD/orgs","repos_url":"https://api.github.com/users/JalehD/repos","events_url":"https://api.github.com/users/JalehD/events{/privacy}","received_events_url":"https://api.github.com/users/JalehD/received_events","type":"User","site_admin":false},"created_at":"2018-11-19T16:36:47Z","updated_at":"2018-11-19T16:36:47Z","author_association":"NONE","body":"It is much clearer now, thank you. we will do some testing before further feedback.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/462281838","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-462281838","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":462281838,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MjI4MTgzOA==","user":{"login":"yaronp68","id":1367657,"node_id":"MDQ6VXNlcjEzNjc2NTc=","avatar_url":"https://avatars2.githubusercontent.com/u/1367657?v=4","gravatar_id":"","url":"https://api.github.com/users/yaronp68","html_url":"https://github.com/yaronp68","followers_url":"https://api.github.com/users/yaronp68/followers","following_url":"https://api.github.com/users/yaronp68/following{/other_user}","gists_url":"https://api.github.com/users/yaronp68/gists{/gist_id}","starred_url":"https://api.github.com/users/yaronp68/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yaronp68/subscriptions","organizations_url":"https://api.github.com/users/yaronp68/orgs","repos_url":"https://api.github.com/users/yaronp68/repos","events_url":"https://api.github.com/users/yaronp68/events{/privacy}","received_events_url":"https://api.github.com/users/yaronp68/received_events","type":"User","site_admin":false},"created_at":"2019-02-11T10:35:38Z","updated_at":"2019-02-11T10:35:38Z","author_association":"NONE","body":"@ycombinator seems like this issue still happens on docker based installation. Can we help with this issue? \r\nAlso seems to be common enough to have comments in the beats configuration for proxy settings","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/470339821","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-470339821","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":470339821,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDMzOTgyMQ==","user":{"login":"cachedout","id":111616,"node_id":"MDQ6VXNlcjExMTYxNg==","avatar_url":"https://avatars3.githubusercontent.com/u/111616?v=4","gravatar_id":"","url":"https://api.github.com/users/cachedout","html_url":"https://github.com/cachedout","followers_url":"https://api.github.com/users/cachedout/followers","following_url":"https://api.github.com/users/cachedout/following{/other_user}","gists_url":"https://api.github.com/users/cachedout/gists{/gist_id}","starred_url":"https://api.github.com/users/cachedout/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cachedout/subscriptions","organizations_url":"https://api.github.com/users/cachedout/orgs","repos_url":"https://api.github.com/users/cachedout/repos","events_url":"https://api.github.com/users/cachedout/events{/privacy}","received_events_url":"https://api.github.com/users/cachedout/received_events","type":"User","site_admin":false},"created_at":"2019-03-07T01:00:40Z","updated_at":"2019-03-07T01:00:40Z","author_association":"CONTRIBUTOR","body":"@ycombinator I sat down and wrote a POC of basic proxy support for the ES HTTP exporter and pushed it up to my fork. When you're ready, we can go over it and see if it's viable.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/534669959","html_url":"https://github.com/elastic/elasticsearch/issues/29715#issuecomment-534669959","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29715","id":534669959,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDY2OTk1OQ==","user":{"login":"ycombinator","id":51061,"node_id":"MDQ6VXNlcjUxMDYx","avatar_url":"https://avatars2.githubusercontent.com/u/51061?v=4","gravatar_id":"","url":"https://api.github.com/users/ycombinator","html_url":"https://github.com/ycombinator","followers_url":"https://api.github.com/users/ycombinator/followers","following_url":"https://api.github.com/users/ycombinator/following{/other_user}","gists_url":"https://api.github.com/users/ycombinator/gists{/gist_id}","starred_url":"https://api.github.com/users/ycombinator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ycombinator/subscriptions","organizations_url":"https://api.github.com/users/ycombinator/orgs","repos_url":"https://api.github.com/users/ycombinator/repos","events_url":"https://api.github.com/users/ycombinator/events{/privacy}","received_events_url":"https://api.github.com/users/ycombinator/received_events","type":"User","site_admin":false},"created_at":"2019-09-24T17:44:13Z","updated_at":"2019-09-24T17:44:13Z","author_association":"CONTRIBUTOR","body":"We now have the ability to monitor Elasticsearch, Kibana, Logstash, Beats, and APM Server with Metricbeat. Except for Logstash, there is documentation for setting up Metricbeat-based monitoring for each of the products:\r\n\r\n* Elasticsearch: https://www.elastic.co/guide/en/elasticsearch/reference/current/configuring-metricbeat.html\r\n* Kibana: https://www.elastic.co/guide/en/kibana/current/monitoring-metricbeat.html\r\n* Beats: https://www.elastic.co/guide/en/beats/filebeat/current/monitoring-metricbeat-collection.html (using Filebeat as an example, but same applies to other Beats as well)\r\n* APM Server: https://www.elastic.co/guide/en/apm/server/current/monitoring-metricbeat-collection.html\r\n* Logstash: https://github.com/elastic/logstash/pull/11033 (coming soon)\r\n\r\nWith Metricbeat-based monitoring, users can use it's proxy settings when connecting to the Monitoring Elasticsearch cluster.  See https://www.elastic.co/guide/en/beats/metricbeat/current/elasticsearch-output.html#_proxy_url.\r\n\r\nAs such, we do not plan to add proxy functionality to the HTTP exporter code at this time. So I'm closing this issue.\r\n\r\n","performed_via_github_app":null}]