{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/22520","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22520/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22520/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22520/events","html_url":"https://github.com/elastic/elasticsearch/issues/22520","id":199764630,"node_id":"MDU6SXNzdWUxOTk3NjQ2MzA=","number":22520,"title":"Simplify aws configuration","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"labels":[{"id":143077482,"node_id":"MDU6TGFiZWwxNDMwNzc0ODI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Snapshot/Restore","name":":Distributed/Snapshot/Restore","color":"0e8a16","default":false,"description":"Anything directly related to the `_snapshot/*` APIs"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":110815527,"node_id":"MDU6TGFiZWwxMTA4MTU1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/help%20wanted","name":"help wanted","color":"207de5","default":true,"description":"adoptme"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2017-01-10T08:55:48Z","updated_at":"2018-02-14T13:56:29Z","closed_at":"2017-01-27T18:42:46Z","author_association":"MEMBER","active_lock_reason":null,"body":"While working on #22479, I noticed that we have quite a few different ways to specify connection configuration for s3 repositories. There are 4 different setting names for each \"real\" setting (eg access key) that I counted, which are tried successively as fallbacks in a web of Setting objects.  Can we simplify the configuration to just one set of settings?\r\n\r\nPerhaps we can have named configurations, and the name \"default\" would be special?  For example:\r\n```\r\naws.configuration.default:\r\n    access_key: foo\r\n    secret_key: bar\r\n    proxy_host: example.com\r\n    proxy_port: 1234\r\n```\r\n\r\nNow if you replace `default` with `myconfig`, then in an s3 repository, we can use say `configuration: myconfig`.  This would greatly simplify settings parsing, as there would be one place to look, and it still allows users without complicated setups to not need fancy configuration (just setup the default configuration, no need to specify anything within a repository, similar today to setting eg `cloud.aws.access_key`).\r\n","closed_by":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"performed_via_github_app":null}