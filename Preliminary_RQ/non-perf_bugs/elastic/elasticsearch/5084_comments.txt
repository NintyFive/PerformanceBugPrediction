[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/34830153","html_url":"https://github.com/elastic/elasticsearch/issues/5084#issuecomment-34830153","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5084","id":34830153,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODMwMTUz","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-02-12T01:40:21Z","updated_at":"2014-02-12T01:40:21Z","author_association":"MEMBER","body":"In your mapping `file` is mapped as a `string`:\n\n```\n\"file\": {\n  \"type\": \"multi_field\",\n  \"fields\": {\n    \"file\": {\n      \"type\": \"string\",\n      \"norms\": {\n        \"enabled\": false\n      }\n    },\n    \"raw\": {\n      \"type\": \"string\",\n      \"index\": \"not_analyzed\",\n      \"norms\": {\n        \"enabled\": false\n      },\n      \"index_options\": \"docs\",\n      \"include_in_all\": false,\n      \"ignore_above\": 256\n    }\n  }\n\n```\n\nbut in your document `file` is an object\n\n```\n  \"file\": {\n    \"filename\": \"/SpamResolverNG/SpamResolverNG.dll\",\n    \"magic\": \"data\",\n    \"state\": \"CLOSED\",\n    \"stored\": false,\n    \"size\": 115\n  }\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/34846512","html_url":"https://github.com/elastic/elasticsearch/issues/5084#issuecomment-34846512","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5084","id":34846512,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODQ2NTEy","user":{"login":"StefanSa","id":6105075,"node_id":"MDQ6VXNlcjYxMDUwNzU=","avatar_url":"https://avatars2.githubusercontent.com/u/6105075?v=4","gravatar_id":"","url":"https://api.github.com/users/StefanSa","html_url":"https://github.com/StefanSa","followers_url":"https://api.github.com/users/StefanSa/followers","following_url":"https://api.github.com/users/StefanSa/following{/other_user}","gists_url":"https://api.github.com/users/StefanSa/gists{/gist_id}","starred_url":"https://api.github.com/users/StefanSa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StefanSa/subscriptions","organizations_url":"https://api.github.com/users/StefanSa/orgs","repos_url":"https://api.github.com/users/StefanSa/repos","events_url":"https://api.github.com/users/StefanSa/events{/privacy}","received_events_url":"https://api.github.com/users/StefanSa/received_events","type":"User","site_admin":false},"created_at":"2014-02-12T07:53:58Z","updated_at":"2014-02-12T07:53:58Z","author_association":"NONE","body":"Hi imotov,\nI had a discussion with Ivan Brusic  and he thinks that it may be a bug.\nhttps://groups.google.com/d/msg/elasticsearch/1P3fM0oa7gU/8g0qqUxfPSoJ\n\nCan someone from the dev's look at this?\nthanks for any help\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/34940847","html_url":"https://github.com/elastic/elasticsearch/issues/5084#issuecomment-34940847","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5084","id":34940847,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTQwODQ3","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-02-13T01:58:18Z","updated_at":"2014-02-13T01:58:18Z","author_association":"MEMBER","body":"@StefanSa I think this behavior can be easily explained by first indexing something like:\n\n```\n{\n  \"file\": \"blah.txt\"\n}\n```\n\nand then trying to index file as inner object:\n\n```\n{\n \"file\": {\n    \"filename\": \"/SpamResolverNG/SpamResolverNG.dll\",\n    \"magic\": \"data\",\n    \"state\": \"CLOSED\",\n    \"stored\": false,\n    \"size\": 115\n  }\n}\n```\n\nYou might even be able to find the record that created this mapping in the first place if you try to search for (unless it was long time ago and this record is now gone).\n\n```\ncurl \"localhost:9200/_search/_all/suricata?pretty\" -d '{\n  \"query\": {\n    \"constant_score\":{\n      \"filter\":{\n        \"exists\":{\n          \"field\":\"file\"\n        }\n      }\n    }\n  }\n}'\n```\n\nSo, it doesn't look like a bug to me. But if you think this is a bug, could you create a repro (http://www.elasticsearch.org/help) as Ivan Brusic already suggested? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/34974622","html_url":"https://github.com/elastic/elasticsearch/issues/5084#issuecomment-34974622","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5084","id":34974622,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTc0NjIy","user":{"login":"StefanSa","id":6105075,"node_id":"MDQ6VXNlcjYxMDUwNzU=","avatar_url":"https://avatars2.githubusercontent.com/u/6105075?v=4","gravatar_id":"","url":"https://api.github.com/users/StefanSa","html_url":"https://github.com/StefanSa","followers_url":"https://api.github.com/users/StefanSa/followers","following_url":"https://api.github.com/users/StefanSa/following{/other_user}","gists_url":"https://api.github.com/users/StefanSa/gists{/gist_id}","starred_url":"https://api.github.com/users/StefanSa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StefanSa/subscriptions","organizations_url":"https://api.github.com/users/StefanSa/orgs","repos_url":"https://api.github.com/users/StefanSa/repos","events_url":"https://api.github.com/users/StefanSa/events{/privacy}","received_events_url":"https://api.github.com/users/StefanSa/received_events","type":"User","site_admin":false},"created_at":"2014-02-13T12:46:49Z","updated_at":"2014-02-13T12:46:49Z","author_association":"NONE","body":"OK imotov, your right.\nYou can close this ticket.\nThanks for your time.\n","performed_via_github_app":null}]