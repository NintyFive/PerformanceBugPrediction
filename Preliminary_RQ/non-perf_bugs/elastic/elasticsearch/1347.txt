{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1347","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1347/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1347/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1347/events","html_url":"https://github.com/elastic/elasticsearch/issues/1347","id":1686952,"node_id":"MDU6SXNzdWUxNjg2OTUy","number":1347,"title":"Improve source based fields loading when searching","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"labels":[{"id":33660,"node_id":"MDU6TGFiZWwzMzY2MA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebreaking","name":">breaking","color":"d93f0b","default":false,"description":null},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":127902,"node_id":"MDU6TGFiZWwxMjc5MDI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.18.0","name":"v0.18.0","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2011-09-20T11:32:46Z","updated_at":"2011-09-21T06:01:23Z","closed_at":"2011-09-20T11:33:15Z","author_association":"MEMBER","active_lock_reason":null,"body":"When searching, and asking for specific `fields`, one can specify the actual path to the field, and if its not stored, it will be extracted from source. Currently, it changes the field to be loaded from source to be a script field.\n\nThere are several problems with this, the first is that it gets appended with a `_source.` prefix, which is annoying since what one asks for is not what you get back.\n\nThe second problem is that it does not work for objects. You have to explicitly specify `_source.obj1` to get an object named `obj1`.\n\nThe last problem is with inner arrays. Since its a script evaluation, inner arrays don't get \"collapsed\" automatically, causing failure to load the field.\n\nThis issue should fix all the above mentioned problems by not using scripts to extract the value when one specify a field named something like `obj1.obj2`, or `obj1.field1`, and extracting it in a smarter manner.\n\nThis is a breaking change since now `_source.` will not be added to the result of the field name.\n","closed_by":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"performed_via_github_app":null}