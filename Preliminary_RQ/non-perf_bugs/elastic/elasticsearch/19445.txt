{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/19445","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19445/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19445/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19445/events","html_url":"https://github.com/elastic/elasticsearch/issues/19445","id":165748163,"node_id":"MDU6SXNzdWUxNjU3NDgxNjM=","number":19445,"title":"cloud-aws different keys for EC2 & S3","user":{"login":"nowakan","id":20473003,"node_id":"MDQ6VXNlcjIwNDczMDAz","avatar_url":"https://avatars3.githubusercontent.com/u/20473003?v=4","gravatar_id":"","url":"https://api.github.com/users/nowakan","html_url":"https://github.com/nowakan","followers_url":"https://api.github.com/users/nowakan/followers","following_url":"https://api.github.com/users/nowakan/following{/other_user}","gists_url":"https://api.github.com/users/nowakan/gists{/gist_id}","starred_url":"https://api.github.com/users/nowakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nowakan/subscriptions","organizations_url":"https://api.github.com/users/nowakan/orgs","repos_url":"https://api.github.com/users/nowakan/repos","events_url":"https://api.github.com/users/nowakan/events{/privacy}","received_events_url":"https://api.github.com/users/nowakan/received_events","type":"User","site_admin":false},"labels":[{"id":160579278,"node_id":"MDU6TGFiZWwxNjA1NzkyNzg=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Discovery-Plugins","name":":Distributed/Discovery-Plugins","color":"0e8a16","default":false,"description":"Anything related to our integration plugins with EC2, GCP and Azure"},{"id":143077482,"node_id":"MDU6TGFiZWwxNDMwNzc0ODI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Snapshot/Restore","name":":Distributed/Snapshot/Restore","color":"0e8a16","default":false,"description":"Anything directly related to the `_snapshot/*` APIs"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"assignees":[{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2016-07-15T09:39:17Z","updated_at":"2018-02-14T13:56:47Z","closed_at":"2016-07-21T12:03:51Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version**:  2.3.2\n\n**JVM version**: openjdk version \"1.8.0_91\"\n                          OpenJDK Runtime Environment (build 1.8.0_91-b14)\n                          OpenJDK 64-Bit Server VM (build 25.91-b14, mixed mode)\n\n**OS version**: Red Hat Enterprise Linux Server release 7.2 (Maipo)\n\n**Description of the problem including expected versus actual behavior**:\nCan't provide two access & secret keys (different for ec2 and s3).\nI'd like to use cloud-aws plugin for EC2 Discovery & S3 Repository (compatible service).\nI've got separate cloud accounts for Eucalyptus & RiakS3.\n\n**Steps to reproduce**:\n1) Add to elasticsearch.yml:\n\n```\ncloud:\n    aws:\n        s3:\n            access_key: xxxxxxxxxxxx\n            secret_key: XXxxxxxXxxxxXxxxXxXxXxxx\n            endpoint: s3_cloud_front.address.here\n            protocol: http\n            signer: S3SignerType\n        ec2:\n            access_key: yyyyyyyyyyyyy\n            secret_key: yyyYyyyyyYyyyyYyyyYyYyY\n            endpoint: ec2_cloud_front.address.here\n            protocol: http\n\ndiscovery:\n    type: ec2\n    ec2:\n        groups: group_name\n```\n\n2) # /etc/init.d/elasticsearch restart\n\n**Provide logs (if relevant)**:\n`[2016-07-14 15:28:17,690][INFO ][discovery.ec2 ] [Hideko Takata] Exception while retrieving instance list from AWS API: Unable to load AWS credentials from any provider in the chain`\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}