[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/436927618","html_url":"https://github.com/elastic/elasticsearch/issues/35361#issuecomment-436927618","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35361","id":436927618,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjkyNzYxOA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-11-08T09:23:00Z","updated_at":"2018-11-28T19:28:55Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-features ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/436929582","html_url":"https://github.com/elastic/elasticsearch/issues/35361#issuecomment-436929582","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35361","id":436929582,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjkyOTU4Mg==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2018-11-08T09:29:14Z","updated_at":"2018-11-08T09:34:31Z","author_association":"CONTRIBUTOR","body":"It seems like #33291 fixed the original assertion but resulted in a new failure.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/437102473","html_url":"https://github.com/elastic/elasticsearch/issues/35361#issuecomment-437102473","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35361","id":437102473,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzEwMjQ3Mw==","user":{"login":"jakelandis","id":976291,"node_id":"MDQ6VXNlcjk3NjI5MQ==","avatar_url":"https://avatars2.githubusercontent.com/u/976291?v=4","gravatar_id":"","url":"https://api.github.com/users/jakelandis","html_url":"https://github.com/jakelandis","followers_url":"https://api.github.com/users/jakelandis/followers","following_url":"https://api.github.com/users/jakelandis/following{/other_user}","gists_url":"https://api.github.com/users/jakelandis/gists{/gist_id}","starred_url":"https://api.github.com/users/jakelandis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakelandis/subscriptions","organizations_url":"https://api.github.com/users/jakelandis/orgs","repos_url":"https://api.github.com/users/jakelandis/repos","events_url":"https://api.github.com/users/jakelandis/events{/privacy}","received_events_url":"https://api.github.com/users/jakelandis/received_events","type":"User","site_admin":false},"created_at":"2018-11-08T18:17:16Z","updated_at":"2018-11-08T18:17:16Z","author_association":"CONTRIBUTOR","body":"@atorok \r\nIt looks like the build failure linked here had not included the fix for this yet. \r\n\r\nLatest commit in the build : https://github.com/elastic/elasticsearch/commit/e685cfe8f985e1669b0594bbd5b2300c35d8bbb9\r\nCommit that _should_ fix this: https://github.com/elastic/elasticsearch/commit/d7a4cef483f0fe3b6da62845d30346d0319cc258\r\n\r\nThat build was 15 commits too early. \r\n```\r\ngit rev-list --ancestry-path e685cfe..d7a4cef | wc -l\r\n      15\r\n```\r\nCan we close this and un-mute the test. \r\n\r\nFWIW, I am not 100% positive that the fix is a complete, but it does eliminate a race condition which should reduce some (hopefully all) of the noise from this test. \r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/437259626","html_url":"https://github.com/elastic/elasticsearch/issues/35361#issuecomment-437259626","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35361","id":437259626,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzI1OTYyNg==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2018-11-09T06:02:47Z","updated_at":"2018-11-09T06:02:47Z","author_association":"CONTRIBUTOR","body":"I didn't mean to imply that your changes caused new issues, I was thinking they uncovered it by going past the assert and running into \r\n```\r\nmethod [POST], host [http://[::1]:43210], URI [/.watcher-history-*/_search], status line [HTTP/1.1 503 Service Unavailable] {\"error\":{\"root_cause\":[],\"type\":\"search_phase_execution_exception\",\"reason\":\"all shards failed\",\"phase\":\"query\",\"grouped\":true,\"failed_shards\":[]},\"status\":503}\r\n```\r\nBut the last build on master that failed like this was before your changes. \r\nI'll unmute the test to get more runs with your changes and see if this test has two separate\r\nproblems or the same manifests in different ways.  ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438375171","html_url":"https://github.com/elastic/elasticsearch/issues/35361#issuecomment-438375171","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35361","id":438375171,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODM3NTE3MQ==","user":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"created_at":"2018-11-13T18:03:02Z","updated_at":"2018-11-13T18:03:02Z","author_association":"MEMBER","body":"Build https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-darwin-compatibility/55/consoleFull seems to have similar failures","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438392901","html_url":"https://github.com/elastic/elasticsearch/issues/35361#issuecomment-438392901","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35361","id":438392901,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODM5MjkwMQ==","user":{"login":"jakelandis","id":976291,"node_id":"MDQ6VXNlcjk3NjI5MQ==","avatar_url":"https://avatars2.githubusercontent.com/u/976291?v=4","gravatar_id":"","url":"https://api.github.com/users/jakelandis","html_url":"https://github.com/jakelandis","followers_url":"https://api.github.com/users/jakelandis/followers","following_url":"https://api.github.com/users/jakelandis/following{/other_user}","gists_url":"https://api.github.com/users/jakelandis/gists{/gist_id}","starred_url":"https://api.github.com/users/jakelandis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakelandis/subscriptions","organizations_url":"https://api.github.com/users/jakelandis/orgs","repos_url":"https://api.github.com/users/jakelandis/repos","events_url":"https://api.github.com/users/jakelandis/events{/privacy}","received_events_url":"https://api.github.com/users/jakelandis/received_events","type":"User","site_admin":false},"created_at":"2018-11-13T18:54:12Z","updated_at":"2018-11-13T18:54:12Z","author_association":"CONTRIBUTOR","body":"The latest build failure includes the the \"fix\" commit, which didn't seem to fix this test. \r\n\r\nHere are the relevant bits :\r\nhttps://gist.github.com/jakelandis/86ac7e2544f96ded3f076bfedd54a02c \r\n\r\nDoesn't repro for me. Feel free to mute this test while we get to a resolution. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/442352218","html_url":"https://github.com/elastic/elasticsearch/issues/35361#issuecomment-442352218","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35361","id":442352218,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjM1MjIxOA==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2018-11-28T07:52:31Z","updated_at":"2018-11-28T07:52:54Z","author_association":"CONTRIBUTOR","body":"Build https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+periodic/255/console\r\nhas similar failures for\r\n- `testIndexActionHasPermissions`\r\n- `testSearchInputHasPermissions`\r\n- `testSearchInputWithInsufficientPrivileges`\r\n- `testSearchTransformInsufficientPermissions`\r\n\r\nStill doesn't reproduce locally. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/442381657","html_url":"https://github.com/elastic/elasticsearch/issues/35361#issuecomment-442381657","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35361","id":442381657,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjM4MTY1Nw==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2018-11-28T09:36:53Z","updated_at":"2018-11-28T09:36:53Z","author_association":"CONTRIBUTOR","body":"I muted SmokeTestWatcherWithSecurityIT in master and 6.x","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/442957677","html_url":"https://github.com/elastic/elasticsearch/issues/35361#issuecomment-442957677","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35361","id":442957677,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0Mjk1NzY3Nw==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2018-11-29T19:14:46Z","updated_at":"2018-11-29T19:14:46Z","author_association":"MEMBER","body":"And some more on 6.5: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.5+multijob-darwin-compatibility/70/console\r\n\r\nProbably worth muting there as well.\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/442958286","html_url":"https://github.com/elastic/elasticsearch/issues/35361#issuecomment-442958286","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35361","id":442958286,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0Mjk1ODI4Ng==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2018-11-29T19:16:41Z","updated_at":"2018-11-29T19:16:41Z","author_association":"MEMBER","body":"I cherry-picked 2791e810f9958e865f6a74f1248bcf54ec328e70 to 6.5, muting all of SmokeTestWatcherWithSecurityIT there as well.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/464161751","html_url":"https://github.com/elastic/elasticsearch/issues/35361#issuecomment-464161751","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35361","id":464161751,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDE2MTc1MQ==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2019-02-15T19:01:17Z","updated_at":"2019-02-15T19:01:17Z","author_association":"CONTRIBUTOR","body":"this popped up again after I unmuted it.\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+matrix-java-periodic/ES_BUILD_JAVA=java11,ES_RUNTIME_JAVA=java8,nodes=immutable&&linux&&docker/243/console\r\n\r\nI'll spend some time debugging. If nothing promising, I will re-mute","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/465839884","html_url":"https://github.com/elastic/elasticsearch/issues/35361#issuecomment-465839884","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35361","id":465839884,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTgzOTg4NA==","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"created_at":"2019-02-21T02:44:28Z","updated_at":"2019-02-21T02:44:28Z","author_association":"CONTRIBUTOR","body":"@talevy I see this was re-muted in #38995 \r\nAre you still looking or does it need fresh eyes?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/465855873","html_url":"https://github.com/elastic/elasticsearch/issues/35361#issuecomment-465855873","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35361","id":465855873,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTg1NTg3Mw==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2019-02-21T04:17:05Z","updated_at":"2019-02-21T04:17:05Z","author_association":"CONTRIBUTOR","body":"@tvernum you can take a look at it if you'd like. I intended on returning to the investigation tomorrow, but am not married to it","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/495771769","html_url":"https://github.com/elastic/elasticsearch/issues/35361#issuecomment-495771769","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35361","id":495771769,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTc3MTc2OQ==","user":{"login":"jakelandis","id":976291,"node_id":"MDQ6VXNlcjk3NjI5MQ==","avatar_url":"https://avatars2.githubusercontent.com/u/976291?v=4","gravatar_id":"","url":"https://api.github.com/users/jakelandis","html_url":"https://github.com/jakelandis","followers_url":"https://api.github.com/users/jakelandis/followers","following_url":"https://api.github.com/users/jakelandis/following{/other_user}","gists_url":"https://api.github.com/users/jakelandis/gists{/gist_id}","starred_url":"https://api.github.com/users/jakelandis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakelandis/subscriptions","organizations_url":"https://api.github.com/users/jakelandis/orgs","repos_url":"https://api.github.com/users/jakelandis/repos","events_url":"https://api.github.com/users/jakelandis/events{/privacy}","received_events_url":"https://api.github.com/users/jakelandis/received_events","type":"User","site_admin":false},"created_at":"2019-05-24T20:01:52Z","updated_at":"2019-05-24T20:01:52Z","author_association":"CONTRIBUTOR","body":"Un-muted this test on PR #42409 to obtain additional logs. \r\n\r\nIf (when?) this test fails again please obtain the following information before muting the test:\r\n\r\n* Copy of the relevant failure\r\n* Copy of the reproduce line\r\n* The Jenkins build link \r\n* The Gradle scan link\r\n* The relevant cluster logs from \"Google Cloud Storage Upload Report\" (link found in Jenkins build)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/558928471","html_url":"https://github.com/elastic/elasticsearch/issues/35361#issuecomment-558928471","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35361","id":558928471,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODkyODQ3MQ==","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"created_at":"2019-11-27T04:56:39Z","updated_at":"2019-11-27T04:56:39Z","author_association":"CONTRIBUTOR","body":"This failed today.\r\n\r\n**Links**\r\n- https://gradle-enterprise.elastic.co/s/bqlyt6dqivqta/tests/iepq34qphku7o-4btpxgdqtywuu\r\n- https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-unix-compatibility/os=oraclelinux-6&&immutable/415/console\r\n\r\n**Failure**\r\n```\r\nExpected: is a value equal to or greater than <1>\r\n     but: <0> was less than <1>\r\n```\r\n```\r\nat __randomizedtesting.SeedInfo.seed([A9D1FC962308DA58:6B9A0632AD97956]:0)\r\nat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:18)\r\nat org.junit.Assert.assertThat(Assert.java:956)\r\nat org.junit.Assert.assertThat(Assert.java:923)\r\nat org.elasticsearch.smoketest.SmokeTestWatcherWithSecurityIT.lambda$getWatchHistoryEntry$4(SmokeTestWatcherWithSecurityIT.java:331)\r\nat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:866)\r\nat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:839)\r\nat org.elasticsearch.smoketest.SmokeTestWatcherWithSecurityIT.getWatchHistoryEntry(SmokeTestWatcherWithSecurityIT.java:308)\r\nat org.elasticsearch.smoketest.SmokeTestWatcherWithSecurityIT.getWatchHistoryEntry(SmokeTestWatcherWithSecurityIT.java:303)\r\nat org.elasticsearch.smoketest.SmokeTestWatcherWithSecurityIT.testSearchInputWithInsufficientPrivileges(SmokeTestWatcherWithSecurityIT.java:184)\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:566)\r\nat com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1750)\r\nat com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:938)\r\nat com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:974)\r\nat com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:988)\r\nat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\nat org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49)\r\nat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\r\nat org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)\r\nat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\r\nat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\r\nat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\nat com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)\r\nat com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:817)\r\nat com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:468)\r\nat com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:947)\r\nat com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:832)\r\nat com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:883)\r\nat com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:894)\r\nat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\r\nat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\nat org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41)\r\nat com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\r\nat com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\r\nat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\nat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\nat org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53)\r\nat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\r\nat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\r\nat org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54)\r\nat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\nat com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)\r\nat java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\n**Reproduction**\r\n```\r\n./gradlew ':x-pack:qa:smoke-test-watcher-with-security:integTestRunner' \\\r\n  --tests \"org.elasticsearch.smoketest.SmokeTestWatcherWithSecurityIT.testSearchInputWithInsufficientPrivileges\" \\\r\n  -Dtests.seed=A9D1FC962308DA58 -Dtests.security.manager=true \\\r\n  -Dtests.locale=uk-UA -Dtests.timezone=Navajo -Dcompiler.java=12\r\n```\r\n\r\n**Cluster Logs**\r\n[smoke-test-watcher-with-security__build.zip](https://github.com/elastic/elasticsearch/files/3895167/smoke-test-watcher-with-security__build.zip)\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/558931191","html_url":"https://github.com/elastic/elasticsearch/issues/35361#issuecomment-558931191","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35361","id":558931191,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODkzMTE5MQ==","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"created_at":"2019-11-27T05:10:07Z","updated_at":"2019-11-27T05:10:07Z","author_association":"CONTRIBUTOR","body":"Urgh. Wrong test.\r\n\r\nThe above failure is from `testSearchInputWithInsufficientPrivileges` rather than `testSearchTransformInsufficientPermissions`.\r\n@jakelandis Given the failure is actually triggered in `getWatchHistoryEntry`, is this useful here, or would you prefer that I open a separate issue?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/574162463","html_url":"https://github.com/elastic/elasticsearch/issues/35361#issuecomment-574162463","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35361","id":574162463,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NDE2MjQ2Mw==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2020-01-14T13:00:20Z","updated_at":"2020-01-14T13:00:20Z","author_association":"MEMBER","body":"Closing in favour of #30777 as this test fails in [a similar way](https://build-stats.elastic.co/app/kibana#/discover?_g=(refreshInterval:(pause:!t,value:0),time:(from:now-90d,mode:quick,to:now))&_a=(columns:!(_source),filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:e58bf320-7efd-11e8-bf69-63c8ef516157,key:test,negate:!f,params:(query:testSearchTransformInsufficientPermissions,type:phrase),type:phrase,value:testSearchTransformInsufficientPermissions),query:(match:(test:(query:testSearchTransformInsufficientPermissions,type:phrase))))),index:e58bf320-7efd-11e8-bf69-63c8ef516157,interval:auto,query:(language:lucene,query:'class:*SmokeTestWatcherWithSecurityIT'),sort:!(time,desc))) as the mentioned issue.\r\n\r\nPR #50931 will add more logging in case this fails again.","performed_via_github_app":null}]