[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/16122976","html_url":"https://github.com/elastic/elasticsearch/issues/2875#issuecomment-16122976","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2875","id":16122976,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTIyOTc2","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-04-09T16:14:58Z","updated_at":"2013-04-09T16:14:58Z","author_association":"MEMBER","body":"can you reproduce this issue with an empty index, then create the mapping and index some documents? So we have a test case, we could use for debugging?\n\nAlso your elasticsearch version would be helpful as well as a check, that there is nothing in the logs.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/16132130","html_url":"https://github.com/elastic/elasticsearch/issues/2875#issuecomment-16132130","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2875","id":16132130,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTMyMTMw","user":{"login":"mdojwa","id":2542901,"node_id":"MDQ6VXNlcjI1NDI5MDE=","avatar_url":"https://avatars0.githubusercontent.com/u/2542901?v=4","gravatar_id":"","url":"https://api.github.com/users/mdojwa","html_url":"https://github.com/mdojwa","followers_url":"https://api.github.com/users/mdojwa/followers","following_url":"https://api.github.com/users/mdojwa/following{/other_user}","gists_url":"https://api.github.com/users/mdojwa/gists{/gist_id}","starred_url":"https://api.github.com/users/mdojwa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdojwa/subscriptions","organizations_url":"https://api.github.com/users/mdojwa/orgs","repos_url":"https://api.github.com/users/mdojwa/repos","events_url":"https://api.github.com/users/mdojwa/events{/privacy}","received_events_url":"https://api.github.com/users/mdojwa/received_events","type":"User","site_admin":false},"created_at":"2013-04-09T18:46:50Z","updated_at":"2013-04-09T19:18:30Z","author_association":"NONE","body":"Sorry :) ES version 0.20.6. Below you can find the testcase (here is the gist too: https://gist.github.com/mdojwa/622488908880ff72d427) that creates an index, adds sample data and gets them. One number is returned as double (21.5) and one as string (\"16.7\").\n\n``` bash\ncurl -XDELETE 'localhost:9200/test?pretty=1'\n\ncurl -XPOST 'localhost:9200/test?pretty=1' -d '{\n    \"settings\" : {\n        \"number_of_shards\" : 1\n    },\n    \"mappings\" : {\n        \"test1\" : {\n            \"properties\" : {\n                \"number\" : { \"type\" : \"double\" }\n            }\n        }\n    }\n}'\n\ncurl -XPUT 'localhost:9200/test/test1/1?pretty=1' -d '{\n    \"number\": 21.5\n}'\n\ncurl -XPUT 'localhost:9200/test/test1/2?pretty=1' -d '{\n    \"number\": \"16.7\"\n}'\n\ncurl -XPOST 'localhost:9200/test/_refresh?pretty=1'\n\ncurl -XPOST 'localhost:9200/test/test1/_search?pretty=1'\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/16160044","html_url":"https://github.com/elastic/elasticsearch/issues/2875#issuecomment-16160044","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2875","id":16160044,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTYwMDQ0","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-04-10T07:48:17Z","updated_at":"2013-04-10T07:48:17Z","author_association":"MEMBER","body":"Hey,\n\nwhenever you are indexing data, the _source field being returned in the data is always the same data you indexed. Elasticsearch does not change anything (unless configured to include/exclude fields). Hence the name of the field. :)\n\nInternally however (for searches/calculations/faceting/...) the field is treated as a number (due to the mapping).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/16160223","html_url":"https://github.com/elastic/elasticsearch/issues/2875#issuecomment-16160223","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2875","id":16160223,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTYwMjIz","user":{"login":"mdojwa","id":2542901,"node_id":"MDQ6VXNlcjI1NDI5MDE=","avatar_url":"https://avatars0.githubusercontent.com/u/2542901?v=4","gravatar_id":"","url":"https://api.github.com/users/mdojwa","html_url":"https://github.com/mdojwa","followers_url":"https://api.github.com/users/mdojwa/followers","following_url":"https://api.github.com/users/mdojwa/following{/other_user}","gists_url":"https://api.github.com/users/mdojwa/gists{/gist_id}","starred_url":"https://api.github.com/users/mdojwa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdojwa/subscriptions","organizations_url":"https://api.github.com/users/mdojwa/orgs","repos_url":"https://api.github.com/users/mdojwa/repos","events_url":"https://api.github.com/users/mdojwa/events{/privacy}","received_events_url":"https://api.github.com/users/mdojwa/received_events","type":"User","site_admin":false},"created_at":"2013-04-10T07:54:00Z","updated_at":"2013-04-10T07:54:00Z","author_association":"NONE","body":"Hi,\n\nI understand this, but I guess this is confusing when we get \"string\" instead of \"double\" as it is defined in the mapping :) I assume that it can not be changed right ?\n\nThanks.\nBest regards.\nMarcin Dojwa\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/16162568","html_url":"https://github.com/elastic/elasticsearch/issues/2875#issuecomment-16162568","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2875","id":16162568,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTYyNTY4","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-04-10T08:56:03Z","updated_at":"2013-04-10T08:56:03Z","author_association":"MEMBER","body":"Hey\n\nyou can actually get the real value if you want. All you need to do, is store the field (done in the mapping), and then explicitely retrieve it in your query like this:\n\n```\ncurl -X PUT localhost:9200/store\ncurl -X PUT localhost:9200/store/store/_mapping -d '{ \"store\" : { \"properties\" : { \"field\" : { \"store\" : \"yes\", \"type\":\"double\" } } } }'\ncurl -X PUT localhost:9200/store/store/1 -d '{\"field\":\"1\"}'\n```\n\nNow add the fields you want to receive to your query and you're done:\n\n```\ncurl 'localhost:9200/store/store/_search?pretty' -d '{ \"query\": { \"match_all\": {} }, \"fields\" : [\"field\"] }'\n\n{\n  \"took\" : 1,\n  \"timed_out\" : false,\n  \"_shards\" : {\n    \"total\" : 5,\n    \"successful\" : 5,\n    \"failed\" : 0\n  },\n  \"hits\" : {\n    \"total\" : 1,\n    \"max_score\" : 1.0,\n    \"hits\" : [ {\n      \"_index\" : \"store\",\n      \"_type\" : \"store\",\n      \"_id\" : \"1\",\n      \"_score\" : 1.0,\n      \"fields\" : {\n        \"field\" : 1.0\n      }\n    } ]\n  }\n}\n```\n\nhope this helps. In case you dont feel this is a bug anymore, please close :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/16163455","html_url":"https://github.com/elastic/elasticsearch/issues/2875#issuecomment-16163455","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2875","id":16163455,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTYzNDU1","user":{"login":"mdojwa","id":2542901,"node_id":"MDQ6VXNlcjI1NDI5MDE=","avatar_url":"https://avatars0.githubusercontent.com/u/2542901?v=4","gravatar_id":"","url":"https://api.github.com/users/mdojwa","html_url":"https://github.com/mdojwa","followers_url":"https://api.github.com/users/mdojwa/followers","following_url":"https://api.github.com/users/mdojwa/following{/other_user}","gists_url":"https://api.github.com/users/mdojwa/gists{/gist_id}","starred_url":"https://api.github.com/users/mdojwa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdojwa/subscriptions","organizations_url":"https://api.github.com/users/mdojwa/orgs","repos_url":"https://api.github.com/users/mdojwa/repos","events_url":"https://api.github.com/users/mdojwa/events{/privacy}","received_events_url":"https://api.github.com/users/mdojwa/received_events","type":"User","site_admin":false},"created_at":"2013-04-10T09:18:03Z","updated_at":"2013-04-10T09:18:03Z","author_association":"NONE","body":"Thanks.\n","performed_via_github_app":null}]