{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1717","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1717/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1717/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1717/events","html_url":"https://github.com/elastic/elasticsearch/issues/1717","id":3274848,"node_id":"MDU6SXNzdWUzMjc0ODQ4","number":1717,"title":"Failed shards allocation can \"poison\" allocation and might cause not allocating other shards","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"labels":[{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":230713,"node_id":"MDU6TGFiZWwyMzA3MTM=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.19.0.RC3","name":"v0.19.0.RC3","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2012-02-17T22:11:34Z","updated_at":"2012-02-17T22:20:08Z","closed_at":"2012-02-17T22:20:08Z","author_association":"MEMBER","active_lock_reason":null,"body":"Its pretty rare, but might happen, specifically when having many indices (and many shards) and if some shards fail, it might end in a poison state where failed shards are retried and because of shards concurrent initialization limits per node, the same might be attempted to start each time.\n\nObviously, it would be great to have something that identified that a specific shard has failed on all its different replicas, and then throttle its attempted allocation to a later time, but thats a different issue.\n","closed_by":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"performed_via_github_app":null}