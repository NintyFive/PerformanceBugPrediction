[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/133432","html_url":"https://github.com/elastic/elasticsearch/issues/6#issuecomment-133432","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6","id":133432,"node_id":"MDEyOklzc3VlQ29tbWVudDEzMzQzMg==","user":{"login":"simonw","id":9599,"node_id":"MDQ6VXNlcjk1OTk=","avatar_url":"https://avatars0.githubusercontent.com/u/9599?v=4","gravatar_id":"","url":"https://api.github.com/users/simonw","html_url":"https://github.com/simonw","followers_url":"https://api.github.com/users/simonw/followers","following_url":"https://api.github.com/users/simonw/following{/other_user}","gists_url":"https://api.github.com/users/simonw/gists{/gist_id}","starred_url":"https://api.github.com/users/simonw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonw/subscriptions","organizations_url":"https://api.github.com/users/simonw/orgs","repos_url":"https://api.github.com/users/simonw/repos","events_url":"https://api.github.com/users/simonw/events{/privacy}","received_events_url":"https://api.github.com/users/simonw/received_events","type":"User","site_admin":false},"created_at":"2010-02-12T13:57:04Z","updated_at":"2010-02-12T13:57:04Z","author_association":"CONTRIBUTOR","body":"It's definitely still invalid JSON - the JSON spec on http://www.json.org/ is clear that double quotes are required around string values, including object keys. In practice it's not a huge problem that elasticsearch accepts invalid JSON for the queries though, provided it also accepts valid JSON. The JSON output by elasticsearch uses quotes in the right places and is absolutely fine.\n\nPython's JSON parser is strict by default, and throws the following exception if I feed in the above example:\n\nValueError: Expecting property name: line 2 column 5 (char 6)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/133436","html_url":"https://github.com/elastic/elasticsearch/issues/6#issuecomment-133436","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6","id":133436,"node_id":"MDEyOklzc3VlQ29tbWVudDEzMzQzNg==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-02-12T14:04:52Z","updated_at":"2010-02-12T14:04:52Z","author_association":"MEMBER","body":"The invalid part I was talking about is the usage of the same field name twice within an object. \n\nRegarding the quotes on field names, you are absolutely correct. ES does accept field names that are either quoted or not, for two reasons:\n1. Less text on the wire / simplifies writing examples :).\n2. Makes direct Javascript usage simpler.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/139089","html_url":"https://github.com/elastic/elasticsearch/issues/6#issuecomment-139089","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6","id":139089,"node_id":"MDEyOklzc3VlQ29tbWVudDEzOTA4OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2010-02-19T01:51:33Z","updated_at":"2010-02-19T01:51:33Z","author_association":"CONTRIBUTOR","body":"Actually, non-unique key names are invalid JSON.  See section 2.2 in http://www.ietf.org/rfc/rfc4627.txt?number=4627\n\nSo whenever you have repeatable items, you should provide both:\n    { key: value } \n    { keys: [ value_1, value_n ] }\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/139446","html_url":"https://github.com/elastic/elasticsearch/issues/6#issuecomment-139446","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6","id":139446,"node_id":"MDEyOklzc3VlQ29tbWVudDEzOTQ0Ng==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2010-02-19T13:39:40Z","updated_at":"2010-02-19T13:39:40Z","author_association":"CONTRIBUTOR","body":"or:\n\n```\n{ key: value }  | { key: [ value_1, value_n] }\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/139935","html_url":"https://github.com/elastic/elasticsearch/issues/6#issuecomment-139935","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6","id":139935,"node_id":"MDEyOklzc3VlQ29tbWVudDEzOTkzNQ==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-02-20T00:10:58Z","updated_at":"2010-02-20T00:10:58Z","author_association":"MEMBER","body":"They say SHOULD not must :). In any case, I will make sure in the future that the SHOULD, with all its uppercase glory, is maintained :).\n","performed_via_github_app":null}]