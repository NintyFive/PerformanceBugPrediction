[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/205451605","html_url":"https://github.com/elastic/elasticsearch/issues/17462#issuecomment-205451605","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17462","id":205451605,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNTQ1MTYwNQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-04-04T19:10:04Z","updated_at":"2016-04-04T19:10:04Z","author_association":"CONTRIBUTOR","body":"Hi @texlnghorn \n\nAre you saying that the merges reported by cat-nodes never change? While those from nodes-stats do? The problem is that 1.7.5 is really quite old now.  We're working towards releasing 5.0, and so much has changed since 1.7.5  We'd be interested if you were able to replicate this on a recent version.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/205467793","html_url":"https://github.com/elastic/elasticsearch/issues/17462#issuecomment-205467793","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17462","id":205467793,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNTQ2Nzc5Mw==","user":{"login":"texlnghorn","id":6633418,"node_id":"MDQ6VXNlcjY2MzM0MTg=","avatar_url":"https://avatars2.githubusercontent.com/u/6633418?v=4","gravatar_id":"","url":"https://api.github.com/users/texlnghorn","html_url":"https://github.com/texlnghorn","followers_url":"https://api.github.com/users/texlnghorn/followers","following_url":"https://api.github.com/users/texlnghorn/following{/other_user}","gists_url":"https://api.github.com/users/texlnghorn/gists{/gist_id}","starred_url":"https://api.github.com/users/texlnghorn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/texlnghorn/subscriptions","organizations_url":"https://api.github.com/users/texlnghorn/orgs","repos_url":"https://api.github.com/users/texlnghorn/repos","events_url":"https://api.github.com/users/texlnghorn/events{/privacy}","received_events_url":"https://api.github.com/users/texlnghorn/received_events","type":"User","site_admin":false},"created_at":"2016-04-04T19:52:53Z","updated_at":"2016-04-04T19:52:53Z","author_association":"NONE","body":"1.7.5 was released 2/2/2016.  But I know that you are saying that the 1.7.x version is old.  Yes, it appears that merges are stuck querying cat-nodes but not stuck querying nodes-stats.  We have seen the same number of docs and same size reported in cat-nodes for more than 2 weeks.  If we bounce the node, then the merges info goes back to 0.  Eventually we see the same situation again after a few days.  Unfortunately we cannot upgrade to 2.x or 5.x for some time.  I had not seen anyone else report this and was wondering if others had experienced the same thing.   We don't know if we really have stuck merges or if something is not getting reset properly in cat-nodes.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/206296451","html_url":"https://github.com/elastic/elasticsearch/issues/17462#issuecomment-206296451","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17462","id":206296451,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNjI5NjQ1MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-04-06T10:30:50Z","updated_at":"2016-04-06T10:30:50Z","author_association":"CONTRIBUTOR","body":"It sounds very much like an issue with stats reporting, but curious that it happens in cat-nodes and not in nodes-stats. I haven't heard other reports of this but that doesn't mean that it doesn't happen or that it has already been fixed.  Worth investigating I think\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/222748460","html_url":"https://github.com/elastic/elasticsearch/issues/17462#issuecomment-222748460","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17462","id":222748460,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjc0ODQ2MA==","user":{"login":"mkelkarbv","id":8582461,"node_id":"MDQ6VXNlcjg1ODI0NjE=","avatar_url":"https://avatars1.githubusercontent.com/u/8582461?v=4","gravatar_id":"","url":"https://api.github.com/users/mkelkarbv","html_url":"https://github.com/mkelkarbv","followers_url":"https://api.github.com/users/mkelkarbv/followers","following_url":"https://api.github.com/users/mkelkarbv/following{/other_user}","gists_url":"https://api.github.com/users/mkelkarbv/gists{/gist_id}","starred_url":"https://api.github.com/users/mkelkarbv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkelkarbv/subscriptions","organizations_url":"https://api.github.com/users/mkelkarbv/orgs","repos_url":"https://api.github.com/users/mkelkarbv/repos","events_url":"https://api.github.com/users/mkelkarbv/events{/privacy}","received_events_url":"https://api.github.com/users/mkelkarbv/received_events","type":"User","site_admin":false},"created_at":"2016-05-31T16:46:36Z","updated_at":"2016-05-31T16:46:36Z","author_association":"NONE","body":"We see the same issue on version 1.7.3. the _stats/merges reports no current merges, where as _cat/nodes API reports 3 on going merges on different nodes. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/222773919","html_url":"https://github.com/elastic/elasticsearch/issues/17462#issuecomment-222773919","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17462","id":222773919,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjc3MzkxOQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-05-31T18:16:02Z","updated_at":"2016-05-31T18:16:02Z","author_association":"CONTRIBUTOR","body":"@mkelkarbv can you provide a sample output what doesn't match? I can't see any example like a json snippet and a CAT line that is wrong.. hard to tell what's going on?!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/222809617","html_url":"https://github.com/elastic/elasticsearch/issues/17462#issuecomment-222809617","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17462","id":222809617,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjgwOTYxNw==","user":{"login":"thebearmayor","id":4573701,"node_id":"MDQ6VXNlcjQ1NzM3MDE=","avatar_url":"https://avatars1.githubusercontent.com/u/4573701?v=4","gravatar_id":"","url":"https://api.github.com/users/thebearmayor","html_url":"https://github.com/thebearmayor","followers_url":"https://api.github.com/users/thebearmayor/followers","following_url":"https://api.github.com/users/thebearmayor/following{/other_user}","gists_url":"https://api.github.com/users/thebearmayor/gists{/gist_id}","starred_url":"https://api.github.com/users/thebearmayor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thebearmayor/subscriptions","organizations_url":"https://api.github.com/users/thebearmayor/orgs","repos_url":"https://api.github.com/users/thebearmayor/repos","events_url":"https://api.github.com/users/thebearmayor/events{/privacy}","received_events_url":"https://api.github.com/users/thebearmayor/received_events","type":"User","site_admin":false},"created_at":"2016-05-31T20:27:07Z","updated_at":"2016-05-31T20:27:07Z","author_association":"NONE","body":"@s1monw I can provide that.\n\n```\n# curl -s 'localhost:9200/_cat/nodes?v&h=id,mc,mcd'\nid   mc     mcd\nVXvB  0       0\nlnIR  0       0\n_oF8  0       0\nbfHD  0       0\nsv91  2 1265846\nEtuE  0       0\nuPsj  0       0\nTSPN  0       0\nfaYE  0       0\n_K5Y  0       0\nnz9W  0       0\npiz6  1  347959\nR6jG  0       0\nQP9S  0       0\nkG31  0       0\nrncC  0       0\n0WSl  0       0\n-mEf  0       0\n1zgM  0       0\n```\n\n```\ncurl -s 'localhost:9200/_cat/indices?v&h=i,mc,mcd'\ni                      mc mcd\n&part-reviewpartition7  0   0\n&part-reviewpartition2  0   0\n&part-reviewpartition6  0   0\n&part-reviewpartition5  0   0\n&part-reviewpartition8  0   0\n&part-reviewpartition4  0   0\n&part-reviewpartition9  0   0\npercolators             0   0\n&part-reviewpartition0  0   0\n&part-reviewpartition3  0   0\n&part-reviewpartition1  0   0\n```\n\nThese were taken at the same time. The 3 merges that show when we query _cat/nodes never go away. The info from _cat/indices seems to be correct -- merges come and go but currently there are none.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/223554225","html_url":"https://github.com/elastic/elasticsearch/issues/17462#issuecomment-223554225","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17462","id":223554225,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMzU1NDIyNQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-06-03T11:20:19Z","updated_at":"2016-06-03T11:20:19Z","author_association":"CONTRIBUTOR","body":"this is fixed by #13801 in 2.0 upwards.... The node stats include the stats of all shards ever on that node even the old ones. Yet, it was also counting the current stats not just totals. this is now fixed and this is essentially a duplicate of  #13386  \n\nthe stats in `curl -s 'localhost:9200/_cat/indices?v&h=i,mc,mcd'` are accurate in 1.x \n","performed_via_github_app":null}]