{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/2342","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2342/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2342/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2342/events","html_url":"https://github.com/elastic/elasticsearch/issues/2342","id":7726868,"node_id":"MDU6SXNzdWU3NzI2ODY4","number":2342,"title":"Getting elasticsearch connect error on continuous uploads","user":{"login":"azitabh","id":2002310,"node_id":"MDQ6VXNlcjIwMDIzMTA=","avatar_url":"https://avatars3.githubusercontent.com/u/2002310?v=4","gravatar_id":"","url":"https://api.github.com/users/azitabh","html_url":"https://github.com/azitabh","followers_url":"https://api.github.com/users/azitabh/followers","following_url":"https://api.github.com/users/azitabh/following{/other_user}","gists_url":"https://api.github.com/users/azitabh/gists{/gist_id}","starred_url":"https://api.github.com/users/azitabh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/azitabh/subscriptions","organizations_url":"https://api.github.com/users/azitabh/orgs","repos_url":"https://api.github.com/users/azitabh/repos","events_url":"https://api.github.com/users/azitabh/events{/privacy}","received_events_url":"https://api.github.com/users/azitabh/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2012-10-19T19:46:48Z","updated_at":"2012-10-22T05:53:57Z","closed_at":"2012-10-21T20:31:29Z","author_association":"NONE","active_lock_reason":null,"body":"I have a script that reads lines one by one from a csv file and index the same to elasticsearch in the same order. My elasticsearch host is the same machine on which the script is running. Everything else works fine except for a few rows when I suddenly start getting the following error:\n\n```\nW, [2012-10-09T14:46:00.899876 #11567]  WARN -- : Cannot assign requested address connect(2)\nD, [2012-10-09T14:46:00.900037 #11567] DEBUG -- : [\"/home/azitabh/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/net/http.rb:644:in `initialize'\",\n\"/home/azitabh/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/net/http.rb:644:in `open'\",\n\"/home/azitabh/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/net/http.rb:644:in `block in connect'\",\n\"/home/azitabh/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/timeout.rb:44:in `timeout'\",\n\"/home/azitabh/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/timeout.rb:89:in `timeout'\",\n\"/home/azitabh/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/net/http.rb:644:in `connect'\",\n\"/home/azitabh/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/net/http.rb:637:in `do_start'\",\n\"/home/azitabh/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/net/http.rb:626:in `start'\",\n\"/home/azitabh/.rvm/gems/ruby-1.9.2-p320/gems/rest-client-1.6.7/lib/restclient/request.rb:172:in `transmit'\",\n\"/home/azitabh/.rvm/gems/ruby-1.9.2-p320/gems/rest-client-1.6.7/lib/restclient/request.rb:64:in `execute'\",\n\"/home/azitabh/.rvm/gems/ruby-1.9.2-p320/gems/tire-0.4.2/lib/tire/http/client.rb:11:in `get'\",\n\"/home/azitabh/.rvm/gems/ruby-1.9.2-p320/gems/tire-0.4.2/lib/tire/search.rb:94:in `perform'\",\n\"/home/azitabh/.rvm/gems/ruby-1.9.2-p320/gems/tire-0.4.2/lib/tire/search.rb:20:in `results'\",\n\"models/test.rb:31:in `get_details'\",\n\"models/test.rb:56:in `block in index_test'\",\n\"/home/azitabh/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/csv.rb:1768:in `each'\",\n\"/home/azitabh/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/csv.rb:1202:in `block in foreach'\",\n\"/home/azitabh/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/csv.rb:1340:in `open'\",\n\"/home/azitabh/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/csv.rb:1201:in `foreach'\",\n\"models/test.rb:40:in `index_test'\",\n\"models/test.rb:85:in `<main>'\"]\n```\n\nAnd the errors are not related to the values at those rows in the csv. I get these errors at different locations at different times.\n\nThere is another error \"WAIT_TIMEOUT\" which I get some time. Couldn't put the trace here as I didn't get that error this time.\n\nI am coding in ruby and using \"Tire\" gem to talk to elasticsearch. I don't feel these are responsible in any way though.\n\nJAVA was using 8% of my system's memory at the time I got this error. This is much below the assigned value ES_MIN_MEM=2g.\n\nThanks in advance -Azitabh\n","closed_by":{"login":"azitabh","id":2002310,"node_id":"MDQ6VXNlcjIwMDIzMTA=","avatar_url":"https://avatars3.githubusercontent.com/u/2002310?v=4","gravatar_id":"","url":"https://api.github.com/users/azitabh","html_url":"https://github.com/azitabh","followers_url":"https://api.github.com/users/azitabh/followers","following_url":"https://api.github.com/users/azitabh/following{/other_user}","gists_url":"https://api.github.com/users/azitabh/gists{/gist_id}","starred_url":"https://api.github.com/users/azitabh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/azitabh/subscriptions","organizations_url":"https://api.github.com/users/azitabh/orgs","repos_url":"https://api.github.com/users/azitabh/repos","events_url":"https://api.github.com/users/azitabh/events{/privacy}","received_events_url":"https://api.github.com/users/azitabh/received_events","type":"User","site_admin":false},"performed_via_github_app":null}