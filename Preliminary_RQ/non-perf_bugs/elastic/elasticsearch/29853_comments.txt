[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384131289","html_url":"https://github.com/elastic/elasticsearch/issues/29853#issuecomment-384131289","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29853","id":384131289,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzMTI4OQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-01-10T16:52:25Z","updated_at":"2018-04-25T01:25:30Z","author_association":"COLLABORATOR","body":"*Original comment by @costin:*\n\nThe iteration of the nodes only happens one - the rule is called from the top and then does a `transformExpressionUp` meaning it will traverse from children to parent each node and all its expressions.\r\n\r\nI believe you're referring to the iteration of the `seenFunctions` which is a `List` and that happens since we're trying to match different instances of the same logical function and equality is not enough (since they might have different ids).\r\nNot sure how a `Map` would solve that...","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/432645944","html_url":"https://github.com/elastic/elasticsearch/issues/29853#issuecomment-432645944","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29853","id":432645944,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjY0NTk0NA==","user":{"login":"costin","id":76245,"node_id":"MDQ6VXNlcjc2MjQ1","avatar_url":"https://avatars3.githubusercontent.com/u/76245?v=4","gravatar_id":"","url":"https://api.github.com/users/costin","html_url":"https://github.com/costin","followers_url":"https://api.github.com/users/costin/followers","following_url":"https://api.github.com/users/costin/following{/other_user}","gists_url":"https://api.github.com/users/costin/gists{/gist_id}","starred_url":"https://api.github.com/users/costin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/costin/subscriptions","organizations_url":"https://api.github.com/users/costin/orgs","repos_url":"https://api.github.com/users/costin/repos","events_url":"https://api.github.com/users/costin/events{/privacy}","received_events_url":"https://api.github.com/users/costin/received_events","type":"User","site_admin":false},"created_at":"2018-10-24T13:02:12Z","updated_at":"2018-10-24T13:02:12Z","author_association":"MEMBER","body":"Currently this rule is disabled however it should be enabled since it should introduce a number of simplifications (like figuring out the column for grouping) at the expense of remembering the previous scalar ids.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/593504324","html_url":"https://github.com/elastic/elasticsearch/issues/29853#issuecomment-593504324","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29853","id":593504324,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzUwNDMyNA==","user":{"login":"matriv","id":5058131,"node_id":"MDQ6VXNlcjUwNTgxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/5058131?v=4","gravatar_id":"","url":"https://api.github.com/users/matriv","html_url":"https://github.com/matriv","followers_url":"https://api.github.com/users/matriv/followers","following_url":"https://api.github.com/users/matriv/following{/other_user}","gists_url":"https://api.github.com/users/matriv/gists{/gist_id}","starred_url":"https://api.github.com/users/matriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matriv/subscriptions","organizations_url":"https://api.github.com/users/matriv/orgs","repos_url":"https://api.github.com/users/matriv/repos","events_url":"https://api.github.com/users/matriv/events{/privacy}","received_events_url":"https://api.github.com/users/matriv/received_events","type":"User","site_admin":false},"created_at":"2020-03-02T16:57:37Z","updated_at":"2020-03-02T16:57:37Z","author_association":"CONTRIBUTOR","body":"The rule is completely removed as its functionality is superseded by the refactoring of the NamedExpressions: #49570","performed_via_github_app":null}]