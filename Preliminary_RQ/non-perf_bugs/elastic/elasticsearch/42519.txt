{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/42519","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42519/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42519/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42519/events","html_url":"https://github.com/elastic/elasticsearch/issues/42519","id":448165748,"node_id":"MDU6SXNzdWU0NDgxNjU3NDg=","number":42519,"title":"[CI] GoogleCloudStorageBlobStoreRepositoryTests.testSnapshotAndRestore failure","user":{"login":"matriv","id":5058131,"node_id":"MDQ6VXNlcjUwNTgxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/5058131?v=4","gravatar_id":"","url":"https://api.github.com/users/matriv","html_url":"https://github.com/matriv","followers_url":"https://api.github.com/users/matriv/followers","following_url":"https://api.github.com/users/matriv/following{/other_user}","gists_url":"https://api.github.com/users/matriv/gists{/gist_id}","starred_url":"https://api.github.com/users/matriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matriv/subscriptions","organizations_url":"https://api.github.com/users/matriv/orgs","repos_url":"https://api.github.com/users/matriv/repos","events_url":"https://api.github.com/users/matriv/events{/privacy}","received_events_url":"https://api.github.com/users/matriv/received_events","type":"User","site_admin":false},"labels":[{"id":143077482,"node_id":"MDU6TGFiZWwxNDMwNzc0ODI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Snapshot/Restore","name":":Distributed/Snapshot/Restore","color":"0e8a16","default":false,"description":"Anything directly related to the `_snapshot/*` APIs"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"assignees":[{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2019-05-24T13:16:13Z","updated_at":"2019-05-24T15:19:53Z","closed_at":"2019-05-24T15:19:53Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"## Example build failure\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.1+intake/87/console\r\n\r\n## Reproduction line \r\nDoesn't reproduces locally\r\n```\r\n./gradlew :plugins:repository-gcs:test --tests \"org.elasticsearch.repositories.gcs.GoogleCloudStorageBlobStoreRepositoryTests.testSnapshotAndRestore\" \\\r\n  -Dtests.seed=2B52BC99A06777E8 \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=ja-JP-u-ca-japanese-x-lvariant-JP \\\r\n  -Dtests.timezone=America/Creston \\\r\n  -Dcompiler.java=12 \\\r\n  -Druntime.java=8\r\n```\r\n\r\n## Example relevant log:\r\n```\r\n14:11:09   1> [0001-05-24T05:11:06,556][INFO ][o.e.r.g.GoogleCloudStorageBlobStoreRepositoryTests] [testSnapshotAndRestore] -->  create random index tzbqmdctx with 465 records\r\n14:11:09   1> [0001-05-24T05:11:06,562][INFO ][o.e.r.g.GoogleCloudStorageBlobStoreRepositoryTests] [testSnapshotAndRestore] Index [465] docs async: [false] bulk: [true] partitions [6]\r\n14:11:09   1> [0001-05-24T05:11:06,565][INFO ][o.e.c.m.MetaDataCreateIndexService] [node_s1] [tzbqmdctx] creating index, cause [auto(bulk api)], templates [random_index_template], shards [2]/[1], mappings []\r\n14:11:09   1> [0001-05-24T05:11:06,643][INFO ][o.e.c.m.MetaDataMappingService] [node_s1] [tzbqmdctx/I4Nzg9T7S-C3ptAChlJ3Lw] create_mapping [tzbqmdctx]\r\n14:11:09   1> [0001-05-24T05:11:06,828][INFO ][o.e.r.g.GoogleCloudStorageBlobStoreRepositoryTests] [testSnapshotAndRestore] -->  create snapshot x:o\r\n14:11:09   1> [0001-05-24T05:11:06,840][WARN ][o.e.s.SnapshotsService   ] [node_s1] failed to create snapshot [o/SCE0LbxMTJGiWKYoMazshA]\r\n14:11:09   1> org.elasticsearch.snapshots.InvalidSnapshotNameException: [x:o] Invalid snapshot name [o], snapshot with the same name already exists\r\n14:11:09   1> \tat org.elasticsearch.repositories.blobstore.BlobStoreRepository.initializeSnapshot(BlobStoreRepository.java:387) ~[elasticsearch-7.1.1-SNAPSHOT.jar:7.1.1-SNAPSHOT]\r\n14:11:09   1> \tat org.elasticsearch.snapshots.SnapshotsService$2.doRun(SnapshotsService.java:413) [elasticsearch-7.1.1-SNAPSHOT.jar:7.1.1-SNAPSHOT]\r\n14:11:09   1> \tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:751) [elasticsearch-7.1.1-SNAPSHOT.jar:7.1.1-SNAPSHOT]\r\n14:11:09   1> \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-7.1.1-SNAPSHOT.jar:7.1.1-SNAPSHOT]\r\n14:11:09   1> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]\r\n14:11:09   1> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]\r\n14:11:09   1> \tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]\r\n```\r\n\r\nNot muting for the moment, I found just one more failure like that.\r\n","closed_by":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"performed_via_github_app":null}