[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/842040","html_url":"https://github.com/elastic/elasticsearch/issues/751#issuecomment-842040","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/751","id":842040,"node_id":"MDEyOklzc3VlQ29tbWVudDg0MjA0MA==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-03-07T09:05:01Z","updated_at":"2011-03-07T09:05:01Z","author_association":"MEMBER","body":"Heya, can you gist a full recreation? The curl that creates teh index + mappings, index a simple doc, and the search that results in the problem?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/842265","html_url":"https://github.com/elastic/elasticsearch/issues/751#issuecomment-842265","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/751","id":842265,"node_id":"MDEyOklzc3VlQ29tbWVudDg0MjI2NQ==","user":{"login":"monken","id":46471,"node_id":"MDQ6VXNlcjQ2NDcx","avatar_url":"https://avatars2.githubusercontent.com/u/46471?v=4","gravatar_id":"","url":"https://api.github.com/users/monken","html_url":"https://github.com/monken","followers_url":"https://api.github.com/users/monken/followers","following_url":"https://api.github.com/users/monken/following{/other_user}","gists_url":"https://api.github.com/users/monken/gists{/gist_id}","starred_url":"https://api.github.com/users/monken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monken/subscriptions","organizations_url":"https://api.github.com/users/monken/orgs","repos_url":"https://api.github.com/users/monken/repos","events_url":"https://api.github.com/users/monken/events{/privacy}","received_events_url":"https://api.github.com/users/monken/received_events","type":"User","site_admin":false},"created_at":"2011-03-07T10:15:47Z","updated_at":"2011-03-07T10:15:47Z","author_association":"NONE","body":"I know what the problem is. In the \"cpan\" index there is a type named \"distribution\". I f I remove that type, everything works fine. It seems like it tries to search on the type \"distribution\" instead of the property \"distribution\" on \"release\".\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/842272","html_url":"https://github.com/elastic/elasticsearch/issues/751#issuecomment-842272","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/751","id":842272,"node_id":"MDEyOklzc3VlQ29tbWVudDg0MjI3Mg==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-03-07T10:17:50Z","updated_at":"2011-03-07T10:17:50Z","author_association":"MEMBER","body":"If you specify the full name of the field, then it will try and load that one. Seems strange that you get for `distribution.raw` the `name.raw`. Would love for a recreation so I can check it.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/842273","html_url":"https://github.com/elastic/elasticsearch/issues/751#issuecomment-842273","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/751","id":842273,"node_id":"MDEyOklzc3VlQ29tbWVudDg0MjI3Mw==","user":{"login":"monken","id":46471,"node_id":"MDQ6VXNlcjQ2NDcx","avatar_url":"https://avatars2.githubusercontent.com/u/46471?v=4","gravatar_id":"","url":"https://api.github.com/users/monken","html_url":"https://github.com/monken","followers_url":"https://api.github.com/users/monken/followers","following_url":"https://api.github.com/users/monken/following{/other_user}","gists_url":"https://api.github.com/users/monken/gists{/gist_id}","starred_url":"https://api.github.com/users/monken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monken/subscriptions","organizations_url":"https://api.github.com/users/monken/orgs","repos_url":"https://api.github.com/users/monken/repos","events_url":"https://api.github.com/users/monken/events{/privacy}","received_events_url":"https://api.github.com/users/monken/received_events","type":"User","site_admin":false},"created_at":"2011-03-07T10:18:52Z","updated_at":"2011-03-07T10:18:52Z","author_association":"NONE","body":"http://localhost:9200/cpan/release/_search?q=*&pretty=true&fields=release.distribution.raw works just fine. I will build a minimal test case and come back to you.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/842288","html_url":"https://github.com/elastic/elasticsearch/issues/751#issuecomment-842288","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/751","id":842288,"node_id":"MDEyOklzc3VlQ29tbWVudDg0MjI4OA==","user":{"login":"monken","id":46471,"node_id":"MDQ6VXNlcjQ2NDcx","avatar_url":"https://avatars2.githubusercontent.com/u/46471?v=4","gravatar_id":"","url":"https://api.github.com/users/monken","html_url":"https://github.com/monken","followers_url":"https://api.github.com/users/monken/followers","following_url":"https://api.github.com/users/monken/following{/other_user}","gists_url":"https://api.github.com/users/monken/gists{/gist_id}","starred_url":"https://api.github.com/users/monken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monken/subscriptions","organizations_url":"https://api.github.com/users/monken/orgs","repos_url":"https://api.github.com/users/monken/repos","events_url":"https://api.github.com/users/monken/events{/privacy}","received_events_url":"https://api.github.com/users/monken/received_events","type":"User","site_admin":false},"created_at":"2011-03-07T10:25:57Z","updated_at":"2011-03-07T10:25:57Z","author_association":"NONE","body":"You can run this in one batch. My nick on IRC is moonk for further investigation :)\n\n```\ncurl -XDELETE http://localhost:9200/cpan/\ncurl -XPUT http://localhost:9200/cpan\ncurl -XPUT http://localhost:9200/cpan/release/_mapping -d '{\"release\":{\"properties\":{\"name\":{\"type\":\"multi_field\",fields:{\"raw\":{\"store\":\"yes\",\"type\":\"string\"},\"name\":{\"store\":\"yes\",\"type\":\"string\"}}},\"distribution\":{\"type\":\"multi_field\",fields:{\"raw\":{\"store\":\"yes\",\"type\":\"string\"},\"distribution\":{\"store\":\"yes\",\"type\":\"string\"}}}}}}'\ncurl -XPUT http://localhost:9200/cpan/distribution/_mapping -d '{\"distribution\":{\"properties\":{\"name\":{\"type\":\"multi_field\",fields:{\"raw\":{\"store\":\"yes\",\"type\":\"string\"},\"name\":{\"store\":\"yes\",\"type\":\"string\"}}}}}}'\ncurl -XPUT http://localhost:9200/cpan/release/1 -d ' {\"name\":\"FBP-Perl-0.18\",\"distribution\":\"FBP-Perl\"}'\ncurl http://localhost:9200/_refresh\ncurl 'http://localhost:9200/cpan/release/_search?q=*&pretty=true&fields=distribution.raw'\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/2059037","html_url":"https://github.com/elastic/elasticsearch/issues/751#issuecomment-2059037","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/751","id":2059037,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNTkwMzc=","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2011-09-10T11:31:25Z","updated_at":"2011-09-10T11:31:25Z","author_association":"CONTRIBUTOR","body":"Any news on this bug? It is still there in 0.17.6\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/2061438","html_url":"https://github.com/elastic/elasticsearch/issues/751#issuecomment-2061438","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/751","id":2061438,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNjE0Mzg=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-09-10T21:57:14Z","updated_at":"2011-09-10T21:57:49Z","author_association":"MEMBER","body":"This one is tricky, because there is a type called `distribution`, and we support automatic prefix of type when searching against a field (regardless of the type searched against in the \"url\"), then the `distribution.raw` is identified as searching against type `distribution`, even though you search within the `release` type.\n\nI suggest using a different name either for the `distribution` type, or the `distribution` element within `release.\n","performed_via_github_app":null}]