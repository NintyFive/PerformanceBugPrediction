[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/390415054","html_url":"https://github.com/elastic/elasticsearch/issues/30740#issuecomment-390415054","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30740","id":390415054,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDQxNTA1NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-05-19T16:11:08Z","updated_at":"2018-05-19T16:11:08Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/390686686","html_url":"https://github.com/elastic/elasticsearch/issues/30740#issuecomment-390686686","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30740","id":390686686,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDY4NjY4Ng==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-05-21T15:20:36Z","updated_at":"2018-05-21T15:20:36Z","author_association":"MEMBER","body":"@dakrone Would you take a look?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/390690568","html_url":"https://github.com/elastic/elasticsearch/issues/30740#issuecomment-390690568","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30740","id":390690568,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDY5MDU2OA==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2018-05-21T15:33:10Z","updated_at":"2018-05-21T15:33:10Z","author_association":"MEMBER","body":"Yep I'll take a look","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/390714875","html_url":"https://github.com/elastic/elasticsearch/issues/30740#issuecomment-390714875","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30740","id":390714875,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDcxNDg3NQ==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2018-05-21T16:55:14Z","updated_at":"2018-05-21T16:55:14Z","author_association":"MEMBER","body":"I pushed a commit to enable debug logging for this test, unfortunately I wasn't able to reproduce it and there's not much info from the failure currently. Hopefully if it fails again we'll have more information.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/422197698","html_url":"https://github.com/elastic/elasticsearch/issues/30740#issuecomment-422197698","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30740","id":422197698,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMjE5NzY5OA==","user":{"login":"bizybot","id":902768,"node_id":"MDQ6VXNlcjkwMjc2OA==","avatar_url":"https://avatars2.githubusercontent.com/u/902768?v=4","gravatar_id":"","url":"https://api.github.com/users/bizybot","html_url":"https://github.com/bizybot","followers_url":"https://api.github.com/users/bizybot/followers","following_url":"https://api.github.com/users/bizybot/following{/other_user}","gists_url":"https://api.github.com/users/bizybot/gists{/gist_id}","starred_url":"https://api.github.com/users/bizybot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bizybot/subscriptions","organizations_url":"https://api.github.com/users/bizybot/orgs","repos_url":"https://api.github.com/users/bizybot/repos","events_url":"https://api.github.com/users/bizybot/events{/privacy}","received_events_url":"https://api.github.com/users/bizybot/received_events","type":"User","site_admin":false},"created_at":"2018-09-17T22:53:43Z","updated_at":"2018-09-17T22:53:43Z","author_association":"CONTRIBUTOR","body":"Hi @dakrone, I see this failure on 6.x build.\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+matrix-java-periodic/ES_BUILD_JAVA=java10,ES_RUNTIME_JAVA=java8fips,nodes=virtual&&linux/7/consoleText\r\nI think this will have your debug logs, could you please take a look? Thank you.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/422844436","html_url":"https://github.com/elastic/elasticsearch/issues/30740#issuecomment-422844436","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30740","id":422844436,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMjg0NDQzNg==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2018-09-19T15:20:37Z","updated_at":"2018-09-19T15:20:37Z","author_association":"CONTRIBUTOR","body":"Another reproduction https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+matrix-java-periodic/ES_BUILD_JAVA=java10,ES_RUNTIME_JAVA=java8fips,nodes=virtual&&linux/7/console","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/423180303","html_url":"https://github.com/elastic/elasticsearch/issues/30740#issuecomment-423180303","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30740","id":423180303,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzE4MDMwMw==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2018-09-20T13:20:21Z","updated_at":"2018-09-20T13:20:21Z","author_association":"MEMBER","body":"@dakrone unfortunately the commit to enable debug logging was missing on 6.x so I took the liberty of cherry-picking it for you in a204f9394d2cf1b5fc62d47b24271228c1b951cc.\r\n\r\n@bizybot, @atorok As a suggestion: I think it would make sense in such cases to paste the relevant log snippet here on the ticket and not just refer to the CI links because the logs are wiped after some time (IIRC the retention period is two weeks). While it is possible to get them after that period as well it can be a bit of a hassle.\r\n\r\nFor completeness, here is the snippet containing the relevant output from recent test failure referred to by Alpar above (which is actually the same link as the one from Yogesh):\r\n\r\n```\r\n  1> [2018-09-17T19:17:26,986][INFO ][o.e.c.u.c.QueueResizingEsThreadPoolExecutorTests] [testAutoQueueSizingWithMax] before test\r\n  1> [2018-09-17T19:17:26,986][INFO ][o.e.c.u.c.QueueResizingEsThreadPoolExecutorTests] [testAutoQueueSizingWithMax] --> auto-queue with a measurement window of 29 tasks\r\n  1> [2018-09-17T19:17:26,987][INFO ][o.e.c.u.c.QueueResizingEsThreadPoolExecutorTests] [testAutoQueueSizingWithMax] --> executor: QueueResizingEsThreadPoolExecutor[name = test-threadpool, queue capacity = 5000, min queue capacity = 10, max queue capacity = 5021, frame size = 29, targeted response rate = 1ms, task execution EWMA = 0s, adjustment amount = 50, org.elasticsearch.common.util.concurrent.QueueResizingEsThreadPoolExecutor@13a240ca[Running, pool size = 5, active threads = 1, queued tasks = 0, completed tasks = 0]]\r\n  1> [2018-09-17T19:17:26,988][INFO ][o.e.c.u.c.QueueResizingEsThreadPoolExecutorTests] [testAutoQueueSizingWithMax] --> executing a task [87] times\r\n  1> [2018-09-17T19:17:36,995][INFO ][o.e.c.u.c.QueueResizingEsThreadPoolExecutorTests] [testAutoQueueSizingWithMax] after test\r\n```\r\n\r\nAs you see the output only contains INFO messages but no DEBUG logs.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/423195734","html_url":"https://github.com/elastic/elasticsearch/issues/30740#issuecomment-423195734","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30740","id":423195734,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzE5NTczNA==","user":{"login":"jakelandis","id":976291,"node_id":"MDQ6VXNlcjk3NjI5MQ==","avatar_url":"https://avatars2.githubusercontent.com/u/976291?v=4","gravatar_id":"","url":"https://api.github.com/users/jakelandis","html_url":"https://github.com/jakelandis","followers_url":"https://api.github.com/users/jakelandis/followers","following_url":"https://api.github.com/users/jakelandis/following{/other_user}","gists_url":"https://api.github.com/users/jakelandis/gists{/gist_id}","starred_url":"https://api.github.com/users/jakelandis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakelandis/subscriptions","organizations_url":"https://api.github.com/users/jakelandis/orgs","repos_url":"https://api.github.com/users/jakelandis/repos","events_url":"https://api.github.com/users/jakelandis/events{/privacy}","received_events_url":"https://api.github.com/users/jakelandis/received_events","type":"User","site_admin":false},"created_at":"2018-09-20T14:04:24Z","updated_at":"2018-09-20T14:04:24Z","author_association":"CONTRIBUTOR","body":"Looks like 6.x missed the `@TestLogging` import, so I added it : https://github.com/elastic/elasticsearch/commit/6c44fbbf74a3d71e79de8d2a4e95376f56537ecb","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/459512379","html_url":"https://github.com/elastic/elasticsearch/issues/30740#issuecomment-459512379","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30740","id":459512379,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTUxMjM3OQ==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2019-01-31T21:26:18Z","updated_at":"2019-01-31T21:26:18Z","author_association":"MEMBER","body":"Closing this as it has not failed on 6.x and up for a while","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/600479446","html_url":"https://github.com/elastic/elasticsearch/issues/30740#issuecomment-600479446","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30740","id":600479446,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDQ3OTQ0Ng==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2020-03-18T08:05:26Z","updated_at":"2020-03-18T08:05:26Z","author_association":"CONTRIBUTOR","body":"I'm re-opening this instead of a new issue as the new failure ( in 7.x this time ) is identical. \r\n\r\nhttps://gradle-enterprise.elastic.co/s/dc6jwya7fgzoc/console-log?task=:server:test\r\n\r\n```\r\norg.elasticsearch.common.util.concurrent.QueueResizingEsThreadPoolExecutorTests > testAutoQueueSizingWithMin FAILED\r\n    java.lang.AssertionError: \r\n    Expected: <4997>\r\n         but: was <5047>\r\n        at __randomizedtesting.SeedInfo.seed([B7B36B46920A59FE:F403FA14F0E86240]:0)\r\n        at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:18)\r\n        at org.junit.Assert.assertThat(Assert.java:956)\r\n        at org.junit.Assert.assertThat(Assert.java:923)\r\n        at org.elasticsearch.common.util.concurrent.QueueResizingEsThreadPoolExecutorTests.lambda$testAutoQueueSizingWithMin$6(QueueResizingEsThreadPoolExecutorTests.java:147)\r\n        at org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:906)\r\n        at org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:879)\r\n        at org.elasticsearch.common.util.concurrent.QueueResizingEsThreadPoolExecutorTests.testAutoQueueSizingWithMin(QueueResizingEsThreadPoolExecutorTests.java:146)\r\nREPRODUCE WITH: ./gradlew ':server:test' --tests \"org.elasticsearch.common.util.concurrent.QueueResizingEsThreadPoolExecutorTests.testAutoQueueSizingWithMin\" -Dtests.seed=B7B36B46920A59FE -Dtests.security.manager=true -Dtests.locale=he -Dtests.timezone=Asia/Vladivostok -Dcompiler.java=13\r\n```\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/670195479","html_url":"https://github.com/elastic/elasticsearch/issues/30740#issuecomment-670195479","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30740","id":670195479,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDE5NTQ3OQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2020-08-06T21:14:42Z","updated_at":"2020-08-06T21:14:42Z","author_association":"MEMBER","body":"This test failed once more in June, but the feature has also been removed from master (https://github.com/elastic/elasticsearch/pull/52280/). Given this rarely fails, and it can only do so on 7.x branches, I'm going to close this.","performed_via_github_app":null}]