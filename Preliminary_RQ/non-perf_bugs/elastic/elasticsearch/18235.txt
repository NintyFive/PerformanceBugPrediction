{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/18235","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18235/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18235/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18235/events","html_url":"https://github.com/elastic/elasticsearch/issues/18235","id":153966972,"node_id":"MDU6SXNzdWUxNTM5NjY5NzI=","number":18235,"title":"ES 1.7, _optimize merges froze up..","user":{"login":"Robitx","id":8431097,"node_id":"MDQ6VXNlcjg0MzEwOTc=","avatar_url":"https://avatars3.githubusercontent.com/u/8431097?v=4","gravatar_id":"","url":"https://api.github.com/users/Robitx","html_url":"https://github.com/Robitx","followers_url":"https://api.github.com/users/Robitx/followers","following_url":"https://api.github.com/users/Robitx/following{/other_user}","gists_url":"https://api.github.com/users/Robitx/gists{/gist_id}","starred_url":"https://api.github.com/users/Robitx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Robitx/subscriptions","organizations_url":"https://api.github.com/users/Robitx/orgs","repos_url":"https://api.github.com/users/Robitx/repos","events_url":"https://api.github.com/users/Robitx/events{/privacy}","received_events_url":"https://api.github.com/users/Robitx/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-05-10T09:53:15Z","updated_at":"2016-05-11T09:23:31Z","closed_at":"2016-05-11T09:23:31Z","author_association":"NONE","active_lock_reason":null,"body":"I'm trying to reduce the number of deleted documents in our indices, since we reindex most of the stuff (\"real time\" indexation directly to es and hourly reindexation from hadoop) the deleted documents takes about 40-50 percent of the total.\n\nexpunge_deletes_allowed to 1% isn't effective as I would expect, so I've tried _optimize?only_expunge_deletes=true on some index\n\n_optimize?only_expunge_deletes=true initiates merges for this index, but the command eventually times out and the active merges in this index froze up (leading to the crashing cluster).\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}