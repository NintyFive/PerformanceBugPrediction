{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/13830","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13830/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13830/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13830/events","html_url":"https://github.com/elastic/elasticsearch/issues/13830","id":108689056,"node_id":"MDU6SXNzdWUxMDg2ODkwNTY=","number":13830,"title":"Determine if the index has been modified","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"labels":[{"id":163824881,"node_id":"MDU6TGFiZWwxNjM4MjQ4ODE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Indices%20APIs","name":":Core/Features/Indices APIs","color":"0e8a16","default":false,"description":"APIs to create and manage indices"},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-09-28T15:56:21Z","updated_at":"2018-03-15T20:58:30Z","closed_at":"2018-03-15T20:58:24Z","author_association":"MEMBER","active_lock_reason":null,"body":"Today, it is difficult to determine if any index has been updated (e.g., in _mostly_ read only scenarios where the answer becomes more interesting). If you have a simple, outside cache, then it would be ideal to know when an index has been modified without jumping through hoops to figure it out.\n\nConceptually, this could be as simple as a _shard_ metadata field that indicates when the last document was _modified_ (created, updated, or deleted). I do not think that it is worth modifying the cluster state by adding it at the index level (less of a hassle with cluster state diffs, but still quite noisy).\n\nThis could live as a secondary API next to `_field_stats` (`_index_stats` or just an addition to the `<index>/_stats`) as a way to show how many _actual_ modified documents exist, how many deleted documents exist (preferably as an absolute number, rather than somewhat relative like `_version`, but actual deletions will most likely be harder to track), and document count. Some of this is available in other ways (e.g., deleted docs), but there's no simple way to know that \"indexA has these stats relative to its documents\" and there's no way to know \"those stats last changed at time `X`\".\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}