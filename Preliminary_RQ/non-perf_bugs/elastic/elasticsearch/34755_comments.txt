[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/432438995","html_url":"https://github.com/elastic/elasticsearch/issues/34755#issuecomment-432438995","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34755","id":432438995,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjQzODk5NQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-10-23T22:05:37Z","updated_at":"2018-10-23T22:05:37Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search-aggs","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/432551094","html_url":"https://github.com/elastic/elasticsearch/issues/34755#issuecomment-432551094","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34755","id":432551094,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjU1MTA5NA==","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2018-10-24T07:52:53Z","updated_at":"2018-10-24T07:52:53Z","author_association":"CONTRIBUTOR","body":"@deepminimal thank you for giving SQL a go and reporting your findings.\r\nIndeed, ordering by that specific field doesn't work and it's a limitation of ES SQL, not necessarily a bug. Let me explain a bit.\r\n\r\nBehind the scene, ES SQL uses [composite aggregations](https://www.elastic.co/guide/en/elasticsearch/reference/6.4/search-aggregations-bucket-composite-aggregation.html) whenever it has a grouping to compute. We use this because it has the big advantage of allowing paginations of results, which is really important (see cursors) in the SQL world. But, composite aggregation (due to being impossible to have an efficient way of sorting) cannot order on something else other than the key itself. In your specific case, the `SELECT` results can only be ordered by `beat.hostname` or `name`. So, you can do either of these:\r\n\r\n```\r\nSELECT \"GB\", \"Name\" FROM (\r\n\tselect max(system.network.out.bytes)/1024/1024/1024 as \"GB\", \"beat.hostname\" as \"Name\" FROM \"metricbeat-6.4.2-2018.10.23\" group by \"beat.hostname\"\r\n) \r\nORDER BY \"Name\" DESC\r\n```\r\n\r\n`select max(system.network.out.bytes)/1024/1024/1024 as \"GB\", \"beat.hostname\" as \"Name\" FROM \"metricbeat-6.4.2-2018.10.23\" group by \"beat.hostname\" order by \"beat.hostname\"`","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/432552300","html_url":"https://github.com/elastic/elasticsearch/issues/34755#issuecomment-432552300","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34755","id":432552300,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjU1MjMwMA==","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2018-10-24T07:57:04Z","updated_at":"2018-10-24T07:57:04Z","author_association":"CONTRIBUTOR","body":"@deepminimal I'll go ahead and close this issue. If you have any confirmed bugs or enhancements to report, feel free to open another github issue. For any other questions or how-tos, please use [our (very active) forum](https://discuss.elastic.co/).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/432615710","html_url":"https://github.com/elastic/elasticsearch/issues/34755#issuecomment-432615710","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34755","id":432615710,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjYxNTcxMA==","user":{"login":"deepminimal","id":18044597,"node_id":"MDQ6VXNlcjE4MDQ0NTk3","avatar_url":"https://avatars3.githubusercontent.com/u/18044597?v=4","gravatar_id":"","url":"https://api.github.com/users/deepminimal","html_url":"https://github.com/deepminimal","followers_url":"https://api.github.com/users/deepminimal/followers","following_url":"https://api.github.com/users/deepminimal/following{/other_user}","gists_url":"https://api.github.com/users/deepminimal/gists{/gist_id}","starred_url":"https://api.github.com/users/deepminimal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepminimal/subscriptions","organizations_url":"https://api.github.com/users/deepminimal/orgs","repos_url":"https://api.github.com/users/deepminimal/repos","events_url":"https://api.github.com/users/deepminimal/events{/privacy}","received_events_url":"https://api.github.com/users/deepminimal/received_events","type":"User","site_admin":false},"created_at":"2018-10-24T11:17:24Z","updated_at":"2018-10-24T11:17:24Z","author_association":"NONE","body":"Thank you for your time!","performed_via_github_app":null}]