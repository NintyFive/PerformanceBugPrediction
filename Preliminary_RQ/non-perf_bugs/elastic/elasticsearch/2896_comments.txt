[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/16430486","html_url":"https://github.com/elastic/elasticsearch/issues/2896#issuecomment-16430486","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2896","id":16430486,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NDMwNDg2","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-04-16T07:36:04Z","updated_at":"2013-04-16T07:36:04Z","author_association":"CONTRIBUTOR","body":"hey,\n\ncan you provide a full recreation of this failure. I tried to reproduce it in a testcase but never see the NPE \n\nsimon\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/16434637","html_url":"https://github.com/elastic/elasticsearch/issues/2896#issuecomment-16434637","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2896","id":16434637,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NDM0NjM3","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-04-16T09:21:56Z","updated_at":"2013-04-16T09:21:56Z","author_association":"CONTRIBUTOR","body":"hmm this preproduces with the REST api but not with the internal API... I will dig\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/16435306","html_url":"https://github.com/elastic/elasticsearch/issues/2896#issuecomment-16435306","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2896","id":16435306,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NDM1MzA2","user":{"login":"dobe","id":48020,"node_id":"MDQ6VXNlcjQ4MDIw","avatar_url":"https://avatars0.githubusercontent.com/u/48020?v=4","gravatar_id":"","url":"https://api.github.com/users/dobe","html_url":"https://github.com/dobe","followers_url":"https://api.github.com/users/dobe/followers","following_url":"https://api.github.com/users/dobe/following{/other_user}","gists_url":"https://api.github.com/users/dobe/gists{/gist_id}","starred_url":"https://api.github.com/users/dobe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dobe/subscriptions","organizations_url":"https://api.github.com/users/dobe/orgs","repos_url":"https://api.github.com/users/dobe/repos","events_url":"https://api.github.com/users/dobe/events{/privacy}","received_events_url":"https://api.github.com/users/dobe/received_events","type":"User","site_admin":false},"created_at":"2013-04-16T09:38:16Z","updated_at":"2013-04-16T09:38:16Z","author_association":"NONE","body":"hi,\ni just figured out that the nullpointer happens in https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java\n\nline 196::\n\n```\n if (shard.currentNodeId().equals(nodes.localNodeId())) {\n```\n\ncurrentNodeId of shard is null in this case because the node is not there\ni am not sure if the shard should not be in the iterator at this point or if it is ok to just check if currentnodeid is null\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/16444461","html_url":"https://github.com/elastic/elasticsearch/issues/2896#issuecomment-16444461","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2896","id":16444461,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NDQ0NDYx","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-04-16T13:28:57Z","updated_at":"2013-04-16T13:28:57Z","author_association":"CONTRIBUTOR","body":"yeah that's right. I am trying to figure out if this is a bigger problem or not...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/16446795","html_url":"https://github.com/elastic/elasticsearch/issues/2896#issuecomment-16446795","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2896","id":16446795,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NDQ2Nzk1","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-04-16T14:12:07Z","updated_at":"2013-04-16T14:12:07Z","author_association":"CONTRIBUTOR","body":"I just tested this with 0.20 branch and it has the same issue while only for `_search` since `_count` doesn't respect the preference setting here?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/16466056","html_url":"https://github.com/elastic/elasticsearch/issues/2896#issuecomment-16466056","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2896","id":16466056,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NDY2MDU2","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-04-16T19:22:07Z","updated_at":"2013-04-16T19:22:07Z","author_association":"CONTRIBUTOR","body":"thanks @dobe for reporting this. I'd be curious how you ran into this, didn't this happen on 0.20 as well?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/16486641","html_url":"https://github.com/elastic/elasticsearch/issues/2896#issuecomment-16486641","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2896","id":16486641,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NDg2NjQx","user":{"login":"dobe","id":48020,"node_id":"MDQ6VXNlcjQ4MDIw","avatar_url":"https://avatars0.githubusercontent.com/u/48020?v=4","gravatar_id":"","url":"https://api.github.com/users/dobe","html_url":"https://github.com/dobe","followers_url":"https://api.github.com/users/dobe/followers","following_url":"https://api.github.com/users/dobe/following{/other_user}","gists_url":"https://api.github.com/users/dobe/gists{/gist_id}","starred_url":"https://api.github.com/users/dobe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dobe/subscriptions","organizations_url":"https://api.github.com/users/dobe/orgs","repos_url":"https://api.github.com/users/dobe/repos","events_url":"https://api.github.com/users/dobe/events{/privacy}","received_events_url":"https://api.github.com/users/dobe/received_events","type":"User","site_admin":false},"created_at":"2013-04-17T04:47:00Z","updated_at":"2013-04-17T04:47:00Z","author_association":"NONE","body":"thanks for fixing it. we've set \"_primary\" as the default in a new plugin we are writing (targeting 0.90). so i was hunting the bug in our plugin code for two days until i found out it was happening on _count and _search too :)\n","performed_via_github_app":null}]