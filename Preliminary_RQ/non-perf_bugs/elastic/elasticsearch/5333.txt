{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/5333","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5333/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5333/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5333/events","html_url":"https://github.com/elastic/elasticsearch/issues/5333","id":28713209,"node_id":"MDU6SXNzdWUyODcxMzIwOQ==","number":5333,"title":"Higher Bulk Index memory usage with 1.0.1 versus 0.90.12","user":{"login":"matt-blanchette","id":4365537,"node_id":"MDQ6VXNlcjQzNjU1Mzc=","avatar_url":"https://avatars1.githubusercontent.com/u/4365537?v=4","gravatar_id":"","url":"https://api.github.com/users/matt-blanchette","html_url":"https://github.com/matt-blanchette","followers_url":"https://api.github.com/users/matt-blanchette/followers","following_url":"https://api.github.com/users/matt-blanchette/following{/other_user}","gists_url":"https://api.github.com/users/matt-blanchette/gists{/gist_id}","starred_url":"https://api.github.com/users/matt-blanchette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matt-blanchette/subscriptions","organizations_url":"https://api.github.com/users/matt-blanchette/orgs","repos_url":"https://api.github.com/users/matt-blanchette/repos","events_url":"https://api.github.com/users/matt-blanchette/events{/privacy}","received_events_url":"https://api.github.com/users/matt-blanchette/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2014-03-04T15:16:08Z","updated_at":"2014-12-29T14:11:45Z","closed_at":"2014-12-29T14:11:45Z","author_association":"NONE","active_lock_reason":null,"body":"On upgrading to version 1.0.1,\nI encountered 'OutOfMemoryError: GC overhead limit exceeded' using a memory restricted development machine (limited to 512m).\nPreviously I was using version 0.90.3.\nProfiling in VisualVM, I found the heap usage climbed just above 512m causing the error (during a Bulk index).\nI downgraded to 0.90.12 and found the memory usage dropped (down to about 350m) and the total indexing time was faster (only 4s compared to about 8s).\n\nMy use case is building a small index and doing a Bulk Index Java API call for only 27K documents.\n\nBoth 0.90.12 and 1.0.1 use the same Lucene version 4.6.1, so I'm assuming this is not the issue.\nMaybe this memory overhead is expected in the version 1.0.\nOr this could be a configuration issue on my part.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}