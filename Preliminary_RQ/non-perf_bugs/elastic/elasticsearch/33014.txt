{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/33014","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33014/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33014/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33014/events","html_url":"https://github.com/elastic/elasticsearch/issues/33014","id":352417047,"node_id":"MDU6SXNzdWUzNTI0MTcwNDc=","number":33014,"title":"Disabling xpack in version 6.3","user":{"login":"csandanov","id":1058233,"node_id":"MDQ6VXNlcjEwNTgyMzM=","avatar_url":"https://avatars2.githubusercontent.com/u/1058233?v=4","gravatar_id":"","url":"https://api.github.com/users/csandanov","html_url":"https://github.com/csandanov","followers_url":"https://api.github.com/users/csandanov/followers","following_url":"https://api.github.com/users/csandanov/following{/other_user}","gists_url":"https://api.github.com/users/csandanov/gists{/gist_id}","starred_url":"https://api.github.com/users/csandanov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csandanov/subscriptions","organizations_url":"https://api.github.com/users/csandanov/orgs","repos_url":"https://api.github.com/users/csandanov/repos","events_url":"https://api.github.com/users/csandanov/events{/privacy}","received_events_url":"https://api.github.com/users/csandanov/received_events","type":"User","site_admin":false},"labels":[{"id":114977275,"node_id":"MDU6TGFiZWwxMTQ5NzcyNzU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Packaging","name":":Delivery/Packaging","color":"0e8a16","default":false,"description":"RPM and deb packaging, tar and zip archives, shell and batch scripts"},{"id":912833043,"node_id":"MDU6TGFiZWw5MTI4MzMwNDM=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:ml","name":":ml","color":"0e8a16","default":false,"description":"Machine learning"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-08-21T07:27:54Z","updated_at":"2020-11-11T21:56:21Z","closed_at":"2018-08-21T08:09:35Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version** (`bin/elasticsearch --version`): \r\n```\r\nVersion: 6.3.2, Build: default/tar/053779d/2018-07-20T05:20:23.451332Z, JVM: 1.8.0_171\r\n```\r\n\r\n**JVM version** (`java -version`): \r\n```\r\nopenjdk version \"1.8.0_171\"\r\nOpenJDK Runtime Environment (IcedTea 3.8.0) (Alpine 8.171.11-r0)\r\nOpenJDK 64-Bit Server VM (build 25.171-b11, mixed mode)\r\n```\r\n\r\n**OS version** (`uname -a` if on a Unix-like system): Alpine Linux 3.8\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nI maintain [alpine-based elasticseach image](https://github.com/wodby/elasticsearch) and since the version 6.3 I got the following error during the start:\r\n\r\n```\r\n[WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [92243bbf-6c74-4700-b6dc-0d2043fcaf25] uncaught exception in thread [main]\r\norg.elasticsearch.bootstrap.StartupException: org.elasticsearch.bootstrap.BootstrapException: java.io.IOException: Cannot run program \"/usr/share/elasticsearch/modules/x-pack/x-pack-ml/platform/linux-x86_64/bin/controller\": error=2, No such file or directory\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:140) ~[elasticsearch-6.3.2.jar:6.3.2]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:127) ~[elasticsearch-6.3.2.jar:6.3.2]\r\n\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-6.3.2.jar:6.3.2]\r\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) ~[elasticsearch-cli-6.3.2.jar:6.3.2]\r\n\tat org.elasticsearch.cli.Command.main(Command.java:90) ~[elasticsearch-cli-6.3.2.jar:6.3.2]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:93) ~[elasticsearch-6.3.2.jar:6.3.2]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:86) ~[elasticsearch-6.3.2.jar:6.3.2]\r\nCaused by: org.elasticsearch.bootstrap.BootstrapException: java.io.IOException: Cannot run program \"/usr/share/elasticsearch/modules/x-pack/x-pack-ml/platform/linux-x86_64/bin/controller\": error=2, No such file or directory\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:168) ~[elasticsearch-6.3.2.jar:6.3.2]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:326) ~[elasticsearch-6.3.2.jar:6.3.2]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:136) ~[elasticsearch-6.3.2.jar:6.3.2]\r\n\t... 6 more\r\nCaused by: java.io.IOException: Cannot run program \"/usr/share/elasticsearch/modules/x-pack/x-pack-ml/platform/linux-x86_64/bin/controller\": error=2, No such file or directory\r\n\tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1048) ~[?:1.8.0_171]\r\n\tat org.elasticsearch.bootstrap.Spawner.spawnNativeController(Spawner.java:118) ~[elasticsearch-6.3.2.jar:6.3.2]\r\n\tat org.elasticsearch.bootstrap.Spawner.spawnNativeControllers(Spawner.java:86) ~[elasticsearch-6.3.2.jar:6.3.2]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:166) ~[elasticsearch-6.3.2.jar:6.3.2]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:326) ~[elasticsearch-6.3.2.jar:6.3.2]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:136) ~[elasticsearch-6.3.2.jar:6.3.2]\r\n\t... 6 more\r\nCaused by: java.io.IOException: error=2, No such file or directory\r\n\tat java.lang.UNIXProcess.forkAndExec(Native Method) ~[?:1.8.0_171]\r\n\tat java.lang.UNIXProcess.<init>(UNIXProcess.java:247) ~[?:1.8.0_171]\r\n\tat java.lang.ProcessImpl.start(ProcessImpl.java:134) ~[?:1.8.0_171]\r\n\tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1029) ~[?:1.8.0_171]\r\n\tat org.elasticsearch.bootstrap.Spawner.spawnNativeController(Spawner.java:118) ~[elasticsearch-6.3.2.jar:6.3.2]\r\n\tat org.elasticsearch.bootstrap.Spawner.spawnNativeControllers(Spawner.java:86) ~[elasticsearch-6.3.2.jar:6.3.2]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:166) ~[elasticsearch-6.3.2.jar:6.3.2]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:326) ~[elasticsearch-6.3.2.jar:6.3.2]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:136) ~[elasticsearch-6.3.2.jar:6.3.2]\r\n\t... 6 more\r\n```\r\n\r\nI found [this post](https://discuss.elastic.co/t/elasticsearch-failing-to-start-due-to-x-pack/85125/6) on discuss.elastic.co saying that ML does not work on Alpine and can be disabled by adding `xpack.ml.enabled: false` in `elasticsearch.yml`. However that did not help and I had to entirely remove `/usr/share/elasticsearch/modules/x-pack` (in 6.2 there was no such directory), this helped but I wonder is this a correct way to disable x-pack? Is x-pack no longer a plugin and comes pre-built?\r\n\r\n","closed_by":{"login":"davidkyle","id":2353640,"node_id":"MDQ6VXNlcjIzNTM2NDA=","avatar_url":"https://avatars1.githubusercontent.com/u/2353640?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkyle","html_url":"https://github.com/davidkyle","followers_url":"https://api.github.com/users/davidkyle/followers","following_url":"https://api.github.com/users/davidkyle/following{/other_user}","gists_url":"https://api.github.com/users/davidkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkyle/subscriptions","organizations_url":"https://api.github.com/users/davidkyle/orgs","repos_url":"https://api.github.com/users/davidkyle/repos","events_url":"https://api.github.com/users/davidkyle/events{/privacy}","received_events_url":"https://api.github.com/users/davidkyle/received_events","type":"User","site_admin":false},"performed_via_github_app":null}