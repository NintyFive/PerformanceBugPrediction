{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/20683","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20683/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20683/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20683/events","html_url":"https://github.com/elastic/elasticsearch/issues/20683","id":179769648,"node_id":"MDU6SXNzdWUxNzk3Njk2NDg=","number":20683,"title":"ES2.4 load mapping failed","user":{"login":"hrdxwandg","id":2166948,"node_id":"MDQ6VXNlcjIxNjY5NDg=","avatar_url":"https://avatars1.githubusercontent.com/u/2166948?v=4","gravatar_id":"","url":"https://api.github.com/users/hrdxwandg","html_url":"https://github.com/hrdxwandg","followers_url":"https://api.github.com/users/hrdxwandg/followers","following_url":"https://api.github.com/users/hrdxwandg/following{/other_user}","gists_url":"https://api.github.com/users/hrdxwandg/gists{/gist_id}","starred_url":"https://api.github.com/users/hrdxwandg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hrdxwandg/subscriptions","organizations_url":"https://api.github.com/users/hrdxwandg/orgs","repos_url":"https://api.github.com/users/hrdxwandg/repos","events_url":"https://api.github.com/users/hrdxwandg/events{/privacy}","received_events_url":"https://api.github.com/users/hrdxwandg/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-09-28T13:16:35Z","updated_at":"2016-09-28T13:30:42Z","closed_at":"2016-09-28T13:21:53Z","author_association":"NONE","active_lock_reason":null,"body":"i use es 2.4, my mapping json txt file is as below:\n{\n    \"mappings\": {\n        \"poem\": {\n            \"_all\": {\n                \"enabled\": \"false\"\n            },\n            \"properties\": {\n                \"pid\": {\n                    \"store\": \"true\",\n                    \"index\": \"not_analyzed\",\n                    \"type\": \"integer\"\n                },\n                \"authorid\": {\n                    \"store\": \"true\",\n                    \"index\": \"not_analyzed\",\n                    \"type\": \"integer\"\n                },\n                \"authorname\": {\n                    \"store\": \"true\",\n                    \"index\": \"not_analyzed\",\n                    \"type\": \"string\"\n                },\n                \"category\": {\n                    \"store\": \"true\",\n                    \"index\": \"not_analyzed\",\n                    \"type\": \"string\"\n                },\n                \"dynasty\": {\n                    \"store\": \"true\",\n                    \"index\": \"not_analyzed\",\n                    \"type\": \"string\"\n                },\n                \"tag\": {\n                    \"store\": \"true\",\n                    \"index\": \"not_analyzed\",\n                    \"type\": \"string\"\n                },\n                \"content\": {\n                    \"store\": \"true\",\n                    \"index\": \"analyzed\",\n                    \"type\": \"string\",\n                    \"analyzer\": \"ik\"\n                },\n                \"title\": {\n                    \"store\": \"true\",\n                    \"index\": \"not_analyzed\",\n                    \"type\": \"string\"\n                }\n            }\n        }\n    }\n}\n\nmy function code is as below:\npublic void createIndex(String indexName, String type) {\n        if (!isIndexExists(indexName)) {\n            client.admin().indices().prepareCreate(indexName).execute().actionGet();\n            String jsonMap = IOUtils.ReadFile(MAP_CONF + indexName);\n            jsonMap = jsonMap.trim();\n            client.admin().indices().preparePutMapping(indexName).setType(type).setSource(jsonMap).execute()\n                    .actionGet();\n        }\n    }\nthe code throw an exception as follow:\nMapperParsingException[Root mapping definition has unsupported parameters:  [mappings : {poem={_all={enabled=false}, properties={pid={store=true, index=not_analyzed, type=integer}, authorid={store=true, index=not_analyzed, type=integer}, authorname={store=true, index=not_analyzed, type=string}, category={store=true, index=not_analyzed, type=string}, dynasty={store=true, index=not_analyzed, type=string}, tag={store=true, index=not_analyzed, type=string}, content={store=true, index=analyzed, type=string, analyzer=ik}, title={store=true, index=not_analyzed, type=string}}}}]]\n    at org.elasticsearch.index.mapper.DocumentMapperParser.checkNoRemainingFields(DocumentMapperParser.java:171)\n    at org.elasticsearch.index.mapper.DocumentMapperParser.parse(DocumentMapperParser.java:159)\n    at org.elasticsearch.index.mapper.DocumentMapperParser.parse(DocumentMapperParser.java:99)\n    at org.elasticsearch.index.mapper.MapperService.parse(MapperService.java:549)\n    at org.elasticsearch.cluster.metadata.MetaDataMappingService$PutMappingExecutor.applyRequest(MetaDataMappingService.java:257)\n    at org.elasticsearch.cluster.metadata.MetaDataMappingService$PutMappingExecutor.execute(MetaDataMappingService.java:230)\n    at org.elasticsearch.cluster.service.InternalClusterService.runTasksForExecutor(InternalClusterService.java:468)\n    at org.elasticsearch.cluster.service.InternalClusterService$UpdateTask.run(InternalClusterService.java:772)\n    at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.runAndClean(PrioritizedEsThreadPoolExecutor.java:231)\n    at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.run(PrioritizedEsThreadPoolExecutor.java:194)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\nis anyone can help me? how to solve the problem? I google and find many article,but still unresovled. \nthanks a lot!\n","closed_by":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"performed_via_github_app":null}