[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/433338209","html_url":"https://github.com/elastic/elasticsearch/issues/34875#issuecomment-433338209","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34875","id":433338209,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMzMzODIwOQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-10-26T08:57:33Z","updated_at":"2018-10-26T08:57:33Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/433338817","html_url":"https://github.com/elastic/elasticsearch/issues/34875#issuecomment-433338817","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34875","id":433338817,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMzMzODgxNw==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2018-10-26T08:59:29Z","updated_at":"2018-10-26T08:59:29Z","author_association":"MEMBER","body":"I think this is a strong feature and not something we should change. A policy being deleted from under an indexes feet is a big problem and breaks that index so I think we should always enforce that a policy is not used in order for it to be deleted. However, one improvement we could make here is to make the error message explain why the delete failed and the list indexes that are still using the policy","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/445322905","html_url":"https://github.com/elastic/elasticsearch/issues/34875#issuecomment-445322905","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34875","id":445322905,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NTMyMjkwNQ==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-12-07T18:29:58Z","updated_at":"2018-12-07T18:29:58Z","author_association":"CONTRIBUTOR","body":"> However, one improvement we could make here is to make the error message explain why the delete failed and the list indexes that are still using the policy\r\n\r\nThe exception that is thrown does return an explanation of why the delete failed. Although, it only lists one index that is causing the problem, not all. Although I think that is \"good enough\", do we want to enhance this message to include all indices and/or provide these indices in more structured format using ElasticsearchException params?","performed_via_github_app":null}]