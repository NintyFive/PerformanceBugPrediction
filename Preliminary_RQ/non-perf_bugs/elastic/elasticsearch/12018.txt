{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/12018","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12018/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12018/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12018/events","html_url":"https://github.com/elastic/elasticsearch/issues/12018","id":92845822,"node_id":"MDU6SXNzdWU5Mjg0NTgyMg==","number":12018,"title":"ElasticSearch 1.6 fails to start with an empty/missing fstab","user":{"login":"peikk0","id":1555947,"node_id":"MDQ6VXNlcjE1NTU5NDc=","avatar_url":"https://avatars1.githubusercontent.com/u/1555947?v=4","gravatar_id":"","url":"https://api.github.com/users/peikk0","html_url":"https://github.com/peikk0","followers_url":"https://api.github.com/users/peikk0/followers","following_url":"https://api.github.com/users/peikk0/following{/other_user}","gists_url":"https://api.github.com/users/peikk0/gists{/gist_id}","starred_url":"https://api.github.com/users/peikk0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peikk0/subscriptions","organizations_url":"https://api.github.com/users/peikk0/orgs","repos_url":"https://api.github.com/users/peikk0/repos","events_url":"https://api.github.com/users/peikk0/events{/privacy}","received_events_url":"https://api.github.com/users/peikk0/received_events","type":"User","site_admin":false},"labels":[{"id":144797810,"node_id":"MDU6TGFiZWwxNDQ3OTc4MTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Core","name":":Core/Infra/Core","color":"0e8a16","default":false,"description":"Core issues without another label"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":27,"created_at":"2015-07-03T10:31:48Z","updated_at":"2019-08-27T13:38:10Z","closed_at":"2015-07-10T09:29:53Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\n\nI'm running ES in a FreeBSD jail, so there is no fstab and no mount point visible. And since I upgraded ES to version 1.6, it no longer start because it fails to obtain a lock because \"Mount point not found in fstab\" (file permissions are ok).\n\n```\n[2015-07-03 12:22:10,088][INFO ][node                     ] [Awesome Android] version[1.6.0], pid[42071], build[cdd3ac4/2015-06-09T13:36:34Z]\n[2015-07-03 12:22:10,088][INFO ][node                     ] [Awesome Android] initializing ...\n[2015-07-03 12:22:10,092][INFO ][plugins                  ] [Awesome Android] loaded [], sites []\n[2015-07-03 12:22:10,133][ERROR][bootstrap                ] Exception\norg.elasticsearch.ElasticsearchIllegalStateException: Failed to obtain node lock, is the following location writable?: [/var/db/elasticsearch/mon]\n        at org.elasticsearch.env.NodeEnvironment.<init>(NodeEnvironment.java:158)\n        at org.elasticsearch.node.internal.InternalNode.<init>(InternalNode.java:162)\n        at org.elasticsearch.node.NodeBuilder.build(NodeBuilder.java:159)\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:77)\n        at org.elasticsearch.bootstrap.Bootstrap.main(Bootstrap.java:245)\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:32)\nCaused by: java.io.IOException: failed to obtain lock on /var/db/elasticsearch/mon/nodes/49\n        at org.elasticsearch.env.NodeEnvironment.<init>(NodeEnvironment.java:145)\n        ... 5 more\nCaused by: java.io.IOException: Mount point not found in fstab\n        at sun.nio.fs.BsdFileStore.findMountEntry(BsdFileStore.java:86)\n        at sun.nio.fs.UnixFileStore.<init>(UnixFileStore.java:65)\n        at sun.nio.fs.BsdFileStore.<init>(BsdFileStore.java:40)\n        at sun.nio.fs.BsdFileSystemProvider.getFileStore(BsdFileSystemProvider.java:53)\n        at sun.nio.fs.BsdFileSystemProvider.getFileStore(BsdFileSystemProvider.java:37)\n        at sun.nio.fs.UnixFileSystemProvider.getFileStore(UnixFileSystemProvider.java:368)\n        at java.nio.file.Files.getFileStore(Files.java:1413)\n        at org.elasticsearch.env.NodeEnvironment.getFileStore(NodeEnvironment.java:256)\n        at org.elasticsearch.env.NodeEnvironment.access$000(NodeEnvironment.java:62)\n        at org.elasticsearch.env.NodeEnvironment$NodePath.<init>(NodeEnvironment.java:75)\n        at org.elasticsearch.env.NodeEnvironment.<init>(NodeEnvironment.java:134)\n        ... 5 more\n```\n\nWhy does it even need to access /etc/fstab just to obtain a lock?\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}