{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/13114","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13114/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13114/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13114/events","html_url":"https://github.com/elastic/elasticsearch/issues/13114","id":103162394,"node_id":"MDU6SXNzdWUxMDMxNjIzOTQ=","number":13114,"title":"Snapshot error while snapshotting to AWS S3","user":{"login":"niraj8241","id":13007542,"node_id":"MDQ6VXNlcjEzMDA3NTQy","avatar_url":"https://avatars2.githubusercontent.com/u/13007542?v=4","gravatar_id":"","url":"https://api.github.com/users/niraj8241","html_url":"https://github.com/niraj8241","followers_url":"https://api.github.com/users/niraj8241/followers","following_url":"https://api.github.com/users/niraj8241/following{/other_user}","gists_url":"https://api.github.com/users/niraj8241/gists{/gist_id}","starred_url":"https://api.github.com/users/niraj8241/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niraj8241/subscriptions","organizations_url":"https://api.github.com/users/niraj8241/orgs","repos_url":"https://api.github.com/users/niraj8241/repos","events_url":"https://api.github.com/users/niraj8241/events{/privacy}","received_events_url":"https://api.github.com/users/niraj8241/received_events","type":"User","site_admin":false},"labels":[{"id":143077482,"node_id":"MDU6TGFiZWwxNDMwNzc0ODI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Snapshot/Restore","name":":Distributed/Snapshot/Restore","color":"0e8a16","default":false,"description":"Anything directly related to the `_snapshot/*` APIs"},{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"assignees":[{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false}],"milestone":null,"comments":20,"created_at":"2015-08-26T03:14:47Z","updated_at":"2018-02-14T13:46:14Z","closed_at":"2015-09-15T07:07:44Z","author_association":"NONE","active_lock_reason":null,"body":"Hi All,\n\nI am using ES 1.5 version with Cloud-AWS plugin 2.5.1. I am trying to create a snapshot but i see the following error in the logs. \n\n```\n[2015-08-26 00:04:54,216][WARN ][snapshots                ] [prod-01-data01] [[logstash-2015.08.25][3]] [niraj-backup:test] failed to create snapshot\norg.elasticsearch.index.snapshots.IndexShardSnapshotFailedException: [logstash-2015.08.25][3] INSTANCE\n        at org.elasticsearch.index.snapshots.blobstore.BlobStoreIndexShardRepository.snapshot(BlobStoreIndexShardRepository.java:150)\n        at org.elasticsearch.index.snapshots.IndexShardSnapshotAndRestoreService.snapshot(IndexShardSnapshotAndRestoreService.java:85)\n        at org.elasticsearch.snapshots.SnapshotsService$5.run(SnapshotsService.java:817)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.NoSuchFieldError: INSTANCE\n        at org.apache.http.client.utils.URLEncodedUtils.parse(URLEncodedUtils.java:243)\n        at org.apache.http.client.utils.URLEncodedUtils.parse(URLEncodedUtils.java:222)\n        at org.apache.http.client.utils.URIBuilder.parseQuery(URIBuilder.java:95)\n        at org.apache.http.client.utils.URIBuilder.digestURI(URIBuilder.java:165)\n        at org.apache.http.client.utils.URIBuilder.<init>(URIBuilder.java:90)\n        at org.apache.http.client.utils.URIUtils.rewriteURI(URIUtils.java:138)\n        at org.apache.http.impl.client.DefaultRequestDirector.rewriteRequestURI(DefaultRequestDirector.java:354)\n        at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:477)\n        at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:863)\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:57)\n        at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:701)\n        at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:462)\n        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:297)\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:3672)\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:3621)\n        at com.amazonaws.services.s3.AmazonS3Client.listObjects(AmazonS3Client.java:642)\n        at com.amazonaws.services.s3.AmazonS3Client.listObjects(AmazonS3Client.java:625)\n        at org.elasticsearch.cloud.aws.blobstore.S3BlobContainer.listBlobsByPrefix(S3BlobContainer.java:118)\n        at org.elasticsearch.cloud.aws.blobstore.S3BlobContainer.listBlobs(S3BlobContainer.java:136)\n        at org.elasticsearch.index.snapshots.blobstore.BlobStoreIndexShardRepository$SnapshotContext.snapshot(BlobStoreIndexShardRepository.java:438)\n        at org.elasticsearch.index.snapshots.blobstore.BlobStoreIndexShardRepository.snapshot(BlobStoreIndexShardRepository.java:140)\n        ... 5 more\n```\n\nAny suggestion would be really appreciated. I am kinda stuck as of now. \n\nRegards\nNiraj\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}