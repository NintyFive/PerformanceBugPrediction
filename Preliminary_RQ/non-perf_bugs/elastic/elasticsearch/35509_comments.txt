[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438605817","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-438605817","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":438605817,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODYwNTgxNw==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2018-11-14T10:00:56Z","updated_at":"2018-11-14T10:00:56Z","author_association":"CONTRIBUTOR","body":"The description says \"is similar to\" but not \"is identical to\". It is is similar in that it is an array of objects with `_index`, `_type` and `_id` parameters.\r\n\r\n>This [source filtering] would allow restricting the input document source to only those fields being searched.\r\n\r\nThe second example in the MLT docs shows how to define the list of required fields alongside the Multi-GET-style list of docs.\r\n\r\nDoes this address your concern?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438619400","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-438619400","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":438619400,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODYxOTQwMA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-11-14T10:46:33Z","updated_at":"2018-11-14T10:46:33Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search-aggs","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438657577","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-438657577","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":438657577,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODY1NzU3Nw==","user":{"login":"ehaubert","id":7236645,"node_id":"MDQ6VXNlcjcyMzY2NDU=","avatar_url":"https://avatars3.githubusercontent.com/u/7236645?v=4","gravatar_id":"","url":"https://api.github.com/users/ehaubert","html_url":"https://github.com/ehaubert","followers_url":"https://api.github.com/users/ehaubert/followers","following_url":"https://api.github.com/users/ehaubert/following{/other_user}","gists_url":"https://api.github.com/users/ehaubert/gists{/gist_id}","starred_url":"https://api.github.com/users/ehaubert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ehaubert/subscriptions","organizations_url":"https://api.github.com/users/ehaubert/orgs","repos_url":"https://api.github.com/users/ehaubert/repos","events_url":"https://api.github.com/users/ehaubert/events{/privacy}","received_events_url":"https://api.github.com/users/ehaubert/received_events","type":"User","site_admin":false},"created_at":"2018-11-14T13:15:09Z","updated_at":"2018-11-14T13:15:09Z","author_association":"NONE","body":"Perhaps I'm misunderstanding the documentation, but I don't think so.\r\n\r\nThe second example shows how to define the list of required fields in the target documents.\r\n\r\n```\r\n    \"query\": {\r\n        \"more_like_this\" : {\r\n            \"fields\" : [\"name.first\", \"name.last\"]\r\n        }\r\n}\r\n```\r\n\r\nBut this does not restrict which fields are used from the source documents.  It is possible to construct artificial documents by manually passing in the fields of interest:\r\n\r\n```\r\n\"query\": {\r\n    \"more_like_this\": {\r\n        \"like\": {\r\n                \"_index\" : \"marvel\",\r\n                \"_type\" : \"quotes\",\r\n                \"doc\" : {\r\n                    \"name\": {\r\n                        \"first\": \"Ben\",\r\n                        \"last\": \"Grimm\"\r\n                    },\r\n                    \"_doc\": \"You got no idea what I'd... what I'd give to be invisible.\"\r\n                  }\r\n            },\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf I understand, you are suggesting that the caller create an artificial document with the fields of interest.   This is a work-around for documents with highly structured or concise fields, where the caller has the full text available  like tags, categories, etc, but is less desirable for full-text searches.   \r\nEven for a single snippet/abstract type search this starts getting ugly:\r\n\r\n```\r\n\"query\": {\r\n    \"more_like_this\": {\r\n        \"like\": {\r\n                \"_index\" : \"my_library\",\r\n                \"_type\" : \"scientific_journals\",\r\n                \"doc\" : {\r\n                      \"snippet\" : \"This is a study about very complicated things.  We did research, and got some results, and after that we analyzed them.  Some of our results were better than other results. It is also important to consider all the other research that has been done in our field recently and not-so-recently.  So we'll talk about that for a while also. Words, words, ......\"\r\n                  }\r\n            },\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis  limits the MLT to fields where the caller has the text.  It also makes the call extremely bulky when doing a MLT over several documents with longer useful fields. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438672933","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-438672933","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":438672933,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODY3MjkzMw==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2018-11-14T14:05:41Z","updated_at":"2018-11-14T14:05:41Z","author_association":"CONTRIBUTOR","body":">The second example shows how to define the list of required fields\r\n\r\nThe second example in [the current docs](https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-mlt-query.html) I was referring to was this:\r\n\r\n\tGET /_search\r\n\t{\r\n\t\t\"query\": {\r\n\t\t\t\"more_like_this\" : {\r\n\t\t\t\t\"fields\" : [\"title\", \"description\"],\r\n\t\t\t\t\"like\" : [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"_index\" : \"imdb\",\r\n\t\t\t\t\t\"_type\" : \"movies\",\r\n\t\t\t\t\t\"_id\" : \"1\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"_index\" : \"imdb\",\r\n\t\t\t\t\t\"_type\" : \"movies\",\r\n\t\t\t\t\t\"_id\" : \"2\"\r\n\t\t\t\t},\r\n\t\t\t\t\"and potentially some more text here as well\"\r\n\t\t\t\t],\r\n\t\t\t\t\"min_term_freq\" : 1,\r\n\t\t\t\t\"max_query_terms\" : 12\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nAre we talking about the same thing here?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438679074","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-438679074","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":438679074,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODY3OTA3NA==","user":{"login":"ehaubert","id":7236645,"node_id":"MDQ6VXNlcjcyMzY2NDU=","avatar_url":"https://avatars3.githubusercontent.com/u/7236645?v=4","gravatar_id":"","url":"https://api.github.com/users/ehaubert","html_url":"https://github.com/ehaubert","followers_url":"https://api.github.com/users/ehaubert/followers","following_url":"https://api.github.com/users/ehaubert/following{/other_user}","gists_url":"https://api.github.com/users/ehaubert/gists{/gist_id}","starred_url":"https://api.github.com/users/ehaubert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ehaubert/subscriptions","organizations_url":"https://api.github.com/users/ehaubert/orgs","repos_url":"https://api.github.com/users/ehaubert/repos","events_url":"https://api.github.com/users/ehaubert/events{/privacy}","received_events_url":"https://api.github.com/users/ehaubert/received_events","type":"User","site_admin":false},"created_at":"2018-11-14T14:24:39Z","updated_at":"2018-11-14T14:25:26Z","author_association":"NONE","body":"We are not quite talking about the same thing.   In the example you posted, \"fields\": [\"title\", \"description\"] limits the fields which will be searched.  Empirically, I do not believe the existing \"fields\"  is tied to which fields are used from the documents specified by the \"like\" : { \"_id\" : 1}, because I get quite different results specifying a MLT query passing in a docID over a title search vs. passing in the text of a particular field.  Trying to set up a public TMDB somewhere to show with results rather than just the query structure.\r\n\r\nSo if I have \r\n```\r\nPUT /doc/test/1\r\n{\r\n   \"title\" : \"my title\",\r\n   \"author\" : \"my author\",\r\n  \"description\" : \"blah blah blah\"\r\n}\r\n```\r\nthen query you posted would be searching docs with the terms from the set \"my title author blah\", over the fields title and description.  This leads to a number of problems - tf*idf scoring weirdness, min-should-match problems when the authors don't exist in title and description,  some fields have \"cleaner\" data than others, etc.\r\n\r\nWhat I am describing would be more like:\r\n\r\n```\r\nGET /_search\r\n{\r\n\t\"query\": {\r\n\t\t\"more_like_this\" : {\r\n\t\t\t\"fields\" : [\"description\"],\r\n\t\t\t\"like\" : [\r\n\t\t\t{\r\n\t\t\t\t\"_index\" : \"imdb\",\r\n\t\t\t\t\"_type\" : \"movies\",\r\n\t\t\t\t\"_id\" : \"1\",\r\n                                 \"_source\": [\"title\"]\r\n\t\t\t},\r\n\t\t\t],\r\n\t\t\t\"min_term_freq\" : 1,\r\n\t\t\t\"max_query_terms\" : 12\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nWhich would be searching terms from \"my title\" over the field \"description\".   \r\n\r\n\r\n ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438683023","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-438683023","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":438683023,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODY4MzAyMw==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2018-11-14T14:36:22Z","updated_at":"2018-11-14T15:07:50Z","author_association":"CONTRIBUTOR","body":">Empirically, I do not believe the existing \"fields\" is tied to which fields are used from the documents specified \r\n\r\nWorks for me: \r\n\r\n\tDELETE test\r\n\tPUT /test/_doc/1\r\n\t{\r\n\t   \"title\" : \"title1\",\r\n\t   \"author\" : \"author1\",\r\n\t  \"description\" : \"descriptionShared\"\r\n\t}\r\n\tPUT /test/_doc/2\r\n\t{\r\n\t   \"title\" : \"title2\",\r\n\t   \"author\" : \"author2\",\r\n\t  \"description\" : \"descriptionShared\"\r\n\t}\r\n\r\n\t//Does not match\r\n\tGET /test/_search\r\n\t{\r\n\t\t\"query\": {\r\n\t\t\t\"more_like_this\" : {\r\n\t\t\t\t\"fields\" : [\"title\", \"author\"],\r\n\t\t\t\t\"like\" : [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"_index\" : \"test\",\r\n\t\t\t\t\t\"_type\" : \"_doc\",\r\n\t\t\t\t\t\"_id\" : \"1\"\r\n\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t\"min_term_freq\" : 1,\r\n\t\t\t\t\"min_doc_freq\": 1, \r\n\t\t\t\t\"max_query_terms\" : 12\r\n\t\t\t}\r\n\t\t}\r\n\t} \r\n\r\n\t//Does match\r\n\tGET /test/_search\r\n\t{\r\n\t\t\"query\": {\r\n\t\t\t\"more_like_this\" : {\r\n\t\t\t\t\"fields\" : [\"title\", \"description\"],\r\n\t\t\t\t\"like\" : [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"_index\" : \"test\",\r\n\t\t\t\t\t\"_type\" : \"_doc\",\r\n\t\t\t\t\t\"_id\" : \"1\"\r\n\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t\"min_term_freq\" : 1,\r\n\t\t\t\t\"min_doc_freq\": 1, \r\n\t\t\t\t\"max_query_terms\" : 12\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n>query you posted would be searching docs with the terms from the set \"my title author blah\", over the fields title and description. This leads to a number of problems - tf*idf scoring weirdness, \r\n\r\nMy above example looks to avoid \"cross-matching\" of fields  - if the `test/_doc/1` has the title set to `title1 my life with author2` it will not match the `author:author2` value in `test/_doc/2`. Field-context looks to be preserved when matching.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438687207","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-438687207","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":438687207,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODY4NzIwNw==","user":{"login":"ehaubert","id":7236645,"node_id":"MDQ6VXNlcjcyMzY2NDU=","avatar_url":"https://avatars3.githubusercontent.com/u/7236645?v=4","gravatar_id":"","url":"https://api.github.com/users/ehaubert","html_url":"https://github.com/ehaubert","followers_url":"https://api.github.com/users/ehaubert/followers","following_url":"https://api.github.com/users/ehaubert/following{/other_user}","gists_url":"https://api.github.com/users/ehaubert/gists{/gist_id}","starred_url":"https://api.github.com/users/ehaubert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ehaubert/subscriptions","organizations_url":"https://api.github.com/users/ehaubert/orgs","repos_url":"https://api.github.com/users/ehaubert/repos","events_url":"https://api.github.com/users/ehaubert/events{/privacy}","received_events_url":"https://api.github.com/users/ehaubert/received_events","type":"User","site_admin":false},"created_at":"2018-11-14T14:48:32Z","updated_at":"2018-11-14T14:48:32Z","author_association":"NONE","body":"Hmm, I get no matches on either of those.  Maybe it has changed in more recent versions?  I'm stuck on 5.x, because of the changes to how synonym files are parsed on the 6.x and beyond.\r\n\r\nI'm seeing both generate the same underlying query:\r\n```\r\nGET /test/_validate/query?explain=true\r\n{\r\n\t\"query\": {\r\n\t\t\"more_like_this\" : {\r\n\t\t\t\"fields\" : [\"title\", \"author\"],\r\n\t\t\t\"like\" : [\r\n\t\t\t{\r\n\t\t\t\t\"_index\" : \"test\",\r\n\t\t\t\t\"_type\" : \"_doc\",\r\n\t\t\t\t\"_id\" : \"1\"\r\n\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"min_term_freq\" : 1,\r\n\t\t\t\"min_doc_freq\": 1, \r\n\t\t\t\"max_query_terms\" : 12\r\n\t\t}\r\n\t}\r\n} \r\n```\r\nproduces\r\n```\r\n{\r\n  \"valid\": true,\r\n  \"_shards\": {\r\n    \"total\": 1,\r\n    \"successful\": 1,\r\n    \"failed\": 0\r\n  },\r\n  \"explanations\": [\r\n    {\r\n      \"index\": \"test\",\r\n      \"valid\": true,\r\n      \"explanation\": \"like:null -_uid:_doc#1\"\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438693089","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-438693089","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":438693089,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODY5MzA4OQ==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2018-11-14T15:04:04Z","updated_at":"2018-11-14T15:04:04Z","author_association":"CONTRIBUTOR","body":"OK. If you're happy that the current docs describe current behaviour correctly I'd like to close this issue which is about adding \"_source\" support.\r\nThere may be a different issue worth raising with 5.x functioning correctly but if it's working in 6.x I would guess it's a known issue that was already fixed.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438696129","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-438696129","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":438696129,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODY5NjEyOQ==","user":{"login":"ehaubert","id":7236645,"node_id":"MDQ6VXNlcjcyMzY2NDU=","avatar_url":"https://avatars3.githubusercontent.com/u/7236645?v=4","gravatar_id":"","url":"https://api.github.com/users/ehaubert","html_url":"https://github.com/ehaubert","followers_url":"https://api.github.com/users/ehaubert/followers","following_url":"https://api.github.com/users/ehaubert/following{/other_user}","gists_url":"https://api.github.com/users/ehaubert/gists{/gist_id}","starred_url":"https://api.github.com/users/ehaubert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ehaubert/subscriptions","organizations_url":"https://api.github.com/users/ehaubert/orgs","repos_url":"https://api.github.com/users/ehaubert/repos","events_url":"https://api.github.com/users/ehaubert/events{/privacy}","received_events_url":"https://api.github.com/users/ehaubert/received_events","type":"User","site_admin":false},"created_at":"2018-11-14T15:12:16Z","updated_at":"2018-11-14T15:12:16Z","author_association":"NONE","body":"In the example you posted (which I can't replicate), it is working better.  I don't know that shows the current documentation is sufficient. \r\n\r\nThe underlying feature request was to be able to specify which fields from the input documents are used for input, independent of which fields are being searched in the MLT query.  The example you posted forces both to be the same.  That is better than what I'm seeing in 5.x, but not what I was trying to get at, either.    ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438701926","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-438701926","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":438701926,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODcwMTkyNg==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2018-11-14T15:26:55Z","updated_at":"2018-11-14T15:27:24Z","author_association":"CONTRIBUTOR","body":"I think the overall objective is for a simple interface. Assuming that target and source fields are the same is the simplification here. \r\nIf we don't, then we have 2 field sets (source and target) and a mapping problem in defining how content in source fields should be used to try match target fields. That would require more JSON.\r\n\r\nI'm not sure we need to get into that when we already have low-level APIs that support the more complex use cases . The [TermVectors](https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-termvectors.html) API offers the same cherry-picking of interesting words from text that MLT does. Clients can use that API to get \"the interesting stuff\" from source docs and choose how to use them in queries on target fields with full control over mappings.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438786151","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-438786151","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":438786151,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODc4NjE1MQ==","user":{"login":"ehaubert","id":7236645,"node_id":"MDQ6VXNlcjcyMzY2NDU=","avatar_url":"https://avatars3.githubusercontent.com/u/7236645?v=4","gravatar_id":"","url":"https://api.github.com/users/ehaubert","html_url":"https://github.com/ehaubert","followers_url":"https://api.github.com/users/ehaubert/followers","following_url":"https://api.github.com/users/ehaubert/following{/other_user}","gists_url":"https://api.github.com/users/ehaubert/gists{/gist_id}","starred_url":"https://api.github.com/users/ehaubert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ehaubert/subscriptions","organizations_url":"https://api.github.com/users/ehaubert/orgs","repos_url":"https://api.github.com/users/ehaubert/repos","events_url":"https://api.github.com/users/ehaubert/events{/privacy}","received_events_url":"https://api.github.com/users/ehaubert/received_events","type":"User","site_admin":false},"created_at":"2018-11-14T19:22:42Z","updated_at":"2018-11-14T19:22:42Z","author_association":"NONE","body":"I agree that the idea behind MLT is simplicity, but would argue that it is also treating the source document as an abstraction.  \r\n\r\nTermvectors has the same complexity as my fake document example above: the caller needs to have and provide the source text.   \r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438791732","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-438791732","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":438791732,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODc5MTczMg==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2018-11-14T19:40:14Z","updated_at":"2018-11-14T19:40:14Z","author_association":"CONTRIBUTOR","body":">the caller needs to have and provide the source text.\r\n\r\nNope - see https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-termvectors.html#_example_generating_term_vectors_on_the_fly","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438796875","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-438796875","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":438796875,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODc5Njg3NQ==","user":{"login":"ehaubert","id":7236645,"node_id":"MDQ6VXNlcjcyMzY2NDU=","avatar_url":"https://avatars3.githubusercontent.com/u/7236645?v=4","gravatar_id":"","url":"https://api.github.com/users/ehaubert","html_url":"https://github.com/ehaubert","followers_url":"https://api.github.com/users/ehaubert/followers","following_url":"https://api.github.com/users/ehaubert/following{/other_user}","gists_url":"https://api.github.com/users/ehaubert/gists{/gist_id}","starred_url":"https://api.github.com/users/ehaubert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ehaubert/subscriptions","organizations_url":"https://api.github.com/users/ehaubert/orgs","repos_url":"https://api.github.com/users/ehaubert/repos","events_url":"https://api.github.com/users/ehaubert/events{/privacy}","received_events_url":"https://api.github.com/users/ehaubert/received_events","type":"User","site_admin":false},"created_at":"2018-11-14T19:56:23Z","updated_at":"2018-11-14T19:56:23Z","author_association":"NONE","body":"I don't think I understand what you are saying;  term vectors lets you generate the most 'interesting' terms on a given doc/field/blob of text/etc.\r\n\r\nIn order to use that in a query, you have to make two queries:\r\n1) Get the terms in the source doc/field(s) of interest\r\n2) Generate a query on the target index/fields of interest.\r\n\r\nOr are you saying it is possible to do that in a single step?\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438800062","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-438800062","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":438800062,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODgwMDA2Mg==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2018-11-14T20:06:04Z","updated_at":"2018-11-14T20:06:04Z","author_association":"CONTRIBUTOR","body":">I don't think I understand what you are saying\r\n\r\nNo, you've got it.\r\nI was just correcting the part where you said \"the caller needs to have and provide the source text.\"\r\nI assumed you meant the client has to fetch the _full_ text first. It only needs to supply the doc id and it gets back just the interesting terms - so avoids transferring what could be megabytes over the wire.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438802134","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-438802134","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":438802134,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODgwMjEzNA==","user":{"login":"ehaubert","id":7236645,"node_id":"MDQ6VXNlcjcyMzY2NDU=","avatar_url":"https://avatars3.githubusercontent.com/u/7236645?v=4","gravatar_id":"","url":"https://api.github.com/users/ehaubert","html_url":"https://github.com/ehaubert","followers_url":"https://api.github.com/users/ehaubert/followers","following_url":"https://api.github.com/users/ehaubert/following{/other_user}","gists_url":"https://api.github.com/users/ehaubert/gists{/gist_id}","starred_url":"https://api.github.com/users/ehaubert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ehaubert/subscriptions","organizations_url":"https://api.github.com/users/ehaubert/orgs","repos_url":"https://api.github.com/users/ehaubert/repos","events_url":"https://api.github.com/users/ehaubert/events{/privacy}","received_events_url":"https://api.github.com/users/ehaubert/received_events","type":"User","site_admin":false},"created_at":"2018-11-14T20:12:49Z","updated_at":"2018-11-14T20:12:49Z","author_association":"NONE","body":"OK.   Those two steps are exactly what MLT does; just right now, without letting you control the fields in play on the source documents.\r\n\r\nThere is already some coordination behind the scenes, because the input document mappings don't necessarily match the searched documents, or even be documents at all.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438823905","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-438823905","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":438823905,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODgyMzkwNQ==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2018-11-14T21:24:22Z","updated_at":"2018-11-14T21:24:22Z","author_association":"CONTRIBUTOR","body":">without letting you control the fields in play on the source documents.\r\n\r\nBy having source _and_ target fields you need a declaration on how they should be mapped though, right? Is that part of your proposal?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438830110","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-438830110","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":438830110,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODgzMDExMA==","user":{"login":"ehaubert","id":7236645,"node_id":"MDQ6VXNlcjcyMzY2NDU=","avatar_url":"https://avatars3.githubusercontent.com/u/7236645?v=4","gravatar_id":"","url":"https://api.github.com/users/ehaubert","html_url":"https://github.com/ehaubert","followers_url":"https://api.github.com/users/ehaubert/followers","following_url":"https://api.github.com/users/ehaubert/following{/other_user}","gists_url":"https://api.github.com/users/ehaubert/gists{/gist_id}","starred_url":"https://api.github.com/users/ehaubert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ehaubert/subscriptions","organizations_url":"https://api.github.com/users/ehaubert/orgs","repos_url":"https://api.github.com/users/ehaubert/repos","events_url":"https://api.github.com/users/ehaubert/events{/privacy}","received_events_url":"https://api.github.com/users/ehaubert/received_events","type":"User","site_admin":false},"created_at":"2018-11-14T21:45:31Z","updated_at":"2018-11-14T21:45:31Z","author_association":"NONE","body":"After today's discussion, it feels like that part is missing with or without my proposal?  What is the current mapping? title-to-title, description-to-description?    Historically, I think it was whole document X specified fields.\r\n\r\nIf the current mapping is field based, do the artificial documents need to have the same fields as those being searched? That wasn't the case historically, and I don't see it mentioned in the current docs.   Likewise, what about the \"like\": \"some blank text without a doc\" cases? That doesn't specify a field at all.\r\n\r\nAlso, if there is currently some notion of field mapping, how does that affect the number of terms in the underlying query? In the older cross-fields model, then you could easily end up selecting all \"interesting\" terms from one base field; those might or might not exist at all in another field, right?  So does field X field generate the required number of interesting terms on each field?\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438855905","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-438855905","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":438855905,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODg1NTkwNQ==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2018-11-14T23:19:52Z","updated_at":"2018-11-14T23:19:52Z","author_association":"CONTRIBUTOR","body":"It's admittedly vague. There's also [issues with highlighting](https://github.com/elastic/elasticsearch/issues/26357) which again is perhaps a good reason to opt for client-side construction of queries from the outputs of TermVector calls.\r\nI know there has been a long-standing desire to revisit MLT design but I couldn't find any issues outlining a proposal.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/439143657","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-439143657","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":439143657,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTE0MzY1Nw==","user":{"login":"ehaubert","id":7236645,"node_id":"MDQ6VXNlcjcyMzY2NDU=","avatar_url":"https://avatars3.githubusercontent.com/u/7236645?v=4","gravatar_id":"","url":"https://api.github.com/users/ehaubert","html_url":"https://github.com/ehaubert","followers_url":"https://api.github.com/users/ehaubert/followers","following_url":"https://api.github.com/users/ehaubert/following{/other_user}","gists_url":"https://api.github.com/users/ehaubert/gists{/gist_id}","starred_url":"https://api.github.com/users/ehaubert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ehaubert/subscriptions","organizations_url":"https://api.github.com/users/ehaubert/orgs","repos_url":"https://api.github.com/users/ehaubert/repos","events_url":"https://api.github.com/users/ehaubert/events{/privacy}","received_events_url":"https://api.github.com/users/ehaubert/received_events","type":"User","site_admin":false},"created_at":"2018-11-15T18:32:03Z","updated_at":"2018-11-15T18:32:03Z","author_association":"NONE","body":"+1.  \r\nI think the TV approach short-circuits the purposes of having MLT in the first place, and unscientifically, it feels like a popular feature - at least, I've run into it 'in the wild' a few times now.  That being said,  for highly structured data, I am more likely to use a set of constant-score queries based on the actual values, and what you are suggesting isn't so different.   (https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-constant-score-query.html)\r\n\r\nI hadn't properly  thought through what the field mapping would look like, and doing that cleanly would be important.   Can we keep this open for a bit, and I'll get back to you after Thanksgiving?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/448710131","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-448710131","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":448710131,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODcxMDEzMQ==","user":{"login":"dliappis","id":1754575,"node_id":"MDQ6VXNlcjE3NTQ1NzU=","avatar_url":"https://avatars0.githubusercontent.com/u/1754575?v=4","gravatar_id":"","url":"https://api.github.com/users/dliappis","html_url":"https://github.com/dliappis","followers_url":"https://api.github.com/users/dliappis/followers","following_url":"https://api.github.com/users/dliappis/following{/other_user}","gists_url":"https://api.github.com/users/dliappis/gists{/gist_id}","starred_url":"https://api.github.com/users/dliappis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dliappis/subscriptions","organizations_url":"https://api.github.com/users/dliappis/orgs","repos_url":"https://api.github.com/users/dliappis/repos","events_url":"https://api.github.com/users/dliappis/events{/privacy}","received_events_url":"https://api.github.com/users/dliappis/received_events","type":"User","site_admin":false},"created_at":"2018-12-19T19:09:56Z","updated_at":"2018-12-19T19:09:56Z","author_association":"CONTRIBUTOR","body":"@ehaubert Don't want to put too much pressure but we tend to close open issues in need of additional feedback after 1 month of inactivity; do you still want to think about this, or should we close it?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/448716013","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-448716013","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":448716013,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODcxNjAxMw==","user":{"login":"chvndb","id":2583918,"node_id":"MDQ6VXNlcjI1ODM5MTg=","avatar_url":"https://avatars2.githubusercontent.com/u/2583918?v=4","gravatar_id":"","url":"https://api.github.com/users/chvndb","html_url":"https://github.com/chvndb","followers_url":"https://api.github.com/users/chvndb/followers","following_url":"https://api.github.com/users/chvndb/following{/other_user}","gists_url":"https://api.github.com/users/chvndb/gists{/gist_id}","starred_url":"https://api.github.com/users/chvndb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chvndb/subscriptions","organizations_url":"https://api.github.com/users/chvndb/orgs","repos_url":"https://api.github.com/users/chvndb/repos","events_url":"https://api.github.com/users/chvndb/events{/privacy}","received_events_url":"https://api.github.com/users/chvndb/received_events","type":"User","site_admin":false},"created_at":"2018-12-19T19:29:45Z","updated_at":"2018-12-19T19:33:02Z","author_association":"NONE","body":"We still want this. At the moment we can not easily achieve what we want. Which is to compare a set of input docs and a subset of their fields (selected as relevant by user trough the UI) to find any relatable docs based on a (possibly) different set of fields (at least when the mapping allows it). \r\n\r\nThe reason for this is because the different fields do not always mean different mappings, but rather different kinds of relevant information. Deciding which fields to compare depends on the context of the search. Some fields are always relevant, but others only in some cases. Using UI components, the user can refine the search to include/exclude results.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/448716431","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-448716431","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":448716431,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODcxNjQzMQ==","user":{"login":"ehaubert","id":7236645,"node_id":"MDQ6VXNlcjcyMzY2NDU=","avatar_url":"https://avatars3.githubusercontent.com/u/7236645?v=4","gravatar_id":"","url":"https://api.github.com/users/ehaubert","html_url":"https://github.com/ehaubert","followers_url":"https://api.github.com/users/ehaubert/followers","following_url":"https://api.github.com/users/ehaubert/following{/other_user}","gists_url":"https://api.github.com/users/ehaubert/gists{/gist_id}","starred_url":"https://api.github.com/users/ehaubert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ehaubert/subscriptions","organizations_url":"https://api.github.com/users/ehaubert/orgs","repos_url":"https://api.github.com/users/ehaubert/repos","events_url":"https://api.github.com/users/ehaubert/events{/privacy}","received_events_url":"https://api.github.com/users/ehaubert/received_events","type":"User","site_admin":false},"created_at":"2018-12-19T19:31:03Z","updated_at":"2018-12-19T19:31:03Z","author_association":"NONE","body":"After a month of sitting on this - I still think that being able to specify MLT field-per-field makes sense.    The most significant terms from one field aren't necessarily populated in another,  and this is particularly true for structured, or mixed  structured/unstructured data.  \r\n\r\nConsider the case of ecommerce data: there might be a blobby text snippet, and 10 tagged fields describing color, material, price, etc.  Which would be more similar -another document with all the snippets matching, or another with the most significant terms from the blobby text?  The answer entirely depends the quality of the text vs the tagging.\r\n\r\nThe paradigm that has been used elsewhere in the API would be to specify the field as a tier in the query:\r\n\r\n`\"query\": {\r\n\t\t\"more_like_this\" : {\r\n\t\t\t\"target_field_name\" : {\r\n\t\t\t\"like\" : [\r\n\t\t\t{\r\n\t\t\t\t\"_index\" : \"test\",\r\n\t\t\t\t\"_type\" : \"_doc\",\r\n\t\t\t\t\"_id\" : \"1\",\r\n                                 \"fields\" : [\"source\", \"fields\", \"to\", \"pull\", \"from\"]\r\n\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"min_term_freq\" : 1,\r\n\t\t\t\"min_doc_freq\": 1, \r\n\t\t\t\"max_query_terms\" : 12\r\n\t\t}\r\n\t}`\r\n\r\nAlthough expanding it thus gets verbose when there are multiple target fields:\r\n\r\n``\"query\": {\r\n\t\t\"more_like_these\" : [ \r\n\t\t\t{\"target_field_name\" : {\r\n\t\t\t\"like\" : [\r\n\t\t\t{\r\n\t\t\t\t\"_index\" : \"test\",\r\n\t\t\t\t\"_type\" : \"_doc\",\r\n\t\t\t\t\"_id\" : \"1\",\r\n                                 \"fields\" : [\"source\", \"fields\", \"to\", \"pull\", \"from\"]\r\n\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"min_term_freq\" : 1,\r\n\t\t\t\"min_doc_freq\": 1, \r\n\t\t\t\"max_query_terms\" : 12\r\n\t\t} ]\r\n\t}``\r\netc\r\n\r\nThoughts?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/452320198","html_url":"https://github.com/elastic/elasticsearch/issues/35509#issuecomment-452320198","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35509","id":452320198,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MjMyMDE5OA==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2019-01-08T14:36:53Z","updated_at":"2019-01-08T14:36:53Z","author_association":"CONTRIBUTOR","body":"After some internal discussion we felt that that using a JSON-based field mapping syntax would be potentially complex and not as powerful/flexible as what could be achieved with small amounts of client-side code to assemble Boolean queries from selected fields in an example document.\r\n\r\nI'll add some docs to the MLT query pointing out that the TermVectors API is another way to get the \"interesting\" terms from an example document and these can be combined with your choice of structured fields in custom code to create more tailored \"MLT\" type queries.\r\n","performed_via_github_app":null}]