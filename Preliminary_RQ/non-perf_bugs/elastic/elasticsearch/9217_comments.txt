[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/69325836","html_url":"https://github.com/elastic/elasticsearch/issues/9217#issuecomment-69325836","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9217","id":69325836,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzI1ODM2","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2015-01-09T11:59:27Z","updated_at":"2015-01-09T11:59:27Z","author_association":"MEMBER","body":"You should better ask this on the mailing list unless you feel there is an issue. In that case, you should provide details about what you are doing.\n\nYou'll find better help on the mailing list than here. See http://www.elasticsearch.org/help/\n\nThat said, running a post filter on a nested value should work.\nIt does not?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/69327156","html_url":"https://github.com/elastic/elasticsearch/issues/9217#issuecomment-69327156","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9217","id":69327156,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzI3MTU2","user":{"login":"dev-day","id":10463066,"node_id":"MDQ6VXNlcjEwNDYzMDY2","avatar_url":"https://avatars1.githubusercontent.com/u/10463066?v=4","gravatar_id":"","url":"https://api.github.com/users/dev-day","html_url":"https://github.com/dev-day","followers_url":"https://api.github.com/users/dev-day/followers","following_url":"https://api.github.com/users/dev-day/following{/other_user}","gists_url":"https://api.github.com/users/dev-day/gists{/gist_id}","starred_url":"https://api.github.com/users/dev-day/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dev-day/subscriptions","organizations_url":"https://api.github.com/users/dev-day/orgs","repos_url":"https://api.github.com/users/dev-day/repos","events_url":"https://api.github.com/users/dev-day/events{/privacy}","received_events_url":"https://api.github.com/users/dev-day/received_events","type":"User","site_admin":false},"created_at":"2015-01-09T12:14:27Z","updated_at":"2015-01-09T12:14:27Z","author_association":"NONE","body":"Hi Dadoonet,\n\nThank you for coming back to me.\nI will go through the proper channels (I'm new, sorry!)...\nUnless you can assist quickly:\n\nMy document is\n\n{\"code\":\"ABC\", \"variants\": [{\"sku\":\"123\", \"price\": 15}], \"colour\":\"blue\"}\n{\"code\":\"DEF\", \"variants\": [{\"sku\":\"456\", \"price\": 30}], \"colour\":\"red\"}\n\nI run aggs for colour and I get red (1) and blue (1).\nI have a mapping for variants to be nested.\n\nAnd I want to post filter on the price\n\n```\n\"post_filter\": {\n   \"nested\": {\n        \"path\": \"variants\",\n         \"post_filter\":{\n         \"range\": {\"price\":{ \"gt\": 20.0 }}\n         }\n     }\n},\n```\n\nThe 2nd \"post_filter\" crashes.\nI cannot find any documentation on this.\nI've tried the following:\n1) Without the 2nd post_filter and using variants.price\n2) With filter instead of the 2nd post filter\n3) With filter and variants.price.\n\nCan you assist? \nOr would you like me to send this to the mailing list?\n\nAny help will be greatly appreciated.\n\nRegards,\nDev\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/69338001","html_url":"https://github.com/elastic/elasticsearch/issues/9217#issuecomment-69338001","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9217","id":69338001,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzM4MDAx","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2015-01-09T14:08:17Z","updated_at":"2015-01-09T14:08:17Z","author_association":"MEMBER","body":"Not an issue. Link to ML thread: https://groups.google.com/d/msgid/elasticsearch/79b7583c-6336-495b-bef1-d9ba0a9e0b83%40googlegroups.com?utm_medium=email&utm_source=footer\n\nClosing.\n","performed_via_github_app":null}]