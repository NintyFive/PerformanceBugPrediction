[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/76940303","html_url":"https://github.com/elastic/elasticsearch/issues/9951#issuecomment-76940303","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9951","id":76940303,"node_id":"MDEyOklzc3VlQ29tbWVudDc2OTQwMzAz","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-03-03T12:56:57Z","updated_at":"2015-03-03T12:56:57Z","author_association":"CONTRIBUTOR","body":"what version of ES are you using?  And do the hot nodes have more primary shards than others?  Also, how many shards per node in total?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/76948087","html_url":"https://github.com/elastic/elasticsearch/issues/9951#issuecomment-76948087","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9951","id":76948087,"node_id":"MDEyOklzc3VlQ29tbWVudDc2OTQ4MDg3","user":{"login":"sylvae","id":11273813,"node_id":"MDQ6VXNlcjExMjczODEz","avatar_url":"https://avatars2.githubusercontent.com/u/11273813?v=4","gravatar_id":"","url":"https://api.github.com/users/sylvae","html_url":"https://github.com/sylvae","followers_url":"https://api.github.com/users/sylvae/followers","following_url":"https://api.github.com/users/sylvae/following{/other_user}","gists_url":"https://api.github.com/users/sylvae/gists{/gist_id}","starred_url":"https://api.github.com/users/sylvae/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sylvae/subscriptions","organizations_url":"https://api.github.com/users/sylvae/orgs","repos_url":"https://api.github.com/users/sylvae/repos","events_url":"https://api.github.com/users/sylvae/events{/privacy}","received_events_url":"https://api.github.com/users/sylvae/received_events","type":"User","site_admin":false},"created_at":"2015-03-03T13:51:16Z","updated_at":"2015-03-03T13:51:16Z","author_association":"NONE","body":"I am using ES 1.4.2. I have set  \"index.routing.allocation.total_shards_per_node\": \"3\", so the\nnumber of the primary shards is almost the same. We create one index per day, and import today's data to it. Every index has 89 shards and 1 replic. Also, no search at the time.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/78085294","html_url":"https://github.com/elastic/elasticsearch/issues/9951#issuecomment-78085294","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9951","id":78085294,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDg1Mjk0","user":{"login":"sylvae","id":11273813,"node_id":"MDQ6VXNlcjExMjczODEz","avatar_url":"https://avatars2.githubusercontent.com/u/11273813?v=4","gravatar_id":"","url":"https://api.github.com/users/sylvae","html_url":"https://github.com/sylvae","followers_url":"https://api.github.com/users/sylvae/followers","following_url":"https://api.github.com/users/sylvae/following{/other_user}","gists_url":"https://api.github.com/users/sylvae/gists{/gist_id}","starred_url":"https://api.github.com/users/sylvae/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sylvae/subscriptions","organizations_url":"https://api.github.com/users/sylvae/orgs","repos_url":"https://api.github.com/users/sylvae/repos","events_url":"https://api.github.com/users/sylvae/events{/privacy}","received_events_url":"https://api.github.com/users/sylvae/received_events","type":"User","site_admin":false},"created_at":"2015-03-10T16:02:18Z","updated_at":"2015-03-10T16:02:18Z","author_association":"NONE","body":"I have found the reasonï¼Œit was not the ES's bug.It was because of too much memory fragmentation and memory recall.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/171093192","html_url":"https://github.com/elastic/elasticsearch/issues/9951#issuecomment-171093192","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9951","id":171093192,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MTA5MzE5Mg==","user":{"login":"milodky","id":3732925,"node_id":"MDQ6VXNlcjM3MzI5MjU=","avatar_url":"https://avatars3.githubusercontent.com/u/3732925?v=4","gravatar_id":"","url":"https://api.github.com/users/milodky","html_url":"https://github.com/milodky","followers_url":"https://api.github.com/users/milodky/followers","following_url":"https://api.github.com/users/milodky/following{/other_user}","gists_url":"https://api.github.com/users/milodky/gists{/gist_id}","starred_url":"https://api.github.com/users/milodky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milodky/subscriptions","organizations_url":"https://api.github.com/users/milodky/orgs","repos_url":"https://api.github.com/users/milodky/repos","events_url":"https://api.github.com/users/milodky/events{/privacy}","received_events_url":"https://api.github.com/users/milodky/received_events","type":"User","site_admin":false},"created_at":"2016-01-12T23:12:07Z","updated_at":"2016-01-12T23:12:15Z","author_association":"NONE","body":"Hey @sylvae , I have the exact same issue, how you solved this?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/256541689","html_url":"https://github.com/elastic/elasticsearch/issues/9951#issuecomment-256541689","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9951","id":256541689,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NjU0MTY4OQ==","user":{"login":"stephanustedy","id":11306368,"node_id":"MDQ6VXNlcjExMzA2MzY4","avatar_url":"https://avatars2.githubusercontent.com/u/11306368?v=4","gravatar_id":"","url":"https://api.github.com/users/stephanustedy","html_url":"https://github.com/stephanustedy","followers_url":"https://api.github.com/users/stephanustedy/followers","following_url":"https://api.github.com/users/stephanustedy/following{/other_user}","gists_url":"https://api.github.com/users/stephanustedy/gists{/gist_id}","starred_url":"https://api.github.com/users/stephanustedy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephanustedy/subscriptions","organizations_url":"https://api.github.com/users/stephanustedy/orgs","repos_url":"https://api.github.com/users/stephanustedy/repos","events_url":"https://api.github.com/users/stephanustedy/events{/privacy}","received_events_url":"https://api.github.com/users/stephanustedy/received_events","type":"User","site_admin":false},"created_at":"2016-10-27T04:06:26Z","updated_at":"2016-10-27T04:06:26Z","author_association":"NONE","body":"how to solve this issue ? have you guys solve it ? \n@milodky @sylvae \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/319035715","html_url":"https://github.com/elastic/elasticsearch/issues/9951#issuecomment-319035715","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9951","id":319035715,"node_id":"MDEyOklzc3VlQ29tbWVudDMxOTAzNTcxNQ==","user":{"login":"gilinachum","id":1893166,"node_id":"MDQ6VXNlcjE4OTMxNjY=","avatar_url":"https://avatars2.githubusercontent.com/u/1893166?v=4","gravatar_id":"","url":"https://api.github.com/users/gilinachum","html_url":"https://github.com/gilinachum","followers_url":"https://api.github.com/users/gilinachum/followers","following_url":"https://api.github.com/users/gilinachum/following{/other_user}","gists_url":"https://api.github.com/users/gilinachum/gists{/gist_id}","starred_url":"https://api.github.com/users/gilinachum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gilinachum/subscriptions","organizations_url":"https://api.github.com/users/gilinachum/orgs","repos_url":"https://api.github.com/users/gilinachum/repos","events_url":"https://api.github.com/users/gilinachum/events{/privacy}","received_events_url":"https://api.github.com/users/gilinachum/received_events","type":"User","site_admin":false},"created_at":"2017-07-31T10:58:20Z","updated_at":"2017-07-31T11:02:11Z","author_association":"NONE","body":"@milodky @sylvae @stephanustedy have you guys solved it? do you remember what it was? facing similar symptoms with ES 5.3.2.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/322421135","html_url":"https://github.com/elastic/elasticsearch/issues/9951#issuecomment-322421135","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9951","id":322421135,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjQyMTEzNQ==","user":{"login":"whitejava","id":1661871,"node_id":"MDQ6VXNlcjE2NjE4NzE=","avatar_url":"https://avatars3.githubusercontent.com/u/1661871?v=4","gravatar_id":"","url":"https://api.github.com/users/whitejava","html_url":"https://github.com/whitejava","followers_url":"https://api.github.com/users/whitejava/followers","following_url":"https://api.github.com/users/whitejava/following{/other_user}","gists_url":"https://api.github.com/users/whitejava/gists{/gist_id}","starred_url":"https://api.github.com/users/whitejava/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whitejava/subscriptions","organizations_url":"https://api.github.com/users/whitejava/orgs","repos_url":"https://api.github.com/users/whitejava/repos","events_url":"https://api.github.com/users/whitejava/events{/privacy}","received_events_url":"https://api.github.com/users/whitejava/received_events","type":"User","site_admin":false},"created_at":"2017-08-15T09:20:30Z","updated_at":"2017-08-15T09:20:30Z","author_association":"NONE","body":"same problem with 5.0.2","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/364378437","html_url":"https://github.com/elastic/elasticsearch/issues/9951#issuecomment-364378437","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9951","id":364378437,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDM3ODQzNw==","user":{"login":"ZhiqinYang","id":4645858,"node_id":"MDQ6VXNlcjQ2NDU4NTg=","avatar_url":"https://avatars3.githubusercontent.com/u/4645858?v=4","gravatar_id":"","url":"https://api.github.com/users/ZhiqinYang","html_url":"https://github.com/ZhiqinYang","followers_url":"https://api.github.com/users/ZhiqinYang/followers","following_url":"https://api.github.com/users/ZhiqinYang/following{/other_user}","gists_url":"https://api.github.com/users/ZhiqinYang/gists{/gist_id}","starred_url":"https://api.github.com/users/ZhiqinYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZhiqinYang/subscriptions","organizations_url":"https://api.github.com/users/ZhiqinYang/orgs","repos_url":"https://api.github.com/users/ZhiqinYang/repos","events_url":"https://api.github.com/users/ZhiqinYang/events{/privacy}","received_events_url":"https://api.github.com/users/ZhiqinYang/received_events","type":"User","site_admin":false},"created_at":"2018-02-09T09:16:36Z","updated_at":"2018-02-09T09:16:58Z","author_association":"NONE","body":"me too,how to solve it?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/424587703","html_url":"https://github.com/elastic/elasticsearch/issues/9951#issuecomment-424587703","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9951","id":424587703,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNDU4NzcwMw==","user":{"login":"qiangyin","id":8393153,"node_id":"MDQ6VXNlcjgzOTMxNTM=","avatar_url":"https://avatars2.githubusercontent.com/u/8393153?v=4","gravatar_id":"","url":"https://api.github.com/users/qiangyin","html_url":"https://github.com/qiangyin","followers_url":"https://api.github.com/users/qiangyin/followers","following_url":"https://api.github.com/users/qiangyin/following{/other_user}","gists_url":"https://api.github.com/users/qiangyin/gists{/gist_id}","starred_url":"https://api.github.com/users/qiangyin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qiangyin/subscriptions","organizations_url":"https://api.github.com/users/qiangyin/orgs","repos_url":"https://api.github.com/users/qiangyin/repos","events_url":"https://api.github.com/users/qiangyin/events{/privacy}","received_events_url":"https://api.github.com/users/qiangyin/received_events","type":"User","site_admin":false},"created_at":"2018-09-26T05:17:04Z","updated_at":"2018-09-26T05:17:04Z","author_association":"NONE","body":"same problem with 5.6.6","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/424605561","html_url":"https://github.com/elastic/elasticsearch/issues/9951#issuecomment-424605561","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9951","id":424605561,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNDYwNTU2MQ==","user":{"login":"gilinachum","id":1893166,"node_id":"MDQ6VXNlcjE4OTMxNjY=","avatar_url":"https://avatars2.githubusercontent.com/u/1893166?v=4","gravatar_id":"","url":"https://api.github.com/users/gilinachum","html_url":"https://github.com/gilinachum","followers_url":"https://api.github.com/users/gilinachum/followers","following_url":"https://api.github.com/users/gilinachum/following{/other_user}","gists_url":"https://api.github.com/users/gilinachum/gists{/gist_id}","starred_url":"https://api.github.com/users/gilinachum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gilinachum/subscriptions","organizations_url":"https://api.github.com/users/gilinachum/orgs","repos_url":"https://api.github.com/users/gilinachum/repos","events_url":"https://api.github.com/users/gilinachum/events{/privacy}","received_events_url":"https://api.github.com/users/gilinachum/received_events","type":"User","site_admin":false},"created_at":"2018-09-26T06:53:25Z","updated_at":"2018-09-26T06:54:07Z","author_association":"NONE","body":"How we resolved it:\r\n1. Refactored application logic to reduce the amount of document overwrites and deletes, which reduces merges.\r\n2. On AWS switching instance type from R3 with local storage machines to [I3](https://aws.amazon.com/ec2/instance-types/i3/) with local storage did wonders and eliminated the issue.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/424609401","html_url":"https://github.com/elastic/elasticsearch/issues/9951#issuecomment-424609401","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9951","id":424609401,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNDYwOTQwMQ==","user":{"login":"qiangyin","id":8393153,"node_id":"MDQ6VXNlcjgzOTMxNTM=","avatar_url":"https://avatars2.githubusercontent.com/u/8393153?v=4","gravatar_id":"","url":"https://api.github.com/users/qiangyin","html_url":"https://github.com/qiangyin","followers_url":"https://api.github.com/users/qiangyin/followers","following_url":"https://api.github.com/users/qiangyin/following{/other_user}","gists_url":"https://api.github.com/users/qiangyin/gists{/gist_id}","starred_url":"https://api.github.com/users/qiangyin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qiangyin/subscriptions","organizations_url":"https://api.github.com/users/qiangyin/orgs","repos_url":"https://api.github.com/users/qiangyin/repos","events_url":"https://api.github.com/users/qiangyin/events{/privacy}","received_events_url":"https://api.github.com/users/qiangyin/received_events","type":"User","site_admin":false},"created_at":"2018-09-26T07:10:02Z","updated_at":"2018-09-26T07:10:02Z","author_association":"NONE","body":"> \r\n> \r\n> How we resolved it:\r\n> \r\n>     1. Refactored application logic to reduce the amount of document overwrites and deletes, which reduces merges.\r\n> \r\n>     2. On AWS switching instance type from R3 with local storage machines to [I3](https://aws.amazon.com/ec2/instance-types/i3/) with local storage did wonders and eliminated the issue.\r\nthanks a lot\r\n","performed_via_github_app":null}]