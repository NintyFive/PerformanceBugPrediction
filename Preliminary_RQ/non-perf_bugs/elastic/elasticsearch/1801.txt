{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1801","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1801/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1801/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1801/events","html_url":"https://github.com/elastic/elasticsearch/issues/1801","id":3754045,"node_id":"MDU6SXNzdWUzNzU0MDQ1","number":1801,"title":"integers are coerced into strings when setting templates","user":{"login":"drawks","id":410276,"node_id":"MDQ6VXNlcjQxMDI3Ng==","avatar_url":"https://avatars3.githubusercontent.com/u/410276?v=4","gravatar_id":"","url":"https://api.github.com/users/drawks","html_url":"https://github.com/drawks","followers_url":"https://api.github.com/users/drawks/followers","following_url":"https://api.github.com/users/drawks/following{/other_user}","gists_url":"https://api.github.com/users/drawks/gists{/gist_id}","starred_url":"https://api.github.com/users/drawks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drawks/subscriptions","organizations_url":"https://api.github.com/users/drawks/orgs","repos_url":"https://api.github.com/users/drawks/repos","events_url":"https://api.github.com/users/drawks/events{/privacy}","received_events_url":"https://api.github.com/users/drawks/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2012-03-21T21:42:49Z","updated_at":"2014-07-08T14:31:33Z","closed_at":"2014-07-08T14:31:33Z","author_association":"NONE","active_lock_reason":null,"body":"When I set a template which contains for instance:\n\n`'settings': {'index.number_of_replicas':1,\n                   'index.number_of_shards': 6},`\n\nA query against the cluster_state api returns that same snippet but with the integers coerced into strings:\n\n`'settings': {'index.number_of_replicas':\"1\",\n                   'index.number_of_shards': \"6\"},`\n\nOnly integers are valid for both of the key/value pairs in my example, so it wouldn't seem to make any sense to return them as string literals when introspecting the settings. Furthermore this makes it difficult to programatically audit templates/mappings/etc since there is no guarantee that the configuration sent to the server will match what is returned by the server. \n\nI posit that it is a bug that any type coercion is happening, and a further bug that a string literal of an integer is acceptable for any value which should always be an integer.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}