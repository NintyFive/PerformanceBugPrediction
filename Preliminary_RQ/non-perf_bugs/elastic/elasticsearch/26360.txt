{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/26360","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26360/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26360/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26360/events","html_url":"https://github.com/elastic/elasticsearch/issues/26360","id":252567874,"node_id":"MDU6SXNzdWUyNTI1Njc4NzQ=","number":26360,"title":"Allow specifying index names in POST body","user":{"login":"joschi","id":43951,"node_id":"MDQ6VXNlcjQzOTUx","avatar_url":"https://avatars1.githubusercontent.com/u/43951?v=4","gravatar_id":"","url":"https://api.github.com/users/joschi","html_url":"https://github.com/joschi","followers_url":"https://api.github.com/users/joschi/followers","following_url":"https://api.github.com/users/joschi/following{/other_user}","gists_url":"https://api.github.com/users/joschi/gists{/gist_id}","starred_url":"https://api.github.com/users/joschi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joschi/subscriptions","organizations_url":"https://api.github.com/users/joschi/orgs","repos_url":"https://api.github.com/users/joschi/repos","events_url":"https://api.github.com/users/joschi/events{/privacy}","received_events_url":"https://api.github.com/users/joschi/received_events","type":"User","site_admin":false},"labels":[{"id":163824881,"node_id":"MDU6TGFiZWwxNjM4MjQ4ODE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Indices%20APIs","name":":Core/Features/Indices APIs","color":"0e8a16","default":false,"description":"APIs to create and manage indices"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2017-08-24T11:11:20Z","updated_at":"2017-09-01T12:59:16Z","closed_at":"2017-09-01T12:59:16Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the feature**:\r\n\r\nMost Elasticsearch APIs allow specifying one or more indices in the URI path of an HTTP request, for example the [Search API](https://www.elastic.co/guide/en/elasticsearch/reference/5.5/search-search.html#search-multi-index-type) allows this:\r\n\r\n```\r\nGET /kimchy,elasticsearch/tweet/_search?q=tag:wow\r\n```\r\n\r\nWhile this is great, it falls short if the list of indices is very long and exceeds roughly 4 KB, which is the default HTTP initial line length (`http.max_initial_line_length`, [HTTP > Settings](https://www.elastic.co/guide/en/elasticsearch/reference/5.5/modules-http.html#_settings_2)).\r\n\r\nAlthough 4 KB sounds pretty big and \"ought to be enough for anybody\", there are quite a few real-life scenarios in which that limit can be hit.\r\n\r\n**Example scenario:**\r\n\r\nImagine a logging use case with daily rotated indices with the following naming scheme:\r\n```\r\nlogstash_YYYY_mm_dd\r\n```\r\n\r\nThe length of a single index name following this schema is 20 bytes, so it's possible to fit roughly 200 index names in a single query (4096 / 20 = 24.8, not including any other parts of the URI), which isn't much more than half a year worth of logs.\r\n\r\nI'm aware that there might be performance problems when including a large number of indices in a query, but given the resources of the Elasticsearch cluster are sufficient, I don't see a reason why not allowing to query a large number of indices.\r\n\r\nA workaround for this would be to use wildcards as index name (e. g. `logstash_*`) which might include more indices than necessary and make the performance impact of such a query worse, or use Curator to reindex the documents of multiple indices into a single index (e. g. each week or month) which might cause problems due to the index/shard sizes.","closed_by":{"login":"eskibars","id":2246002,"node_id":"MDQ6VXNlcjIyNDYwMDI=","avatar_url":"https://avatars0.githubusercontent.com/u/2246002?v=4","gravatar_id":"","url":"https://api.github.com/users/eskibars","html_url":"https://github.com/eskibars","followers_url":"https://api.github.com/users/eskibars/followers","following_url":"https://api.github.com/users/eskibars/following{/other_user}","gists_url":"https://api.github.com/users/eskibars/gists{/gist_id}","starred_url":"https://api.github.com/users/eskibars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eskibars/subscriptions","organizations_url":"https://api.github.com/users/eskibars/orgs","repos_url":"https://api.github.com/users/eskibars/repos","events_url":"https://api.github.com/users/eskibars/events{/privacy}","received_events_url":"https://api.github.com/users/eskibars/received_events","type":"User","site_admin":false},"performed_via_github_app":null}