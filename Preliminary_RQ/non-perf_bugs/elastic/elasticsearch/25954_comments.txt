[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/318788013","html_url":"https://github.com/elastic/elasticsearch/issues/25954#issuecomment-318788013","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25954","id":318788013,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODc4ODAxMw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-07-29T00:05:54Z","updated_at":"2017-07-29T00:05:54Z","author_association":"MEMBER","body":"This is intentional. We allow no leniency here, do not browse the modules and plugins folders in Finder and the .DS_Store entries will not appear. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/327819225","html_url":"https://github.com/elastic/elasticsearch/issues/25954#issuecomment-327819225","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25954","id":327819225,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzgxOTIyNQ==","user":{"login":"nerophon","id":4341829,"node_id":"MDQ6VXNlcjQzNDE4Mjk=","avatar_url":"https://avatars1.githubusercontent.com/u/4341829?v=4","gravatar_id":"","url":"https://api.github.com/users/nerophon","html_url":"https://github.com/nerophon","followers_url":"https://api.github.com/users/nerophon/followers","following_url":"https://api.github.com/users/nerophon/following{/other_user}","gists_url":"https://api.github.com/users/nerophon/gists{/gist_id}","starred_url":"https://api.github.com/users/nerophon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nerophon/subscriptions","organizations_url":"https://api.github.com/users/nerophon/orgs","repos_url":"https://api.github.com/users/nerophon/repos","events_url":"https://api.github.com/users/nerophon/events{/privacy}","received_events_url":"https://api.github.com/users/nerophon/received_events","type":"User","site_admin":false},"created_at":"2017-09-07T14:36:28Z","updated_at":"2017-09-07T14:36:45Z","author_association":"NONE","body":"@jasontedor I browsed the folders one time. Then deleted the files. But MacOS now keeps recreating them (though not immediately...). I'm all for discipline in general, but can we not help our customers out by ignoring hidden files or something? I mean, who would deliberately hide a plugin file, then complain about ES not finding it?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/334924527","html_url":"https://github.com/elastic/elasticsearch/issues/25954#issuecomment-334924527","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25954","id":334924527,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDkyNDUyNw==","user":{"login":"Sumaccamus","id":30240820,"node_id":"MDQ6VXNlcjMwMjQwODIw","avatar_url":"https://avatars1.githubusercontent.com/u/30240820?v=4","gravatar_id":"","url":"https://api.github.com/users/Sumaccamus","html_url":"https://github.com/Sumaccamus","followers_url":"https://api.github.com/users/Sumaccamus/followers","following_url":"https://api.github.com/users/Sumaccamus/following{/other_user}","gists_url":"https://api.github.com/users/Sumaccamus/gists{/gist_id}","starred_url":"https://api.github.com/users/Sumaccamus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sumaccamus/subscriptions","organizations_url":"https://api.github.com/users/Sumaccamus/orgs","repos_url":"https://api.github.com/users/Sumaccamus/repos","events_url":"https://api.github.com/users/Sumaccamus/events{/privacy}","received_events_url":"https://api.github.com/users/Sumaccamus/received_events","type":"User","site_admin":false},"created_at":"2017-10-07T10:08:57Z","updated_at":"2017-10-07T10:08:57Z","author_association":"NONE","body":"`sudo find /Path/to/your/elasticsearch-folder -name \".DS_Store\" -depth -exec rm {} \\;`","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367794807","html_url":"https://github.com/elastic/elasticsearch/issues/25954#issuecomment-367794807","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25954","id":367794807,"node_id":"MDEyOklzc3VlQ29tbWVudDM2Nzc5NDgwNw==","user":{"login":"Madko","id":175290,"node_id":"MDQ6VXNlcjE3NTI5MA==","avatar_url":"https://avatars1.githubusercontent.com/u/175290?v=4","gravatar_id":"","url":"https://api.github.com/users/Madko","html_url":"https://github.com/Madko","followers_url":"https://api.github.com/users/Madko/followers","following_url":"https://api.github.com/users/Madko/following{/other_user}","gists_url":"https://api.github.com/users/Madko/gists{/gist_id}","starred_url":"https://api.github.com/users/Madko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Madko/subscriptions","organizations_url":"https://api.github.com/users/Madko/orgs","repos_url":"https://api.github.com/users/Madko/repos","events_url":"https://api.github.com/users/Madko/events{/privacy}","received_events_url":"https://api.github.com/users/Madko/received_events","type":"User","site_admin":false},"created_at":"2018-02-22T19:34:56Z","updated_at":"2018-02-22T19:34:56Z","author_association":"NONE","body":"Hi,\r\n I've just had this issue on RHEL/CentOS 7. After upgrading from Elasticsearch 5.x (elasticsearch-5.0.0_alpha5-1.noarch) it's seem that the 6.2 rpm doesn't clean some old directories in /usr/share/elasticsearch/modules:\r\n\r\n/usr/share/elasticsearch/modules/lang-groovy\r\n/usr/share/elasticsearch/modules/transport-netty3\r\n\r\nSo after upgrade ES was unable to start:\r\n\r\n```\r\n[2018-02-22T19:25:16,394][INFO ][o.e.n.Node               ] [collect01] JVM arguments [-Xms1g, -Xmx1g, -XX:+UseConcMarkSweepGC, -XX:CMSInitiatingOccupancyFraction=75, -XX:+UseCMSInitiatingOccupancyOnly, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -XX:-OmitStackTraceInFastThrow, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Djava.io.tmpdir=/tmp/elasticsearch.4QqwfVQs, -XX:+HeapDumpOnOutOfMemoryError, -XX:HeapDumpPath=/var/lib/elasticsearch, -XX:+PrintGCDetails, -XX:+PrintGCDateStamps, -XX:+PrintTenuringDistribution, -XX:+PrintGCApplicationStoppedTime, -Xloggc:/var/log/elasticsearch/gc.log, -XX:+UseGCLogFileRotation, -XX:NumberOfGCLogFiles=32, -XX:GCLogFileSize=64m, -Des.path.home=/usr/share/elasticsearch, -Des.path.conf=/etc/elasticsearch]\r\n[2018-02-22T19:25:16,402][ERROR][o.e.b.Bootstrap          ] Exception\r\njava.lang.IllegalStateException: Unable to initialize modules\r\n\tat org.elasticsearch.plugins.PluginsService.<init>(PluginsService.java:125) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:303) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:246) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:213) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:213) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:323) [elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:121) [elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:112) [elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) [elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) [elasticsearch-cli-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.cli.Command.main(Command.java:90) [elasticsearch-cli-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92) [elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:85) [elasticsearch-6.2.2.jar:6.2.2]\r\nCaused by: java.nio.file.NoSuchFileException: /usr/share/elasticsearch/modules/lang-groovy/plugin-descriptor.properties\r\n\tat sun.nio.fs.UnixException.translateToIOException(UnixException.java:86) ~[?:?]\r\n\tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102) ~[?:?]\r\n\tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107) ~[?:?]\r\n\tat sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214) ~[?:?]\r\n\tat java.nio.file.Files.newByteChannel(Files.java:361) ~[?:1.8.0_161]\r\n\tat java.nio.file.Files.newByteChannel(Files.java:407) ~[?:1.8.0_161]\r\n\tat java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384) ~[?:1.8.0_161]\r\n\tat java.nio.file.Files.newInputStream(Files.java:152) ~[?:1.8.0_161]\r\n\tat org.elasticsearch.plugins.PluginInfo.readFromProperties(PluginInfo.java:202) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.plugins.PluginInfo.readFromProperties(PluginInfo.java:184) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.plugins.PluginsService.getModuleBundles(PluginsService.java:290) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.plugins.PluginsService.<init>(PluginsService.java:119) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\t... 12 more\r\n[2018-02-22T19:25:16,410][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [collect01.virt.linuxed.net] uncaught exception in thread [main]\r\norg.elasticsearch.bootstrap.StartupException: java.lang.IllegalStateException: Unable to initialize modules\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:125) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:112) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) ~[elasticsearch-cli-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.cli.Command.main(Command.java:90) ~[elasticsearch-cli-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:85) ~[elasticsearch-6.2.2.jar:6.2.2]\r\nCaused by: java.lang.IllegalStateException: Unable to initialize modules\r\n\tat org.elasticsearch.plugins.PluginsService.<init>(PluginsService.java:125) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:303) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:246) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:213) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:213) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:323) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:121) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\t... 6 more\r\nCaused by: java.nio.file.NoSuchFileException: /usr/share/elasticsearch/modules/lang-groovy/plugin-descriptor.properties\r\n\tat sun.nio.fs.UnixException.translateToIOException(UnixException.java:86) ~[?:?]\r\n\tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102) ~[?:?]\r\n\tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107) ~[?:?]\r\n\tat sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214) ~[?:?]\r\n\tat java.nio.file.Files.newByteChannel(Files.java:361) ~[?:1.8.0_161]\r\n\tat java.nio.file.Files.newByteChannel(Files.java:407) ~[?:1.8.0_161]\r\n\tat java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384) ~[?:1.8.0_161]\r\n\tat java.nio.file.Files.newInputStream(Files.java:152) ~[?:1.8.0_161]\r\n\tat org.elasticsearch.plugins.PluginInfo.readFromProperties(PluginInfo.java:202) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.plugins.PluginInfo.readFromProperties(PluginInfo.java:184) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.plugins.PluginsService.getModuleBundles(PluginsService.java:290) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.plugins.PluginsService.<init>(PluginsService.java:119) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:303) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:246) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:213) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:213) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:323) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:121) ~[elasticsearch-6.2.2.jar:6.2.2]\r\n\t... 6 more\r\n```\r\n\r\nBest regards,\r\nEdouard","performed_via_github_app":null}]