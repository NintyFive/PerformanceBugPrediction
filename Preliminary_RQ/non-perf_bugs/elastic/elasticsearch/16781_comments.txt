[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/188990071","html_url":"https://github.com/elastic/elasticsearch/issues/16781#issuecomment-188990071","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16781","id":188990071,"node_id":"MDEyOklzc3VlQ29tbWVudDE4ODk5MDA3MQ==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2016-02-25T21:08:58Z","updated_at":"2016-02-25T21:08:58Z","author_association":"MEMBER","body":"I believe we may need to change the way the RPM is built to ensure `%config(noreplace)` is in the file, @rjernst I pinged you about this, do you know the gradle invocation to do that?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/188990362","html_url":"https://github.com/elastic/elasticsearch/issues/16781#issuecomment-188990362","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16781","id":188990362,"node_id":"MDEyOklzc3VlQ29tbWVudDE4ODk5MDM2Mg==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2016-02-25T21:09:56Z","updated_at":"2016-02-25T21:09:56Z","author_association":"MEMBER","body":"Related: http://www-uxsup.csx.cam.ac.uk/%7Ejw35/docs/rpm_config.html\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/189006836","html_url":"https://github.com/elastic/elasticsearch/issues/16781#issuecomment-189006836","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16781","id":189006836,"node_id":"MDEyOklzc3VlQ29tbWVudDE4OTAwNjgzNg==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2016-02-25T22:07:34Z","updated_at":"2016-02-25T22:07:34Z","author_association":"MEMBER","body":"Also related: https://bugzilla.redhat.com/show_bug.cgi?id=1296308\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/190628952","html_url":"https://github.com/elastic/elasticsearch/issues/16781#issuecomment-190628952","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16781","id":190628952,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDYyODk1Mg==","user":{"login":"rbw","id":1263192,"node_id":"MDQ6VXNlcjEyNjMxOTI=","avatar_url":"https://avatars3.githubusercontent.com/u/1263192?v=4","gravatar_id":"","url":"https://api.github.com/users/rbw","html_url":"https://github.com/rbw","followers_url":"https://api.github.com/users/rbw/followers","following_url":"https://api.github.com/users/rbw/following{/other_user}","gists_url":"https://api.github.com/users/rbw/gists{/gist_id}","starred_url":"https://api.github.com/users/rbw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rbw/subscriptions","organizations_url":"https://api.github.com/users/rbw/orgs","repos_url":"https://api.github.com/users/rbw/repos","events_url":"https://api.github.com/users/rbw/events{/privacy}","received_events_url":"https://api.github.com/users/rbw/received_events","type":"User","site_admin":false},"created_at":"2016-03-01T09:18:28Z","updated_at":"2016-03-01T09:18:28Z","author_association":"NONE","body":"I can help look into this\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/190629059","html_url":"https://github.com/elastic/elasticsearch/issues/16781#issuecomment-190629059","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16781","id":190629059,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDYyOTA1OQ==","user":{"login":"rbw","id":1263192,"node_id":"MDQ6VXNlcjEyNjMxOTI=","avatar_url":"https://avatars3.githubusercontent.com/u/1263192?v=4","gravatar_id":"","url":"https://api.github.com/users/rbw","html_url":"https://github.com/rbw","followers_url":"https://api.github.com/users/rbw/followers","following_url":"https://api.github.com/users/rbw/following{/other_user}","gists_url":"https://api.github.com/users/rbw/gists{/gist_id}","starred_url":"https://api.github.com/users/rbw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rbw/subscriptions","organizations_url":"https://api.github.com/users/rbw/orgs","repos_url":"https://api.github.com/users/rbw/repos","events_url":"https://api.github.com/users/rbw/events{/privacy}","received_events_url":"https://api.github.com/users/rbw/received_events","type":"User","site_admin":false},"created_at":"2016-03-01T09:19:03Z","updated_at":"2016-03-01T09:19:03Z","author_association":"NONE","body":"if you want that is, let me know :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/191305279","html_url":"https://github.com/elastic/elasticsearch/issues/16781#issuecomment-191305279","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16781","id":191305279,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MTMwNTI3OQ==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2016-03-02T16:08:06Z","updated_at":"2016-03-02T16:08:06Z","author_association":"MEMBER","body":"@rbw0 that would be great, if I recall @rjernst saying, we need to change the gradle calling of the rpm package to include the noreplace. I think this should be a pretty straightforward change, the hardest part is figuring out where it should go :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/191506647","html_url":"https://github.com/elastic/elasticsearch/issues/16781#issuecomment-191506647","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16781","id":191506647,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MTUwNjY0Nw==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-03-03T00:24:35Z","updated_at":"2016-03-03T00:24:35Z","author_association":"MEMBER","body":"I have a simple change here (6dffaba) that I have confirmed \"works\" as far as the attributes are set on deb and rpm. However, I don't want to put up a PR until we can actually test with vagrant. So this is blocked on #16854.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/198512711","html_url":"https://github.com/elastic/elasticsearch/issues/16781#issuecomment-198512711","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16781","id":198512711,"node_id":"MDEyOklzc3VlQ29tbWVudDE5ODUxMjcxMQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-03-18T19:34:46Z","updated_at":"2016-03-18T19:35:35Z","author_association":"MEMBER","body":"@rjernst I picked 6dffaba2483a445845266255cab9c584c3681d28 into #17197 where I included a test.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/199902246","html_url":"https://github.com/elastic/elasticsearch/issues/16781#issuecomment-199902246","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16781","id":199902246,"node_id":"MDEyOklzc3VlQ29tbWVudDE5OTkwMjI0Ng==","user":{"login":"Xylakant","id":337823,"node_id":"MDQ6VXNlcjMzNzgyMw==","avatar_url":"https://avatars0.githubusercontent.com/u/337823?v=4","gravatar_id":"","url":"https://api.github.com/users/Xylakant","html_url":"https://github.com/Xylakant","followers_url":"https://api.github.com/users/Xylakant/followers","following_url":"https://api.github.com/users/Xylakant/following{/other_user}","gists_url":"https://api.github.com/users/Xylakant/gists{/gist_id}","starred_url":"https://api.github.com/users/Xylakant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Xylakant/subscriptions","organizations_url":"https://api.github.com/users/Xylakant/orgs","repos_url":"https://api.github.com/users/Xylakant/repos","events_url":"https://api.github.com/users/Xylakant/events{/privacy}","received_events_url":"https://api.github.com/users/Xylakant/received_events","type":"User","site_admin":false},"created_at":"2016-03-22T16:51:52Z","updated_at":"2016-03-22T16:53:38Z","author_association":"NONE","body":"The proper way to solve this is to use systemd's override capabilities which are designed to solve this issue. Do not modify the rpm-provided file, but provide an override snippet in /etc/systemd/system/elasticsearch.service.d/<pick a filename>. The file should look somewhat like this\n\n```\n[Service]\nLimitNOFILE=256000\nLimitMEMLOCK=infinity\n```\n\nSince the override snippet is not part of the package it won't get overwritten on update. See the systemd docs and the excellent digitalocean tutorial at https://www.digitalocean.com/community/tutorials/understanding-systemd-units-and-unit-files\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/201086692","html_url":"https://github.com/elastic/elasticsearch/issues/16781#issuecomment-201086692","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16781","id":201086692,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMTA4NjY5Mg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-03-25T00:45:07Z","updated_at":"2016-03-25T00:45:07Z","author_association":"MEMBER","body":"> The proper way to solve this is to use systemd's override capabilities which are designed to solve this issue.\n\nYes, that's the plan, we just need to add documentation and tests for this. Thanks for the link, I think that it will be helpful for some.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/201087335","html_url":"https://github.com/elastic/elasticsearch/issues/16781#issuecomment-201087335","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16781","id":201087335,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMTA4NzMzNQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-03-25T00:50:27Z","updated_at":"2016-03-25T00:50:27Z","author_association":"MEMBER","body":"> I picked 6dffaba2483a445845266255cab9c584c3681d28 into #17197 where I included a test.\n\n@rjernst I backed this out of #17197; I ran into some discrepancies between RPM 4.8.x on CentOS 6 and RPM 4.11.y on CentOS 7 in how it handles `/etc/elasticsearch/scripts` and I think it'd be better to more carefully investigate the cause of the discrepancies in a separate pull request.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/264562651","html_url":"https://github.com/elastic/elasticsearch/issues/16781#issuecomment-264562651","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16781","id":264562651,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDU2MjY1MQ==","user":{"login":"seang-es","id":6352850,"node_id":"MDQ6VXNlcjYzNTI4NTA=","avatar_url":"https://avatars1.githubusercontent.com/u/6352850?v=4","gravatar_id":"","url":"https://api.github.com/users/seang-es","html_url":"https://github.com/seang-es","followers_url":"https://api.github.com/users/seang-es/followers","following_url":"https://api.github.com/users/seang-es/following{/other_user}","gists_url":"https://api.github.com/users/seang-es/gists{/gist_id}","starred_url":"https://api.github.com/users/seang-es/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seang-es/subscriptions","organizations_url":"https://api.github.com/users/seang-es/orgs","repos_url":"https://api.github.com/users/seang-es/repos","events_url":"https://api.github.com/users/seang-es/events{/privacy}","received_events_url":"https://api.github.com/users/seang-es/received_events","type":"User","site_admin":false},"created_at":"2016-12-02T21:06:30Z","updated_at":"2016-12-02T21:06:30Z","author_association":"NONE","body":"java.options is affected by this as well.  Will fixes taking advantage of systemd's override capability affect that file?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/267833853","html_url":"https://github.com/elastic/elasticsearch/issues/16781#issuecomment-267833853","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16781","id":267833853,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NzgzMzg1Mw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-12-18T17:21:54Z","updated_at":"2016-12-18T17:21:54Z","author_association":"MEMBER","body":"This is covered in the [docs](https://www.elastic.co/guide/en/elasticsearch/reference/5.0/setting-system-settings.html#systemd) now.","performed_via_github_app":null}]