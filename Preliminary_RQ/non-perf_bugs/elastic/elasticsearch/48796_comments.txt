[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/548736153","html_url":"https://github.com/elastic/elasticsearch/issues/48796#issuecomment-548736153","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48796","id":548736153,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODczNjE1Mw==","user":{"login":"russcam","id":208231,"node_id":"MDQ6VXNlcjIwODIzMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/208231?v=4","gravatar_id":"","url":"https://api.github.com/users/russcam","html_url":"https://github.com/russcam","followers_url":"https://api.github.com/users/russcam/followers","following_url":"https://api.github.com/users/russcam/following{/other_user}","gists_url":"https://api.github.com/users/russcam/gists{/gist_id}","starred_url":"https://api.github.com/users/russcam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/russcam/subscriptions","organizations_url":"https://api.github.com/users/russcam/orgs","repos_url":"https://api.github.com/users/russcam/repos","events_url":"https://api.github.com/users/russcam/events{/privacy}","received_events_url":"https://api.github.com/users/russcam/received_events","type":"User","site_admin":false},"created_at":"2019-11-01T10:11:50Z","updated_at":"2019-11-01T10:11:50Z","author_association":"CONTRIBUTOR","body":"Thanks for raising @DaveCTurner. \r\n\r\nI think this issue should be opened on https://github.com/elastic/elasticsearch, as it looks like it relates to running the zip distribution as a Windows Service; looking at the screenshot. is looks to be using Apache Commons Daemon, which is what the zip distribution uses to run Elasticsearch as a Windows Service.\r\n\r\nThe MSI installation overwrites the heap values in jvm.options, so the default values are overridden. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/548746563","html_url":"https://github.com/elastic/elasticsearch/issues/48796#issuecomment-548746563","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48796","id":548746563,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODc0NjU2Mw==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2019-11-01T10:49:54Z","updated_at":"2019-11-01T10:49:54Z","author_association":"CONTRIBUTOR","body":"Thanks @russcam, I've moved this to the main Elasticsearch repo.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/548746600","html_url":"https://github.com/elastic/elasticsearch/issues/48796#issuecomment-548746600","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48796","id":548746600,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODc0NjYwMA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-11-01T10:50:02Z","updated_at":"2019-11-01T10:50:02Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra (:Core/Infra/Packaging)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/553060967","html_url":"https://github.com/elastic/elasticsearch/issues/48796#issuecomment-553060967","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48796","id":553060967,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzA2MDk2Nw==","user":{"login":"williamrandolph","id":3253644,"node_id":"MDQ6VXNlcjMyNTM2NDQ=","avatar_url":"https://avatars3.githubusercontent.com/u/3253644?v=4","gravatar_id":"","url":"https://api.github.com/users/williamrandolph","html_url":"https://github.com/williamrandolph","followers_url":"https://api.github.com/users/williamrandolph/followers","following_url":"https://api.github.com/users/williamrandolph/following{/other_user}","gists_url":"https://api.github.com/users/williamrandolph/gists{/gist_id}","starred_url":"https://api.github.com/users/williamrandolph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/williamrandolph/subscriptions","organizations_url":"https://api.github.com/users/williamrandolph/orgs","repos_url":"https://api.github.com/users/williamrandolph/repos","events_url":"https://api.github.com/users/williamrandolph/events{/privacy}","received_events_url":"https://api.github.com/users/williamrandolph/received_events","type":"User","site_admin":false},"created_at":"2019-11-12T19:02:40Z","updated_at":"2019-11-12T19:02:40Z","author_association":"CONTRIBUTOR","body":"It looks like the setup here is controlled by an invocation in `bin\\elasticsearch-service.bat`. We're parsing Xmx and Xms values out of the java options string and feeding them into the Commons Daemon service setup, but we're not then removing those values from the options string, leading to the redundancy and potential for drift we see above.\r\n\r\nConceptually, the fix is simple — remove the Xmx/Xms settings from the options string after parsing them — but the work will be figuring out how to make that happen in a Windows batch script.","performed_via_github_app":null}]