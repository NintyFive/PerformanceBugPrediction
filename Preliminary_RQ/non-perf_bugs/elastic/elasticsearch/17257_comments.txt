[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/200368602","html_url":"https://github.com/elastic/elasticsearch/issues/17257#issuecomment-200368602","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17257","id":200368602,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMDM2ODYwMg==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2016-03-23T14:31:20Z","updated_at":"2016-03-23T14:33:02Z","author_association":"MEMBER","body":"This is due to a bug in the work-around for sorting which was put in so we could parse the search request on the coordinating node but defer things that had not yet been refactored (e.g. sort) until we got to the shard. The parsing code stores each element of the sort in a list in the request on the coordinating node and then tries to read each element as JSON on the shard. Which doesn't work if the element is a string instead of JSON. Note that the workaround is only present in 5.0 so this is the only version affected by this bug\n\nThe sort refactoring is almost complete (see #17205) so I this can be closed when that PR is merged. @cbuescher is adding a test to that PR to test this problem and ensure it works in the refactored sort code.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/200386376","html_url":"https://github.com/elastic/elasticsearch/issues/17257#issuecomment-200386376","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17257","id":200386376,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMDM4NjM3Ng==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2016-03-23T15:09:00Z","updated_at":"2016-03-23T15:09:00Z","author_association":"MEMBER","body":"Added test for parsing this kind of syntax (e319985) and just tried this manually on #17205, this should be fixed once that PR is in.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/200388229","html_url":"https://github.com/elastic/elasticsearch/issues/17257#issuecomment-200388229","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17257","id":200388229,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMDM4ODIyOQ==","user":{"login":"HonzaKral","id":32132,"node_id":"MDQ6VXNlcjMyMTMy","avatar_url":"https://avatars0.githubusercontent.com/u/32132?v=4","gravatar_id":"","url":"https://api.github.com/users/HonzaKral","html_url":"https://github.com/HonzaKral","followers_url":"https://api.github.com/users/HonzaKral/followers","following_url":"https://api.github.com/users/HonzaKral/following{/other_user}","gists_url":"https://api.github.com/users/HonzaKral/gists{/gist_id}","starred_url":"https://api.github.com/users/HonzaKral/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HonzaKral/subscriptions","organizations_url":"https://api.github.com/users/HonzaKral/orgs","repos_url":"https://api.github.com/users/HonzaKral/repos","events_url":"https://api.github.com/users/HonzaKral/events{/privacy}","received_events_url":"https://api.github.com/users/HonzaKral/received_events","type":"User","site_admin":false},"created_at":"2016-03-23T15:12:56Z","updated_at":"2016-03-23T15:12:56Z","author_association":"MEMBER","body":"Thanks @cbuescher!\n\nIn the mean time, if anybody finds this, I added a work around to my tests - just do `{\"sort\": \"number\"}` instead.\n","performed_via_github_app":null}]