{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/27982","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27982/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27982/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27982/events","html_url":"https://github.com/elastic/elasticsearch/issues/27982","id":284436933,"node_id":"MDU6SXNzdWUyODQ0MzY5MzM=","number":27982,"title":" accurate QPS from user's perspective","user":{"login":"panffeng","id":6678670,"node_id":"MDQ6VXNlcjY2Nzg2NzA=","avatar_url":"https://avatars1.githubusercontent.com/u/6678670?v=4","gravatar_id":"","url":"https://api.github.com/users/panffeng","html_url":"https://github.com/panffeng","followers_url":"https://api.github.com/users/panffeng/followers","following_url":"https://api.github.com/users/panffeng/following{/other_user}","gists_url":"https://api.github.com/users/panffeng/gists{/gist_id}","starred_url":"https://api.github.com/users/panffeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panffeng/subscriptions","organizations_url":"https://api.github.com/users/panffeng/orgs","repos_url":"https://api.github.com/users/panffeng/repos","events_url":"https://api.github.com/users/panffeng/events{/privacy}","received_events_url":"https://api.github.com/users/panffeng/received_events","type":"User","site_admin":false},"labels":[{"id":146836529,"node_id":"MDU6TGFiZWwxNDY4MzY1Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Stats","name":":Core/Features/Stats","color":"0e8a16","default":false,"description":"Statistics tracking and retrieval APIs"},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"assignees":[{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2017-12-25T11:01:21Z","updated_at":"2018-01-05T15:38:13Z","closed_at":"2018-01-05T15:38:13Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n\r\n** Please read the guidelines below. **\r\n\r\nIssues that do not follow these guidelines are likely to be closed.\r\n\r\n1.  GitHub is reserved for bug reports and feature requests. The best place to\r\n    ask a general question is at the Elastic [forums](https://discuss.elastic.co).\r\n    GitHub is not the place for general questions.\r\n\r\n2.  Is this bug report or feature request for a supported OS? If not, it\r\n    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os\r\n\r\n3.  Please fill out EITHER the feature request block or the bug report block\r\n    below, and delete the other block.\r\n\r\n-->\r\n\r\n<!-- Feature request -->\r\n\r\n**Describe the feature**: Elasticsearch keeps the stats for indices and shards as _stat shows. From user's perspective, users are often at loss to figure out query rates of searching and indexing for cluster level or among clusters, which should be ideally consistent to the QPS user sends queries with.  Yet, the numbers from _stat are affected by many factors like primary shard numbers, replica numbers and different settings for various indices.\r\n\r\nhttps://discuss.elastic.co/t/marvel-what-does-the-search-rate-mean/35260 shows a frequent confusion users are dealing with when _stat is referred directly.\r\n\r\nThe user's perspective stats should be kept about total searching queries executed by coordinate nodes for searching QPS and total indexing queries done by primary shards for indexing QPS.\r\n\r\nThe user's perspective stats are very important especially when there is more than one cluster serving users. The total of traffic distributed among clusters should be equal to the user's QPS.\r\n\r\nSo, it would be nice to have user's perspective stats at cluster level that give out user's indexing QPS or count and searching QPS or count directly. \r\n\r\n\r\n\r\n\r\n","closed_by":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"performed_via_github_app":null}