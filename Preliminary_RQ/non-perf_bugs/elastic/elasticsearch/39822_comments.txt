[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/470794977","html_url":"https://github.com/elastic/elasticsearch/issues/39822#issuecomment-470794977","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39822","id":470794977,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDc5NDk3Nw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-03-08T03:48:28Z","updated_at":"2019-03-08T03:48:28Z","author_association":"MEMBER","body":"First, we do not support 2.4.6 anymore, that version is long past end of life. Second, we have made some changes in later versions so that we *do* lazy resolve IP DNS lookups for discovery (see #21630). That's only available from 5.1.1. However, for that to be effective, we must circumvent the fact that the JVM will indefinitely cache positive DNS lookups if a security manager is present (which Elasticsearch runs with). In the past we required that users that were impacted by this behavior to circumvent it themselves, by changing some low-level JVM settings. However, since #36570 we now do this on behalf of all users. In short:\r\n - 2.4.6 is not supported\r\n - we re-resolve DNS lookups for discovery now\r\n - we avoid the JVM indefinitely caching positive DNS lookups so these re-resolves are effective.\r\n\r\nTo summarize: please upgrade. üôè ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/470795037","html_url":"https://github.com/elastic/elasticsearch/issues/39822#issuecomment-470795037","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39822","id":470795037,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDc5NTAzNw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-03-08T03:48:46Z","updated_at":"2019-03-08T03:48:46Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/470818215","html_url":"https://github.com/elastic/elasticsearch/issues/39822#issuecomment-470818215","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39822","id":470818215,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDgxODIxNQ==","user":{"login":"manojtr","id":7928180,"node_id":"MDQ6VXNlcjc5MjgxODA=","avatar_url":"https://avatars0.githubusercontent.com/u/7928180?v=4","gravatar_id":"","url":"https://api.github.com/users/manojtr","html_url":"https://github.com/manojtr","followers_url":"https://api.github.com/users/manojtr/followers","following_url":"https://api.github.com/users/manojtr/following{/other_user}","gists_url":"https://api.github.com/users/manojtr/gists{/gist_id}","starred_url":"https://api.github.com/users/manojtr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manojtr/subscriptions","organizations_url":"https://api.github.com/users/manojtr/orgs","repos_url":"https://api.github.com/users/manojtr/repos","events_url":"https://api.github.com/users/manojtr/events{/privacy}","received_events_url":"https://api.github.com/users/manojtr/received_events","type":"User","site_admin":false},"created_at":"2019-03-08T06:13:08Z","updated_at":"2019-03-08T06:13:23Z","author_association":"NONE","body":"@jasontedor Thank you so much for the explanation. Now we are sure what exactly the problem is and no need to spend more time to troubleshoot  \r\n\r\nWe are working towards the upgrade and this is the first step for it. Placing es in aws/k8s enable us to upgrade faster without much infra issues.","performed_via_github_app":null}]