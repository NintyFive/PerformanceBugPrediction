[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/64765359","html_url":"https://github.com/elastic/elasticsearch/issues/8650#issuecomment-64765359","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8650","id":64765359,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzY1MzU5","user":{"login":"miccon","id":455015,"node_id":"MDQ6VXNlcjQ1NTAxNQ==","avatar_url":"https://avatars3.githubusercontent.com/u/455015?v=4","gravatar_id":"","url":"https://api.github.com/users/miccon","html_url":"https://github.com/miccon","followers_url":"https://api.github.com/users/miccon/followers","following_url":"https://api.github.com/users/miccon/following{/other_user}","gists_url":"https://api.github.com/users/miccon/gists{/gist_id}","starred_url":"https://api.github.com/users/miccon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miccon/subscriptions","organizations_url":"https://api.github.com/users/miccon/orgs","repos_url":"https://api.github.com/users/miccon/repos","events_url":"https://api.github.com/users/miccon/events{/privacy}","received_events_url":"https://api.github.com/users/miccon/received_events","type":"User","site_admin":false},"created_at":"2014-11-27T09:28:49Z","updated_at":"2014-11-27T09:28:49Z","author_association":"NONE","body":"Will this also be fixed on the 1.4 branch?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/64816010","html_url":"https://github.com/elastic/elasticsearch/issues/8650#issuecomment-64816010","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8650","id":64816010,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODE2MDEw","user":{"login":"brwe","id":4320215,"node_id":"MDQ6VXNlcjQzMjAyMTU=","avatar_url":"https://avatars0.githubusercontent.com/u/4320215?v=4","gravatar_id":"","url":"https://api.github.com/users/brwe","html_url":"https://github.com/brwe","followers_url":"https://api.github.com/users/brwe/followers","following_url":"https://api.github.com/users/brwe/following{/other_user}","gists_url":"https://api.github.com/users/brwe/gists{/gist_id}","starred_url":"https://api.github.com/users/brwe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brwe/subscriptions","organizations_url":"https://api.github.com/users/brwe/orgs","repos_url":"https://api.github.com/users/brwe/repos","events_url":"https://api.github.com/users/brwe/events{/privacy}","received_events_url":"https://api.github.com/users/brwe/received_events","type":"User","site_admin":false},"created_at":"2014-11-27T17:30:39Z","updated_at":"2014-11-27T17:30:39Z","author_association":"CONTRIBUTOR","body":"Yes. \n\nTo fix this, there is two options:\n1. make sure the type is not created if indexing fails\n2. update the mapping on master even if indexing of doc failed\n\nOption 1 is rather tricky to implement and I do not see why the type should not be created in the mapping so I'll make a pr for option 2 shortly.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/64866445","html_url":"https://github.com/elastic/elasticsearch/issues/8650#issuecomment-64866445","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8650","id":64866445,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODY2NDQ1","user":{"login":"miccon","id":455015,"node_id":"MDQ6VXNlcjQ1NTAxNQ==","avatar_url":"https://avatars3.githubusercontent.com/u/455015?v=4","gravatar_id":"","url":"https://api.github.com/users/miccon","html_url":"https://github.com/miccon","followers_url":"https://api.github.com/users/miccon/followers","following_url":"https://api.github.com/users/miccon/following{/other_user}","gists_url":"https://api.github.com/users/miccon/gists{/gist_id}","starred_url":"https://api.github.com/users/miccon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miccon/subscriptions","organizations_url":"https://api.github.com/users/miccon/orgs","repos_url":"https://api.github.com/users/miccon/repos","events_url":"https://api.github.com/users/miccon/events{/privacy}","received_events_url":"https://api.github.com/users/miccon/received_events","type":"User","site_admin":false},"created_at":"2014-11-28T08:15:37Z","updated_at":"2014-11-28T08:15:37Z","author_association":"NONE","body":"I just checked 0992e7f, but https://gist.github.com/miccon/a4869fe04f9010015861 still fails.\n\nI suppose that when the mapping is created after the failed indexing request, the _all mapping is set to true (by default) and then the _all cannot by set to false anymore.\n\nIMHO not creating the type at all would be the cleaner solution, because even when the default mapping is set to strict creating the type can prevent you from updating the mapping later on (as the _all mapping is created automatically).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/75796189","html_url":"https://github.com/elastic/elasticsearch/issues/8650#issuecomment-75796189","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8650","id":75796189,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Nzk2MTg5","user":{"login":"brwe","id":4320215,"node_id":"MDQ6VXNlcjQzMjAyMTU=","avatar_url":"https://avatars0.githubusercontent.com/u/4320215?v=4","gravatar_id":"","url":"https://api.github.com/users/brwe","html_url":"https://github.com/brwe","followers_url":"https://api.github.com/users/brwe/followers","following_url":"https://api.github.com/users/brwe/following{/other_user}","gists_url":"https://api.github.com/users/brwe/gists{/gist_id}","starred_url":"https://api.github.com/users/brwe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brwe/subscriptions","organizations_url":"https://api.github.com/users/brwe/orgs","repos_url":"https://api.github.com/users/brwe/repos","events_url":"https://api.github.com/users/brwe/events{/privacy}","received_events_url":"https://api.github.com/users/brwe/received_events","type":"User","site_admin":false},"created_at":"2015-02-24T16:57:49Z","updated_at":"2015-02-24T16:57:49Z","author_association":"CONTRIBUTOR","body":"I pushed the fix for the lost mappings but as @rjernst pointed out, not updating the mapping can only be done once https://github.com/elasticsearch/elasticsearch/issues/9365 is done so I'll leave this issue open.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/104648151","html_url":"https://github.com/elastic/elasticsearch/issues/8650#issuecomment-104648151","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8650","id":104648151,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNDY0ODE1MQ==","user":{"login":"brwe","id":4320215,"node_id":"MDQ6VXNlcjQzMjAyMTU=","avatar_url":"https://avatars0.githubusercontent.com/u/4320215?v=4","gravatar_id":"","url":"https://api.github.com/users/brwe","html_url":"https://github.com/brwe","followers_url":"https://api.github.com/users/brwe/followers","following_url":"https://api.github.com/users/brwe/following{/other_user}","gists_url":"https://api.github.com/users/brwe/gists{/gist_id}","starred_url":"https://api.github.com/users/brwe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brwe/subscriptions","organizations_url":"https://api.github.com/users/brwe/orgs","repos_url":"https://api.github.com/users/brwe/repos","events_url":"https://api.github.com/users/brwe/events{/privacy}","received_events_url":"https://api.github.com/users/brwe/received_events","type":"User","site_admin":false},"created_at":"2015-05-22T12:27:16Z","updated_at":"2015-05-22T12:27:16Z","author_association":"CONTRIBUTOR","body":"fixed by https://github.com/elastic/elasticsearch/pull/10634\n","performed_via_github_app":null}]