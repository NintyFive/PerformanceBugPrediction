[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283067246","html_url":"https://github.com/elastic/elasticsearch/issues/23412#issuecomment-283067246","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23412","id":283067246,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzA2NzI0Ng==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2017-02-28T15:17:36Z","updated_at":"2017-02-28T15:17:48Z","author_association":"MEMBER","body":"There are a couple of problems in this setup. The first is the use of a two node cluster without setting [min master nodes](https://www.elastic.co/guide/en/elasticsearch/reference/5.2/modules-node.html#split-brain) to 2. This is required to make sure each node doesn't make it's own decisions while the other node is away.  This also means that a 2 node setup can not be safe and highly available. \r\n\r\nSadly, even if you used 3 nodes (add a node C to your mix), ES prior to 5.0 was too trigger happy to accept an old stale shard copy. The assumption was that you better have some data than no data at all. I.e., when node A is started, together with node C, 2.x prefered to use node A' copy rather than waiting for Node B's copy to become available. Of course, this is wrong and should be not be done automatically. This issue has been fixed in 5.x and you can read about it [here](https://www.elastic.co/blog/tracking-in-sync-shard-copies).\r\n\r\nLast, if you start a new clusters, please do use the latest 5.x. So many good things went into it and its a shame to miss them.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283070060","html_url":"https://github.com/elastic/elasticsearch/issues/23412#issuecomment-283070060","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23412","id":283070060,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzA3MDA2MA==","user":{"login":"DienNM","id":1940846,"node_id":"MDQ6VXNlcjE5NDA4NDY=","avatar_url":"https://avatars0.githubusercontent.com/u/1940846?v=4","gravatar_id":"","url":"https://api.github.com/users/DienNM","html_url":"https://github.com/DienNM","followers_url":"https://api.github.com/users/DienNM/followers","following_url":"https://api.github.com/users/DienNM/following{/other_user}","gists_url":"https://api.github.com/users/DienNM/gists{/gist_id}","starred_url":"https://api.github.com/users/DienNM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DienNM/subscriptions","organizations_url":"https://api.github.com/users/DienNM/orgs","repos_url":"https://api.github.com/users/DienNM/repos","events_url":"https://api.github.com/users/DienNM/events{/privacy}","received_events_url":"https://api.github.com/users/DienNM/received_events","type":"User","site_admin":false},"created_at":"2017-02-28T15:27:11Z","updated_at":"2017-02-28T15:27:11Z","author_association":"NONE","body":"Thank you for your explain.\r\nI am using ES 2.4.1, and I must set minimum_master_node to 2 to prevent writes. \r\nBy the way, If my data only needs to scale (disk) on X servers (Digital Ocean droplets), should I set  minimum_master_node corresponding to number of servers? ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283091037","html_url":"https://github.com/elastic/elasticsearch/issues/23412#issuecomment-283091037","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23412","id":283091037,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzA5MTAzNw==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2017-02-28T16:33:44Z","updated_at":"2017-02-28T16:33:44Z","author_association":"MEMBER","body":"@DienNM I suggest you read the documentation links I gave you.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283093903","html_url":"https://github.com/elastic/elasticsearch/issues/23412#issuecomment-283093903","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23412","id":283093903,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzA5MzkwMw==","user":{"login":"DienNM","id":1940846,"node_id":"MDQ6VXNlcjE5NDA4NDY=","avatar_url":"https://avatars0.githubusercontent.com/u/1940846?v=4","gravatar_id":"","url":"https://api.github.com/users/DienNM","html_url":"https://github.com/DienNM","followers_url":"https://api.github.com/users/DienNM/followers","following_url":"https://api.github.com/users/DienNM/following{/other_user}","gists_url":"https://api.github.com/users/DienNM/gists{/gist_id}","starred_url":"https://api.github.com/users/DienNM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DienNM/subscriptions","organizations_url":"https://api.github.com/users/DienNM/orgs","repos_url":"https://api.github.com/users/DienNM/repos","events_url":"https://api.github.com/users/DienNM/events{/privacy}","received_events_url":"https://api.github.com/users/DienNM/received_events","type":"User","site_admin":false},"created_at":"2017-02-28T16:42:45Z","updated_at":"2017-02-28T16:42:45Z","author_association":"NONE","body":"Ok. Thanks","performed_via_github_app":null}]