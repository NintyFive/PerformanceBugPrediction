{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/12799","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12799/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12799/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12799/events","html_url":"https://github.com/elastic/elasticsearch/issues/12799","id":100276510,"node_id":"MDU6SXNzdWUxMDAyNzY1MTA=","number":12799,"title":"[test] failures in MovAvgUnitTests with seed 571CCDD579600679","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"labels":[{"id":60445228,"node_id":"MDU6TGFiZWw2MDQ0NTIyOA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest","name":">test","color":"5319e7","default":false,"description":"Issues or PRs that are addressing/adding tests"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-08-11T10:07:22Z","updated_at":"2015-08-11T10:15:36Z","closed_at":"2015-08-11T10:13:12Z","author_association":"MEMBER","active_lock_reason":null,"body":"I just ran on the latest master branch `mvn clean verify` from the root dir and it failed in core module with those tests:\n\n```\nSuite: org.elasticsearch.search.aggregations.pipeline.moving.avg.MovAvgUnitTests\n  2> REPRODUCE WITH: mvn test -Pdev -Dtests.seed=571CCDD579600679 -Dtests.class=org.elasticsearch.search.aggregations.pipeline.moving.avg.MovAvgUnitTests -Dtests.method=\"testHoltWintersMultiplicativePadModel\" -Des.logger.level=ERROR -Dtests.assertion.disabled=false -Dtests.security.manager=true -Dtests.heap.size=512m -Dtests.locale=en_NZ -Dtests.timezone=Asia/Manila\nFAILURE 0.02s J0 | MovAvgUnitTests.testHoltWintersMultiplicativePadModel <<<\n   > Throwable #1: java.lang.AssertionError: \n   > Expected: <0>\n   >      but: was <1>\n   >    at __randomizedtesting.SeedInfo.seed([571CCDD579600679:B423C11EAE0C0175]:0)\n   >    at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\n   >    at org.elasticsearch.search.aggregations.pipeline.moving.avg.MovAvgUnitTests.testHoltWintersMultiplicativePadModel(MovAvgUnitTests.java:383)\n   >    at java.lang.Thread.run(Thread.java:745)\n  2> REPRODUCE WITH: mvn test -Pdev -Dtests.seed=571CCDD579600679 -Dtests.class=org.elasticsearch.search.aggregations.pipeline.moving.avg.MovAvgUnitTests -Dtests.method=\"testHoltWintersAdditiveModel\" -Des.logger.level=ERROR -Dtests.assertion.disabled=false -Dtests.security.manager=true -Dtests.heap.size=512m -Dtests.locale=en_NZ -Dtests.timezone=Asia/Manila\nFAILURE 0.01s J0 | MovAvgUnitTests.testHoltWintersAdditiveModel <<<\n   > Throwable #1: java.lang.AssertionError: \n   > Expected: <0>\n   >      but: was <1>\n   >    at __randomizedtesting.SeedInfo.seed([571CCDD579600679:F3BB0CD1D2ABDC22]:0)\n   >    at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\n   >    at org.elasticsearch.search.aggregations.pipeline.moving.avg.MovAvgUnitTests.testHoltWintersAdditiveModel(MovAvgUnitTests.java:523)\n   >    at java.lang.Thread.run(Thread.java:745)\n  2> REPRODUCE WITH: mvn test -Pdev -Dtests.seed=571CCDD579600679 -Dtests.class=org.elasticsearch.search.aggregations.pipeline.moving.avg.MovAvgUnitTests -Dtests.method=\"testHoltWintersMultiplicativePadPredictionModel\" -Des.logger.level=ERROR -Dtests.assertion.disabled=false -Dtests.security.manager=true -Dtests.heap.size=512m -Dtests.locale=en_NZ -Dtests.timezone=Asia/Manila\nFAILURE 0.01s J0 | MovAvgUnitTests.testHoltWintersMultiplicativePadPredictionModel <<<\n   > Throwable #1: java.lang.AssertionError: \n   > Expected: <0>\n   >      but: was <-1>\n   >    at __randomizedtesting.SeedInfo.seed([571CCDD579600679:777379F9A211757]:0)\n   >    at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\n   >    at org.elasticsearch.search.aggregations.pipeline.moving.avg.MovAvgUnitTests.testHoltWintersMultiplicativePadPredictionModel(MovAvgUnitTests.java:454)\n   >    at java.lang.Thread.run(Thread.java:745)\n  2> REPRODUCE WITH: mvn test -Pdev -Dtests.seed=571CCDD579600679 -Dtests.class=org.elasticsearch.search.aggregations.pipeline.moving.avg.MovAvgUnitTests -Dtests.method=\"testHoltWintersAdditivePredictionModel\" -Des.logger.level=ERROR -Dtests.assertion.disabled=false -Dtests.security.manager=true -Dtests.heap.size=512m -Dtests.locale=en_NZ -Dtests.timezone=Asia/Manila\nFAILURE 0.01s J0 | MovAvgUnitTests.testHoltWintersAdditivePredictionModel <<<\n   > Throwable #1: java.lang.AssertionError: \n   > Expected: <0>\n   >      but: was <1>\n   >    at __randomizedtesting.SeedInfo.seed([571CCDD579600679:4AC23A92C590A297]:0)\n   >    at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\n   >    at org.elasticsearch.search.aggregations.pipeline.moving.avg.MovAvgUnitTests.testHoltWintersAdditivePredictionModel(MovAvgUnitTests.java:594)\n   >    at java.lang.Thread.run(Thread.java:745)\n  2> NOTE: leaving temporary files on disk at: /Users/dpilato/Documents/Elasticsearch/dev/elasticsearch/core/target/J0/temp/org.elasticsearch.search.aggregations.pipeline.moving.avg.MovAvgUnitTests_571CCDD579600679-001\n  2> NOTE: test params are: codec=Asserting(Lucene50): {}, docValues:{}, sim=DefaultSimilarity, locale=en_NZ, timezone=Asia/Manila\n  2> NOTE: Mac OS X 10.10.4 x86_64/Oracle Corporation 1.7.0_60 (64-bit)/cpus=4,threads=1,free=334469960,total=525860864\n  2> NOTE: All tests run in this JVM: [ElasticsearchPostingsFormatTest, TribeUnitTests, IndexShardModuleTests, DeflateXContentTests, Rest2Tests, NodeClientTests, StoreTest, ArrayUtilsTests, RatioValueTests, FuzzinessTests, DoubleFieldDataTests, StopTokenFilterTests, AnalysisFactoryTests, GetTermVectorsTests, IndexLookupTests, TermsShardMinDocCountTests, SimpleAllTests, IndicesLifecycleListenerSingleNodeTests, MultiPercolatorTests, MissingTests, CompletionTokenStreamTest, CreateIndexRequestBuilderTest, PathTests, GeoDistanceTests, KeepTypesFilterFactoryTests, PatternCaptureTokenFilterTests, BuilderRawFieldTests, ShardInfoTests, TermVectorsUnitTests, SearchFieldsTests, MultiDataPathUpgraderTests, VersionsTests, DynamicMappingTests, IndicesRequestTests, SearchWithRejectionsTests, MinTests, SumTests, LoggingListenerTests, GeoJSONShapeParserTests, RoutingBackwardCompatibilityUponUpgradeTests, MoreLikeThisTests, HppcMapsTests, RecoveriesCollectionTests, Murmur3FieldMapperTests, HttpPublishPortTests, DelayedAllocationTests, FieldStatsIntegrationTests, HistogramTests, JNANativesTests, ClusterHealthResponsesTests, IndicesLeaksTests, ParentIdAggTests, SimpleDynamicTemplatesTests, NoneRecyclerTests, UpdateNumberOfReplicasTests, ParentFieldTypeTests, ByteUtilsTests, SyncedFlushSingleNodeTest, FilteringAllocationTests, ByteSizeUnitTests, JarHellTests, NodeVersionAllocationDeciderTests, UpgradeReallyOldIndexTest, EnvironmentTests, ShardRoutingTests, ClusterHealthTests, ZenFaultDetectionTests, PercentileRanksTests, GeoShapeFieldTypeTests, FilterRoutingTests, IndexWithShadowReplicasTests, TransportMessageTests, SuggestStatsTests, ExternalValuesMapperIntegrationTests, UnicastZenPingTests, BasicAnalysisBackwardCompatibilityTests, SimpleBlocksTests, CompletionFieldMapperTests, UnassignedInfoTests, ListenerActionTests, IndexLifecycleActionTests, GetIndexBackwardsCompatibilityTests, Rest6Tests, IdFieldTypeTests, MathUtilsTests, IndicesStoreIntegrationTests, RecoveryStateTest, SimpleIndexTemplateTests, SimpleExistsTests, TransportClientTests, StoredNumericValuesTest, FileWatcherTest, TranslogVersionTests, ActionNamesTests, ConcurrentPercolatorTests, BlobStoreTest, ClusterStatsTests, GeoFilterTests, SettingsValidatorTests, IndicesSegmentsRequestTests, SimpleMultiSearchTests, MultiPercolatorRequestTests, CircuitBreakerNoopTests, ParentFieldLoadingTest, GeoLocationContextMappingTest, JsonSettingsLoaderTests, IndexRequestBuilderTests, ParseMappingTypeLevelTests, TimeZoneRoundingTests, XContentFactoryTests, ChildrenTests, TenShardsOneReplicaRoutingTests, IndexShardTests, StatsTests, PreBuiltAnalyzerIntegrationTests, SnapshotUtilsTests, JacksonLocationTests, SearchWhileCreatingIndexTests, CJKFilterFactoryTests, UpdateNoopTests, RejectionActionTests, EnableAllocationDeciderIntegrationTest, SearchTimeoutTests, GeoUtilsTests, Rest5Tests, ByteSizeValueTests, RegexTests, ShardReduceTests, SloppyMathTests, StemmerTokenFilterFactoryTests, OptimizeBlocksTests, DoubleIndexingDocTest, IndexAliasesServiceTests, NestedAggregatorTest, SortParserTests, ListenableActionFutureTests, TTLPercolatorTests, DedicatedAggregationTests, ExplainableScriptTests, DiscoveryWithServiceDisruptionsTests, ScanContextTests, LegacyVerificationTests, CborFilteringGeneratorTests, FunctionScorePluginTests, MustacheScriptEngineTest, NativeScriptTests, UpdateMappingIntegrationTests, CorruptedFileTest, CorruptedCompressorTests, IndicesRequestCacheTests, UpdateThreadPoolSettingsTests, ShardReplicationTests, MultiValueModeTests, KeyedLockTests, RoutingTypeMapperTests, IndexTypeMapperIntegrationTests, ScoreTypeTests, SearchWithRandomExceptionsTests, ClusterStateRequestTest, RebalanceAfterActiveTests, SearchServiceTests, GeoPointParsingTests, SearchScrollWithFailingNodesTests, PathTrieTests, TokenCountFieldMapperTests, IndexCacheableQueryTests, DecayFunctionScoreTests, AggregationsBinaryTests, UnicastBackwardsCompatibilityTest, AckClusterUpdateSettingsTests, SimpleDateMappingTests, CreateIndexTests, FunctionScoreTests, ScriptedMetricTests, BulkProcessorTests, DirectoryUtilsTest, SearchSourceBuilderTest, NGramTokenizerFactoryTests, OpenCloseIndexTests, DateHistogramOffsetTests, StopAnalyzerTests, IdMappingTests, DeflateCompressedStreamTests, MissingValuesTests, FileSystemUtilsTests, IndexQueryParserFilterDateRangeTimezoneTests, ElasticsearchExceptionTests, MetaDataTests, SmileFilteringGeneratorTests, RoutingServiceTests, DateFieldTypeTests, CircuitBreakerUnitTests, IndexRequestBuilderTest, SignificantTermsBackwardCompatibilityTests, SourceFetchingTests, XContentBuilderTests, TransportSearchFailuresTests, ChannelsTests, SimpleThreadPoolTests, SimpleSortTests, SnapshotBlocksTests, PercolatorTests, Rest0Tests, DoubleTermsTests, DuelScrollTests, GetActionTests, GeoDistanceTests, LZFCompressedStreamTests, ContextAndHeaderTransportTests, BucketScriptTests, CircuitBreakerServiceTests, TokenCountFieldMapperIntegrationTests, SearchWhileRelocatingTests, MappingMetaDataParserTests, MockDiskUsagesTests, MinBucketTests, AliasRoutingTests, TransformOnIndexMapperIntegrationTest, LongHashTests, ClusterStateDiffPublishingTests, CustomQueryParserTests, NaNSortingTests, TTLMappingTests, TypesExistsTests, FloatFieldDataTests, SimpleStringMappingTests, GeoShapeFieldMapperTests, InternalTestClusterTests, InternalEngineSettingsTest, ScriptQuerySearchTests, BinaryDVFieldDataTests, MissingValueTests, DeleteIndexBlocksTests, CompoundAnalysisTests, ResponseHeaderPluginTests, TransportClientRetryTests, CommonGramsTokenFilterFactoryTests, BitSetFilterCacheTest, MovAvgUnitTests]\nCompleted [733/803] on J0 in 0.12s, 13 tests, 4 failures <<< FAILURES!\n```\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}