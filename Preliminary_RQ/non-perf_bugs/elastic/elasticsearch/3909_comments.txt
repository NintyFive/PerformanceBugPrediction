[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/26349529","html_url":"https://github.com/elastic/elasticsearch/issues/3909#issuecomment-26349529","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3909","id":26349529,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzQ5NTI5","user":{"login":"tommcintyre","id":5124538,"node_id":"MDQ6VXNlcjUxMjQ1Mzg=","avatar_url":"https://avatars3.githubusercontent.com/u/5124538?v=4","gravatar_id":"","url":"https://api.github.com/users/tommcintyre","html_url":"https://github.com/tommcintyre","followers_url":"https://api.github.com/users/tommcintyre/followers","following_url":"https://api.github.com/users/tommcintyre/following{/other_user}","gists_url":"https://api.github.com/users/tommcintyre/gists{/gist_id}","starred_url":"https://api.github.com/users/tommcintyre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tommcintyre/subscriptions","organizations_url":"https://api.github.com/users/tommcintyre/orgs","repos_url":"https://api.github.com/users/tommcintyre/repos","events_url":"https://api.github.com/users/tommcintyre/events{/privacy}","received_events_url":"https://api.github.com/users/tommcintyre/received_events","type":"User","site_admin":false},"created_at":"2013-10-15T16:22:20Z","updated_at":"2013-10-15T16:22:20Z","author_association":"NONE","body":"Some chat from IRC with opinions about whether this belongs in ES or not... :)\n\n```\n<Tim> GeoJSON spec is a little vague. A polygon must have a LinearRing, defined as:\n<Tim> A LinearRing is closed LineString with 4 or more positions. The first and last positions are equivalent (they represent equivalent points). Though a LinearRing is not explicitly represented as a GeoJSON geometry type, it is referred to in the Polygon geometry type definition.\n<Tim> not really clear that they must be distinct or non-self-intersecting\n<Tom> yeah - i think it's just not well defined\n<Tom> the new geo-refactored ES code does seem to attempt to make the best possible use of \"borderline\" valid geometries\n<Tom> for example, twitter emits open linestrings quite often, as well these polygons with repeating points\n<Tom> and the new geo-refactored ES code does now accept open linestrings\n<Tom> (the old code didn't)\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/26431832","html_url":"https://github.com/elastic/elasticsearch/issues/3909#issuecomment-26431832","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3909","id":26431832,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDMxODMy","user":{"login":"chilling","id":2590333,"node_id":"MDQ6VXNlcjI1OTAzMzM=","avatar_url":"https://avatars2.githubusercontent.com/u/2590333?v=4","gravatar_id":"","url":"https://api.github.com/users/chilling","html_url":"https://github.com/chilling","followers_url":"https://api.github.com/users/chilling/followers","following_url":"https://api.github.com/users/chilling/following{/other_user}","gists_url":"https://api.github.com/users/chilling/gists{/gist_id}","starred_url":"https://api.github.com/users/chilling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chilling/subscriptions","organizations_url":"https://api.github.com/users/chilling/orgs","repos_url":"https://api.github.com/users/chilling/repos","events_url":"https://api.github.com/users/chilling/events{/privacy}","received_events_url":"https://api.github.com/users/chilling/received_events","type":"User","site_admin":false},"created_at":"2013-10-16T16:04:51Z","updated_at":"2013-10-16T16:04:51Z","author_association":"CONTRIBUTOR","body":"Hi @mvjars,\n\nI think the GeoJson is technically valid. The problem is forced by the underlying libraries that we use to handle geo data inside ES. These libraries make some assumptions to the data which are checked before the data gets indexed. In my opinion this assumptions must not necessarily be checked if the GeoJson is indexed. But currently we use this libraries to index geo data also. I'm working on separating the GeoJson format specification from the logic layer and move this kind of exceptions to the logic layer.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96088896","html_url":"https://github.com/elastic/elasticsearch/issues/3909#issuecomment-96088896","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3909","id":96088896,"node_id":"MDEyOklzc3VlQ29tbWVudDk2MDg4ODk2","user":{"login":"lababidi","id":495399,"node_id":"MDQ6VXNlcjQ5NTM5OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/495399?v=4","gravatar_id":"","url":"https://api.github.com/users/lababidi","html_url":"https://github.com/lababidi","followers_url":"https://api.github.com/users/lababidi/followers","following_url":"https://api.github.com/users/lababidi/following{/other_user}","gists_url":"https://api.github.com/users/lababidi/gists{/gist_id}","starred_url":"https://api.github.com/users/lababidi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lababidi/subscriptions","organizations_url":"https://api.github.com/users/lababidi/orgs","repos_url":"https://api.github.com/users/lababidi/repos","events_url":"https://api.github.com/users/lababidi/events{/privacy}","received_events_url":"https://api.github.com/users/lababidi/received_events","type":"User","site_admin":false},"created_at":"2015-04-24T22:49:06Z","updated_at":"2015-04-24T22:49:06Z","author_association":"CONTRIBUTOR","body":"Is there any update on this issue?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96411793","html_url":"https://github.com/elastic/elasticsearch/issues/3909#issuecomment-96411793","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3909","id":96411793,"node_id":"MDEyOklzc3VlQ29tbWVudDk2NDExNzkz","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-26T17:33:48Z","updated_at":"2015-04-26T17:33:48Z","author_association":"CONTRIBUTOR","body":"@nknize any ideas here?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96431637","html_url":"https://github.com/elastic/elasticsearch/issues/3909#issuecomment-96431637","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3909","id":96431637,"node_id":"MDEyOklzc3VlQ29tbWVudDk2NDMxNjM3","user":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"created_at":"2015-04-26T20:33:30Z","updated_at":"2015-04-26T20:33:30Z","author_association":"CONTRIBUTOR","body":"@lababidi Out of curiosity why make this a polygon type? Why not change it to a multipoint?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96470721","html_url":"https://github.com/elastic/elasticsearch/issues/3909#issuecomment-96470721","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3909","id":96470721,"node_id":"MDEyOklzc3VlQ29tbWVudDk2NDcwNzIx","user":{"login":"lababidi","id":495399,"node_id":"MDQ6VXNlcjQ5NTM5OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/495399?v=4","gravatar_id":"","url":"https://api.github.com/users/lababidi","html_url":"https://github.com/lababidi","followers_url":"https://api.github.com/users/lababidi/followers","following_url":"https://api.github.com/users/lababidi/following{/other_user}","gists_url":"https://api.github.com/users/lababidi/gists{/gist_id}","starred_url":"https://api.github.com/users/lababidi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lababidi/subscriptions","organizations_url":"https://api.github.com/users/lababidi/orgs","repos_url":"https://api.github.com/users/lababidi/repos","events_url":"https://api.github.com/users/lababidi/events{/privacy}","received_events_url":"https://api.github.com/users/lababidi/received_events","type":"User","site_admin":false},"created_at":"2015-04-27T02:20:16Z","updated_at":"2015-04-27T02:20:16Z","author_association":"CONTRIBUTOR","body":"@nknize Thanks for checking in. I'm not sure I understand what your question is. Let me see if I can reframe the issue, succinctly.\n\nTwitter provides the following object. It is rejected by elasticsearch for only having 4 elements and not 5. This strict requirement is not consistent with GeoJSON. Please allow elasticsearch to accept this Object, out of the box, because technically it is legal GeoJSON. Currently I must write a middle-man to add a 5th-element (cue Bruce Willis jokes here) to this array of coordinates. This is a bit kludgy in terms of workflow:\n\n```\n\"bounding_box\": {\n        \"type\": \"Polygon\",\n        \"coordinates\": [\n        [\n        [\n        -9.0915413,\n        38.6713816\n        ],\n        [\n        -9.0915413,\n        38.9313732\n        ],\n        [\n        -8.8102479,\n        38.9313732\n        ],\n        [\n        -8.8102479,\n        38.6713816\n        ]\n        ]\n        ]\n        },\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/97062011","html_url":"https://github.com/elastic/elasticsearch/issues/3909#issuecomment-97062011","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3909","id":97062011,"node_id":"MDEyOklzc3VlQ29tbWVudDk3MDYyMDEx","user":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"created_at":"2015-04-28T13:21:50Z","updated_at":"2015-04-28T13:21:50Z","author_association":"CONTRIBUTOR","body":"@lababidi Thanks for the update. I mistook the problem you're describing for the original issue (repeated points in a polygon).  I agree we should accept Polygons like this and close them for you.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/97165861","html_url":"https://github.com/elastic/elasticsearch/issues/3909#issuecomment-97165861","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3909","id":97165861,"node_id":"MDEyOklzc3VlQ29tbWVudDk3MTY1ODYx","user":{"login":"lababidi","id":495399,"node_id":"MDQ6VXNlcjQ5NTM5OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/495399?v=4","gravatar_id":"","url":"https://api.github.com/users/lababidi","html_url":"https://github.com/lababidi","followers_url":"https://api.github.com/users/lababidi/followers","following_url":"https://api.github.com/users/lababidi/following{/other_user}","gists_url":"https://api.github.com/users/lababidi/gists{/gist_id}","starred_url":"https://api.github.com/users/lababidi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lababidi/subscriptions","organizations_url":"https://api.github.com/users/lababidi/orgs","repos_url":"https://api.github.com/users/lababidi/repos","events_url":"https://api.github.com/users/lababidi/events{/privacy}","received_events_url":"https://api.github.com/users/lababidi/received_events","type":"User","site_admin":false},"created_at":"2015-04-28T18:40:04Z","updated_at":"2015-04-28T18:40:04Z","author_association":"CONTRIBUTOR","body":"This is excellent news. I'd be happy to contribute any code if your plate is full. Just point me to where the preferred location that this logic belongs in and I will pull request.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/101400066","html_url":"https://github.com/elastic/elasticsearch/issues/3909#issuecomment-101400066","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3909","id":101400066,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMTQwMDA2Ng==","user":{"login":"lababidi","id":495399,"node_id":"MDQ6VXNlcjQ5NTM5OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/495399?v=4","gravatar_id":"","url":"https://api.github.com/users/lababidi","html_url":"https://github.com/lababidi","followers_url":"https://api.github.com/users/lababidi/followers","following_url":"https://api.github.com/users/lababidi/following{/other_user}","gists_url":"https://api.github.com/users/lababidi/gists{/gist_id}","starred_url":"https://api.github.com/users/lababidi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lababidi/subscriptions","organizations_url":"https://api.github.com/users/lababidi/orgs","repos_url":"https://api.github.com/users/lababidi/repos","events_url":"https://api.github.com/users/lababidi/events{/privacy}","received_events_url":"https://api.github.com/users/lababidi/received_events","type":"User","site_admin":false},"created_at":"2015-05-12T19:53:00Z","updated_at":"2015-05-12T19:53:00Z","author_association":"CONTRIBUTOR","body":"@nknize If you prefer to close this issue, you may. I realized my statement was a separate issue from this issue and create it at #11131\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/101898129","html_url":"https://github.com/elastic/elasticsearch/issues/3909#issuecomment-101898129","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3909","id":101898129,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMTg5ODEyOQ==","user":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"created_at":"2015-05-14T03:28:38Z","updated_at":"2015-05-14T03:28:38Z","author_association":"CONTRIBUTOR","body":"@lababidi Excellent!  If you'd like to get involved we'd love to have you contribute. You'll need to sign the [CLA](https://www.elastic.co/contributor-agreement) if you haven't already.  I went ahead and opened a PR to address #11131, have a look and try it out.\n","performed_via_github_app":null}]