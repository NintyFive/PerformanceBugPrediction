{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/35371","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35371/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35371/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35371/events","html_url":"https://github.com/elastic/elasticsearch/issues/35371","id":378718200,"node_id":"MDU6SXNzdWUzNzg3MTgyMDA=","number":35371,"title":"Get list of auto follow pattern throws a 404 not found","user":{"login":"sebelga","id":2854616,"node_id":"MDQ6VXNlcjI4NTQ2MTY=","avatar_url":"https://avatars0.githubusercontent.com/u/2854616?v=4","gravatar_id":"","url":"https://api.github.com/users/sebelga","html_url":"https://github.com/sebelga","followers_url":"https://api.github.com/users/sebelga/followers","following_url":"https://api.github.com/users/sebelga/following{/other_user}","gists_url":"https://api.github.com/users/sebelga/gists{/gist_id}","starred_url":"https://api.github.com/users/sebelga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebelga/subscriptions","organizations_url":"https://api.github.com/users/sebelga/orgs","repos_url":"https://api.github.com/users/sebelga/repos","events_url":"https://api.github.com/users/sebelga/events{/privacy}","received_events_url":"https://api.github.com/users/sebelga/received_events","type":"User","site_admin":false},"labels":[{"id":912824565,"node_id":"MDU6TGFiZWw5MTI4MjQ1NjU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/CCR","name":":Distributed/CCR","color":"0e8a16","default":false,"description":"Issues around the Cross Cluster State Replication features"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-11-08T12:52:15Z","updated_at":"2018-11-19T15:19:15Z","closed_at":"2018-11-09T14:02:07Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"<!-- Bug report -->\r\n\r\n**Elasticsearch version**: Current master branch\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nWhen we query to retrieve the autofollow patterns (`GET /_ccr/auto_follow`) on a cluster that **never had any previous auto follow pattern**, a 404 error is thrown\r\n\r\n```\r\n{\r\n    \"error\": {\r\n        \"root_cause\": [\r\n            {\r\n                \"type\": \"resource_not_found_exception\",\r\n                \"reason\": \"auto-follow pattern [null] is missing\"\r\n            }\r\n        ],\r\n        \"type\": \"resource_not_found_exception\",\r\n        \"reason\": \"auto-follow pattern [null] is missing\"\r\n    },\r\n    \"status\": 404\r\n}\r\n\r\n```\r\n\r\nIf we then CREATE and then DELETE an auto follow pattern, and then make the above query, we receive the correct `200` status with an empty object response `{}`\r\n\r\n**Steps to reproduce**:\r\n\r\nPlease include a *minimal* but *complete* recreation of the problem, including\r\n(e.g.) index creation, mappings, settings, query etc.  The easier you make for\r\nus to reproduce it, the more likely that somebody will take the time to look at it.\r\n\r\n 1. Create a new Elasticsearch Cluster and launch it\r\n 2. Activate trial license: `POST /_xpack/license/start_trial?acknowledge=true`\r\n 3. Query auto_follow patterns:  `GET /_ccr/auto_follow`\r\n","closed_by":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"performed_via_github_app":null}