{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/44744","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44744/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44744/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44744/events","html_url":"https://github.com/elastic/elasticsearch/issues/44744","id":471647556,"node_id":"MDU6SXNzdWU0NzE2NDc1NTY=","number":44744,"title":"MlDistributedFailureIT#testFullClusterRestart failing occasionally","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"labels":[{"id":912833043,"node_id":"MDU6TGFiZWw5MTI4MzMwNDM=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:ml","name":":ml","color":"0e8a16","default":false,"description":"Machine learning"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"benwtrent","id":4357155,"node_id":"MDQ6VXNlcjQzNTcxNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/4357155?v=4","gravatar_id":"","url":"https://api.github.com/users/benwtrent","html_url":"https://github.com/benwtrent","followers_url":"https://api.github.com/users/benwtrent/followers","following_url":"https://api.github.com/users/benwtrent/following{/other_user}","gists_url":"https://api.github.com/users/benwtrent/gists{/gist_id}","starred_url":"https://api.github.com/users/benwtrent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benwtrent/subscriptions","organizations_url":"https://api.github.com/users/benwtrent/orgs","repos_url":"https://api.github.com/users/benwtrent/repos","events_url":"https://api.github.com/users/benwtrent/events{/privacy}","received_events_url":"https://api.github.com/users/benwtrent/received_events","type":"User","site_admin":false},"assignees":[{"login":"benwtrent","id":4357155,"node_id":"MDQ6VXNlcjQzNTcxNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/4357155?v=4","gravatar_id":"","url":"https://api.github.com/users/benwtrent","html_url":"https://github.com/benwtrent","followers_url":"https://api.github.com/users/benwtrent/followers","following_url":"https://api.github.com/users/benwtrent/following{/other_user}","gists_url":"https://api.github.com/users/benwtrent/gists{/gist_id}","starred_url":"https://api.github.com/users/benwtrent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benwtrent/subscriptions","organizations_url":"https://api.github.com/users/benwtrent/orgs","repos_url":"https://api.github.com/users/benwtrent/repos","events_url":"https://api.github.com/users/benwtrent/events{/privacy}","received_events_url":"https://api.github.com/users/benwtrent/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2019-07-23T11:41:34Z","updated_at":"2019-09-04T18:05:42Z","closed_at":"2019-09-04T18:05:42Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"See e.g. https://scans.gradle.com/s/ms5w73z6225s4/console-log?task=:x-pack:plugin:ml:internalClusterTest, but I count 23 failures over the last 30 days:\r\n\r\n```\r\n:x-pack:plugin:ml:internalClusterTest FAILED\r\n--\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8\r\nWARNING: Illegal reflective access by org.mockito.cglib.core.ReflectUtils$2 (file:/var/lib/jenkins/.gradle/caches/modules-2/files-2.1/org.elasticsearch/securemock/1.2/98201d4ad5ac93f6b415ae9172d52b5e7cda490e/securemock-1.2.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\r\nWARNING: Illegal reflective access by org.mockito.cglib.core.ReflectUtils$2 (file:/var/lib/jenkins/.gradle/caches/modules-2/files-2.1/org.elasticsearch/securemock/1.2/98201d4ad5ac93f6b415ae9172d52b5e7cda490e/securemock-1.2.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\r\n \r\n \r\norg.elasticsearch.xpack.ml.integration.MlDistributedFailureIT > testFullClusterRestart FAILED\r\njava.lang.AssertionError\r\nat __randomizedtesting.SeedInfo.seed([CA01567D4C855061:9B2E476CB9A918CE]:0)\r\nat org.junit.Assert.fail(Assert.java:86)\r\nat org.junit.Assert.assertTrue(Assert.java:41)\r\nat org.junit.Assert.assertFalse(Assert.java:64)\r\nat org.junit.Assert.assertFalse(Assert.java:74)\r\nat org.elasticsearch.xpack.ml.integration.MlDistributedFailureIT.lambda$run$13(MlDistributedFailureIT.java:307)\r\nat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:866)\r\nat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:840)\r\nat org.elasticsearch.xpack.ml.integration.MlDistributedFailureIT.run(MlDistributedFailureIT.java:301)\r\nat org.elasticsearch.xpack.ml.integration.MlDistributedFailureIT.testFullClusterRestart(MlDistributedFailureIT.java:112)\r\nREPRODUCE WITH: ./gradlew :x-pack:plugin:ml:internalClusterTest --tests \"org.elasticsearch.xpack.ml.integration.MlDistributedFailureIT.testFullClusterRestart\" -Dtests.seed=CA01567D4C855061 -Dtests.security.manager=true -Dtests.locale=nl-NL -Dtests.timezone=Asia/Bangkok -Dcompiler.java=12 -Druntime.java=11\r\n```\r\n\r\nDoes not reproduce for me.","closed_by":{"login":"benwtrent","id":4357155,"node_id":"MDQ6VXNlcjQzNTcxNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/4357155?v=4","gravatar_id":"","url":"https://api.github.com/users/benwtrent","html_url":"https://github.com/benwtrent","followers_url":"https://api.github.com/users/benwtrent/followers","following_url":"https://api.github.com/users/benwtrent/following{/other_user}","gists_url":"https://api.github.com/users/benwtrent/gists{/gist_id}","starred_url":"https://api.github.com/users/benwtrent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benwtrent/subscriptions","organizations_url":"https://api.github.com/users/benwtrent/orgs","repos_url":"https://api.github.com/users/benwtrent/repos","events_url":"https://api.github.com/users/benwtrent/events{/privacy}","received_events_url":"https://api.github.com/users/benwtrent/received_events","type":"User","site_admin":false},"performed_via_github_app":null}