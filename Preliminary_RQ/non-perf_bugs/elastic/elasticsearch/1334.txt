{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1334","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1334/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1334/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1334/events","html_url":"https://github.com/elastic/elasticsearch/issues/1334","id":1642689,"node_id":"MDU6SXNzdWUxNjQyNjg5","number":1334,"title":"Allow to filter geo bounding box or distance based on indexed lat lon","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"labels":[{"id":23172,"node_id":"MDU6TGFiZWwyMzE3Mg==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Efeature","name":">feature","color":"006b75","default":false,"description":null},{"id":127902,"node_id":"MDU6TGFiZWwxMjc5MDI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.18.0","name":"v0.18.0","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2011-09-14T11:25:00Z","updated_at":"2011-09-14T11:27:53Z","closed_at":"2011-09-14T11:27:53Z","author_association":"MEMBER","active_lock_reason":null,"body":"The way geo distance and bounding box filters work by default is by doing in memory checks to see if the document matches the provided parameters. Those in memory checks are fast, and with the new optimize bounding box option in geo distance (on by default), distance checks are also fast.\n\nBut, sometimes its faster to do the checks using indexed lat/lon values, especially when either _only_ doing the geo checks, or when the bounding box is \"small\".\n\nThe `geo_bounding_box` filter now allows to provide a `type`, which can be set to `indexed` (defaults to `memory`). When set to `indexed`, it will do checks based on indexed lat and lon.\n\nThe `geo_distance` and `geo_distance_range` filters allow to pass to the `optimize_bbox` parameter either `none`, `indexed`, or \"memory\" (defaults to `memory`).\n\nNote, in order to use the `indexed` option, the `geo_point` mapping type must set `lat_lon` to `true` in its mapping in order to index them as well. Also, this option will not work properly for a document with multiple locations under the same field unless nested documents are used.\n","closed_by":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"performed_via_github_app":null}