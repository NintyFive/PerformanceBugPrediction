{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/2974","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2974/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2974/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2974/events","html_url":"https://github.com/elastic/elasticsearch/issues/2974","id":13894979,"node_id":"MDU6SXNzdWUxMzg5NDk3OQ==","number":2974,"title":"JSON parsing tolerance level","user":{"login":"lphuberdeau","id":444229,"node_id":"MDQ6VXNlcjQ0NDIyOQ==","avatar_url":"https://avatars0.githubusercontent.com/u/444229?v=4","gravatar_id":"","url":"https://api.github.com/users/lphuberdeau","html_url":"https://github.com/lphuberdeau","followers_url":"https://api.github.com/users/lphuberdeau/followers","following_url":"https://api.github.com/users/lphuberdeau/following{/other_user}","gists_url":"https://api.github.com/users/lphuberdeau/gists{/gist_id}","starred_url":"https://api.github.com/users/lphuberdeau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lphuberdeau/subscriptions","organizations_url":"https://api.github.com/users/lphuberdeau/orgs","repos_url":"https://api.github.com/users/lphuberdeau/repos","events_url":"https://api.github.com/users/lphuberdeau/events{/privacy}","received_events_url":"https://api.github.com/users/lphuberdeau/received_events","type":"User","site_admin":false},"labels":[{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null},{"id":92913858,"node_id":"MDU6TGFiZWw5MjkxMzg1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/good%20first%20issue","name":"good first issue","color":"07569b","default":true,"description":"low hanging fruit"}],"state":"closed","locked":false,"assignee":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"assignees":[{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false}],"milestone":null,"comments":6,"created_at":"2013-05-02T15:01:48Z","updated_at":"2014-10-22T16:25:24Z","closed_at":"2014-10-22T16:25:24Z","author_association":"NONE","active_lock_reason":null,"body":"This is mostly a possible enhancement.\n\nI have spent a significant amount of time searching for a problem that ended up being trivial. I build the query from PHP and use json_encode to serialize to JSON before sending it to ElasticSearch.\n\nI could not get highlighting to work. It turns out the built query was:\n\n```\n{\"query\":{\"match\":{\"contents\":{\"query\":\"description\",\"boost\":1}}},\"highlight\":{\"fields\":{\"contents\":[]}}}\n```\n\nThe problem is that the serialization used []Â instead of {}.\n\nTechnically there is no problem with ElasticSearch, but it would have saved a tremendous amount of time if it had simply rejected the query, or accepted the empty array.\n\nWould it be possible to have some sort of strict mode enabled to reject keys containing invalid values or some other mechanisms to help identify this type of issue?\n\nSeems like I was not alone on the IRC channel that encountered this sort of problem.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}