[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/212433901","html_url":"https://github.com/elastic/elasticsearch/issues/17887#issuecomment-212433901","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17887","id":212433901,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMjQzMzkwMQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-04-20T13:52:28Z","updated_at":"2016-04-20T13:52:28Z","author_association":"CONTRIBUTOR","body":"Yes - the strict date format was mostly added to improve dynamic date detection.  Why not just set the date format on your field to `date_optional_time` instead of `strict_date_optional_time`?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/212510642","html_url":"https://github.com/elastic/elasticsearch/issues/17887#issuecomment-212510642","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17887","id":212510642,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMjUxMDY0Mg==","user":{"login":"drallax","id":14543491,"node_id":"MDQ6VXNlcjE0NTQzNDkx","avatar_url":"https://avatars1.githubusercontent.com/u/14543491?v=4","gravatar_id":"","url":"https://api.github.com/users/drallax","html_url":"https://github.com/drallax","followers_url":"https://api.github.com/users/drallax/followers","following_url":"https://api.github.com/users/drallax/following{/other_user}","gists_url":"https://api.github.com/users/drallax/gists{/gist_id}","starred_url":"https://api.github.com/users/drallax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drallax/subscriptions","organizations_url":"https://api.github.com/users/drallax/orgs","repos_url":"https://api.github.com/users/drallax/repos","events_url":"https://api.github.com/users/drallax/events{/privacy}","received_events_url":"https://api.github.com/users/drallax/received_events","type":"User","site_admin":false},"created_at":"2016-04-20T16:49:54Z","updated_at":"2016-04-20T16:49:54Z","author_association":"NONE","body":"actually we define all our date fields without an explicit format, just using the default, which turns out to be `strict_date_optional_time` as seen here:\n\n```\npublic class DateFieldMapper extends NumberFieldMapper {\n    ...\n    public static class Defaults extends NumberFieldMapper.Defaults {\n        public static final FormatDateTimeFormatter DATE_TIME_FORMATTER = Joda.forPattern(\"strict_date_optional_time||epoch_millis\", Locale.ROOT);\n```\n\nwhere it used to be `date_optional_time` <ES-2.0\n\nAlso note that we're using the Java api here, and that we offer a java.util.Date, not some ISO string.\nSo it is surprising to see an error that complains about the textual representation of that Date as soon as the year exceeds 10,000\n\nThe javadoc on top of `StrictISODateTimeFormat` includes  the following quote:\n\n```\n * However there has been done one huge modification in several methods, which forces the date\n * year to be at least n digits, so that a year like \"5\" is invalid and must be \"0005\"\n```\n\nwhich leads me to believe that the intention was to support at least 4 digits for a year, \nnot exactly 4 digits, so failing to parse a year of 10,000 or greater seems to be an actual bug?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/213449376","html_url":"https://github.com/elastic/elasticsearch/issues/17887#issuecomment-213449376","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17887","id":213449376,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMzQ0OTM3Ng==","user":{"login":"buzzdeee","id":8383396,"node_id":"MDQ6VXNlcjgzODMzOTY=","avatar_url":"https://avatars3.githubusercontent.com/u/8383396?v=4","gravatar_id":"","url":"https://api.github.com/users/buzzdeee","html_url":"https://github.com/buzzdeee","followers_url":"https://api.github.com/users/buzzdeee/followers","following_url":"https://api.github.com/users/buzzdeee/following{/other_user}","gists_url":"https://api.github.com/users/buzzdeee/gists{/gist_id}","starred_url":"https://api.github.com/users/buzzdeee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buzzdeee/subscriptions","organizations_url":"https://api.github.com/users/buzzdeee/orgs","repos_url":"https://api.github.com/users/buzzdeee/repos","events_url":"https://api.github.com/users/buzzdeee/events{/privacy}","received_events_url":"https://api.github.com/users/buzzdeee/received_events","type":"User","site_admin":false},"created_at":"2016-04-22T14:29:16Z","updated_at":"2016-04-22T14:29:16Z","author_association":"NONE","body":"not sure if I'm hitting the same issue, I use ES 2.3.1 as well as LS 2.3.1. In LS I use date filter like this:\n\n```\n                 date {\n                   match => [ \"timestamp\", \"MMM dd HH:mm:ss\", \"MMM d HH:mm:ss\", \"MMM  d HH:mm:ss\" ]\n                   add_tag => [ \"dated\" ]\n                 }\n```\n\nfor a couple of log files, mainly syslog like. \n\nWhen LS tries to output to ES I get in ES logs:\n\nMapperParsingException[failed to parse [timestamp]]; nested: IllegalArgumentException[Invalid format: \"Apr 20 23:52:35\"];\n\nOther dates, that contain a year, don't seem to be problematic.\n\nSebastian\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372673243","html_url":"https://github.com/elastic/elasticsearch/issues/17887#issuecomment-372673243","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17887","id":372673243,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MjY3MzI0Mw==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2018-03-13T13:55:34Z","updated_at":"2018-03-13T13:55:34Z","author_association":"CONTRIBUTOR","body":"Closing in favour of #29014. @buzzdeee This is a different issue.","performed_via_github_app":null}]