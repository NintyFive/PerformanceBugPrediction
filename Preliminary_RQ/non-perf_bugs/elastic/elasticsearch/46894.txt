{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/46894","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46894/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46894/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46894/events","html_url":"https://github.com/elastic/elasticsearch/issues/46894","id":496070473,"node_id":"MDU6SXNzdWU0OTYwNzA0NzM=","number":46894,"title":"need kibana internal user to have read/write access to `.kibana*` ILM resources","user":{"login":"pmuellr","id":25117,"node_id":"MDQ6VXNlcjI1MTE3","avatar_url":"https://avatars1.githubusercontent.com/u/25117?v=4","gravatar_id":"","url":"https://api.github.com/users/pmuellr","html_url":"https://github.com/pmuellr","followers_url":"https://api.github.com/users/pmuellr/followers","following_url":"https://api.github.com/users/pmuellr/following{/other_user}","gists_url":"https://api.github.com/users/pmuellr/gists{/gist_id}","starred_url":"https://api.github.com/users/pmuellr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmuellr/subscriptions","organizations_url":"https://api.github.com/users/pmuellr/orgs","repos_url":"https://api.github.com/users/pmuellr/repos","events_url":"https://api.github.com/users/pmuellr/events{/privacy}","received_events_url":"https://api.github.com/users/pmuellr/received_events","type":"User","site_admin":false},"labels":[{"id":912838209,"node_id":"MDU6TGFiZWw5MTI4MzgyMDk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Security/Authorization","name":":Security/Authorization","color":"0e8a16","default":false,"description":"Roles, Privileges, DLS/FLS, RBAC/ABAC"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2019-09-19T23:26:20Z","updated_at":"2020-01-10T20:47:22Z","closed_at":"2020-01-10T20:47:22Z","author_association":"NONE","active_lock_reason":null,"body":"Currently, the internal kibana user does not have access to create or get ILM resources at all, as near as I can tell.  For the \"Make it Action\" project, we're adding a new Kibana-specific index (with the default kibana prefix name `.kibana*`) and associated ILM policies, templates, etc.  Currently creating templates and other resources works fine, but when trying to do a GET or PUT on an ILM policy with the `.kibana*` prefix, we're seeing 403 errors.  Not specific to that particular prefix, but if we end up allowing ILM GET/PUT on just indices with that prefix, WORKSFORME.\r\n\r\nVia off-line chat, @legrego believes the \"answer\" is to add more bits here:\r\n\r\nhttps://github.com/elastic/elasticsearch/blob/212e3e40759f186cd36150b86f90816afe742d6f/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/store/ReservedRolesStore.java#L113\r\n\r\nI'm unfamiliar with these bits of the Elastic Stack, so will defer to Larry, but am happy to provide more context if required.","closed_by":{"login":"legrego","id":3493255,"node_id":"MDQ6VXNlcjM0OTMyNTU=","avatar_url":"https://avatars2.githubusercontent.com/u/3493255?v=4","gravatar_id":"","url":"https://api.github.com/users/legrego","html_url":"https://github.com/legrego","followers_url":"https://api.github.com/users/legrego/followers","following_url":"https://api.github.com/users/legrego/following{/other_user}","gists_url":"https://api.github.com/users/legrego/gists{/gist_id}","starred_url":"https://api.github.com/users/legrego/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/legrego/subscriptions","organizations_url":"https://api.github.com/users/legrego/orgs","repos_url":"https://api.github.com/users/legrego/repos","events_url":"https://api.github.com/users/legrego/events{/privacy}","received_events_url":"https://api.github.com/users/legrego/received_events","type":"User","site_admin":false},"performed_via_github_app":null}