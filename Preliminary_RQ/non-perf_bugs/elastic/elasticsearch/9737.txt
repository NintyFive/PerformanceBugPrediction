{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/9737","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9737/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9737/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9737/events","html_url":"https://github.com/elastic/elasticsearch/issues/9737","id":58016582,"node_id":"MDU6SXNzdWU1ODAxNjU4Mg==","number":9737,"title":"RemoteTransportException and weird pending_tasks","user":{"login":"nirmalc","id":3236895,"node_id":"MDQ6VXNlcjMyMzY4OTU=","avatar_url":"https://avatars2.githubusercontent.com/u/3236895?v=4","gravatar_id":"","url":"https://api.github.com/users/nirmalc","html_url":"https://github.com/nirmalc","followers_url":"https://api.github.com/users/nirmalc/followers","following_url":"https://api.github.com/users/nirmalc/following{/other_user}","gists_url":"https://api.github.com/users/nirmalc/gists{/gist_id}","starred_url":"https://api.github.com/users/nirmalc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nirmalc/subscriptions","organizations_url":"https://api.github.com/users/nirmalc/orgs","repos_url":"https://api.github.com/users/nirmalc/repos","events_url":"https://api.github.com/users/nirmalc/events{/privacy}","received_events_url":"https://api.github.com/users/nirmalc/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-02-18T02:28:55Z","updated_at":"2015-02-27T20:40:09Z","closed_at":"2015-02-27T20:40:09Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"This is related to exception in https://github.com/elasticsearch/elasticsearch/issues/4938 .Though i dont have an exact way to recreate - its happening in 1.3.4 \n\n```\ncurl -XGET 'http://localhost:9200/_cat/pending_tasks'\n{\"error\":\"RemoteTransportException[Failed to deserialize response of type [org.elasticsearch.action.admin.cluster.tasks.PendingClusterTasksResponse]]; nested: TransportSerializationException[Failed to deserialize response of type [org.elasticsearch.action.admin.cluster.tasks.PendingClusterTasksResponse]]; nested: ElasticsearchIllegalArgumentException[can't find priority for [-33]]; \",\"status\":500}\n\ncurl localhost:9200\n{\n  \"status\" : 200,\n  \"name\" : \"stuff-elasticsearch-XXXXXX\",\n  \"version\" : {\n    \"number\" : \"1.3.4\",\n    \"build_hash\" : \"a70f3ccb52200f8f2c87e9c370c6597448eb3e45\",\n    \"build_timestamp\" : \"2014-09-30T09:07:17Z\",\n    \"build_snapshot\" : false,\n    \"lucene_version\" : \"4.9\"\n  },\n  \"tagline\" : \"You Know, for Search\"\n}\n```\n\nBut pending_tasks?local=true does work and in master node - it shows some weird tasks like ( note one with -1 ) \n\n```\n 883   16m HIGH      refresh-mapping [&cherry-starfruit][[entity]] \n 884   16m HIGH      refresh-mapping [&cloudberry-clementine][[entity]] \n 741    -1 HIGH      unknown \n 816   18m HIGH      refresh-mapping [&cloudberry-clementine][[entity]] \n 887   16m HIGH      refresh-mapping [&apricot-fig][[entity]] \n 888 15.9m HIGH      refresh-mapping [&cloudberry-clementine][[entity]] \n 889 15.9m HIGH      refresh-mapping [&cantaloupe-grape][[entity]] \n 979 13.8m HIGH \n\n```\n\nMust be related - now the cluster cannot accept new node clients joining or any _cluster wide settings-update.\n\nis it some serialization/deserialization issue ? Already checked java versions in all nodes and node clients..\n\n```\njava version \"1.7.0_45\"\nJava(TM) SE Runtime Environment (build 1.7.0_45-b18)\nJava HotSpot(TM) 64-Bit Server VM (build 24.45-b08, mixed mode)\n```\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}