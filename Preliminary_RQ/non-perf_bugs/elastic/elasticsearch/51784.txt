{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/51784","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51784/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51784/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51784/events","html_url":"https://github.com/elastic/elasticsearch/issues/51784","id":558535679,"node_id":"MDU6SXNzdWU1NTg1MzU2Nzk=","number":51784,"title":"ElasticSearch new installation, no existing data, fielddata=true stack trace","user":{"login":"apiszcz","id":1430861,"node_id":"MDQ6VXNlcjE0MzA4NjE=","avatar_url":"https://avatars2.githubusercontent.com/u/1430861?v=4","gravatar_id":"","url":"https://api.github.com/users/apiszcz","html_url":"https://github.com/apiszcz","followers_url":"https://api.github.com/users/apiszcz/followers","following_url":"https://api.github.com/users/apiszcz/following{/other_user}","gists_url":"https://api.github.com/users/apiszcz/gists{/gist_id}","starred_url":"https://api.github.com/users/apiszcz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apiszcz/subscriptions","organizations_url":"https://api.github.com/users/apiszcz/orgs","repos_url":"https://api.github.com/users/apiszcz/repos","events_url":"https://api.github.com/users/apiszcz/events{/privacy}","received_events_url":"https://api.github.com/users/apiszcz/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-02-01T12:42:47Z","updated_at":"2020-02-01T16:41:03Z","closed_at":"2020-02-01T16:41:03Z","author_association":"NONE","active_lock_reason":null,"body":"New install of ElasticSearch 7.4.2 or 7.5.2 on Windows 10.\r\nStarting the server the following stack trace is continuously generated.\r\nNo user indices have been created.\r\n\r\nIs there a configuration option to set this globally? Most other postings reference setting this per index. \r\n\r\nThank you.\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Fielddata is disabled on text fields by default. Set fielddata=true on [type] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory. Alternatively use a keyword field instead.\r\n        at org.elasticsearch.index.mapper.TextFieldMapper$TextFieldType.fielddataBuilder(TextFieldMapper.java:759) ~[elasticsearch-7.4.2.jar:7.4.2]\r\n        at org.elasticsearch.index.fielddata.IndexFieldDataService.getForField(IndexFieldDataService.java:116) ~[elasticsearch-7.4.2.jar:7.4.2]\r\n        at org.elasticsearch.index.query.QueryShardContext.getForField(QueryShardContext.java:191) ~[elasticsearch-7.4.2.jar:7.4.2]\r\n        at org.elasticsearch.search.aggregations.support.ValuesSourceConfig.resolve(ValuesSourceConfig.java:112) ~[elasticsearch-7.4.2.jar:7.4.2]\r\n        at org.elasticsearch.search.aggregations.support.ValuesSourceAggregationBuilder.resolveConfig(ValuesSourceAggregationBuilder.java:350) ~[elasticsearch-7.4.2.jar:7.4.2]\r\n        at org.elasticsearch.search.aggregations.support.ValuesSourceAggregationBuilder.doBuild(ValuesSourceAggregationBuilder.java:322) ~[elasticsearch-7.4.2.jar:7.4.2]\r\n        at org.elasticsearch.search.aggregations.support.ValuesSourceAggregationBuilder.doBuild(ValuesSourceAggregationBuilder.java:39) ~[elasticsearch-7.4.2.jar:7.4.2]\r\n        at org.elasticsearch.search.aggregations.AbstractAggregationBuilder.build(AbstractAggregationBuilder.java:139) ~[elasticsearch-7.4.2.jar:7.4.2]\r\n        at org.elasticsearch.search.aggregations.AggregatorFactories$Builder.build(AggregatorFactories.java:332) ~[elasticsearch-7.4.2.jar:7.4.2]\r\n        at org.elasticsearch.search.SearchService.parseSource(SearchService.java:784) ~[elasticsearch-7.4.2.jar:7.4.2]\r\n        at org.elasticsearch.search.SearchService.createContext(SearchService.java:586) ~[elasticsearch-7.4.2.jar:7.4.2]\r\n        at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:545) ~[elasticsearch-7.4.2.jar:7.4.2]\r\n        at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:348) ~[elasticsearch-7.4.2.jar:7.4.2]\r\n        at org.elasticsearch.search.SearchService.lambda$executeQueryPhase$1(SearchService.java:340) ~[elasticsearch-7.4.2.jar:7.4.2]\r\n        at org.elasticsearch.action.ActionListener.lambda$map$2(ActionListener.java:145) ~[elasticsearch-7.4.2.jar:7.4.2]\r\n        at org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:62) ~[elasticsearch-7.4.2.jar:7.4.2]\r\n```","closed_by":{"login":"apiszcz","id":1430861,"node_id":"MDQ6VXNlcjE0MzA4NjE=","avatar_url":"https://avatars2.githubusercontent.com/u/1430861?v=4","gravatar_id":"","url":"https://api.github.com/users/apiszcz","html_url":"https://github.com/apiszcz","followers_url":"https://api.github.com/users/apiszcz/followers","following_url":"https://api.github.com/users/apiszcz/following{/other_user}","gists_url":"https://api.github.com/users/apiszcz/gists{/gist_id}","starred_url":"https://api.github.com/users/apiszcz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apiszcz/subscriptions","organizations_url":"https://api.github.com/users/apiszcz/orgs","repos_url":"https://api.github.com/users/apiszcz/repos","events_url":"https://api.github.com/users/apiszcz/events{/privacy}","received_events_url":"https://api.github.com/users/apiszcz/received_events","type":"User","site_admin":false},"performed_via_github_app":null}