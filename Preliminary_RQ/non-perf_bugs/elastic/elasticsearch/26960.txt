{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/26960","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26960/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26960/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26960/events","html_url":"https://github.com/elastic/elasticsearch/issues/26960","id":264496574,"node_id":"MDU6SXNzdWUyNjQ0OTY1NzQ=","number":26960,"title":"java.lang.NoClassDefFoundError: org/elasticsearch/common/transport/TransportAddress","user":{"login":"mingzhang96","id":15180391,"node_id":"MDQ6VXNlcjE1MTgwMzkx","avatar_url":"https://avatars2.githubusercontent.com/u/15180391?v=4","gravatar_id":"","url":"https://api.github.com/users/mingzhang96","html_url":"https://github.com/mingzhang96","followers_url":"https://api.github.com/users/mingzhang96/followers","following_url":"https://api.github.com/users/mingzhang96/following{/other_user}","gists_url":"https://api.github.com/users/mingzhang96/gists{/gist_id}","starred_url":"https://api.github.com/users/mingzhang96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mingzhang96/subscriptions","organizations_url":"https://api.github.com/users/mingzhang96/orgs","repos_url":"https://api.github.com/users/mingzhang96/repos","events_url":"https://api.github.com/users/mingzhang96/events{/privacy}","received_events_url":"https://api.github.com/users/mingzhang96/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-10-11T08:22:31Z","updated_at":"2017-10-11T08:45:24Z","closed_at":"2017-10-11T08:45:24Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n\r\n** Please read the guidelines below. **\r\n\r\nIssues that do not follow these guidelines are likely to be closed.\r\n\r\n1.  GitHub is reserved for bug reports and feature requests. The best place to\r\n    ask a general question is at the Elastic [forums](https://discuss.elastic.co).\r\n    GitHub is not the place for general questions.\r\n\r\n2.  Is this bug report or feature request for a supported OS? If not, it\r\n    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os\r\n\r\n3.  Please fill out EITHER the feature request block or the bug report block\r\n    below, and delete the other block.\r\n\r\n-->\r\n\r\n<!-- Feature request -->\r\n\r\n**Describe the feature**:\r\nI am using `mvn package` to build a jar and want to run the main function in the jar. `mvn package` is successful, but when I run `java -classpath ./target/socket-server-1.0-SNAPSHOT.jar cn.zmhappy.es.Server`, something bad happened as follow:\r\n```\r\nException in thread \"main\" java.lang.NoClassDefFoundError: org/elasticsearch/common/transport/TransportAddress\r\n        at cn.faceall.es.Server.main(Server.java:52)\r\nCaused by: java.lang.ClassNotFoundException: org.elasticsearch.common.transport.TransportAddress\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n        ... 1 more\r\n```\r\n\r\nmy pom.xml:\r\n```\r\n<dependencies>\r\n        <dependency>\r\n            <groupId>org.elasticsearch</groupId>\r\n            <artifactId>elasticsearch</artifactId>\r\n            <version>5.3.0</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.elasticsearch.client</groupId>\r\n            <artifactId>transport</artifactId>\r\n            <version>5.3.0</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>junit</groupId>\r\n            <artifactId>junit</artifactId>\r\n            <version>RELEASE</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.json</groupId>\r\n            <artifactId>json</artifactId>\r\n            <version>20160810</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.apache.logging.log4j</groupId>\r\n            <artifactId>log4j-api</artifactId>\r\n            <version>2.8.2</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.apache.logging.log4j</groupId>\r\n            <artifactId>log4j-core</artifactId>\r\n            <version>2.8.2</version>\r\n        </dependency>\r\n</dependencies>\r\n```\r\n\r\nI try to search in `~/.m2/repository/org/elasticsearch/`, but I can't find `common` under this directory. Besides, the application can run successfully locally. I wonder how to deal with this problem.\r\n\r\n\r\n<!-- Bug report -->\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`): 5.3.0\r\n**JVM version** (`java -version`): 1.8.0_144\r\n\r\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}