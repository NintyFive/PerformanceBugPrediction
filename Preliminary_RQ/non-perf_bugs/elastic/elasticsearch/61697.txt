{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/61697","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61697/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61697/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61697/events","html_url":"https://github.com/elastic/elasticsearch/issues/61697","id":689008795,"node_id":"MDU6SXNzdWU2ODkwMDg3OTU=","number":61697,"title":"[CI] windows docs:integTest failures","user":{"login":"henningandersen","id":33268011,"node_id":"MDQ6VXNlcjMzMjY4MDEx","avatar_url":"https://avatars2.githubusercontent.com/u/33268011?v=4","gravatar_id":"","url":"https://api.github.com/users/henningandersen","html_url":"https://github.com/henningandersen","followers_url":"https://api.github.com/users/henningandersen/followers","following_url":"https://api.github.com/users/henningandersen/following{/other_user}","gists_url":"https://api.github.com/users/henningandersen/gists{/gist_id}","starred_url":"https://api.github.com/users/henningandersen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henningandersen/subscriptions","organizations_url":"https://api.github.com/users/henningandersen/orgs","repos_url":"https://api.github.com/users/henningandersen/repos","events_url":"https://api.github.com/users/henningandersen/events{/privacy}","received_events_url":"https://api.github.com/users/henningandersen/received_events","type":"User","site_admin":false},"labels":[{"id":106454670,"node_id":"MDU6TGFiZWwxMDY0NTQ2NzA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Build","name":":Delivery/Build","color":"0e8a16","default":false,"description":"Build or test infrastructure"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"},{"id":2205552170,"node_id":"MDU6TGFiZWwyMjA1NTUyMTcw","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v7.10.0","name":"v7.10.0","color":"dddddd","default":false,"description":""},{"id":1194435738,"node_id":"MDU6TGFiZWwxMTk0NDM1NzM4","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v8.0.0","name":"v8.0.0","color":"dddddd","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"breskeby","id":77300,"node_id":"MDQ6VXNlcjc3MzAw","avatar_url":"https://avatars3.githubusercontent.com/u/77300?v=4","gravatar_id":"","url":"https://api.github.com/users/breskeby","html_url":"https://github.com/breskeby","followers_url":"https://api.github.com/users/breskeby/followers","following_url":"https://api.github.com/users/breskeby/following{/other_user}","gists_url":"https://api.github.com/users/breskeby/gists{/gist_id}","starred_url":"https://api.github.com/users/breskeby/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/breskeby/subscriptions","organizations_url":"https://api.github.com/users/breskeby/orgs","repos_url":"https://api.github.com/users/breskeby/repos","events_url":"https://api.github.com/users/breskeby/events{/privacy}","received_events_url":"https://api.github.com/users/breskeby/received_events","type":"User","site_admin":false},"assignees":[{"login":"breskeby","id":77300,"node_id":"MDQ6VXNlcjc3MzAw","avatar_url":"https://avatars3.githubusercontent.com/u/77300?v=4","gravatar_id":"","url":"https://api.github.com/users/breskeby","html_url":"https://github.com/breskeby","followers_url":"https://api.github.com/users/breskeby/followers","following_url":"https://api.github.com/users/breskeby/following{/other_user}","gists_url":"https://api.github.com/users/breskeby/gists{/gist_id}","starred_url":"https://api.github.com/users/breskeby/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/breskeby/subscriptions","organizations_url":"https://api.github.com/users/breskeby/orgs","repos_url":"https://api.github.com/users/breskeby/repos","events_url":"https://api.github.com/users/breskeby/events{/privacy}","received_events_url":"https://api.github.com/users/breskeby/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2020-08-31T08:06:00Z","updated_at":"2020-11-11T21:35:56Z","closed_at":"2020-09-02T08:14:29Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Build scan**:\r\nhttps://gradle-enterprise.elastic.co/s/evy6ulghdf5bc\r\nhttps://gradle-enterprise.elastic.co/s/ekuqxpei5tx2o\r\nhttps://gradle-enterprise.elastic.co/s/w7tnvoyrcyufy\r\n\r\n**Repro line**:\r\nN/A\r\n\r\n**Reproduces locally?**:\r\nDid not try since it looks like it fails only on windows.\r\n\r\n**Applicable branches**:\r\nMaster and 7x.\r\n\r\n**Failure history**:\r\nhttps://build-stats.elastic.co/goto/9e2b65ad1c23a124dd4b13577a6c8e67\r\nStarted failing August 28th and has failed around 26 times since (8 times per day). Seems likely to be related to #61692 and #60923 .\r\n\r\n**Failure excerpt**:\r\nConsole log:\r\n```\r\n=== Standard error of node `node{:docs:integTest-0}` ===\r\nlast 40 non error or warning messages from C:\\Users\\jenkins\\workspace\\elastic+elasticsearch+master+multijob-windows-compatibility\\os\\windows-2012-r2\\docs\\build\\testclusters\\integTest-0\\logs\\es.stderr.log ?\r\nException in thread \"main\" java.lang.RuntimeException: starting java failed with [1]\r\noutput:\r\n\r\n...\r\n\r\nExecution failed for task ':docs:integTest'.\r\n> process was found dead while waiting for ports files, node{:docs:integTest-0}\r\n```\r\n\r\nThe node log file in GCP showed following stderr:\r\n\r\n```\r\nException in thread \"main\" java.lang.RuntimeException: starting java failed with [1]\r\noutput:\r\n[0.002s][error][logging] Invalid decorator 'Usersjenkinsworkspaceelastic+elasticsearch+master+multijob-windows-compatibilityoswindows-2012-r2docsbuildtestclustersintegTest-0logsgc.log'.\r\nerror:\r\nOpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\nInvalid -Xlog option '-Xlog:gc*,gc+age=trace,safepoint:file=C:Usersjenkinsworkspaceelastic+elasticsearch+master+multijob-windows-compatibilityoswindows-2012-r2docsbuildtestclustersintegTest-0logsgc.log:utctime,pid,tags:filecount=32,filesize=64m', see error log for details.\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n        at org.elasticsearch.tools.launchers.JvmErgonomics.flagsFinal(JvmErgonomics.java:106)\r\n        at org.elasticsearch.tools.launchers.JvmErgonomics.finalJvmOptions(JvmErgonomics.java:71)\r\n        at org.elasticsearch.tools.launchers.JvmErgonomics.choose(JvmErgonomics.java:56)\r\n        at org.elasticsearch.tools.launchers.JvmOptionsParser.jvmOptions(JvmOptionsParser.java:138)\r\n        at org.elasticsearch.tools.launchers.JvmOptionsParser.main(JvmOptionsParser.java:96)\r\n```\r\n\r\nThe `:` in the `file` parameter is likely to confuse java unified logging, since it uses `:` to separate arguments.\r\n```\r\n","closed_by":{"login":"breskeby","id":77300,"node_id":"MDQ6VXNlcjc3MzAw","avatar_url":"https://avatars3.githubusercontent.com/u/77300?v=4","gravatar_id":"","url":"https://api.github.com/users/breskeby","html_url":"https://github.com/breskeby","followers_url":"https://api.github.com/users/breskeby/followers","following_url":"https://api.github.com/users/breskeby/following{/other_user}","gists_url":"https://api.github.com/users/breskeby/gists{/gist_id}","starred_url":"https://api.github.com/users/breskeby/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/breskeby/subscriptions","organizations_url":"https://api.github.com/users/breskeby/orgs","repos_url":"https://api.github.com/users/breskeby/repos","events_url":"https://api.github.com/users/breskeby/events{/privacy}","received_events_url":"https://api.github.com/users/breskeby/received_events","type":"User","site_admin":false},"performed_via_github_app":null}