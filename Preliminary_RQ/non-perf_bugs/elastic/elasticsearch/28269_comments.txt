[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/358393499","html_url":"https://github.com/elastic/elasticsearch/issues/28269#issuecomment-358393499","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28269","id":358393499,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODM5MzQ5OQ==","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"created_at":"2018-01-17T18:14:19Z","updated_at":"2018-01-17T18:14:19Z","author_association":"MEMBER","body":"/cc @AlexP-Elastic ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/358503732","html_url":"https://github.com/elastic/elasticsearch/issues/28269#issuecomment-358503732","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28269","id":358503732,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODUwMzczMg==","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"created_at":"2018-01-18T01:09:05Z","updated_at":"2018-01-18T01:09:05Z","author_association":"MEMBER","body":"Small update:\r\n\r\nThis happened again on the same cluster, which means that it had nothing to do with the upgrade. Also, the `DELETE` is not required; only the `PUT` of the ingest pipeline to replace it.\r\n\r\nIt _appears_ to be related to updating an unrelated ingest pipeline, but we have not yet figured out how to make it retrigger since doing it again (the person that did it was not trying to make it happen).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/358821209","html_url":"https://github.com/elastic/elasticsearch/issues/28269#issuecomment-358821209","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28269","id":358821209,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODgyMTIwOQ==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-01-18T23:52:53Z","updated_at":"2018-01-18T23:52:53Z","author_association":"CONTRIBUTOR","body":"@pickypg was ingest enabled on all the nodes?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/358835568","html_url":"https://github.com/elastic/elasticsearch/issues/28269#issuecomment-358835568","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28269","id":358835568,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODgzNTU2OA==","user":{"login":"AlexP-Elastic","id":19776583,"node_id":"MDQ6VXNlcjE5Nzc2NTgz","avatar_url":"https://avatars3.githubusercontent.com/u/19776583?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexP-Elastic","html_url":"https://github.com/AlexP-Elastic","followers_url":"https://api.github.com/users/AlexP-Elastic/followers","following_url":"https://api.github.com/users/AlexP-Elastic/following{/other_user}","gists_url":"https://api.github.com/users/AlexP-Elastic/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexP-Elastic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexP-Elastic/subscriptions","organizations_url":"https://api.github.com/users/AlexP-Elastic/orgs","repos_url":"https://api.github.com/users/AlexP-Elastic/repos","events_url":"https://api.github.com/users/AlexP-Elastic/events{/privacy}","received_events_url":"https://api.github.com/users/AlexP-Elastic/received_events","type":"User","site_admin":false},"created_at":"2018-01-19T01:12:56Z","updated_at":"2018-01-19T01:12:56Z","author_association":"NONE","body":"All 3 nodes were ingest enabled, in addition: 2 of the nodes were data+master eligible, 1 of the nodes was master only (this is standard 2HA config for Cloud clusters)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/359059869","html_url":"https://github.com/elastic/elasticsearch/issues/28269#issuecomment-359059869","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28269","id":359059869,"node_id":"MDEyOklzc3VlQ29tbWVudDM1OTA1OTg2OQ==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-01-19T19:06:32Z","updated_at":"2018-01-19T19:06:32Z","author_association":"CONTRIBUTOR","body":"strange. let me know if there is a way to recreate and I will see what is happening!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/366035571","html_url":"https://github.com/elastic/elasticsearch/issues/28269#issuecomment-366035571","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28269","id":366035571,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjAzNTU3MQ==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-02-15T19:28:51Z","updated_at":"2018-02-15T19:28:51Z","author_association":"CONTRIBUTOR","body":"this just happened on another Elastic Cloud cluster. I believe https://github.com/elastic/elasticsearch/pull/28588 should fix this problem.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/366040373","html_url":"https://github.com/elastic/elasticsearch/issues/28269#issuecomment-366040373","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28269","id":366040373,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjA0MDM3Mw==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-02-15T19:46:03Z","updated_at":"2018-02-15T19:46:03Z","author_association":"CONTRIBUTOR","body":"nevermind. the issue is that scripting is disabled and there are pipelines in the cluster-state that depend on scripts. The start-up exception is being muted. I feel like the node should not be able to start up in this case?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/366043934","html_url":"https://github.com/elastic/elasticsearch/issues/28269#issuecomment-366043934","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28269","id":366043934,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjA0MzkzNA==","user":{"login":"AlexP-Elastic","id":19776583,"node_id":"MDQ6VXNlcjE5Nzc2NTgz","avatar_url":"https://avatars3.githubusercontent.com/u/19776583?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexP-Elastic","html_url":"https://github.com/AlexP-Elastic","followers_url":"https://api.github.com/users/AlexP-Elastic/followers","following_url":"https://api.github.com/users/AlexP-Elastic/following{/other_user}","gists_url":"https://api.github.com/users/AlexP-Elastic/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexP-Elastic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexP-Elastic/subscriptions","organizations_url":"https://api.github.com/users/AlexP-Elastic/orgs","repos_url":"https://api.github.com/users/AlexP-Elastic/repos","events_url":"https://api.github.com/users/AlexP-Elastic/events{/privacy}","received_events_url":"https://api.github.com/users/AlexP-Elastic/received_events","type":"User","site_admin":false},"created_at":"2018-02-15T19:59:08Z","updated_at":"2018-02-15T19:59:38Z","author_association":"NONE","body":"@talevy what scripting was disabled? We may have incorrect defaults set up in the EC(E) UI that are causing this","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/366045673","html_url":"https://github.com/elastic/elasticsearch/issues/28269#issuecomment-366045673","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28269","id":366045673,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjA0NTY3Mw==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-02-15T20:05:34Z","updated_at":"2018-02-15T20:05:34Z","author_association":"CONTRIBUTOR","body":"@AlexP-Elastic Monitoring's ingest pipeline leverages inline painless scripts","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/366056824","html_url":"https://github.com/elastic/elasticsearch/issues/28269#issuecomment-366056824","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28269","id":366056824,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjA1NjgyNA==","user":{"login":"AlexP-Elastic","id":19776583,"node_id":"MDQ6VXNlcjE5Nzc2NTgz","avatar_url":"https://avatars3.githubusercontent.com/u/19776583?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexP-Elastic","html_url":"https://github.com/AlexP-Elastic","followers_url":"https://api.github.com/users/AlexP-Elastic/followers","following_url":"https://api.github.com/users/AlexP-Elastic/following{/other_user}","gists_url":"https://api.github.com/users/AlexP-Elastic/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexP-Elastic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexP-Elastic/subscriptions","organizations_url":"https://api.github.com/users/AlexP-Elastic/orgs","repos_url":"https://api.github.com/users/AlexP-Elastic/repos","events_url":"https://api.github.com/users/AlexP-Elastic/events{/privacy}","received_events_url":"https://api.github.com/users/AlexP-Elastic/received_events","type":"User","site_admin":false},"created_at":"2018-02-15T20:48:52Z","updated_at":"2018-02-15T20:48:52Z","author_association":"NONE","body":"We confirmed that:\r\n* The logging and metrics cluster in ECE is brought up with inline scripting disabled, no idea why - I'll open an ECE ticket to investigate .. this was the cluster that @talevy and @kovyrin investigation\r\n* We just confirmed that the other (6.2.x) cluster had scripting enabled, so that is less clear \r\n   * (some of the time when we thought we were looking at the 6.x cluster we were accidentally looking at the logging and metrics cluster). \r\n    * Unless I see it again, I'll assume it was the transient issue that will be fixed by #28588, even though that's a bit of a suspicious coincidence ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/366281769","html_url":"https://github.com/elastic/elasticsearch/issues/28269#issuecomment-366281769","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28269","id":366281769,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjI4MTc2OQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-02-16T16:17:39Z","updated_at":"2018-02-16T16:17:39Z","author_association":"MEMBER","body":"> The start-up exception is being muted. I feel like the node should not be able to start up in this case?\r\n\r\n@talevy Can you share the exception that is being swallowed here?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367039826","html_url":"https://github.com/elastic/elasticsearch/issues/28269#issuecomment-367039826","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28269","id":367039826,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzAzOTgyNg==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-02-20T16:45:21Z","updated_at":"2018-02-20T16:45:21Z","author_association":"CONTRIBUTOR","body":"@jasontedor I will take a look at this today and share the update","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367091863","html_url":"https://github.com/elastic/elasticsearch/issues/28269#issuecomment-367091863","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28269","id":367091863,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzA5MTg2Mw==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-02-20T19:31:01Z","updated_at":"2018-02-20T19:31:01Z","author_association":"CONTRIBUTOR","body":"@jasontedor update: the exception is not swallowed. I just thought that this was being applied when the NodeService is created, but it is only registered as a cluster-state applier and applies things after startup.\r\n\r\nhere is the stacktrace that should be seen on the cloud instances.\r\n\r\nI don't see a way to restrict the node from starting up since this is occurring too late in the game. One thing that can be done is to only fail on the offending pipelines, and still support the others.\r\n\r\n```\r\n[2018-02-20T09:01:34,170][INFO ][o.e.n.Node               ] [node_t1] started\r\n[2018-02-20T09:01:34,175][WARN ][o.e.c.s.ClusterApplierService] [node_t1] failed to notify ClusterStateApplier\r\norg.elasticsearch.ElasticsearchParseException: Error updating pipeline with id [YLFyNXsg]\r\n\tat org.elasticsearch.ingest.PipelineStore.innerUpdatePipelines(PipelineStore.java:90) ~[main/:?]\r\n\tat org.elasticsearch.ingest.PipelineStore.applyClusterState(PipelineStore.java:69) ~[main/:?]\r\n\tat org.elasticsearch.cluster.service.ClusterApplierService.lambda$callClusterStateAppliers$6(ClusterApplierService.java:498) [main/:?]\r\n\tat java.lang.Iterable.forEach(Iterable.java:75) [?:?]\r\n\tat org.elasticsearch.cluster.service.ClusterApplierService.callClusterStateAppliers(ClusterApplierService.java:495) [main/:?]\r\n\tat org.elasticsearch.cluster.service.ClusterApplierService.applyChanges(ClusterApplierService.java:482) [main/:?]\r\n\tat org.elasticsearch.cluster.service.ClusterApplierService.runTask(ClusterApplierService.java:432) [main/:?]\r\n\tat org.elasticsearch.cluster.service.ClusterApplierService$UpdateTask.run(ClusterApplierService.java:161) [main/:?]\r\n\tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:573) [main/:?]\r\n\tat org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.runAndClean(PrioritizedEsThreadPoolExecutor.java:244) [main/:?]\r\n\tat org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.run(PrioritizedEsThreadPoolExecutor.java:207) [main/:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:844) [?:?]\r\nCaused by: org.elasticsearch.ElasticsearchException: java.lang.IllegalArgumentException: cannot execute [inline] scripts\r\n\tat org.elasticsearch.ExceptionsHelper.convertToElastic(ExceptionsHelper.java:61) ~[main/:?]\r\n\tat org.elasticsearch.ingest.ConfigurationUtils.newConfigurationException(ConfigurationUtils.java:293) ~[main/:?]\r\n\tat org.elasticsearch.ingest.ConfigurationUtils.readProcessor(ConfigurationUtils.java:400) ~[main/:?]\r\n\tat org.elasticsearch.ingest.ConfigurationUtils.readProcessor(ConfigurationUtils.java:361) ~[main/:?]\r\n\tat org.elasticsearch.ingest.ConfigurationUtils.readProcessorConfigs(ConfigurationUtils.java:306) ~[main/:?]\r\n\tat org.elasticsearch.ingest.Pipeline$Factory.create(Pipeline.java:122) ~[main/:?]\r\n\tat org.elasticsearch.ingest.PipelineStore.innerUpdatePipelines(PipelineStore.java:86) ~[main/:?]\r\n\t... 13 more\r\nCaused by: java.lang.IllegalArgumentException: cannot execute [inline] scripts\r\n\tat org.elasticsearch.script.ScriptService.compile(ScriptService.java:297) ~[main/:?]\r\n\tat org.elasticsearch.ingest.common.ScriptProcessor$Factory.create(ScriptProcessor.java:109) ~[main/:?]\r\n\tat org.elasticsearch.ingest.common.ScriptProcessor$Factory.create(ScriptProcessor.java:90) ~[main/:?]\r\n\tat org.elasticsearch.ingest.ConfigurationUtils.readProcessor(ConfigurationUtils.java:389) ~[main/:?]\r\n\tat org.elasticsearch.ingest.ConfigurationUtils.readProcessor(ConfigurationUtils.java:361) ~[main/:?]\r\n\tat org.elasticsearch.ingest.ConfigurationUtils.readProcessorConfigs(ConfigurationUtils.java:306) ~[main/:?]\r\n\tat org.elasticsearch.ingest.Pipeline$Factory.create(Pipeline.java:122) ~[main/:?]\r\n\tat org.elasticsearch.ingest.PipelineStore.innerUpdatePipelines(PipelineStore.java:86) ~[main/:?]\r\n\t... 13 more\r\n[2018-02-20T09:01:34,185][INFO ][o.e.g.GatewayService     ] [node_t1] recovered [0] indices into cluster_state\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367128274","html_url":"https://github.com/elastic/elasticsearch/issues/28269#issuecomment-367128274","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28269","id":367128274,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzEyODI3NA==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-02-20T21:36:24Z","updated_at":"2018-02-20T21:36:24Z","author_association":"CONTRIBUTOR","body":"I've opened #28752 to resolve this. feel free to comment. I understand that other forms of exceptions may be preferred and would be happy to hear others' thoughts.","performed_via_github_app":null}]