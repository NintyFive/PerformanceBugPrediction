[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/193478461","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-193478461","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":193478461,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MzQ3ODQ2MQ==","user":{"login":"epixa","id":53814,"node_id":"MDQ6VXNlcjUzODE0","avatar_url":"https://avatars0.githubusercontent.com/u/53814?v=4","gravatar_id":"","url":"https://api.github.com/users/epixa","html_url":"https://github.com/epixa","followers_url":"https://api.github.com/users/epixa/followers","following_url":"https://api.github.com/users/epixa/following{/other_user}","gists_url":"https://api.github.com/users/epixa/gists{/gist_id}","starred_url":"https://api.github.com/users/epixa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epixa/subscriptions","organizations_url":"https://api.github.com/users/epixa/orgs","repos_url":"https://api.github.com/users/epixa/repos","events_url":"https://api.github.com/users/epixa/events{/privacy}","received_events_url":"https://api.github.com/users/epixa/received_events","type":"User","site_admin":false},"created_at":"2016-03-07T22:10:36Z","updated_at":"2016-03-07T22:10:36Z","author_association":"MEMBER","body":"/cc @panda01 \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/193667828","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-193667828","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":193667828,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MzY2NzgyOA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-03-08T08:51:25Z","updated_at":"2016-03-08T08:51:25Z","author_association":"CONTRIBUTOR","body":"sounds like a good idea.  \n\nOne gotcha to be aware of: with `search_type: scan`, the first response you get back has no hits.  Scanning is deprecated in favour of `sort: \"_doc\"` which DOES return hits with the first response.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/193813269","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-193813269","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":193813269,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MzgxMzI2OQ==","user":{"login":"epixa","id":53814,"node_id":"MDQ6VXNlcjUzODE0","avatar_url":"https://avatars0.githubusercontent.com/u/53814?v=4","gravatar_id":"","url":"https://api.github.com/users/epixa","html_url":"https://github.com/epixa","followers_url":"https://api.github.com/users/epixa/followers","following_url":"https://api.github.com/users/epixa/following{/other_user}","gists_url":"https://api.github.com/users/epixa/gists{/gist_id}","starred_url":"https://api.github.com/users/epixa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epixa/subscriptions","organizations_url":"https://api.github.com/users/epixa/orgs","repos_url":"https://api.github.com/users/epixa/repos","events_url":"https://api.github.com/users/epixa/events{/privacy}","received_events_url":"https://api.github.com/users/epixa/received_events","type":"User","site_admin":false},"created_at":"2016-03-08T14:54:57Z","updated_at":"2016-03-08T14:54:57Z","author_association":"MEMBER","body":"Thanks for the heads up. I wasn't even aware of the `search_type: scan` feature, so I guess I started doing this recently enough to avoid the old behavior.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/194548223","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-194548223","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":194548223,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NDU0ODIyMw==","user":{"login":"kubum","id":169803,"node_id":"MDQ6VXNlcjE2OTgwMw==","avatar_url":"https://avatars3.githubusercontent.com/u/169803?v=4","gravatar_id":"","url":"https://api.github.com/users/kubum","html_url":"https://github.com/kubum","followers_url":"https://api.github.com/users/kubum/followers","following_url":"https://api.github.com/users/kubum/following{/other_user}","gists_url":"https://api.github.com/users/kubum/gists{/gist_id}","starred_url":"https://api.github.com/users/kubum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kubum/subscriptions","organizations_url":"https://api.github.com/users/kubum/orgs","repos_url":"https://api.github.com/users/kubum/repos","events_url":"https://api.github.com/users/kubum/events{/privacy}","received_events_url":"https://api.github.com/users/kubum/received_events","type":"User","site_admin":false},"created_at":"2016-03-09T22:41:10Z","updated_at":"2016-03-09T22:41:10Z","author_association":"CONTRIBUTOR","body":"Do you have any ideas about possible conventions for this type of response headers?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/194590474","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-194590474","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":194590474,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NDU5MDQ3NA==","user":{"login":"epixa","id":53814,"node_id":"MDQ6VXNlcjUzODE0","avatar_url":"https://avatars0.githubusercontent.com/u/53814?v=4","gravatar_id":"","url":"https://api.github.com/users/epixa","html_url":"https://github.com/epixa","followers_url":"https://api.github.com/users/epixa/followers","following_url":"https://api.github.com/users/epixa/following{/other_user}","gists_url":"https://api.github.com/users/epixa/gists{/gist_id}","starred_url":"https://api.github.com/users/epixa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epixa/subscriptions","organizations_url":"https://api.github.com/users/epixa/orgs","repos_url":"https://api.github.com/users/epixa/repos","events_url":"https://api.github.com/users/epixa/events{/privacy}","received_events_url":"https://api.github.com/users/epixa/received_events","type":"User","site_admin":false},"created_at":"2016-03-10T00:42:59Z","updated_at":"2016-03-10T00:42:59Z","author_association":"MEMBER","body":"I don't know if there's any precedent of hypermedia api behaviors in elasticsearch, but how about this: instead of returning scroll id and hit counts in headers, what if each request returned the next scroll/search url (including scroll id parameter) in the \"link\" header? http://tools.ietf.org/html/rfc5988\n\nI've seen this same convention in other rest-like https apis, like github's: https://developer.github.com/guides/traversing-with-pagination/\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/194590799","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-194590799","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":194590799,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NDU5MDc5OQ==","user":{"login":"epixa","id":53814,"node_id":"MDQ6VXNlcjUzODE0","avatar_url":"https://avatars0.githubusercontent.com/u/53814?v=4","gravatar_id":"","url":"https://api.github.com/users/epixa","html_url":"https://github.com/epixa","followers_url":"https://api.github.com/users/epixa/followers","following_url":"https://api.github.com/users/epixa/following{/other_user}","gists_url":"https://api.github.com/users/epixa/gists{/gist_id}","starred_url":"https://api.github.com/users/epixa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epixa/subscriptions","organizations_url":"https://api.github.com/users/epixa/orgs","repos_url":"https://api.github.com/users/epixa/repos","events_url":"https://api.github.com/users/epixa/events{/privacy}","received_events_url":"https://api.github.com/users/epixa/received_events","type":"User","site_admin":false},"created_at":"2016-03-10T00:44:36Z","updated_at":"2016-03-10T00:44:36Z","author_association":"MEMBER","body":"To clarify, in order to not return the current request's hit count as a header, I think it would need to only include the `link` header if there were actually more results to query.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/194871684","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-194871684","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":194871684,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NDg3MTY4NA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-03-10T14:28:36Z","updated_at":"2016-03-10T14:28:36Z","author_association":"CONTRIBUTOR","body":"I like the idea of using the `Link:` header.  It would need to be a relative URL, but that's allowed by the spec.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/194871740","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-194871740","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":194871740,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NDg3MTc0MA==","user":{"login":"epixa","id":53814,"node_id":"MDQ6VXNlcjUzODE0","avatar_url":"https://avatars0.githubusercontent.com/u/53814?v=4","gravatar_id":"","url":"https://api.github.com/users/epixa","html_url":"https://github.com/epixa","followers_url":"https://api.github.com/users/epixa/followers","following_url":"https://api.github.com/users/epixa/following{/other_user}","gists_url":"https://api.github.com/users/epixa/gists{/gist_id}","starred_url":"https://api.github.com/users/epixa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epixa/subscriptions","organizations_url":"https://api.github.com/users/epixa/orgs","repos_url":"https://api.github.com/users/epixa/repos","events_url":"https://api.github.com/users/epixa/events{/privacy}","received_events_url":"https://api.github.com/users/epixa/received_events","type":"User","site_admin":false},"created_at":"2016-03-10T14:28:45Z","updated_at":"2016-03-10T14:28:45Z","author_association":"MEMBER","body":"Actually, I gave it a little more thought, and I don't know if the `link` header is the best option for this.  The scroll id itself is actually used for _two_ different api requests: retrieving the next results and clean up, so I think it would be best if the scroll id itself were returned as header rather than built into a url.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/194871885","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-194871885","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":194871885,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NDg3MTg4NQ==","user":{"login":"epixa","id":53814,"node_id":"MDQ6VXNlcjUzODE0","avatar_url":"https://avatars0.githubusercontent.com/u/53814?v=4","gravatar_id":"","url":"https://api.github.com/users/epixa","html_url":"https://github.com/epixa","followers_url":"https://api.github.com/users/epixa/followers","following_url":"https://api.github.com/users/epixa/following{/other_user}","gists_url":"https://api.github.com/users/epixa/gists{/gist_id}","starred_url":"https://api.github.com/users/epixa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epixa/subscriptions","organizations_url":"https://api.github.com/users/epixa/orgs","repos_url":"https://api.github.com/users/epixa/repos","events_url":"https://api.github.com/users/epixa/events{/privacy}","received_events_url":"https://api.github.com/users/epixa/received_events","type":"User","site_admin":false},"created_at":"2016-03-10T14:29:13Z","updated_at":"2016-03-10T14:29:13Z","author_association":"MEMBER","body":"Unless we returning a clean up link as well...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/194872346","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-194872346","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":194872346,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NDg3MjM0Ng==","user":{"login":"epixa","id":53814,"node_id":"MDQ6VXNlcjUzODE0","avatar_url":"https://avatars0.githubusercontent.com/u/53814?v=4","gravatar_id":"","url":"https://api.github.com/users/epixa","html_url":"https://github.com/epixa","followers_url":"https://api.github.com/users/epixa/followers","following_url":"https://api.github.com/users/epixa/following{/other_user}","gists_url":"https://api.github.com/users/epixa/gists{/gist_id}","starred_url":"https://api.github.com/users/epixa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epixa/subscriptions","organizations_url":"https://api.github.com/users/epixa/orgs","repos_url":"https://api.github.com/users/epixa/repos","events_url":"https://api.github.com/users/epixa/events{/privacy}","received_events_url":"https://api.github.com/users/epixa/received_events","type":"User","site_admin":false},"created_at":"2016-03-10T14:31:10Z","updated_at":"2016-03-10T14:31:10Z","author_association":"MEMBER","body":"As an alternative, this would work _very_ nicely for us:\n\nResponse contains `ES-Scroll-Id` header if there are more results to retrieve.  It does not contain that header if there are no results.  Then we'd just grab that header whenever we see it and add a search function to the queue.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/209073931","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-209073931","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":209073931,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTA3MzkzMQ==","user":{"login":"lucianogreiner","id":2201208,"node_id":"MDQ6VXNlcjIyMDEyMDg=","avatar_url":"https://avatars1.githubusercontent.com/u/2201208?v=4","gravatar_id":"","url":"https://api.github.com/users/lucianogreiner","html_url":"https://github.com/lucianogreiner","followers_url":"https://api.github.com/users/lucianogreiner/followers","following_url":"https://api.github.com/users/lucianogreiner/following{/other_user}","gists_url":"https://api.github.com/users/lucianogreiner/gists{/gist_id}","starred_url":"https://api.github.com/users/lucianogreiner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucianogreiner/subscriptions","organizations_url":"https://api.github.com/users/lucianogreiner/orgs","repos_url":"https://api.github.com/users/lucianogreiner/repos","events_url":"https://api.github.com/users/lucianogreiner/events{/privacy}","received_events_url":"https://api.github.com/users/lucianogreiner/received_events","type":"User","site_admin":false},"created_at":"2016-04-12T19:45:02Z","updated_at":"2016-04-12T19:45:02Z","author_association":"NONE","body":"+1 on this feature.\n\nWe would like to have hits counting under Http Response Headers section to be able to perfom internal tracking on requester limits.\n\nWas there any development on this issue? What would be the best place to start to create a plugin to support this feature?\n\nBest regards\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/209081227","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-209081227","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":209081227,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTA4MTIyNw==","user":{"login":"burtonator","id":45447,"node_id":"MDQ6VXNlcjQ1NDQ3","avatar_url":"https://avatars3.githubusercontent.com/u/45447?v=4","gravatar_id":"","url":"https://api.github.com/users/burtonator","html_url":"https://github.com/burtonator","followers_url":"https://api.github.com/users/burtonator/followers","following_url":"https://api.github.com/users/burtonator/following{/other_user}","gists_url":"https://api.github.com/users/burtonator/gists{/gist_id}","starred_url":"https://api.github.com/users/burtonator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/burtonator/subscriptions","organizations_url":"https://api.github.com/users/burtonator/orgs","repos_url":"https://api.github.com/users/burtonator/repos","events_url":"https://api.github.com/users/burtonator/events{/privacy}","received_events_url":"https://api.github.com/users/burtonator/received_events","type":"User","site_admin":false},"created_at":"2016-04-12T20:03:34Z","updated_at":"2016-04-12T20:03:34Z","author_association":"NONE","body":"+1 ... we really need the number of documents present in the current search result.. we need it for accounting on our end.  \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/219016331","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-219016331","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":219016331,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTAxNjMzMQ==","user":{"login":"alexbernotas","id":2698165,"node_id":"MDQ6VXNlcjI2OTgxNjU=","avatar_url":"https://avatars2.githubusercontent.com/u/2698165?v=4","gravatar_id":"","url":"https://api.github.com/users/alexbernotas","html_url":"https://github.com/alexbernotas","followers_url":"https://api.github.com/users/alexbernotas/followers","following_url":"https://api.github.com/users/alexbernotas/following{/other_user}","gists_url":"https://api.github.com/users/alexbernotas/gists{/gist_id}","starred_url":"https://api.github.com/users/alexbernotas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexbernotas/subscriptions","organizations_url":"https://api.github.com/users/alexbernotas/orgs","repos_url":"https://api.github.com/users/alexbernotas/repos","events_url":"https://api.github.com/users/alexbernotas/events{/privacy}","received_events_url":"https://api.github.com/users/alexbernotas/received_events","type":"User","site_admin":false},"created_at":"2016-05-13T11:17:32Z","updated_at":"2016-05-13T11:17:32Z","author_association":"NONE","body":"+1 this is definetly a needed solution, it is really costly to iteerate and process results into memory if you want to paginate through 100mil+ results\n\nis there an indication on someone accepting or starting to work on this feature? or is this posisble with count API?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/219084503","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-219084503","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":219084503,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTA4NDUwMw==","user":{"login":"burtonator","id":45447,"node_id":"MDQ6VXNlcjQ1NDQ3","avatar_url":"https://avatars3.githubusercontent.com/u/45447?v=4","gravatar_id":"","url":"https://api.github.com/users/burtonator","html_url":"https://github.com/burtonator","followers_url":"https://api.github.com/users/burtonator/followers","following_url":"https://api.github.com/users/burtonator/following{/other_user}","gists_url":"https://api.github.com/users/burtonator/gists{/gist_id}","starred_url":"https://api.github.com/users/burtonator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/burtonator/subscriptions","organizations_url":"https://api.github.com/users/burtonator/orgs","repos_url":"https://api.github.com/users/burtonator/repos","events_url":"https://api.github.com/users/burtonator/events{/privacy}","received_events_url":"https://api.github.com/users/burtonator/received_events","type":"User","site_admin":false},"created_at":"2016-05-13T15:55:30Z","updated_at":"2016-05-13T15:55:30Z","author_association":"NONE","body":"Thanks @clintongormley ... I opened this bug because we need this for production here at http://spinn3r.com ... \n\nWe now have a custom plugin where we change the ES endpoints and have our own adapter to respond to HTTP results with the header.  \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/261504607","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-261504607","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":261504607,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTUwNDYwNw==","user":{"login":"dimitris-athanasiou","id":9351617,"node_id":"MDQ6VXNlcjkzNTE2MTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9351617?v=4","gravatar_id":"","url":"https://api.github.com/users/dimitris-athanasiou","html_url":"https://github.com/dimitris-athanasiou","followers_url":"https://api.github.com/users/dimitris-athanasiou/followers","following_url":"https://api.github.com/users/dimitris-athanasiou/following{/other_user}","gists_url":"https://api.github.com/users/dimitris-athanasiou/gists{/gist_id}","starred_url":"https://api.github.com/users/dimitris-athanasiou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimitris-athanasiou/subscriptions","organizations_url":"https://api.github.com/users/dimitris-athanasiou/orgs","repos_url":"https://api.github.com/users/dimitris-athanasiou/repos","events_url":"https://api.github.com/users/dimitris-athanasiou/events{/privacy}","received_events_url":"https://api.github.com/users/dimitris-athanasiou/received_events","type":"User","site_admin":false},"created_at":"2016-11-18T10:55:33Z","updated_at":"2016-11-18T10:55:33Z","author_association":"CONTRIBUTOR","body":"+1 This has also made our lives harder while developing at prelert. I'll be happy to give it a go once we agree on the solution.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/261535111","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-261535111","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":261535111,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTUzNTExMQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-11-18T13:46:45Z","updated_at":"2016-11-18T13:46:45Z","author_association":"CONTRIBUTOR","body":"> Response contains ES-Scroll-Id header if there are more results to retrieve. It does not contain that header if there are no results. Then we'd just grab that header whenever we see it and add a search function to the queue.\n\n@epixa this wouldn't be enough as we still need the scroll ID to clear the scroll.\n\nPerhaps the Link header is the right one, we can provide one link for `next`, and use an [extension relation type](http://www.rfc-editor.org/rfc/rfc5988.txt) for the clear link.\n\nOne potential problem: scroll IDs which target many shards can be too long for the max header length on requests, I'm not sure if the same limit might apply on responses?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/261540471","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-261540471","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":261540471,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTU0MDQ3MQ==","user":{"login":"dimitris-athanasiou","id":9351617,"node_id":"MDQ6VXNlcjkzNTE2MTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9351617?v=4","gravatar_id":"","url":"https://api.github.com/users/dimitris-athanasiou","html_url":"https://github.com/dimitris-athanasiou","followers_url":"https://api.github.com/users/dimitris-athanasiou/followers","following_url":"https://api.github.com/users/dimitris-athanasiou/following{/other_user}","gists_url":"https://api.github.com/users/dimitris-athanasiou/gists{/gist_id}","starred_url":"https://api.github.com/users/dimitris-athanasiou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimitris-athanasiou/subscriptions","organizations_url":"https://api.github.com/users/dimitris-athanasiou/orgs","repos_url":"https://api.github.com/users/dimitris-athanasiou/repos","events_url":"https://api.github.com/users/dimitris-athanasiou/events{/privacy}","received_events_url":"https://api.github.com/users/dimitris-athanasiou/received_events","type":"User","site_admin":false},"created_at":"2016-11-18T14:12:35Z","updated_at":"2016-11-18T14:12:35Z","author_association":"CONTRIBUTOR","body":"> One potential problem: scroll IDs which target many shards can be too long for the max header length on requests, I'm not sure if the same limit might apply on responses?\n\nOh, right. Yes. Putting the scroll id in the header is just not going to work. The HTTP protocol does not specify a max size but most servers implement one, usually choosing either 8KB or 16KB. Both extremely low to accommodate a fat, juicy scroll ID. Forgot about that and how badly I've been bitten.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/261551722","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-261551722","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":261551722,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTU1MTcyMg==","user":{"login":"epixa","id":53814,"node_id":"MDQ6VXNlcjUzODE0","avatar_url":"https://avatars0.githubusercontent.com/u/53814?v=4","gravatar_id":"","url":"https://api.github.com/users/epixa","html_url":"https://github.com/epixa","followers_url":"https://api.github.com/users/epixa/followers","following_url":"https://api.github.com/users/epixa/following{/other_user}","gists_url":"https://api.github.com/users/epixa/gists{/gist_id}","starred_url":"https://api.github.com/users/epixa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epixa/subscriptions","organizations_url":"https://api.github.com/users/epixa/orgs","repos_url":"https://api.github.com/users/epixa/repos","events_url":"https://api.github.com/users/epixa/events{/privacy}","received_events_url":"https://api.github.com/users/epixa/received_events","type":"User","site_admin":false},"created_at":"2016-11-18T14:58:55Z","updated_at":"2016-11-18T14:58:55Z","author_association":"MEMBER","body":"Ah, nuts!  I hadn't thought of that.  Total number of hits could still be useful, but the gain here is significantly diminished without being able to access both up front.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/374078457","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-374078457","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":374078457,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDA3ODQ1Nw==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-03-19T01:46:43Z","updated_at":"2018-03-19T01:46:43Z","author_association":"CONTRIBUTOR","body":"@epixa @clintongormley do we want to continue with this?\r\n\r\nlooks like this issue was opened requesting the doc-count to be easily accessed from within a plugin ( https://github.com/elastic/elasticsearch/issues/18312)\r\n\r\nSince there is a concern that scroll-ids have the ability to grow larger than max-header-size, we \r\nare left with discussing the benefits of just adding the hit count to the response header.\r\n\r\nSince adding the hits-count in the header seems trivial, should we just do it? It would potentially \r\nreduce the need to parse the body only to find out there are no hits?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/374078479","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-374078479","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":374078479,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDA3ODQ3OQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-03-19T01:46:59Z","updated_at":"2018-03-19T01:46:59Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search-aggs","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/374196739","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-374196739","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":374196739,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDE5NjczOQ==","user":{"login":"epixa","id":53814,"node_id":"MDQ6VXNlcjUzODE0","avatar_url":"https://avatars0.githubusercontent.com/u/53814?v=4","gravatar_id":"","url":"https://api.github.com/users/epixa","html_url":"https://github.com/epixa","followers_url":"https://api.github.com/users/epixa/followers","following_url":"https://api.github.com/users/epixa/following{/other_user}","gists_url":"https://api.github.com/users/epixa/gists{/gist_id}","starred_url":"https://api.github.com/users/epixa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epixa/subscriptions","organizations_url":"https://api.github.com/users/epixa/orgs","repos_url":"https://api.github.com/users/epixa/repos","events_url":"https://api.github.com/users/epixa/events{/privacy}","received_events_url":"https://api.github.com/users/epixa/received_events","type":"User","site_admin":false},"created_at":"2018-03-19T12:35:00Z","updated_at":"2018-03-19T12:35:00Z","author_association":"MEMBER","body":"@talevy I don't have strong opinions about this anymore. Without the scroll id, the utility of the feature is diminished a lot, since you really need to parse the body anyway. The hit count alone does make it a little easier to consume even still, but I leave it to the ES team to decide whether that is valuable enough to introduce.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/380525064","html_url":"https://github.com/elastic/elasticsearch/issues/16993#issuecomment-380525064","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16993","id":380525064,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDUyNTA2NA==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-04-11T17:03:09Z","updated_at":"2018-04-11T17:03:09Z","author_association":"CONTRIBUTOR","body":"ok, thanks @epixa.\r\n\r\nClosing due to the outcome of our discussion above. If this request comes up again, always \r\nwelcome to re-discuss!","performed_via_github_app":null}]