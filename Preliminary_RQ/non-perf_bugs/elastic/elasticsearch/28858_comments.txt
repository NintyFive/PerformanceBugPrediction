[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/370273944","html_url":"https://github.com/elastic/elasticsearch/issues/28858#issuecomment-370273944","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28858","id":370273944,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDI3Mzk0NA==","user":{"login":"CpuID","id":916201,"node_id":"MDQ6VXNlcjkxNjIwMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/916201?v=4","gravatar_id":"","url":"https://api.github.com/users/CpuID","html_url":"https://github.com/CpuID","followers_url":"https://api.github.com/users/CpuID/followers","following_url":"https://api.github.com/users/CpuID/following{/other_user}","gists_url":"https://api.github.com/users/CpuID/gists{/gist_id}","starred_url":"https://api.github.com/users/CpuID/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CpuID/subscriptions","organizations_url":"https://api.github.com/users/CpuID/orgs","repos_url":"https://api.github.com/users/CpuID/repos","events_url":"https://api.github.com/users/CpuID/events{/privacy}","received_events_url":"https://api.github.com/users/CpuID/received_events","type":"User","site_admin":false},"created_at":"2018-03-04T23:19:11Z","updated_at":"2018-03-04T23:19:11Z","author_association":"NONE","body":"Experienced the same thing today, running Cross Cluster Nodes in Amazon ECS pointing at Amazon ECS hosted coordinator nodes for AZ-specific clusters (due to cross-AZ data transfer costs hitting 4~ digits previously), behind each AZ specific coord nodes are stateful EC2 based ES data nodes.\r\n\r\nHad an AZ specific coordinator replacement occur, and the CCS nodes could no longer access that cluster and would error on queries. Ended up having to replace the CCS nodes so they would rediscover the IP listing on startup.\r\n\r\nThis would be awesome to have resolved.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/370274295","html_url":"https://github.com/elastic/elasticsearch/issues/28858#issuecomment-370274295","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28858","id":370274295,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDI3NDI5NQ==","user":{"login":"CpuID","id":916201,"node_id":"MDQ6VXNlcjkxNjIwMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/916201?v=4","gravatar_id":"","url":"https://api.github.com/users/CpuID","html_url":"https://github.com/CpuID","followers_url":"https://api.github.com/users/CpuID/followers","following_url":"https://api.github.com/users/CpuID/following{/other_user}","gists_url":"https://api.github.com/users/CpuID/gists{/gist_id}","starred_url":"https://api.github.com/users/CpuID/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CpuID/subscriptions","organizations_url":"https://api.github.com/users/CpuID/orgs","repos_url":"https://api.github.com/users/CpuID/repos","events_url":"https://api.github.com/users/CpuID/events{/privacy}","received_events_url":"https://api.github.com/users/CpuID/received_events","type":"User","site_admin":false},"created_at":"2018-03-04T23:24:20Z","updated_at":"2018-03-04T23:24:20Z","author_association":"NONE","body":"@dylanPowers can you confirm what version you are running right now? We are on 5.6.x, was considering upgrading to 6.1.x sooner rather than later until I saw this reported :)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/370408367","html_url":"https://github.com/elastic/elasticsearch/issues/28858#issuecomment-370408367","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28858","id":370408367,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDQwODM2Nw==","user":{"login":"dylanPowers","id":1594851,"node_id":"MDQ6VXNlcjE1OTQ4NTE=","avatar_url":"https://avatars2.githubusercontent.com/u/1594851?v=4","gravatar_id":"","url":"https://api.github.com/users/dylanPowers","html_url":"https://github.com/dylanPowers","followers_url":"https://api.github.com/users/dylanPowers/followers","following_url":"https://api.github.com/users/dylanPowers/following{/other_user}","gists_url":"https://api.github.com/users/dylanPowers/gists{/gist_id}","starred_url":"https://api.github.com/users/dylanPowers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dylanPowers/subscriptions","organizations_url":"https://api.github.com/users/dylanPowers/orgs","repos_url":"https://api.github.com/users/dylanPowers/repos","events_url":"https://api.github.com/users/dylanPowers/events{/privacy}","received_events_url":"https://api.github.com/users/dylanPowers/received_events","type":"User","site_admin":false},"created_at":"2018-03-05T12:46:57Z","updated_at":"2018-03-05T12:46:57Z","author_association":"NONE","body":"Currently running 5.6.x with the intent to upgrade to 6.x for the optional remote cluster feature. I didn't see anything in the source or change log to denote any sort of fix. I ended up creating a separate service that pings all the nodes at /_remote/info to do what I said previously and it works pretty well.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/371824503","html_url":"https://github.com/elastic/elasticsearch/issues/28858#issuecomment-371824503","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28858","id":371824503,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MTgyNDUwMw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-03-09T14:18:52Z","updated_at":"2018-03-09T14:18:52Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/375280595","html_url":"https://github.com/elastic/elasticsearch/issues/28858#issuecomment-375280595","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28858","id":375280595,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTI4MDU5NQ==","user":{"login":"thomasriley","id":11618735,"node_id":"MDQ6VXNlcjExNjE4NzM1","avatar_url":"https://avatars2.githubusercontent.com/u/11618735?v=4","gravatar_id":"","url":"https://api.github.com/users/thomasriley","html_url":"https://github.com/thomasriley","followers_url":"https://api.github.com/users/thomasriley/followers","following_url":"https://api.github.com/users/thomasriley/following{/other_user}","gists_url":"https://api.github.com/users/thomasriley/gists{/gist_id}","starred_url":"https://api.github.com/users/thomasriley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomasriley/subscriptions","organizations_url":"https://api.github.com/users/thomasriley/orgs","repos_url":"https://api.github.com/users/thomasriley/repos","events_url":"https://api.github.com/users/thomasriley/events{/privacy}","received_events_url":"https://api.github.com/users/thomasriley/received_events","type":"User","site_admin":false},"created_at":"2018-03-22T12:03:19Z","updated_at":"2018-03-22T12:03:19Z","author_association":"NONE","body":"Hey,\r\n\r\nAlso suffering from this issue with our Elasticsearch environment (ES 6.2.2) when using Cross Cluster Search. Seems like once it connects to the seed on a specific IP it does not lookup the DNS again.\r\n\r\nElasticsearch should observe the TTL of the DNS so that if the Elasticearch instances behind the DNS for the seed change, Elasticsearch will move the connection to whichever instance is returned by the new DNS lookup. This is very important in a failure scenario when the instance it is connected to is no longer available, it would be preferred if it looks up the DNS name again, not matter what the TTL is currently at.\r\n\r\nThe impact here is that if you replace the node that is being used as the seed, Kibana users are faced with a not so nice error.\r\n\r\n`Error: Request to Elasticsearch failed: {\"error\":{\"root_cause\":[{\"type\":\"connect_transport_exception\",\"reason\":\"[][ip:9300] connect_exception\"}],\"type\":\"transport_exception\",\"reason\":\"unable to communicate with remote cluster [logs]\",\"caused_by\":{\"type\":\"connect_transport_exception\",\"reason\":\"[][ip:9300] connect_exception\",\"caused_by\":{\"type\":\"annotated_no_route_to_host_exception\",\"reason\":\"No route to host: hostname-to-out-cluster/ip:9300\",\"caused_by\":{\"type\":\"no_route_to_host_exception\",\"reason\":\"No route to host\"}}}},\"status\":500}`\r\n\r\nCheers,\r\nTom","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/393632205","html_url":"https://github.com/elastic/elasticsearch/issues/28858#issuecomment-393632205","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28858","id":393632205,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzYzMjIwNQ==","user":{"login":"chernecov","id":2867987,"node_id":"MDQ6VXNlcjI4Njc5ODc=","avatar_url":"https://avatars3.githubusercontent.com/u/2867987?v=4","gravatar_id":"","url":"https://api.github.com/users/chernecov","html_url":"https://github.com/chernecov","followers_url":"https://api.github.com/users/chernecov/followers","following_url":"https://api.github.com/users/chernecov/following{/other_user}","gists_url":"https://api.github.com/users/chernecov/gists{/gist_id}","starred_url":"https://api.github.com/users/chernecov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chernecov/subscriptions","organizations_url":"https://api.github.com/users/chernecov/orgs","repos_url":"https://api.github.com/users/chernecov/repos","events_url":"https://api.github.com/users/chernecov/events{/privacy}","received_events_url":"https://api.github.com/users/chernecov/received_events","type":"User","site_admin":false},"created_at":"2018-05-31T18:34:42Z","updated_at":"2018-05-31T18:34:52Z","author_association":"CONTRIBUTOR","body":"Hi. Any updates on this topic?\r\nNo pressure, but when to expect this problem to be addressed?\r\nThanks.\r\n\r\nManual elasticsearch restart helps, but setting crontab for that is not the answer :)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/400863468","html_url":"https://github.com/elastic/elasticsearch/issues/28858#issuecomment-400863468","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28858","id":400863468,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDg2MzQ2OA==","user":{"login":"CpuID","id":916201,"node_id":"MDQ6VXNlcjkxNjIwMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/916201?v=4","gravatar_id":"","url":"https://api.github.com/users/CpuID","html_url":"https://github.com/CpuID","followers_url":"https://api.github.com/users/CpuID/followers","following_url":"https://api.github.com/users/CpuID/following{/other_user}","gists_url":"https://api.github.com/users/CpuID/gists{/gist_id}","starred_url":"https://api.github.com/users/CpuID/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CpuID/subscriptions","organizations_url":"https://api.github.com/users/CpuID/orgs","repos_url":"https://api.github.com/users/CpuID/repos","events_url":"https://api.github.com/users/CpuID/events{/privacy}","received_events_url":"https://api.github.com/users/CpuID/received_events","type":"User","site_admin":false},"created_at":"2018-06-27T23:36:30Z","updated_at":"2018-06-27T23:36:30Z","author_association":"NONE","body":"This would be great to have resolved... I don't feel confident enough on my Java skills to implement it though. Anyone willing to contribute a fix?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/411971932","html_url":"https://github.com/elastic/elasticsearch/issues/28858#issuecomment-411971932","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28858","id":411971932,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTk3MTkzMg==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2018-08-10T04:29:36Z","updated_at":"2018-08-10T04:29:36Z","author_association":"MEMBER","body":"Fix incoming in https://github.com/elastic/elasticsearch/pull/32764","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/411972484","html_url":"https://github.com/elastic/elasticsearch/issues/28858#issuecomment-411972484","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28858","id":411972484,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTk3MjQ4NA==","user":{"login":"CpuID","id":916201,"node_id":"MDQ6VXNlcjkxNjIwMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/916201?v=4","gravatar_id":"","url":"https://api.github.com/users/CpuID","html_url":"https://github.com/CpuID","followers_url":"https://api.github.com/users/CpuID/followers","following_url":"https://api.github.com/users/CpuID/following{/other_user}","gists_url":"https://api.github.com/users/CpuID/gists{/gist_id}","starred_url":"https://api.github.com/users/CpuID/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CpuID/subscriptions","organizations_url":"https://api.github.com/users/CpuID/orgs","repos_url":"https://api.github.com/users/CpuID/repos","events_url":"https://api.github.com/users/CpuID/events{/privacy}","received_events_url":"https://api.github.com/users/CpuID/received_events","type":"User","site_admin":false},"created_at":"2018-08-10T04:34:21Z","updated_at":"2018-08-10T04:34:21Z","author_association":"NONE","body":"@original-brownbear woohoo thx :)","performed_via_github_app":null}]