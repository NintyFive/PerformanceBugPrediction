{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/10877","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10877/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10877/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10877/events","html_url":"https://github.com/elastic/elasticsearch/issues/10877","id":71862466,"node_id":"MDU6SXNzdWU3MTg2MjQ2Ng==","number":10877,"title":"Don't try and look for \"default-mapping.json\" in CWD","user":{"login":"HonzaKral","id":32132,"node_id":"MDQ6VXNlcjMyMTMy","avatar_url":"https://avatars0.githubusercontent.com/u/32132?v=4","gravatar_id":"","url":"https://api.github.com/users/HonzaKral","html_url":"https://github.com/HonzaKral","followers_url":"https://api.github.com/users/HonzaKral/followers","following_url":"https://api.github.com/users/HonzaKral/following{/other_user}","gists_url":"https://api.github.com/users/HonzaKral/gists{/gist_id}","starred_url":"https://api.github.com/users/HonzaKral/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HonzaKral/subscriptions","organizations_url":"https://api.github.com/users/HonzaKral/orgs","repos_url":"https://api.github.com/users/HonzaKral/repos","events_url":"https://api.github.com/users/HonzaKral/events{/privacy}","received_events_url":"https://api.github.com/users/HonzaKral/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2015-04-29T12:28:52Z","updated_at":"2015-12-05T15:36:27Z","closed_at":"2015-12-05T15:36:27Z","author_association":"MEMBER","active_lock_reason":null,"body":"to reproduce:\n\n```\nwget -O - http://s3-eu-west-1.amazonaws.com/build-eu.elasticsearch.org/origin/master/nightly/JDK7/elasticsearch-latest-SNAPSHOT.tar.gz | tar xz --directory=/tmp/elasticsearch --strip-components=1\n/tmp/elasticsearch/bin/elasticsearch\n```\n\nThis will break when your cwd is on a different filesystem you get:\n\n```\n java.security.AccessControlException: access denied (\"java.io.FilePermission\" \"default-mapping.json\" \"read\")\n```\n\nOther way to reproduce is to remove this line:\n\n```\npermission java.io.FilePermission \"${project.basedir}${/}target${/}-\", \"read\"\n```\n\nand instead make it only grant access to target/classes and target/test-classes, then all tests fail trying to read those files from CWD.\n\nI believe the correct solution is not to try and read anything from CWD since that can be anywhere and should not be relevant.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}