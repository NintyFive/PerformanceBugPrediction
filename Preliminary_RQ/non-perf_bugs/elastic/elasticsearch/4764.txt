{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/4764","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4764/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4764/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4764/events","html_url":"https://github.com/elastic/elasticsearch/issues/4764","id":25739440,"node_id":"MDU6SXNzdWUyNTczOTQ0MA==","number":4764,"title":"Search query type \"scan\" results are different compared to  QUERY_THEN_FETCH","user":{"login":"pmanvi","id":76231,"node_id":"MDQ6VXNlcjc2MjMx","avatar_url":"https://avatars3.githubusercontent.com/u/76231?v=4","gravatar_id":"","url":"https://api.github.com/users/pmanvi","html_url":"https://github.com/pmanvi","followers_url":"https://api.github.com/users/pmanvi/followers","following_url":"https://api.github.com/users/pmanvi/following{/other_user}","gists_url":"https://api.github.com/users/pmanvi/gists{/gist_id}","starred_url":"https://api.github.com/users/pmanvi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmanvi/subscriptions","organizations_url":"https://api.github.com/users/pmanvi/orgs","repos_url":"https://api.github.com/users/pmanvi/repos","events_url":"https://api.github.com/users/pmanvi/events{/privacy}","received_events_url":"https://api.github.com/users/pmanvi/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2014-01-16T16:57:03Z","updated_at":"2014-01-16T17:03:47Z","closed_at":"2014-01-16T17:03:47Z","author_association":"NONE","active_lock_reason":null,"body":"The scan type searches results in more results compared to other types.\n\nWe also have very frequent deletes to ES store. Its seems that scan includes the deleted documents and as well & hence the docs returned inflated from scan type are inflated and includes the deleted docs.\nWe use scan as main type of all our search requirement as we need to fetch all the matched the results and enrich the results with different data sources building custom sort/facet mechanisms.\n\nReturning of extra documents is having huge impact and we cannot afford to have full refresh every time.\n\nwe are using 0.90.5 version.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}