{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/21932","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21932/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21932/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21932/events","html_url":"https://github.com/elastic/elasticsearch/issues/21932","id":193094282,"node_id":"MDU6SXNzdWUxOTMwOTQyODI=","number":21932,"title":"Elasticsearch starts with security manager exceptions","user":{"login":"amishHammer","id":971788,"node_id":"MDQ6VXNlcjk3MTc4OA==","avatar_url":"https://avatars0.githubusercontent.com/u/971788?v=4","gravatar_id":"","url":"https://api.github.com/users/amishHammer","html_url":"https://github.com/amishHammer","followers_url":"https://api.github.com/users/amishHammer/followers","following_url":"https://api.github.com/users/amishHammer/following{/other_user}","gists_url":"https://api.github.com/users/amishHammer/gists{/gist_id}","starred_url":"https://api.github.com/users/amishHammer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amishHammer/subscriptions","organizations_url":"https://api.github.com/users/amishHammer/orgs","repos_url":"https://api.github.com/users/amishHammer/repos","events_url":"https://api.github.com/users/amishHammer/events{/privacy}","received_events_url":"https://api.github.com/users/amishHammer/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"dougnelas","id":28508968,"node_id":"MDQ6VXNlcjI4NTA4OTY4","avatar_url":"https://avatars0.githubusercontent.com/u/28508968?v=4","gravatar_id":"","url":"https://api.github.com/users/dougnelas","html_url":"https://github.com/dougnelas","followers_url":"https://api.github.com/users/dougnelas/followers","following_url":"https://api.github.com/users/dougnelas/following{/other_user}","gists_url":"https://api.github.com/users/dougnelas/gists{/gist_id}","starred_url":"https://api.github.com/users/dougnelas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dougnelas/subscriptions","organizations_url":"https://api.github.com/users/dougnelas/orgs","repos_url":"https://api.github.com/users/dougnelas/repos","events_url":"https://api.github.com/users/dougnelas/events{/privacy}","received_events_url":"https://api.github.com/users/dougnelas/received_events","type":"User","site_admin":false},"assignees":[{"login":"dougnelas","id":28508968,"node_id":"MDQ6VXNlcjI4NTA4OTY4","avatar_url":"https://avatars0.githubusercontent.com/u/28508968?v=4","gravatar_id":"","url":"https://api.github.com/users/dougnelas","html_url":"https://github.com/dougnelas","followers_url":"https://api.github.com/users/dougnelas/followers","following_url":"https://api.github.com/users/dougnelas/following{/other_user}","gists_url":"https://api.github.com/users/dougnelas/gists{/gist_id}","starred_url":"https://api.github.com/users/dougnelas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dougnelas/subscriptions","organizations_url":"https://api.github.com/users/dougnelas/orgs","repos_url":"https://api.github.com/users/dougnelas/repos","events_url":"https://api.github.com/users/dougnelas/events{/privacy}","received_events_url":"https://api.github.com/users/dougnelas/received_events","type":"User","site_admin":false}],"milestone":null,"comments":18,"created_at":"2016-12-02T11:26:40Z","updated_at":"2019-06-27T03:37:21Z","closed_at":"2016-12-02T11:46:47Z","author_association":"NONE","active_lock_reason":null,"body":"\r\n**Elasticsearch version**: 5.0.2\r\n\r\n**Plugins installed**: []\r\n\r\n**JVM version**: openjdk version \"1.8.0_112\"\r\n\r\n**OS version**: FreeBSD 10.3-RELEASE-p4 amd64\r\n\r\n**Description of the problem including expected versus actual behavior**: Elasticsearch starts with security manager exceptions related to installing MBeans. Possibly caused by https://github.com/elastic/elasticsearch/pull/21716\r\n\r\n**Steps to reproduce**:\r\n 1. Install elasticsearch\r\n 2. Start service \r\n\r\n\r\n**Provide logs (if relevant)**:\r\n\r\n2016-12-02 11:23:11,825 main ERROR Could not register mbeans java.security.AccessControlException: access denied (\"javax.management.MBeanTrustPermission\" \"register\")\r\n        at java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\r\n        at java.lang.SecurityManager.checkPermission(SecurityManager.java:585)\r\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.checkMBeanTrustPermission(DefaultMBeanServerInterceptor.java:1848)\r\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:322)\r\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)\r\n        at org.apache.logging.log4j.core.jmx.Server.register(Server.java:390)\r\n        at org.apache.logging.log4j.core.jmx.Server.reregisterMBeansAfterReconfigure(Server.java:167)\r\n        at org.apache.logging.log4j.core.jmx.Server.reregisterMBeansAfterReconfigure(Server.java:140)\r\n        at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:507)\r\n        at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:249)\r\n        at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:206)\r\n        at org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:219)\r\n        at org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:196)\r\n        at org.elasticsearch.common.logging.LogConfigurator.configureStatusLogger(LogConfigurator.java:125)\r\n        at org.elasticsearch.common.logging.LogConfigurator.configureWithoutConfig(LogConfigurator.java:67)\r\n        at org.elasticsearch.cli.Command.main(Command.java:59)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:89)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:82)\r\n\r\n2016-12-02 11:23:12,121 main ERROR Could not register mbeans java.security.AccessControlException: access denied (\"javax.management.MBeanTrustPermission\" \"register\")\r\n        at java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\r\n        at java.lang.SecurityManager.checkPermission(SecurityManager.java:585)\r\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.checkMBeanTrustPermission(DefaultMBeanServerInterceptor.java:1848)\r\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:322)\r\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)\r\n        at org.apache.logging.log4j.core.jmx.Server.register(Server.java:390)\r\n        at org.apache.logging.log4j.core.jmx.Server.reregisterMBeansAfterReconfigure(Server.java:167)\r\n        at org.apache.logging.log4j.core.jmx.Server.reregisterMBeansAfterReconfigure(Server.java:140)\r\n        at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:507)\r\n        at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:249)\r\n        at org.elasticsearch.common.logging.LogConfigurator.configure(LogConfigurator.java:116)\r\n        at org.elasticsearch.common.logging.LogConfigurator.configure(LogConfigurator.java:83)\r\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:254)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:121)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:112)\r\n        at org.elasticsearch.cli.SettingCommand.execute(SettingCommand.java:54)\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:96)\r\n        at org.elasticsearch.cli.Command.main(Command.java:62)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:89)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:82)\r\n\r\n\r\nException: java.security.AccessControlException thrown from the UncaughtExceptionHandler in thread \"Thread-2\"\r\n","closed_by":{"login":"amishHammer","id":971788,"node_id":"MDQ6VXNlcjk3MTc4OA==","avatar_url":"https://avatars0.githubusercontent.com/u/971788?v=4","gravatar_id":"","url":"https://api.github.com/users/amishHammer","html_url":"https://github.com/amishHammer","followers_url":"https://api.github.com/users/amishHammer/followers","following_url":"https://api.github.com/users/amishHammer/following{/other_user}","gists_url":"https://api.github.com/users/amishHammer/gists{/gist_id}","starred_url":"https://api.github.com/users/amishHammer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amishHammer/subscriptions","organizations_url":"https://api.github.com/users/amishHammer/orgs","repos_url":"https://api.github.com/users/amishHammer/repos","events_url":"https://api.github.com/users/amishHammer/events{/privacy}","received_events_url":"https://api.github.com/users/amishHammer/received_events","type":"User","site_admin":false},"performed_via_github_app":null}