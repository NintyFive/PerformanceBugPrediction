[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/450669623","html_url":"https://github.com/elastic/elasticsearch/issues/37050#issuecomment-450669623","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37050","id":450669623,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDY2OTYyMw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-12-31T17:07:41Z","updated_at":"2018-12-31T17:07:41Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/451209974","html_url":"https://github.com/elastic/elasticsearch/issues/37050#issuecomment-451209974","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37050","id":451209974,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTIwOTk3NA==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2019-01-03T17:08:49Z","updated_at":"2019-01-03T17:08:49Z","author_association":"CONTRIBUTOR","body":"My guess is that the AWS SDK (which we internally use) does not properly compute the signer based on the endpoint that is passed, as it cannot derive the correct region from the custom endpoint (see https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-core/src/main/java/com/amazonaws/util/AwsHostNameUtils.java#L57-L64). This is also why your workaround works. There are multiple options here:\r\n1) expose the regionId that is to be used for signing. This adds more complexity to the client and more options to configure our system, with the potential of additional misconfigurations.\r\n2) file an enhancement request for the AWS SDK so that it recognizes these URLs (`vpce.amazonaws.com`) and properly derives the region.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/451217099","html_url":"https://github.com/elastic/elasticsearch/issues/37050#issuecomment-451217099","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37050","id":451217099,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTIxNzA5OQ==","user":{"login":"laod","id":349427,"node_id":"MDQ6VXNlcjM0OTQyNw==","avatar_url":"https://avatars3.githubusercontent.com/u/349427?v=4","gravatar_id":"","url":"https://api.github.com/users/laod","html_url":"https://github.com/laod","followers_url":"https://api.github.com/users/laod/followers","following_url":"https://api.github.com/users/laod/following{/other_user}","gists_url":"https://api.github.com/users/laod/gists{/gist_id}","starred_url":"https://api.github.com/users/laod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/laod/subscriptions","organizations_url":"https://api.github.com/users/laod/orgs","repos_url":"https://api.github.com/users/laod/repos","events_url":"https://api.github.com/users/laod/events{/privacy}","received_events_url":"https://api.github.com/users/laod/received_events","type":"User","site_admin":false},"created_at":"2019-01-03T17:31:17Z","updated_at":"2019-01-03T17:31:17Z","author_association":"NONE","body":"I will file an RFE for it with aws. Thank you.","performed_via_github_app":null}]