[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/208163072","html_url":"https://github.com/elastic/elasticsearch/issues/17639#issuecomment-208163072","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17639","id":208163072,"node_id":"MDEyOklzc3VlQ29tbWVudDIwODE2MzA3Mg==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-04-11T04:58:01Z","updated_at":"2016-04-11T04:58:01Z","author_association":"MEMBER","body":"Field order does not matter in JSON.\nAnd yes with source filtering we have to generate on the fly a new source.\n\nSo I don't see the issue here TBH.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/208164411","html_url":"https://github.com/elastic/elasticsearch/issues/17639#issuecomment-208164411","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17639","id":208164411,"node_id":"MDEyOklzc3VlQ29tbWVudDIwODE2NDQxMQ==","user":{"login":"djschny","id":129643,"node_id":"MDQ6VXNlcjEyOTY0Mw==","avatar_url":"https://avatars0.githubusercontent.com/u/129643?v=4","gravatar_id":"","url":"https://api.github.com/users/djschny","html_url":"https://github.com/djschny","followers_url":"https://api.github.com/users/djschny/followers","following_url":"https://api.github.com/users/djschny/following{/other_user}","gists_url":"https://api.github.com/users/djschny/gists{/gist_id}","starred_url":"https://api.github.com/users/djschny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/djschny/subscriptions","organizations_url":"https://api.github.com/users/djschny/orgs","repos_url":"https://api.github.com/users/djschny/repos","events_url":"https://api.github.com/users/djschny/events{/privacy}","received_events_url":"https://api.github.com/users/djschny/received_events","type":"User","site_admin":false},"created_at":"2016-04-11T05:07:19Z","updated_at":"2016-04-11T05:07:28Z","author_association":"CONTRIBUTOR","body":"While it doesn't make a difference from a JSON spec standpoint, we have always made the advertisement that `_source` is the exact JSON string you sent in saved and returned to you. Our docs even state this:\n\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-source-field.html\n\n> The _source field contains the original JSON document body that was passed at index time.\n\nSince we've always advertised this (and to be honest in training a I even say you can \"curl up\" a json document you have in a file, and then request the _source, write it to a file and do a diff and they should be equal) I feel it's important we either adhere to it, or we need to update documentation to reflect that in situations where Elasticsearch needs to parse the `_source` field and generate a new one (in the case of filtering like you mention), that the ordering can be different.\n\nI'd be happy to help with documentation updates if we decide to go that route.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/208166726","html_url":"https://github.com/elastic/elasticsearch/issues/17639#issuecomment-208166726","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17639","id":208166726,"node_id":"MDEyOklzc3VlQ29tbWVudDIwODE2NjcyNg==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-04-11T05:16:33Z","updated_at":"2016-04-11T05:16:33Z","author_association":"MEMBER","body":"Yes. We also modify the source IIRC when you use exclude in mapping.\n\nThat's the only features IMO where we do that.\n\nAs a user, I'm expecting a modification of the source because I explicitly ask to modify the source :)\n\nBut I agree that we should probably add this in documentation.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/208172930","html_url":"https://github.com/elastic/elasticsearch/issues/17639#issuecomment-208172930","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17639","id":208172930,"node_id":"MDEyOklzc3VlQ29tbWVudDIwODE3MjkzMA==","user":{"login":"djschny","id":129643,"node_id":"MDQ6VXNlcjEyOTY0Mw==","avatar_url":"https://avatars0.githubusercontent.com/u/129643?v=4","gravatar_id":"","url":"https://api.github.com/users/djschny","html_url":"https://github.com/djschny","followers_url":"https://api.github.com/users/djschny/followers","following_url":"https://api.github.com/users/djschny/following{/other_user}","gists_url":"https://api.github.com/users/djschny/gists{/gist_id}","starred_url":"https://api.github.com/users/djschny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/djschny/subscriptions","organizations_url":"https://api.github.com/users/djschny/orgs","repos_url":"https://api.github.com/users/djschny/repos","events_url":"https://api.github.com/users/djschny/events{/privacy}","received_events_url":"https://api.github.com/users/djschny/received_events","type":"User","site_admin":false},"created_at":"2016-04-11T05:44:34Z","updated_at":"2016-04-11T05:44:34Z","author_association":"CONTRIBUTOR","body":"I added notes where it seemed applicable in the docs. See referenced PR.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/209037871","html_url":"https://github.com/elastic/elasticsearch/issues/17639#issuecomment-209037871","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17639","id":209037871,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTAzNzg3MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-04-12T18:12:24Z","updated_at":"2016-04-12T18:12:24Z","author_association":"CONTRIBUTOR","body":"Closing.  See https://github.com/elastic/elasticsearch/pull/17640#issuecomment-209037691\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/209121807","html_url":"https://github.com/elastic/elasticsearch/issues/17639#issuecomment-209121807","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17639","id":209121807,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTEyMTgwNw==","user":{"login":"djschny","id":129643,"node_id":"MDQ6VXNlcjEyOTY0Mw==","avatar_url":"https://avatars0.githubusercontent.com/u/129643?v=4","gravatar_id":"","url":"https://api.github.com/users/djschny","html_url":"https://github.com/djschny","followers_url":"https://api.github.com/users/djschny/followers","following_url":"https://api.github.com/users/djschny/following{/other_user}","gists_url":"https://api.github.com/users/djschny/gists{/gist_id}","starred_url":"https://api.github.com/users/djschny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/djschny/subscriptions","organizations_url":"https://api.github.com/users/djschny/orgs","repos_url":"https://api.github.com/users/djschny/repos","events_url":"https://api.github.com/users/djschny/events{/privacy}","received_events_url":"https://api.github.com/users/djschny/received_events","type":"User","site_admin":false},"created_at":"2016-04-12T22:00:16Z","updated_at":"2016-04-12T22:00:16Z","author_association":"CONTRIBUTOR","body":"Why close this? I'm happy to update the document to be more accurate based upon the discussion in this thread. I feel it is very important to be clear to folks about this as opposed to stating `The _source field contains the original JSON document body that was passed at index time.` we can add clarification that when _source is returned may be different from what was passed in?\n\nHow can the extra clarification hurt?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/209372601","html_url":"https://github.com/elastic/elasticsearch/issues/17639#issuecomment-209372601","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17639","id":209372601,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTM3MjYwMQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-04-13T11:15:32Z","updated_at":"2016-04-13T11:15:32Z","author_association":"CONTRIBUTOR","body":"> How can the extra clarification hurt?\n\nExtra clarification can hurt when it obscures more important and more relevant information.  Too much information is as bad as not enough, so I'd rather not clutter the docs with something that I don't think needs clarifying.  We use JSON, so the assumption is that keys are unordered.  Why do we need to repeat this statement?  We don't state that JSON has to be UTF8 encoded, because the JSON spec already states this.\n","performed_via_github_app":null}]