[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/395991120","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-395991120","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":395991120,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTk5MTEyMA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-06-09T18:56:54Z","updated_at":"2018-06-09T18:56:54Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396236898","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-396236898","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":396236898,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjIzNjg5OA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-06-11T13:07:36Z","updated_at":"2018-06-11T13:07:36Z","author_association":"MEMBER","body":"Relates gradle/gradle#5692","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396538810","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-396538810","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":396538810,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjUzODgxMA==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2018-06-12T10:12:03Z","updated_at":"2018-06-12T10:12:03Z","author_association":"CONTRIBUTOR","body":"Relates gradle/gradle#5696","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396628128","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-396628128","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":396628128,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjYyODEyOA==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2018-06-12T15:18:30Z","updated_at":"2018-06-12T15:18:30Z","author_association":"CONTRIBUTOR","body":"After working around the Gradle issues, there are still problems when running the tests `java.lang.NoClassDefFoundError: org.elasticsearch.test.ESTestCase` even trough the build log shows that `:test:framework` was built before attempting to run the tests. Does not reproduce with `:server:test` in isolation. \r\n\r\nJDK 11, or more precisely javadoc,  seems to bring it's own baggage. It detects many javadoc issues like invalid `{@link` no description for  `@param something` and `@throws` as well as trips over `bcprov-jdk15on-1.55.jar; invalid manifest format`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396638938","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-396638938","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":396638938,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjYzODkzOA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-06-12T15:47:49Z","updated_at":"2018-06-22T04:12:57Z","author_association":"CONTRIBUTOR","body":"> After working around the Gradle issues, there are still problems when running the tests java.lang.NoClassDefFoundError: org.elasticsearch.test.ESTestCase even trough the build log shows that :test:framework was built before attempting to run the tests. Does not reproduce with :server:test in isolation.\r\n\r\nFun!\r\n\r\n> JDK 11, or more precisely javadoc, seems to bring it's own baggage. It detects many javadoc issues like invalid {`@link` no description for `@param` something and `@throws` as well as trips over bcprov-jdk15on-1.55.jar; invalid manifest format.\r\n\r\nThese seem like things we could fix up before merging this PR.\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396840387","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-396840387","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":396840387,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Njg0MDM4Nw==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2018-06-13T07:23:57Z","updated_at":"2018-06-13T07:23:57Z","author_association":"CONTRIBUTOR","body":"I will push a fix for the tests. For JDK 11 I have those fixed as well, but was planing a separate PR.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396921628","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-396921628","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":396921628,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjkyMTYyOA==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2018-06-13T12:35:24Z","updated_at":"2018-06-14T06:02:40Z","author_association":"CONTRIBUTOR","body":"org.elasticsearch.ingest.attachment.TikaImpl in the ingest-attachemnt plugin has an assert for java version  < 11 due to [a bug in the JDK](https://bugs.openjdk.java.net/browse/JDK-8187485). I'm updating it to add the required permission only if running on <= 10, then we can remove this logic when  we only support  11. This is a note so we don't forget about it, not sure what the best place to note this is, perhaps an issue to move to java 11.\r\n\r\nOne Tika test is failing. According to @dadoonet the behavior of Tika changes depending on the JVM being used. Muted the test and submitted #31305","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396974407","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-396974407","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":396974407,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Njk3NDQwNw==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2018-06-13T15:14:14Z","updated_at":"2018-06-14T06:00:36Z","author_association":"CONTRIBUTOR","body":"Getting several of these in various ITs when using JDK 11:\r\n```\r\nFAILURE 0.15s J0 | CorruptedFileIT.testCorruptFileThenSnapshotAndRestore <<< FAILURES!\r\n   > Throwable #1: java.lang.AssertionError: failed to delete a dummy doc [test][bogus_doc_a3] expected:<DELETED> but was:<NOT_FOUND>\r\n   > \tat __randomizedtesting.SeedInfo.seed([CD6E5B687831964F:BAE1E9EA2DDC2C]:0)\r\n   > \tat org.elasticsearch.test.ESIntegTestCase.indexRandom(ESIntegTestCase.java:1540)\r\n   > \tat org.elasticsearch.test.ESIntegTestCase.indexRandom(ESIntegTestCase.java:1454)\r\n   > \tat org.elasticsearch.test.ESIntegTestCase.indexRandom(ESIntegTestCase.java:1438)\r\n   > \tat org.elasticsearch.test.ESIntegTestCase.indexRandom(ESIntegTestCase.java:1417)\r\n   > \tat org.elasticsearch.index.store.CorruptedFileIT.testCorruptFileThenSnapshotAndRestore(CorruptedFileIT.java:487)\r\n   > \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n   > \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n   > \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n   > \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n   > \tat java.base/java.lang.Thread.run(Thread.java:832)\r\n```\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/397013093","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-397013093","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":397013093,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzAxMzA5Mw==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2018-06-13T17:04:56Z","updated_at":"2018-06-13T17:04:56Z","author_association":"CONTRIBUTOR","body":"The linked issue seems to be a different problem, no?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/397181244","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-397181244","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":397181244,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzE4MTI0NA==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2018-06-14T06:03:58Z","updated_at":"2018-06-14T06:03:58Z","author_association":"CONTRIBUTOR","body":"@s1monw indeed, thanks for noticing. I edited the comments to have the link in the right place.  There's no issue for `expected:<DELETED> but was:<NOT_FOUND>` yet.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/397228707","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-397228707","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":397228707,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzIyODcwNw==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2018-06-14T09:16:40Z","updated_at":"2018-06-14T09:16:40Z","author_association":"CONTRIBUTOR","body":"@atorok I am very curious what could cause this. Do you have more information or only this error? I am not sure when I will have time to dig into it but I will eventually.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/397253734","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-397253734","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":397253734,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzI1MzczNA==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2018-06-14T10:52:08Z","updated_at":"2018-06-14T10:52:08Z","author_association":"CONTRIBUTOR","body":"@s1monw I was planing to look at it more Today, there's much I still need to  understand about that what that test does, my first taught is to  investigate around the lines of  `index.gc_deletes` and to make sure that creating the document in the first place doesn't silently fail. \r\nTo reproduce it, you'll need to set `JAVA_HOME` to an early access JDK 11, on [this branch](https://github.com/atorok/elasticsearch/tree/upgrade/jdk_11)  and just `./gradlew :server:test`  if you're extremely lucky it might pass, so just run it again. Depending on where it fails, the log can be quite verbose, I have a [reproduction with shorter logs](https://gist.github.com/atorok/4d110ee89b526677f8128b82fc249867) hat might make it easier.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/397260130","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-397260130","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":397260130,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzI2MDEzMA==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2018-06-14T11:19:19Z","updated_at":"2018-06-14T11:53:19Z","author_association":"CONTRIBUTOR","body":"```\r\n1> [2018-06-14T05:53:31,665][INFO ][o.e.s.a.b.DateHistogramIT] Index [7] docs async: [true] bulk: [false]\r\n  1> [2018-06-14T05:53:31,668][INFO ][o.e.c.m.MetaDataDeleteIndexService] [node_sm0] [idx2/cZllQ12TR2eEUB-MMmUQLg] deleting index\r\n```\r\nIt seems to fail only  with async. The test randomizes that.\r\nThat could mean a race condition between when we try to delete and when it's actually created.\r\nEdit: tested with a code change that only indexes sync, and multiple runs did not reproduce, so it does seem this has to do with async.\r\n ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/398297664","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-398297664","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":398297664,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODI5NzY2NA==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2018-06-19T07:10:21Z","updated_at":"2018-06-19T07:10:21Z","author_association":"CONTRIBUTOR","body":"The problem with `expected:<DELETED> but was:<NOT_FOUND>` stopped reproducing while I was debugging it without any changes, and I was no longer able to reproduce it. In retrospect I think it was because I was running other builds in parallel before I specifically wanted to reproduce this, so it's possible that the congested CPU caused ES to run slow so the async indexing did not create document by the time we tried to remove them. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/399333122","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-399333122","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":399333122,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTMzMzEyMg==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2018-06-22T06:19:26Z","updated_at":"2018-06-22T06:19:26Z","author_association":"CONTRIBUTOR","body":"Builds are finally passing on JDK 10 with Gradle 4.8. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/399403882","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-399403882","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":399403882,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTQwMzg4Mg==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2018-06-22T10:52:32Z","updated_at":"2018-06-22T10:52:32Z","author_association":"CONTRIBUTOR","body":"JDK 11 builds are also passing in CI except for when the runtime java is set to 11 ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/399481435","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-399481435","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":399481435,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTQ4MTQzNQ==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2018-06-22T15:30:16Z","updated_at":"2018-06-22T15:30:16Z","author_association":"CONTRIBUTOR","body":"Green matrix build: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+31230_gradle48_jdk11+matrix-java-feature-branch/","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/399861813","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-399861813","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":399861813,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTg2MTgxMw==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2018-06-25T07:43:32Z","updated_at":"2018-06-25T07:43:32Z","author_association":"CONTRIBUTOR","body":"> The problem with expected:<DELETED> but was:<NOT_FOUND> stopped reproducing while I was debugging it without any changes, and I was no longer able to reproduce it. In retrospect I think it was because I was running other builds in parallel before I specifically wanted to reproduce this, so it's possible that the congested CPU caused ES to run slow so the async indexing did not create document by the time we tried to remove them.\r\n\r\n++  thanks for clarifying ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/405080690","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-405080690","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":405080690,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTA4MDY5MA==","user":{"login":"mrhoric","id":13533729,"node_id":"MDQ6VXNlcjEzNTMzNzI5","avatar_url":"https://avatars0.githubusercontent.com/u/13533729?v=4","gravatar_id":"","url":"https://api.github.com/users/mrhoric","html_url":"https://github.com/mrhoric","followers_url":"https://api.github.com/users/mrhoric/followers","following_url":"https://api.github.com/users/mrhoric/following{/other_user}","gists_url":"https://api.github.com/users/mrhoric/gists{/gist_id}","starred_url":"https://api.github.com/users/mrhoric/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrhoric/subscriptions","organizations_url":"https://api.github.com/users/mrhoric/orgs","repos_url":"https://api.github.com/users/mrhoric/repos","events_url":"https://api.github.com/users/mrhoric/events{/privacy}","received_events_url":"https://api.github.com/users/mrhoric/received_events","type":"User","site_admin":false},"created_at":"2018-07-15T10:09:31Z","updated_at":"2018-07-15T10:14:45Z","author_association":"NONE","body":"> macos 10.13.6\r\n> jdk 1.8.0\r\n> gradle 4.7\r\n\r\nI can't build es-5.6, it report errors like follows, how can i do some thing:\r\n```\r\n[2018-07-15T17:27:30,164][INFO ][o.e.p.PluginsService     ] [B9bR86I] loaded module [reindex]\r\n[2018-07-15T17:27:30,164][INFO ][o.e.p.PluginsService     ] [B9bR86I] loaded module [transport-netty3]\r\n[2018-07-15T17:27:30,164][INFO ][o.e.p.PluginsService     ] [B9bR86I] loaded module [transport-netty4]\r\n[2018-07-15T17:27:30,166][INFO ][o.e.p.PluginsService     ] [B9bR86I] no plugins loaded\r\n[2018-07-15T17:27:34,962][INFO ][o.e.d.DiscoveryModule    ] [B9bR86I] using discovery type [zen]\r\n[2018-07-15T17:27:38,029][INFO ][o.e.n.Node               ] initialized\r\n[2018-07-15T17:27:38,029][INFO ][o.e.n.Node               ] [B9bR86I] starting ...\r\n[2018-07-15T17:27:38,757][INFO ][o.e.t.TransportService   ] [B9bR86I] publish_address {127.0.0.1:57986}, bound_addresses {[::1]:57985}, {127.0.0.1:57986}\r\n[2018-07-15T17:27:41,920][INFO ][o.e.c.s.ClusterService   ] [B9bR86I] new_master {B9bR86I}{B9bR86IETgCsp4W0ZtL8CA}{WHLTSbYvTXi5hbOE_SEN2g}{127.0.0.1}{127.0.0.1:57986}{testattr=test}, reason: zen-disco-elected-as-master ([0] nodes joined)[, ]\r\n[2018-07-15T17:27:41,969][INFO ][o.e.h.n.Netty4HttpServerTransport] [B9bR86I] publish_address {127.0.0.1:58002}, bound_addresses {[::1]:58001}, {127.0.0.1:58002}\r\n[2018-07-15T17:27:41,974][INFO ][o.e.n.Node               ] [B9bR86I] started\r\n[2018-07-15T17:27:41,982][INFO ][o.e.g.GatewayService     ] [B9bR86I] recovered [0] indices into cluster_state\r\n=========================================\r\n\r\n> Task :modules:reindex:integTestRunner FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task ':modules:reindex:integTestRunner'.\r\n> There were test failures: 3 suites (1 ignored), 122 tests, 1 error [seed: 28E3711AC3679E5]\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':modules:reindex:integTestRunner'.\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:103)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:73)\r\n        at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\r\n        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\r\n        at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\r\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\r\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\r\n        at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\r\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:91)\r\n        at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\r\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:59)\r\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\r\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:256)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:317)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:309)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:185)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:97)\r\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:249)\r\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:238)\r\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\r\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:663)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:596)\r\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\nCaused by: : There were test failures: 3 suites (1 ignored), 122 tests, 1 error [seed: 28E3711AC3679E5]\r\n        at com.carrotsearch.ant.tasks.junit4.JUnit4.execute(JUnit4.java:1051)\r\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:293)\r\n        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\r\n        at org.gradle.api.internal.project.ant.BasicAntBuilder.nodeCompleted(BasicAntBuilder.java:78)\r\n        at com.carrotsearch.gradle.junit4.RandomizedTestingTask.executeTests(RandomizedTestingTask.groovy:237)\r\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:46)\r\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\r\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\r\n        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:794)\r\n        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:761)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:124)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:317)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:309)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:185)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:97)\r\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:113)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:95)\r\n        ... 29 more\r\n\r\n\r\nGet more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 5.0.\r\nSee https://docs.gradle.org/4.7/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 49m 55s\r\n683 actionable tasks: 240 executed, 443 up-to-date\r\n\r\n```\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/405101926","html_url":"https://github.com/elastic/elasticsearch/issues/31230#issuecomment-405101926","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31230","id":405101926,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTEwMTkyNg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-07-15T16:18:32Z","updated_at":"2018-07-15T16:18:32Z","author_association":"MEMBER","body":"@mrhoric Please use the [forum](https://discuss.elastic.co) instead of posting on closed and unrelated issues.","performed_via_github_app":null}]