{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/18149","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18149/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18149/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18149/events","html_url":"https://github.com/elastic/elasticsearch/issues/18149","id":153168612,"node_id":"MDU6SXNzdWUxNTMxNjg2MTI=","number":18149,"title":"auto indexing off","user":{"login":"arafay696","id":11245356,"node_id":"MDQ6VXNlcjExMjQ1MzU2","avatar_url":"https://avatars0.githubusercontent.com/u/11245356?v=4","gravatar_id":"","url":"https://api.github.com/users/arafay696","html_url":"https://github.com/arafay696","followers_url":"https://api.github.com/users/arafay696/followers","following_url":"https://api.github.com/users/arafay696/following{/other_user}","gists_url":"https://api.github.com/users/arafay696/gists{/gist_id}","starred_url":"https://api.github.com/users/arafay696/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arafay696/subscriptions","organizations_url":"https://api.github.com/users/arafay696/orgs","repos_url":"https://api.github.com/users/arafay696/repos","events_url":"https://api.github.com/users/arafay696/events{/privacy}","received_events_url":"https://api.github.com/users/arafay696/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-05-05T05:06:46Z","updated_at":"2016-05-05T08:26:59Z","closed_at":"2016-05-05T08:26:59Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version**: 2.1\n\n**JVM version**: latest\n\n**OS version**: windows 8\n\n**Description of the problem including expected versus actual behavior**:\n\ni am creating index using php-client with 6lac of data by reading CSV file with bulk indexing.\nI have several issues in it:\n\n1: when i run script from browser and then stop the script even close the browser, request is running on background. how its working? and how can i stop request?\n2: After completion of 6 lac, index updating documents automatically and it goes to 12 lac and so on... how can i create documents with unique ID.\n3: can i pass multiple parameters to $client->bultk() methods: like $client->bultk($params,$params2....) ;??\n\nmy script:\nit takes 6lac record and process it.\n\n**$presona_arr = array(\n                    'index' => 'amplify4',\n                    'type' => 'persona',\n                    'body' => array(\n                        'persona_email' => $pemail,\n                        'company_id' => 18,\n                        'date_added' => date(\"Y-m-d\")\n                    )\n                );\n                $response_per = $client->index($presona_arr);\n                $persona_insert_id = $response_per['_id'];\n\n```\n            $bulkParamsDemo['body'][] = [\n                'index' => [\n                    '_index' => indexName,\n                    '_type' => 'demo',\n                    '_id' => $i,\n                    'routing' => $persona_insert_id\n                ]\n            ];\n            $bulkParamsDemo['body'][] = array(data);\n\n            $bulkParamsTrans['body'][] = [\n                'index' => [\n                    '_index' => indexName,\n                    '_type' => 'trans',\n                    '_id' => $i,\n                    'routing' => $persona_insert_id\n                ]\n            ];\n            $bulkParamsTrans['body'][] = array(data);\n\n            $bulkParamsGeo['body'][] = [\n                'index' => [\n                    '_index' => indexName,\n                    '_type' => 'geo',\n                    '_id' => $i,\n                    'routing' => $persona_insert_id\n                ]\n            ];\n            $bulkParamsGeo['body'][] = $geoData;\n\n            $bulkParamsPhy['body'][] = [\n                'index' => [\n                    '_index' => indexName,\n                    '_type' => 'phy',\n                    '_id' => $i,\n                    'routing' => $persona_insert_id\n                ]\n            ];\n            $bulkParamsPhy['body'][] = array(data);\n\n            unset($demoData);\n            unset($transData);\n            unset($geoData);\n            unset($phyData);\n\n            $count = $i;\n           if ($i % 2800 == 0) {\n                $responses = $client->bulk($bulkParamsDemo);\n                 $responses = $client->bulk($bulkParamsTrans);\n              $responses = $client->bulk($bulkParamsGeo);\n             $responses = $client->bulk($bulkParamsPhy);\n            // erase the old bulk request\n                $bulkParamsDemo = ['body' => []];\n                $bulkParamsTrans = ['body' => []];\n                $bulkParamsGeo = ['body' => []];\n                $bulkParamsPhy = ['body' => []];\n\n                // unset the bulk response when you are done to save memory\n                unset($responses);\n            }**\n```\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}