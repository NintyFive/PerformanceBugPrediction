{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1325","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1325/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1325/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1325/events","html_url":"https://github.com/elastic/elasticsearch/issues/1325","id":1623819,"node_id":"MDU6SXNzdWUxNjIzODE5","number":1325,"title":"Indexation of document causes NullPointerException (on Linux) or ES process hanging","user":{"login":"an2deg","id":380882,"node_id":"MDQ6VXNlcjM4MDg4Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/380882?v=4","gravatar_id":"","url":"https://api.github.com/users/an2deg","html_url":"https://github.com/an2deg","followers_url":"https://api.github.com/users/an2deg/followers","following_url":"https://api.github.com/users/an2deg/following{/other_user}","gists_url":"https://api.github.com/users/an2deg/gists{/gist_id}","starred_url":"https://api.github.com/users/an2deg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/an2deg/subscriptions","organizations_url":"https://api.github.com/users/an2deg/orgs","repos_url":"https://api.github.com/users/an2deg/repos","events_url":"https://api.github.com/users/an2deg/events{/privacy}","received_events_url":"https://api.github.com/users/an2deg/received_events","type":"User","site_admin":false},"labels":[{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":138182,"node_id":"MDU6TGFiZWwxMzgxODI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.17.7","name":"v0.17.7","color":"DDDDDD","default":false,"description":null},{"id":127902,"node_id":"MDU6TGFiZWwxMjc5MDI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.18.0","name":"v0.18.0","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2011-09-12T13:48:21Z","updated_at":"2011-09-12T18:36:11Z","closed_at":"2011-09-12T18:36:11Z","author_association":"NONE","active_lock_reason":null,"body":"Affected ES v0.15.1, v0.16.2, v0.17.6.\nHere is test case:\n\ncurl -XDELETE 'http://localhost:9200/test_contacts/'\ncurl -XPUT 'http://localhost:9200/test_contacts/'\n\ncurl -XPUT http://localhost:9200/test_contacts/contact/_mapping -d \"{\\\"contact\\\": {\\\"_all\\\": {\\\"enabled\\\": false}, \\\"dynamic\\\": false, \\\"properties\\\": {\\\"any_fields\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"reverse_fields\\\": {\\\"dynamic\\\": false, \\\"type\\\": \\\"object\\\", \\\"properties\\\": {\\\"last_name\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"twitter\\\": {\\\"dynamic\\\": false, \\\"type\\\": \\\"object\\\", \\\"properties\\\": {\\\"profile\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"user_id\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\"}, \\\"user_name\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}}}, \\\"linkedin\\\": {\\\"dynamic\\\": false, \\\"type\\\": \\\"object\\\", \\\"properties\\\": {\\\"profile\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"user_id\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"user_name\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}}}, \\\"street\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"skype\\\": {\\\"dynamic\\\": false, \\\"type\\\": \\\"object\\\", \\\"properties\\\": {\\\"profile\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}}}, \\\"city\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"first_name\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"zip\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"title\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"state\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"leadSource\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"company_name\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"department\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"email\\\": {\\\"dynamic\\\": false, \\\"type\\\": \\\"object\\\", \\\"properties\\\": {\\\"profile\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}}}, \\\"website\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"description\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"accountNumber\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"assistant\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"phone\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"facebook\\\": {\\\"dynamic\\\": false, \\\"type\\\": \\\"object\\\", \\\"properties\\\": {\\\"profile\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"user_id\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"user_name\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}}}, \\\"leadType\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"dates\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"name\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"country\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"assistantPhone\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}}}, \\\"reverse_any_fields\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"tag\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"created\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"date\\\", \\\"format\\\": \\\"yyyy-MM-dd'T'HH:mm:ssZ\\\"}, \\\"company_id\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\"}, \\\"fields\\\": {\\\"dynamic\\\": false, \\\"type\\\": \\\"object\\\", \\\"properties\\\": {\\\"last_name\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"twitter\\\": {\\\"dynamic\\\": false, \\\"type\\\": \\\"object\\\", \\\"properties\\\": {\\\"profile\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"user_id\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\"}, \\\"user_name\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}}}, \\\"linkedin\\\": {\\\"dynamic\\\": false, \\\"type\\\": \\\"object\\\", \\\"properties\\\": {\\\"profile\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"user_id\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"user_name\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}}}, \\\"street\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"skype\\\": {\\\"dynamic\\\": false, \\\"type\\\": \\\"object\\\", \\\"properties\\\": {\\\"profile\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}}}, \\\"city\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"first_name\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"zip\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"title\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"state\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"leadSource\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"company_name\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"department\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"email\\\": {\\\"dynamic\\\": false, \\\"type\\\": \\\"object\\\", \\\"properties\\\": {\\\"profile\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}}}, \\\"website\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"description\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"accountNumber\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"assistant\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"phone\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"facebook\\\": {\\\"dynamic\\\": false, \\\"type\\\": \\\"object\\\", \\\"properties\\\": {\\\"profile\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"user_id\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"user_name\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}}}, \\\"leadType\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"dates\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"name\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"country\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}, \\\"assistantPhone\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\", \\\"omit_term_freq_and_positions\\\": \\\"true\\\"}}}, \\\"id\\\": {\\\"type\\\": \\\"string\\\", \\\"store\\\": \\\"yes\\\"}, \\\"is_account\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"boolean\\\"}, \\\"owner_id\\\": {\\\"index\\\": \\\"not_analyzed\\\", \\\"type\\\": \\\"string\\\"}}, \\\"_source\\\": {\\\"enabled\\\": false}}}\"\n\ncurl -XPUT http://localhost:9200/test_contacts/contact/4e6dfd2dfa5bd81330000098 -d '{\"reverse_any_fields\": [\"resu emos\", \"emos\", \"resu\", \"moc.niamod@rednaxela\"], \"any_fields\": [\"some user\", \"some\", \"user\", \"alexander@domain.com\"], \"created\": \"2011-09-12T12:38:05+0000\", \"reverse_fields\": {\"first_name\": [\"emos\"], \"last_name\": [\"resu\"], \"name\": [\"resu emos\"], \"email\": [\"moc.niamod@rednaxela\"]}, \"fields\": {\"first_name\": [\"some\"], \"last_name\": [\"user\"], \"name\": [\"some user\"], \"email\": [\"alexander@domain.com\"]}, \"owner_id\": \"4e6dfd2bfa5bd81330000002\", \"tag\": [], \"company_id\": \"4b619ddffa5bd81b71000002\", \"is_account\": false, \"id\": \"4e6dfd2dfa5bd81330000098\"}'\n","closed_by":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"performed_via_github_app":null}