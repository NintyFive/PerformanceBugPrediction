{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/18507","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18507/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18507/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18507/events","html_url":"https://github.com/elastic/elasticsearch/issues/18507","id":156130628,"node_id":"MDU6SXNzdWUxNTYxMzA2Mjg=","number":18507,"title":"epoch_millis should accept more than 13 character digits","user":{"login":"rbellamy","id":94763,"node_id":"MDQ6VXNlcjk0NzYz","avatar_url":"https://avatars0.githubusercontent.com/u/94763?v=4","gravatar_id":"","url":"https://api.github.com/users/rbellamy","html_url":"https://github.com/rbellamy","followers_url":"https://api.github.com/users/rbellamy/followers","following_url":"https://api.github.com/users/rbellamy/following{/other_user}","gists_url":"https://api.github.com/users/rbellamy/gists{/gist_id}","starred_url":"https://api.github.com/users/rbellamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rbellamy/subscriptions","organizations_url":"https://api.github.com/users/rbellamy/orgs","repos_url":"https://api.github.com/users/rbellamy/repos","events_url":"https://api.github.com/users/rbellamy/events{/privacy}","received_events_url":"https://api.github.com/users/rbellamy/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-05-22T01:59:48Z","updated_at":"2016-05-22T08:26:57Z","closed_at":"2016-05-22T08:26:57Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the feature**:\nCurrently `epoch_millis` has what appears to be an arbitrary 13 character upper limit on what can be parsed. The [date format documentation](https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-date-format.html) indicates that the year range is between 1653 and 2286, and that you should use a different formatter if your values exceed that range.\n\nBecause `epoch_seconds` is a subset of the `epoch_millis` format, it too has a strange upper limit of 10 characters.\n\nWe commonly receive (incorrect) data with epoch millisecond values with more than 13 characters.\n\nFor `epoch_millis`, one might assume this low number of digits is an attempt to prevent 32 signed int overflow, but that doesn't compute.\n\nMax signed 32 bit int is 2147483647, which is 10 digits.\n\nThe underlying library used by Elasticsearch for Date parsing is Joda Time, and uses `DateTime(millis, DateTimeZone.UTC)` to construct an immutable DateTime value from `epoch_millis` , where `millis` is a Java Long value. `millis` can certainly accept more than 13 chars of digits.\n\nCross-post alert:\nI've asked this question in the [discussion forums](https://discuss.elastic.co/t/epoch-millis-has-a-maximum-of-13-digits-joda-time-accepts-a-long/50508) as well.\n\nI have a PR ready to submit, pending the outcome of this discussion.\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}