[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/70257865","html_url":"https://github.com/elastic/elasticsearch/issues/9333#issuecomment-70257865","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9333","id":70257865,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjU3ODY1","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-01-16T14:08:32Z","updated_at":"2015-01-16T14:08:32Z","author_association":"CONTRIBUTOR","body":"Refresh calls are not sync'ed across the cluster, so it could happen that visible documents to the _search API are not the same on two copies of the same shard. Could it explain your issue?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/70264905","html_url":"https://github.com/elastic/elasticsearch/issues/9333#issuecomment-70264905","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9333","id":70264905,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjY0OTA1","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-01-16T14:59:05Z","updated_at":"2015-01-16T14:59:05Z","author_association":"CONTRIBUTOR","body":"also, what version of Elasticsearch are you using?  and do you use delete-by-query?\n\ndo the results for that bucket bounce between two numbers, eg 10 -> 12 -> 10 -> 12 ?\n\nare you still indexing into that index?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/70266473","html_url":"https://github.com/elastic/elasticsearch/issues/9333#issuecomment-70266473","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9333","id":70266473,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjY2NDcz","user":{"login":"amruthkesav","id":429041,"node_id":"MDQ6VXNlcjQyOTA0MQ==","avatar_url":"https://avatars2.githubusercontent.com/u/429041?v=4","gravatar_id":"","url":"https://api.github.com/users/amruthkesav","html_url":"https://github.com/amruthkesav","followers_url":"https://api.github.com/users/amruthkesav/followers","following_url":"https://api.github.com/users/amruthkesav/following{/other_user}","gists_url":"https://api.github.com/users/amruthkesav/gists{/gist_id}","starred_url":"https://api.github.com/users/amruthkesav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amruthkesav/subscriptions","organizations_url":"https://api.github.com/users/amruthkesav/orgs","repos_url":"https://api.github.com/users/amruthkesav/repos","events_url":"https://api.github.com/users/amruthkesav/events{/privacy}","received_events_url":"https://api.github.com/users/amruthkesav/received_events","type":"User","site_admin":false},"created_at":"2015-01-16T15:09:56Z","updated_at":"2015-01-16T15:09:56Z","author_association":"NONE","body":"Hi. Thanks for the quick response. \n\nBut once the refresh has happened across the cluster, I should be seeing consistent data right?\nBut my state is this, the 1st time I get X as value, The next time I get Y and X again in the next run.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/70266740","html_url":"https://github.com/elastic/elasticsearch/issues/9333#issuecomment-70266740","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9333","id":70266740,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjY2NzQw","user":{"login":"amruthkesav","id":429041,"node_id":"MDQ6VXNlcjQyOTA0MQ==","avatar_url":"https://avatars2.githubusercontent.com/u/429041?v=4","gravatar_id":"","url":"https://api.github.com/users/amruthkesav","html_url":"https://github.com/amruthkesav","followers_url":"https://api.github.com/users/amruthkesav/followers","following_url":"https://api.github.com/users/amruthkesav/following{/other_user}","gists_url":"https://api.github.com/users/amruthkesav/gists{/gist_id}","starred_url":"https://api.github.com/users/amruthkesav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amruthkesav/subscriptions","organizations_url":"https://api.github.com/users/amruthkesav/orgs","repos_url":"https://api.github.com/users/amruthkesav/repos","events_url":"https://api.github.com/users/amruthkesav/events{/privacy}","received_events_url":"https://api.github.com/users/amruthkesav/received_events","type":"User","site_admin":false},"created_at":"2015-01-16T15:11:40Z","updated_at":"2015-01-16T15:11:40Z","author_association":"NONE","body":"@clintongormley we are using elastic search 1.2 \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/70267198","html_url":"https://github.com/elastic/elasticsearch/issues/9333#issuecomment-70267198","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9333","id":70267198,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjY3MTk4","user":{"login":"amruthkesav","id":429041,"node_id":"MDQ6VXNlcjQyOTA0MQ==","avatar_url":"https://avatars2.githubusercontent.com/u/429041?v=4","gravatar_id":"","url":"https://api.github.com/users/amruthkesav","html_url":"https://github.com/amruthkesav","followers_url":"https://api.github.com/users/amruthkesav/followers","following_url":"https://api.github.com/users/amruthkesav/following{/other_user}","gists_url":"https://api.github.com/users/amruthkesav/gists{/gist_id}","starred_url":"https://api.github.com/users/amruthkesav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amruthkesav/subscriptions","organizations_url":"https://api.github.com/users/amruthkesav/orgs","repos_url":"https://api.github.com/users/amruthkesav/repos","events_url":"https://api.github.com/users/amruthkesav/events{/privacy}","received_events_url":"https://api.github.com/users/amruthkesav/received_events","type":"User","site_admin":false},"created_at":"2015-01-16T15:14:29Z","updated_at":"2015-01-16T15:14:29Z","author_association":"NONE","body":"@clintongormley We don't use delete by query. And yes the results for the bucket is bouncing between two values.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/70272738","html_url":"https://github.com/elastic/elasticsearch/issues/9333#issuecomment-70272738","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9333","id":70272738,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjcyNzM4","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-01-16T15:48:58Z","updated_at":"2015-01-16T15:48:58Z","author_association":"CONTRIBUTOR","body":"@amruthkesav OK - it appears that, for some reason, your primary and replica shards are out of sync.  If you reduce the number of replicas to zero then back to 1, they should be in sync again.\n\nLots of changes have been made in recent releases to deal with issues like this, so I'd suggest upgrading Elasticsearch to take advantage of the improvements.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/70273248","html_url":"https://github.com/elastic/elasticsearch/issues/9333#issuecomment-70273248","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9333","id":70273248,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjczMjQ4","user":{"login":"amruthkesav","id":429041,"node_id":"MDQ6VXNlcjQyOTA0MQ==","avatar_url":"https://avatars2.githubusercontent.com/u/429041?v=4","gravatar_id":"","url":"https://api.github.com/users/amruthkesav","html_url":"https://github.com/amruthkesav","followers_url":"https://api.github.com/users/amruthkesav/followers","following_url":"https://api.github.com/users/amruthkesav/following{/other_user}","gists_url":"https://api.github.com/users/amruthkesav/gists{/gist_id}","starred_url":"https://api.github.com/users/amruthkesav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amruthkesav/subscriptions","organizations_url":"https://api.github.com/users/amruthkesav/orgs","repos_url":"https://api.github.com/users/amruthkesav/repos","events_url":"https://api.github.com/users/amruthkesav/events{/privacy}","received_events_url":"https://api.github.com/users/amruthkesav/received_events","type":"User","site_admin":false},"created_at":"2015-01-16T15:51:43Z","updated_at":"2015-01-16T15:51:43Z","author_association":"NONE","body":"Ok will try upgrading and the quick fix you have suggested. Thanks!\n\n-----Original Message-----\nFrom: \"Clinton Gormley\" notifications@github.com\nSent: ‎16-‎01-‎2015 21:19\nTo: \"elasticsearch/elasticsearch\" elasticsearch@noreply.github.com\nCc: \"amruthkesav\" amruthkesav.s@gmail.com\nSubject: Re: [elasticsearch] Date histogram - Getting different results forbuckets every-time the query is run (#9333)\n\n@amruthkesav OK - it appears that, for some reason, your primary and replica shards are out of sync. If you reduce the number of replicas to zero then back to 1, they should be in sync again.\nLots of changes have been made in recent releases to deal with issues like this, so I'd suggest upgrading Elasticsearch to take advantage of the improvements.\n—\nReply to this email directly or view it on GitHub.=\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/138838315","html_url":"https://github.com/elastic/elasticsearch/issues/9333#issuecomment-138838315","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9333","id":138838315,"node_id":"MDEyOklzc3VlQ29tbWVudDEzODgzODMxNQ==","user":{"login":"lmqwudi","id":1253928,"node_id":"MDQ6VXNlcjEyNTM5Mjg=","avatar_url":"https://avatars3.githubusercontent.com/u/1253928?v=4","gravatar_id":"","url":"https://api.github.com/users/lmqwudi","html_url":"https://github.com/lmqwudi","followers_url":"https://api.github.com/users/lmqwudi/followers","following_url":"https://api.github.com/users/lmqwudi/following{/other_user}","gists_url":"https://api.github.com/users/lmqwudi/gists{/gist_id}","starred_url":"https://api.github.com/users/lmqwudi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lmqwudi/subscriptions","organizations_url":"https://api.github.com/users/lmqwudi/orgs","repos_url":"https://api.github.com/users/lmqwudi/repos","events_url":"https://api.github.com/users/lmqwudi/events{/privacy}","received_events_url":"https://api.github.com/users/lmqwudi/received_events","type":"User","site_admin":false},"created_at":"2015-09-09T08:57:09Z","updated_at":"2015-09-09T08:57:09Z","author_association":"NONE","body":"hi, amruthkesav , do you have already resolve this problem?I got the same problem and I can not find the solution.\n","performed_via_github_app":null}]