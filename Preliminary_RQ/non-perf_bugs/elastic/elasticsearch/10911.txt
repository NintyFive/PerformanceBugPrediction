{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/10911","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10911/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10911/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10911/events","html_url":"https://github.com/elastic/elasticsearch/issues/10911","id":72289189,"node_id":"MDU6SXNzdWU3MjI4OTE4OQ==","number":10911,"title":"Decaying part of the score","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-04-30T21:42:19Z","updated_at":"2015-05-04T10:39:17Z","closed_at":"2015-04-30T22:18:00Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"We use an exponential decay that scales only a portion of the score implemented in a [script score](https://github.com/wikimedia/mediawiki-extensions-CirrusSearch/blob/master/includes/Searcher.php#L1401). Specifically, we use it to express the notion that we care some about how old the content is. It works better for news use cases, but here is an example from Wikipedia which I give because its handy:\n- [No score decay since edit time](https://en.wikipedia.org/w/index.php?title=Special%3ASearch&profile=default&search=nuclear+program&fulltext=Search)\n- [Small portion of score decays with edit time](https://en.wikipedia.org/w/index.php?title=Special%3ASearch&profile=default&search=prefer-recent%3A.1+nuclear+program&fulltext=Search)\n- [Most of the score decays with edit time](https://en.wikipedia.org/w/index.php?title=Special%3ASearch&profile=default&search=prefer-recent%3A.9+nuclear+program&fulltext=Search)\n\nIt'd be nice if we could do that with a decay function. This:\n\n``` js\n                     {\n                        \"exp\": {\n                           \"timestamp\": {\n                              \"origin\": \"now\",\n                              \"scale\": \"160d\"\n                           }\n                        }\n                     },\n```\n\ngets about half the job done, but it doesn't allow me to apply the portion of the scale.\n\nI dug around in the code and didn't see a way to get what I wanted. Any ideas? I'm happy to implement something if it makes sense. Maybe a score function that wraps other score functions?\n\n``` js\n            {\n               \"portion\": {\n                  \".4\": \"no_change\",\n                  \".6\":\n                     {\n                        \"exp\": {\n                           \"timestamp\": {\n                              \"origin\": \"now\",\n                              \"scale\": \"160d\"\n                           }\n                        }\n                     }\n                  },\n               }\n            }\n```\n","closed_by":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"performed_via_github_app":null}