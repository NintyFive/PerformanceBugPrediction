[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/245326921","html_url":"https://github.com/elastic/elasticsearch/issues/20363#issuecomment-245326921","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20363","id":245326921,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTMyNjkyMQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2016-09-07T15:53:08Z","updated_at":"2016-09-13T13:26:04Z","author_association":"MEMBER","body":"First of all I'd find it useful to get a breakdown of the total 'quality_level' according to the contribution of each individual search request. Something like this:\n\n```\n{\n    \"rank_eval\": {\n        \"spec_id\": \"my-rank-eval\",\n        \"quality_level\": 0.75,\n        \"partial_results\": [{\n            \"id\": \"amsterdam_query\",            \n            \"quality_level\": 0.5,\n            \"breakdown\": {\n                \"relevant\": 4,\n                \"irrelevant\": 4,\n                \"unknown_docs\": [{\n                    \"index\": \"my_index\",\n                    \"type\": \"type\",\n                    \"doc_id\": \"26509772\"\n                }, {\n                    \"index\": \"my_index\",\n                    \"type\": \"type\",\n                    \"doc_id\": \"265094353\"\n                }]\n            }\n        }, {\n            \"id\": \"berlin_query\",           \n            \"quality_level\": 1.0,\n            \"breakdown\": { ... }\n        }]\n    }\n}\n```\n\nThis introduces an additional array on the top level (`partial_results`, name open to suggestions) which contains the partial metric result and any additional \"explain\" like information (here: `breakdown`). That one might be different later for each metric.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/246612158","html_url":"https://github.com/elastic/elasticsearch/issues/20363#issuecomment-246612158","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20363","id":246612158,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjYxMjE1OA==","user":{"login":"MaineC","id":70953,"node_id":"MDQ6VXNlcjcwOTUz","avatar_url":"https://avatars3.githubusercontent.com/u/70953?v=4","gravatar_id":"","url":"https://api.github.com/users/MaineC","html_url":"https://github.com/MaineC","followers_url":"https://api.github.com/users/MaineC/followers","following_url":"https://api.github.com/users/MaineC/following{/other_user}","gists_url":"https://api.github.com/users/MaineC/gists{/gist_id}","starred_url":"https://api.github.com/users/MaineC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaineC/subscriptions","organizations_url":"https://api.github.com/users/MaineC/orgs","repos_url":"https://api.github.com/users/MaineC/repos","events_url":"https://api.github.com/users/MaineC/events{/privacy}","received_events_url":"https://api.github.com/users/MaineC/received_events","type":"User","site_admin":false},"created_at":"2016-09-13T08:30:22Z","updated_at":"2016-09-13T08:30:22Z","author_association":"CONTRIBUTOR","body":"This got a ++ from @polyfractal - \"to \"breakdown\" contribution mentioned in #20363.  I can guarantee users will ask to see that info :)\"\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/247334776","html_url":"https://github.com/elastic/elasticsearch/issues/20363#issuecomment-247334776","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20363","id":247334776,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzMzNDc3Ng==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-09-15T13:55:10Z","updated_at":"2016-09-15T13:55:10Z","author_association":"CONTRIBUTOR","body":"Another thought, would be good to include timings per search request.  eg one set of search terms could take 20ms and another could take 1000ms\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/247961342","html_url":"https://github.com/elastic/elasticsearch/issues/20363#issuecomment-247961342","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20363","id":247961342,"node_id":"MDEyOklzc3VlQ29tbWVudDI0Nzk2MTM0Mg==","user":{"login":"MaineC","id":70953,"node_id":"MDQ6VXNlcjcwOTUz","avatar_url":"https://avatars3.githubusercontent.com/u/70953?v=4","gravatar_id":"","url":"https://api.github.com/users/MaineC","html_url":"https://github.com/MaineC","followers_url":"https://api.github.com/users/MaineC/followers","following_url":"https://api.github.com/users/MaineC/following{/other_user}","gists_url":"https://api.github.com/users/MaineC/gists{/gist_id}","starred_url":"https://api.github.com/users/MaineC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaineC/subscriptions","organizations_url":"https://api.github.com/users/MaineC/orgs","repos_url":"https://api.github.com/users/MaineC/repos","events_url":"https://api.github.com/users/MaineC/events{/privacy}","received_events_url":"https://api.github.com/users/MaineC/received_events","type":"User","site_admin":false},"created_at":"2016-09-19T10:42:43Z","updated_at":"2016-09-19T10:42:43Z","author_association":"CONTRIBUTOR","body":"Overall I think this could be helpful information. \n\nNot sure though if this might lead to people trying to use the API just for doing performance comparisons which I think would be better served by a separate API.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/259097595","html_url":"https://github.com/elastic/elasticsearch/issues/20363#issuecomment-259097595","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20363","id":259097595,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTA5NzU5NQ==","user":{"login":"MaineC","id":70953,"node_id":"MDQ6VXNlcjcwOTUz","avatar_url":"https://avatars3.githubusercontent.com/u/70953?v=4","gravatar_id":"","url":"https://api.github.com/users/MaineC","html_url":"https://github.com/MaineC","followers_url":"https://api.github.com/users/MaineC/followers","following_url":"https://api.github.com/users/MaineC/following{/other_user}","gists_url":"https://api.github.com/users/MaineC/gists{/gist_id}","starred_url":"https://api.github.com/users/MaineC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaineC/subscriptions","organizations_url":"https://api.github.com/users/MaineC/orgs","repos_url":"https://api.github.com/users/MaineC/repos","events_url":"https://api.github.com/users/MaineC/events{/privacy}","received_events_url":"https://api.github.com/users/MaineC/received_events","type":"User","site_admin":false},"created_at":"2016-11-08T10:13:25Z","updated_at":"2016-11-08T10:13:25Z","author_association":"CONTRIBUTOR","body":"@cbuescher added information on which hits were returned per query including rating information (if any). For now I'd like to close this issue as done and re-open should we find out we actually need more debugging information. \n","performed_via_github_app":null}]