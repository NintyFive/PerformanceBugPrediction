{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/29054","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29054/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29054/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29054/events","html_url":"https://github.com/elastic/elasticsearch/issues/29054","id":305088445,"node_id":"MDU6SXNzdWUzMDUwODg0NDU=","number":29054,"title":"index.merge.scheduler.max_thread_count error in elasticsearch.yml","user":{"login":"kervin521","id":9798724,"node_id":"MDQ6VXNlcjk3OTg3MjQ=","avatar_url":"https://avatars0.githubusercontent.com/u/9798724?v=4","gravatar_id":"","url":"https://api.github.com/users/kervin521","html_url":"https://github.com/kervin521","followers_url":"https://api.github.com/users/kervin521/followers","following_url":"https://api.github.com/users/kervin521/following{/other_user}","gists_url":"https://api.github.com/users/kervin521/gists{/gist_id}","starred_url":"https://api.github.com/users/kervin521/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kervin521/subscriptions","organizations_url":"https://api.github.com/users/kervin521/orgs","repos_url":"https://api.github.com/users/kervin521/repos","events_url":"https://api.github.com/users/kervin521/events{/privacy}","received_events_url":"https://api.github.com/users/kervin521/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-14T09:51:49Z","updated_at":"2018-03-14T10:37:24Z","closed_at":"2018-03-14T10:37:23Z","author_association":"NONE","active_lock_reason":null,"body":"elasticsearch guid link :https://www.elastic.co/guide/cn/elasticsearch/guide/current/indexing-performance.html\r\n\r\nin elasticsearch.yml setting:\r\nindex.merge.scheduler.max_thread_count: 1\r\n\r\nbut it startup error : \r\n\r\nFound index level settings on node level configuration.\r\n\r\nSince elasticsearch 5.x index level settings can NOT be set on the nodes\r\nconfiguration like the elasticsearch.yaml, in system properties or command line\r\narguments.In order to upgrade all indices the settings must be updated via the\r\n/${index}/_settings API. Unless all settings are dynamic all indices must be closed\r\nin order to apply the upgradeIndices created in the future should use index templates\r\nto set default values.\r\n\r\nPlease ensure all required values are updated on all indices by executing:\r\n\r\ncurl -XPUT 'http://localhost:9200/_all/_settings?preserve_existing=true' -d '{\r\n  \"index.merge.scheduler.max_thread_count\" : \"1\"\r\n}'\r\n*************************************************************************************\r\n\r\n[2018-03-14T17:44:31,999][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [elasticsearch] uncaught exception in thread [main]\r\norg.elasticsearch.bootstrap.StartupException: java.lang.IllegalArgumentException: node settings must not contain any index level settings\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:127) ~[elasticsearch-5.4.1.jar:5.4.1]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:114) ~[elasticsearch-5.4.1.jar:5.4.1]\r\n        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:67) ~[elasticsearch-5.4.1.jar:5.4.1]\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:122) ~[elasticsearch-5.4.1.jar:5.4.1]\r\n        at org.elasticsearch.cli.Command.main(Command.java:88) ~[elasticsearch-5.4.1.jar:5.4.1]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:91) ~[elasticsearch-5.4.1.jar:5.4.1]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:84) ~[elasticsearch-5.4.1.jar:5.4.1]\r\nCaused by: java.lang.IllegalArgumentException: node settings must not contain any index level settings\r\n        at org.elasticsearch.common.settings.SettingsModule.<init>(SettingsModule.java:132) ~[elasticsearch-5.4.1.jar:5.4.1]\r\n        at org.elasticsearch.node.Node.<init>(Node.java:343) ~[elasticsearch-5.4.1.jar:5.4.1]\r\n        at org.elasticsearch.node.Node.<init>(Node.java:242) ~[elasticsearch-5.4.1.jar:5.4.1]\r\n        at org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:232) ~[elasticsearch-5.4.1.jar:5.4.1]\r\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:232) ~[elasticsearch-5.4.1.jar:5.4.1]\r\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:350) ~[elasticsearch-5.4.1.jar:5.4.1]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:123) ~[elasticsearch-5.4.1.jar:5.4.1]\r\n        ... 6 more\u0000\r\n                                                                                                                              \r\n","closed_by":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"performed_via_github_app":null}