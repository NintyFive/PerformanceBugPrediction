[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/306357025","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-306357025","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":306357025,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNjM1NzAyNQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-06-06T01:38:38Z","updated_at":"2017-06-06T01:38:38Z","author_association":"MEMBER","body":"I do not think that that log message is the problem, rather I think that your processes are being killed, perhaps by the system OOM killer. I think that you need to investigate this on your end. Since we reserve GitHub for verified bug reports and feature requests, I'm going to close this issue. If you need additional help, please ask on the [forum](https://discuss.elastic.co). We can reopen this issue if a verified bug is discovered here.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/306611149","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-306611149","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":306611149,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNjYxMTE0OQ==","user":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars3.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","site_admin":false},"created_at":"2017-06-06T20:43:40Z","updated_at":"2017-06-06T20:43:40Z","author_association":"NONE","body":"I subisquently got lots of errors, notable in the logs `java.io.IOException: Cannot allocate memory`.\r\n\r\nThe server has 16GB of memory but elastic search was constrained to 1GB as per the default docker compose example.\r\n\r\nIn the end I removed\r\n```\r\n    - bootstrap.memory_lock=true\r\n    ulimits:\r\n      memlock:\r\n        soft: -1\r\n        hard: -1\r\n    mem_limit: 1g\r\n```\r\n\r\nand so far crashes seem to haved stopped. fingers crossed.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/308456087","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-308456087","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":308456087,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODQ1NjA4Nw==","user":{"login":"gertcuykens","id":863731,"node_id":"MDQ6VXNlcjg2MzczMQ==","avatar_url":"https://avatars2.githubusercontent.com/u/863731?v=4","gravatar_id":"","url":"https://api.github.com/users/gertcuykens","html_url":"https://github.com/gertcuykens","followers_url":"https://api.github.com/users/gertcuykens/followers","following_url":"https://api.github.com/users/gertcuykens/following{/other_user}","gists_url":"https://api.github.com/users/gertcuykens/gists{/gist_id}","starred_url":"https://api.github.com/users/gertcuykens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gertcuykens/subscriptions","organizations_url":"https://api.github.com/users/gertcuykens/orgs","repos_url":"https://api.github.com/users/gertcuykens/repos","events_url":"https://api.github.com/users/gertcuykens/events{/privacy}","received_events_url":"https://api.github.com/users/gertcuykens/received_events","type":"User","site_admin":false},"created_at":"2017-06-14T14:51:24Z","updated_at":"2017-06-14T14:53:22Z","author_association":"NONE","body":"I have the same issue running docker on mac, a empty elasticsearch should be able to run on the default 1g and not crash and run your cpu through the roof as soon as you send data to it.\r\n\r\n<img width=\"798\" alt=\"screen shot 2017-06-14 at 16 07 34\" src=\"https://user-images.githubusercontent.com/863731/27138746-82f8d800-5121-11e7-825a-679090106454.png\">\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/308458575","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-308458575","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":308458575,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODQ1ODU3NQ==","user":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars3.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","site_admin":false},"created_at":"2017-06-14T14:58:50Z","updated_at":"2017-06-14T14:58:50Z","author_association":"NONE","body":"I haven't had another crash (AFAIK) of elasticsearch since I removed the memory limits.\r\n\r\nFor me there's definitely some problem with es running on docker with the default setup, eg. with memory constraint.\r\n\r\nWill be interesting to see if anyone actually looks into this or bothers to reply.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/308468026","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-308468026","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":308468026,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODQ2ODAyNg==","user":{"login":"gertcuykens","id":863731,"node_id":"MDQ6VXNlcjg2MzczMQ==","avatar_url":"https://avatars2.githubusercontent.com/u/863731?v=4","gravatar_id":"","url":"https://api.github.com/users/gertcuykens","html_url":"https://github.com/gertcuykens","followers_url":"https://api.github.com/users/gertcuykens/followers","following_url":"https://api.github.com/users/gertcuykens/following{/other_user}","gists_url":"https://api.github.com/users/gertcuykens/gists{/gist_id}","starred_url":"https://api.github.com/users/gertcuykens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gertcuykens/subscriptions","organizations_url":"https://api.github.com/users/gertcuykens/orgs","repos_url":"https://api.github.com/users/gertcuykens/repos","events_url":"https://api.github.com/users/gertcuykens/events{/privacy}","received_events_url":"https://api.github.com/users/gertcuykens/received_events","type":"User","site_admin":false},"created_at":"2017-06-14T15:28:45Z","updated_at":"2017-06-14T15:29:45Z","author_association":"NONE","body":"I suspect docker doesn't like ES filesystem management. And bumping up the ram just make it use the filesystem less until you really pushing it. Try pushing your server to the limit, I suspect it will crash again as soon as the filesystem can't handle it anymore under docker.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/308472478","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-308472478","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":308472478,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODQ3MjQ3OA==","user":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars3.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","site_admin":false},"created_at":"2017-06-14T15:43:13Z","updated_at":"2017-06-14T15:43:13Z","author_association":"NONE","body":"@jasontedor is that possible?\r\n\r\nIf so it's pretty serious.\r\n\r\nI'm using a docker volume mounted at `/usr/share/elasticsearch/data` so in theory the filesystem should look to ES as if it were running on the host.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/308472805","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-308472805","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":308472805,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODQ3MjgwNQ==","user":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars3.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","site_admin":false},"created_at":"2017-06-14T15:44:14Z","updated_at":"2017-06-14T15:44:14Z","author_association":"NONE","body":"Also if this is the case, either ES or docker should definitely give some kind of error message when crashing.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/308478511","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-308478511","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":308478511,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODQ3ODUxMQ==","user":{"login":"gertcuykens","id":863731,"node_id":"MDQ6VXNlcjg2MzczMQ==","avatar_url":"https://avatars2.githubusercontent.com/u/863731?v=4","gravatar_id":"","url":"https://api.github.com/users/gertcuykens","html_url":"https://github.com/gertcuykens","followers_url":"https://api.github.com/users/gertcuykens/followers","following_url":"https://api.github.com/users/gertcuykens/following{/other_user}","gists_url":"https://api.github.com/users/gertcuykens/gists{/gist_id}","starred_url":"https://api.github.com/users/gertcuykens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gertcuykens/subscriptions","organizations_url":"https://api.github.com/users/gertcuykens/orgs","repos_url":"https://api.github.com/users/gertcuykens/repos","events_url":"https://api.github.com/users/gertcuykens/events{/privacy}","received_events_url":"https://api.github.com/users/gertcuykens/received_events","type":"User","site_admin":false},"created_at":"2017-06-14T16:02:57Z","updated_at":"2017-06-14T16:02:57Z","author_association":"NONE","body":"they mention something here on node stability and swap files https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/308487638","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-308487638","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":308487638,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODQ4NzYzOA==","user":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars3.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","site_admin":false},"created_at":"2017-06-14T16:35:39Z","updated_at":"2017-06-14T16:36:48Z","author_association":"NONE","body":"Ok, I've researched this a bit more. I think think the problem is actually that ES was hitting the memory limit set by docker.\r\n\r\nThe suggested setup (which I used at first without thinking) was\r\n```yaml\r\n      - bootstrap.memory_lock=true\r\n      - \"ES_JAVA_OPTS=-Xms512m -Xmx512m\"\r\n    ulimits:\r\n      memlock:\r\n        soft: -1\r\n        hard: -1\r\n    mem_limit: 1g\r\n```\r\nIn other works \"the container gets 1g, the max java heap size is 512mb\". But I think the ES container might sometimes need more than 512mb of extra RAM.\r\n\r\nFor example I now have\r\n\r\n```yaml\r\n    - \"ES_JAVA_OPTS=-Xms7g -Xmx7g\"\r\n    ulimits:\r\n      nproc: 3000\r\n      nofile: 65536\r\n      memlock: -1\r\n    mem_limit: 8g\r\n```\r\n\r\nand docker stats shows\r\n```\r\nCPU %        MEM USAGE / LIMIT     MEM %    NET I/O             BLOCK I/O    PIDS\r\n1.35%        7.493GiB / 8GiB       93.66%   4.63kB / 3.52kB     0B / 659kB   90\r\n```\r\n\r\nIn other words in this case the container is using `0.493GiB` more memory than the `ES_JAVA_OPTS` which would yield virtually no free ram in the default setup.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/308489942","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-308489942","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":308489942,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODQ4OTk0Mg==","user":{"login":"gertcuykens","id":863731,"node_id":"MDQ6VXNlcjg2MzczMQ==","avatar_url":"https://avatars2.githubusercontent.com/u/863731?v=4","gravatar_id":"","url":"https://api.github.com/users/gertcuykens","html_url":"https://github.com/gertcuykens","followers_url":"https://api.github.com/users/gertcuykens/followers","following_url":"https://api.github.com/users/gertcuykens/following{/other_user}","gists_url":"https://api.github.com/users/gertcuykens/gists{/gist_id}","starred_url":"https://api.github.com/users/gertcuykens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gertcuykens/subscriptions","organizations_url":"https://api.github.com/users/gertcuykens/orgs","repos_url":"https://api.github.com/users/gertcuykens/repos","events_url":"https://api.github.com/users/gertcuykens/events{/privacy}","received_events_url":"https://api.github.com/users/gertcuykens/received_events","type":"User","site_admin":false},"created_at":"2017-06-14T16:43:46Z","updated_at":"2017-06-14T16:43:46Z","author_association":"NONE","body":"Still expect error message out of memory or something :P And definitely not a cpu going A wall and die silently :) My fix to not crash on first query was `docker run -d -p 9200:9200 -e \"http.host=0.0.0.0\" -e \"bootstrap_memory_lock=true\" --ulimit memlock=-1:-1 -v ~/.data/:/usr/share/elasticsearch/data/ --name ES docker.elastic.co/elasticsearch/elasticsearch:5.4.1`","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/308490332","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-308490332","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":308490332,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODQ5MDMzMg==","user":{"login":"samuelcolvin","id":4039449,"node_id":"MDQ6VXNlcjQwMzk0NDk=","avatar_url":"https://avatars3.githubusercontent.com/u/4039449?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelcolvin","html_url":"https://github.com/samuelcolvin","followers_url":"https://api.github.com/users/samuelcolvin/followers","following_url":"https://api.github.com/users/samuelcolvin/following{/other_user}","gists_url":"https://api.github.com/users/samuelcolvin/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelcolvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelcolvin/subscriptions","organizations_url":"https://api.github.com/users/samuelcolvin/orgs","repos_url":"https://api.github.com/users/samuelcolvin/repos","events_url":"https://api.github.com/users/samuelcolvin/events{/privacy}","received_events_url":"https://api.github.com/users/samuelcolvin/received_events","type":"User","site_admin":false},"created_at":"2017-06-14T16:45:10Z","updated_at":"2017-06-14T16:45:10Z","author_association":"NONE","body":"Are you sure the CPU load is not because the container is constantly restart?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/308491344","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-308491344","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":308491344,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODQ5MTM0NA==","user":{"login":"gertcuykens","id":863731,"node_id":"MDQ6VXNlcjg2MzczMQ==","avatar_url":"https://avatars2.githubusercontent.com/u/863731?v=4","gravatar_id":"","url":"https://api.github.com/users/gertcuykens","html_url":"https://github.com/gertcuykens","followers_url":"https://api.github.com/users/gertcuykens/followers","following_url":"https://api.github.com/users/gertcuykens/following{/other_user}","gists_url":"https://api.github.com/users/gertcuykens/gists{/gist_id}","starred_url":"https://api.github.com/users/gertcuykens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gertcuykens/subscriptions","organizations_url":"https://api.github.com/users/gertcuykens/orgs","repos_url":"https://api.github.com/users/gertcuykens/repos","events_url":"https://api.github.com/users/gertcuykens/events{/privacy}","received_events_url":"https://api.github.com/users/gertcuykens/received_events","type":"User","site_admin":false},"created_at":"2017-06-14T16:48:55Z","updated_at":"2017-06-14T16:50:13Z","author_association":"NONE","body":"Hmm don't think so, because after a restart it just works until you query ES. And I don't think docker does that by default.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/308496098","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-308496098","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":308496098,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODQ5NjA5OA==","user":{"login":"gertcuykens","id":863731,"node_id":"MDQ6VXNlcjg2MzczMQ==","avatar_url":"https://avatars2.githubusercontent.com/u/863731?v=4","gravatar_id":"","url":"https://api.github.com/users/gertcuykens","html_url":"https://github.com/gertcuykens","followers_url":"https://api.github.com/users/gertcuykens/followers","following_url":"https://api.github.com/users/gertcuykens/following{/other_user}","gists_url":"https://api.github.com/users/gertcuykens/gists{/gist_id}","starred_url":"https://api.github.com/users/gertcuykens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gertcuykens/subscriptions","organizations_url":"https://api.github.com/users/gertcuykens/orgs","repos_url":"https://api.github.com/users/gertcuykens/repos","events_url":"https://api.github.com/users/gertcuykens/events{/privacy}","received_events_url":"https://api.github.com/users/gertcuykens/received_events","type":"User","site_admin":false},"created_at":"2017-06-14T17:06:11Z","updated_at":"2017-06-14T17:06:11Z","author_association":"NONE","body":"I can reproduce the cpu explode by doing this, but ES doesn't crash anymore\r\n\r\ndocker run --rm -it -v ~/.pipeline/:/usr/share/logstash/pipeline/ --link ES:elasticsearch docker.elastic.co/logstash/logstash:5.4.1\r\n\r\n`~/.pipeline/input.conf`\r\n```\r\ninput {\r\n  heartbeat {\r\n    interval => 5\r\n    message  => 'Hello from Logstash ðŸ’“'\r\n  }\r\n}\r\n\r\noutput {\r\n  elasticsearch {\r\n    hosts    => [ 'elasticsearch' ]\r\n    user     => 'elastic'\r\n    password => 'changeme'\r\n  }\r\n}\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/308541732","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-308541732","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":308541732,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODU0MTczMg==","user":{"login":"gertcuykens","id":863731,"node_id":"MDQ6VXNlcjg2MzczMQ==","avatar_url":"https://avatars2.githubusercontent.com/u/863731?v=4","gravatar_id":"","url":"https://api.github.com/users/gertcuykens","html_url":"https://github.com/gertcuykens","followers_url":"https://api.github.com/users/gertcuykens/followers","following_url":"https://api.github.com/users/gertcuykens/following{/other_user}","gists_url":"https://api.github.com/users/gertcuykens/gists{/gist_id}","starred_url":"https://api.github.com/users/gertcuykens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gertcuykens/subscriptions","organizations_url":"https://api.github.com/users/gertcuykens/orgs","repos_url":"https://api.github.com/users/gertcuykens/repos","events_url":"https://api.github.com/users/gertcuykens/events{/privacy}","received_events_url":"https://api.github.com/users/gertcuykens/received_events","type":"User","site_admin":false},"created_at":"2017-06-14T20:00:57Z","updated_at":"2017-06-14T20:04:13Z","author_association":"NONE","body":"If i wait long enough doing the above ES craches anyway... so I am back to square one, it just takes longer to crash now with `-e \"bootstrap_memory_lock=true\" --ulimit memlock=-1:-1`\r\n\r\nThis can be easely reproduceble just install https://store.docker.com/editions/community/docker-ce-desktop-mac (edge) and try it","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/311542012","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-311542012","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":311542012,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTU0MjAxMg==","user":{"login":"kozchris","id":1920247,"node_id":"MDQ6VXNlcjE5MjAyNDc=","avatar_url":"https://avatars0.githubusercontent.com/u/1920247?v=4","gravatar_id":"","url":"https://api.github.com/users/kozchris","html_url":"https://github.com/kozchris","followers_url":"https://api.github.com/users/kozchris/followers","following_url":"https://api.github.com/users/kozchris/following{/other_user}","gists_url":"https://api.github.com/users/kozchris/gists{/gist_id}","starred_url":"https://api.github.com/users/kozchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kozchris/subscriptions","organizations_url":"https://api.github.com/users/kozchris/orgs","repos_url":"https://api.github.com/users/kozchris/repos","events_url":"https://api.github.com/users/kozchris/events{/privacy}","received_events_url":"https://api.github.com/users/kozchris/received_events","type":"User","site_admin":false},"created_at":"2017-06-28T02:48:23Z","updated_at":"2017-06-28T03:12:53Z","author_association":"NONE","body":"I'm also seeing this issue using Elastic with Docker on a Mac. I went to Docker | Preferences | Advanced and updated the Memory and things are running better now. So it appears to the issue was the Docker memory limit. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/340004858","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-340004858","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":340004858,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MDAwNDg1OA==","user":{"login":"everaldo","id":892012,"node_id":"MDQ6VXNlcjg5MjAxMg==","avatar_url":"https://avatars0.githubusercontent.com/u/892012?v=4","gravatar_id":"","url":"https://api.github.com/users/everaldo","html_url":"https://github.com/everaldo","followers_url":"https://api.github.com/users/everaldo/followers","following_url":"https://api.github.com/users/everaldo/following{/other_user}","gists_url":"https://api.github.com/users/everaldo/gists{/gist_id}","starred_url":"https://api.github.com/users/everaldo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/everaldo/subscriptions","organizations_url":"https://api.github.com/users/everaldo/orgs","repos_url":"https://api.github.com/users/everaldo/repos","events_url":"https://api.github.com/users/everaldo/events{/privacy}","received_events_url":"https://api.github.com/users/everaldo/received_events","type":"User","site_admin":false},"created_at":"2017-10-27T15:30:47Z","updated_at":"2017-10-27T15:30:47Z","author_association":"NONE","body":"I've solved limiting ES container memory, as stated on this link:\r\n\r\nhttps://github.com/10up/wp-local-docker/issues/6\r\n\r\nES_JAVA_OPTS: \"-Xms750m -Xmx750m\"","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/482029647","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-482029647","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":482029647,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjAyOTY0Nw==","user":{"login":"martin-g","id":232002,"node_id":"MDQ6VXNlcjIzMjAwMg==","avatar_url":"https://avatars2.githubusercontent.com/u/232002?v=4","gravatar_id":"","url":"https://api.github.com/users/martin-g","html_url":"https://github.com/martin-g","followers_url":"https://api.github.com/users/martin-g/followers","following_url":"https://api.github.com/users/martin-g/following{/other_user}","gists_url":"https://api.github.com/users/martin-g/gists{/gist_id}","starred_url":"https://api.github.com/users/martin-g/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martin-g/subscriptions","organizations_url":"https://api.github.com/users/martin-g/orgs","repos_url":"https://api.github.com/users/martin-g/repos","events_url":"https://api.github.com/users/martin-g/events{/privacy}","received_events_url":"https://api.github.com/users/martin-g/received_events","type":"User","site_admin":false},"created_at":"2019-04-11T08:57:15Z","updated_at":"2019-04-11T08:57:56Z","author_association":"NONE","body":"The freshly released Elasticsearch 7.0.0 now fails in Docker with:\r\n\r\n```\r\nelasticsearch    | ERROR: [1] bootstrap checks failed\r\nelasticsearch    | [1]: the default discovery settings are unsuitable for production use; at least one of [discovery.seed_hosts, discovery.seed_providers, cluster.initial_master_nodes] must be configured\r\n...\r\nelasticsearch    | {\"type\": \"server\", \"timestamp\": \"2019-04-11T08:50:36,014+0000\", \"level\": \"INFO\", \"component\": \"o.e.x.m.p.NativeController\", \"cluster.name\": \"docker-cluster\", \"node.name\": \"e3ba2e1dd40c\",  \"message\": \"Native controller process has stopped - no new native processes can be started\"  }\r\nelasticsearch exited with code 78\r\n```\r\n\r\nHere is my docker-compose config:\r\n```\r\nservices:\r\n  elasticsearch:\r\n    image: docker.elastic.co/elasticsearch/elasticsearch:7.0.0\r\n    container_name: elasticsearch\r\n    command: elasticsearch\r\n    environment:\r\n      - cluster.initial_master_nodes[0]=localhost\r\n      - cluster.name=demo-es\r\n      - discovery.type=single-node\r\n      - http.cors.enabled=true\r\n      - http.cors.allow-credentials=true\r\n      - http.cors.allow-headers=X-Requested-With,X-Auth-Token,Content-Type,Content-Length,Authorization\r\n      - http.cors.allow-origin=/https?:\\/\\/localhost(:[0-9]+)?/\r\n      - \"ES_JAVA_OPTS=-Xms512m -Xmx512m\"\r\n    ulimits:\r\n      memlock:\r\n        soft: -1\r\n        hard: -1\r\n    ports:\r\n      - 9200:9200\r\n    volumes:\r\n      - /store2/demo/es/data:/usr/share/elasticsearch/data\r\n      - /store2/demo/es/logs:/usr/share/elasticsearch/logs\r\n    networks:\r\n      - esnet\r\n    healthcheck:\r\n      test: curl -s https://localhost:9200 >/dev/null; if [[ $$? == 52 ]]; then echo 0; else echo 1; fi\r\n      interval: 30s\r\n      timeout: 10s\r\n      retries: 5\r\n```\r\n\r\nEven though I have `discovery.type=single-node` it still tries to find master nodes or seeds.\r\nAnyone knows what is the proper syntax to pass `cluster.initial_master_nodes` as environment variable. My attempt above does not work, neither `- cluster.initial_master_nodes=\"[localhost]\"`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/482270190","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-482270190","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":482270190,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjI3MDE5MA==","user":{"login":"phlegx","id":111506,"node_id":"MDQ6VXNlcjExMTUwNg==","avatar_url":"https://avatars3.githubusercontent.com/u/111506?v=4","gravatar_id":"","url":"https://api.github.com/users/phlegx","html_url":"https://github.com/phlegx","followers_url":"https://api.github.com/users/phlegx/followers","following_url":"https://api.github.com/users/phlegx/following{/other_user}","gists_url":"https://api.github.com/users/phlegx/gists{/gist_id}","starred_url":"https://api.github.com/users/phlegx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phlegx/subscriptions","organizations_url":"https://api.github.com/users/phlegx/orgs","repos_url":"https://api.github.com/users/phlegx/repos","events_url":"https://api.github.com/users/phlegx/events{/privacy}","received_events_url":"https://api.github.com/users/phlegx/received_events","type":"User","site_admin":false},"created_at":"2019-04-11T19:19:28Z","updated_at":"2019-04-11T19:44:48Z","author_association":"NONE","body":"@martin-g Did you find it out? having the same issue.\r\n\r\n**Update:** setting: ` - discovery.type=single-node` solved it for me.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/482808416","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-482808416","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":482808416,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjgwODQxNg==","user":{"login":"nishants","id":2706268,"node_id":"MDQ6VXNlcjI3MDYyNjg=","avatar_url":"https://avatars1.githubusercontent.com/u/2706268?v=4","gravatar_id":"","url":"https://api.github.com/users/nishants","html_url":"https://github.com/nishants","followers_url":"https://api.github.com/users/nishants/followers","following_url":"https://api.github.com/users/nishants/following{/other_user}","gists_url":"https://api.github.com/users/nishants/gists{/gist_id}","starred_url":"https://api.github.com/users/nishants/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishants/subscriptions","organizations_url":"https://api.github.com/users/nishants/orgs","repos_url":"https://api.github.com/users/nishants/repos","events_url":"https://api.github.com/users/nishants/events{/privacy}","received_events_url":"https://api.github.com/users/nishants/received_events","type":"User","site_admin":false},"created_at":"2019-04-13T13:17:41Z","updated_at":"2019-04-13T13:17:41Z","author_association":"NONE","body":"@phlegx That worked for me too ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/483545961","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-483545961","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":483545961,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzU0NTk2MQ==","user":{"login":"martin-g","id":232002,"node_id":"MDQ6VXNlcjIzMjAwMg==","avatar_url":"https://avatars2.githubusercontent.com/u/232002?v=4","gravatar_id":"","url":"https://api.github.com/users/martin-g","html_url":"https://github.com/martin-g","followers_url":"https://api.github.com/users/martin-g/followers","following_url":"https://api.github.com/users/martin-g/following{/other_user}","gists_url":"https://api.github.com/users/martin-g/gists{/gist_id}","starred_url":"https://api.github.com/users/martin-g/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martin-g/subscriptions","organizations_url":"https://api.github.com/users/martin-g/orgs","repos_url":"https://api.github.com/users/martin-g/repos","events_url":"https://api.github.com/users/martin-g/events{/privacy}","received_events_url":"https://api.github.com/users/martin-g/received_events","type":"User","site_admin":false},"created_at":"2019-04-16T07:33:48Z","updated_at":"2019-04-16T07:33:48Z","author_association":"NONE","body":"For me the problem was that ES 7 was not reading/parsing the ENV vars at all. I used the same docker-compose.yaml for all ES 6.x before with no problem, but now with ES 7.0.0 it was just ignoring them. I noticed that the `cluster.name` was `docker-compose` (a default value ?!) instead of mine `demo-es`. \r\nSo I've just copied the config from https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html and re-applied my values.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/488556241","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-488556241","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":488556241,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODU1NjI0MQ==","user":{"login":"abhilashshettigar","id":32007548,"node_id":"MDQ6VXNlcjMyMDA3NTQ4","avatar_url":"https://avatars0.githubusercontent.com/u/32007548?v=4","gravatar_id":"","url":"https://api.github.com/users/abhilashshettigar","html_url":"https://github.com/abhilashshettigar","followers_url":"https://api.github.com/users/abhilashshettigar/followers","following_url":"https://api.github.com/users/abhilashshettigar/following{/other_user}","gists_url":"https://api.github.com/users/abhilashshettigar/gists{/gist_id}","starred_url":"https://api.github.com/users/abhilashshettigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhilashshettigar/subscriptions","organizations_url":"https://api.github.com/users/abhilashshettigar/orgs","repos_url":"https://api.github.com/users/abhilashshettigar/repos","events_url":"https://api.github.com/users/abhilashshettigar/events{/privacy}","received_events_url":"https://api.github.com/users/abhilashshettigar/received_events","type":"User","site_admin":false},"created_at":"2019-05-02T05:21:10Z","updated_at":"2019-05-02T05:21:10Z","author_association":"NONE","body":"@phlegx worked out of the box ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/492584039","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-492584039","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":492584039,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjU4NDAzOQ==","user":{"login":"sibhis","id":16509616,"node_id":"MDQ6VXNlcjE2NTA5NjE2","avatar_url":"https://avatars0.githubusercontent.com/u/16509616?v=4","gravatar_id":"","url":"https://api.github.com/users/sibhis","html_url":"https://github.com/sibhis","followers_url":"https://api.github.com/users/sibhis/followers","following_url":"https://api.github.com/users/sibhis/following{/other_user}","gists_url":"https://api.github.com/users/sibhis/gists{/gist_id}","starred_url":"https://api.github.com/users/sibhis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sibhis/subscriptions","organizations_url":"https://api.github.com/users/sibhis/orgs","repos_url":"https://api.github.com/users/sibhis/repos","events_url":"https://api.github.com/users/sibhis/events{/privacy}","received_events_url":"https://api.github.com/users/sibhis/received_events","type":"User","site_admin":false},"created_at":"2019-05-15T09:42:48Z","updated_at":"2019-05-15T09:42:48Z","author_association":"NONE","body":"> @martin-g Did you find it out? having the same issue.\r\n> \r\n> **Update:** setting: ` - discovery.type=single-node` solved it for me.\r\n\r\nIt Works! :+1: ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/527983799","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-527983799","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":527983799,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzk4Mzc5OQ==","user":{"login":"oshanz","id":5364479,"node_id":"MDQ6VXNlcjUzNjQ0Nzk=","avatar_url":"https://avatars0.githubusercontent.com/u/5364479?v=4","gravatar_id":"","url":"https://api.github.com/users/oshanz","html_url":"https://github.com/oshanz","followers_url":"https://api.github.com/users/oshanz/followers","following_url":"https://api.github.com/users/oshanz/following{/other_user}","gists_url":"https://api.github.com/users/oshanz/gists{/gist_id}","starred_url":"https://api.github.com/users/oshanz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oshanz/subscriptions","organizations_url":"https://api.github.com/users/oshanz/orgs","repos_url":"https://api.github.com/users/oshanz/repos","events_url":"https://api.github.com/users/oshanz/events{/privacy}","received_events_url":"https://api.github.com/users/oshanz/received_events","type":"User","site_admin":false},"created_at":"2019-09-04T16:38:19Z","updated_at":"2019-09-04T16:39:15Z","author_association":"NONE","body":"`- discovery.type=single-node` didn't work.\r\nbut `- discovery.type: single-node` is working for me","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/567122125","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-567122125","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":567122125,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzEyMjEyNQ==","user":{"login":"vanducng","id":2980905,"node_id":"MDQ6VXNlcjI5ODA5MDU=","avatar_url":"https://avatars3.githubusercontent.com/u/2980905?v=4","gravatar_id":"","url":"https://api.github.com/users/vanducng","html_url":"https://github.com/vanducng","followers_url":"https://api.github.com/users/vanducng/followers","following_url":"https://api.github.com/users/vanducng/following{/other_user}","gists_url":"https://api.github.com/users/vanducng/gists{/gist_id}","starred_url":"https://api.github.com/users/vanducng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vanducng/subscriptions","organizations_url":"https://api.github.com/users/vanducng/orgs","repos_url":"https://api.github.com/users/vanducng/repos","events_url":"https://api.github.com/users/vanducng/events{/privacy}","received_events_url":"https://api.github.com/users/vanducng/received_events","type":"User","site_admin":false},"created_at":"2019-12-18T17:02:50Z","updated_at":"2019-12-18T17:02:50Z","author_association":"NONE","body":"Still get issue from here, ES 6.8.5 \r\n```\r\n[2019-12-09T02:37:52,193][INFO ][o.e.x.m.p.NativeController] [dUTohMm] Native controller process has stopped - no new native processes can be started\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/573948742","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-573948742","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":573948742,"node_id":"MDEyOklzc3VlQ29tbWVudDU3Mzk0ODc0Mg==","user":{"login":"rcarneironet","id":544785,"node_id":"MDQ6VXNlcjU0NDc4NQ==","avatar_url":"https://avatars2.githubusercontent.com/u/544785?v=4","gravatar_id":"","url":"https://api.github.com/users/rcarneironet","html_url":"https://github.com/rcarneironet","followers_url":"https://api.github.com/users/rcarneironet/followers","following_url":"https://api.github.com/users/rcarneironet/following{/other_user}","gists_url":"https://api.github.com/users/rcarneironet/gists{/gist_id}","starred_url":"https://api.github.com/users/rcarneironet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rcarneironet/subscriptions","organizations_url":"https://api.github.com/users/rcarneironet/orgs","repos_url":"https://api.github.com/users/rcarneironet/repos","events_url":"https://api.github.com/users/rcarneironet/events{/privacy}","received_events_url":"https://api.github.com/users/rcarneironet/received_events","type":"User","site_admin":false},"created_at":"2020-01-14T01:03:59Z","updated_at":"2020-01-14T01:03:59Z","author_association":"NONE","body":"After adding the following on ElasticSearch (below ports).\r\n\r\n   environment:\r\n     - bootstrap.memory_lock=true\r\n     - \"ES_JAVA_OPTS=-Xms512m -Xmx512m\"\r\n     - discovery.type=single-node\r\n\r\nALSO,\r\n\r\nI noticed that under \"Shared Drivers\" on Docker for Windows, I didn't select any driver to map.\r\n\r\nAfter doing these two changes, it worked.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/574000216","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-574000216","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":574000216,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NDAwMDIxNg==","user":{"login":"JinnaBalu","id":11784253,"node_id":"MDQ6VXNlcjExNzg0MjUz","avatar_url":"https://avatars2.githubusercontent.com/u/11784253?v=4","gravatar_id":"","url":"https://api.github.com/users/JinnaBalu","html_url":"https://github.com/JinnaBalu","followers_url":"https://api.github.com/users/JinnaBalu/followers","following_url":"https://api.github.com/users/JinnaBalu/following{/other_user}","gists_url":"https://api.github.com/users/JinnaBalu/gists{/gist_id}","starred_url":"https://api.github.com/users/JinnaBalu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JinnaBalu/subscriptions","organizations_url":"https://api.github.com/users/JinnaBalu/orgs","repos_url":"https://api.github.com/users/JinnaBalu/repos","events_url":"https://api.github.com/users/JinnaBalu/events{/privacy}","received_events_url":"https://api.github.com/users/JinnaBalu/received_events","type":"User","site_admin":false},"created_at":"2020-01-14T04:53:14Z","updated_at":"2020-01-14T04:53:14Z","author_association":"NONE","body":"> `- discovery.type=single-node` didn't work.\r\n> but `- discovery.type: single-node` is working for me\r\n\r\nIt depends on how you are defining the properties in compose or yml conf. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/575775288","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-575775288","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":575775288,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTc3NTI4OA==","user":{"login":"AlanCCBP","id":36832249,"node_id":"MDQ6VXNlcjM2ODMyMjQ5","avatar_url":"https://avatars1.githubusercontent.com/u/36832249?v=4","gravatar_id":"","url":"https://api.github.com/users/AlanCCBP","html_url":"https://github.com/AlanCCBP","followers_url":"https://api.github.com/users/AlanCCBP/followers","following_url":"https://api.github.com/users/AlanCCBP/following{/other_user}","gists_url":"https://api.github.com/users/AlanCCBP/gists{/gist_id}","starred_url":"https://api.github.com/users/AlanCCBP/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlanCCBP/subscriptions","organizations_url":"https://api.github.com/users/AlanCCBP/orgs","repos_url":"https://api.github.com/users/AlanCCBP/repos","events_url":"https://api.github.com/users/AlanCCBP/events{/privacy}","received_events_url":"https://api.github.com/users/AlanCCBP/received_events","type":"User","site_admin":false},"created_at":"2020-01-17T20:04:41Z","updated_at":"2020-01-17T20:04:41Z","author_association":"NONE","body":"> @martin-g Did you find it out? having the same issue.\r\n> \r\n> **Update:** setting: ` - discovery.type=single-node` solved it for me.\r\n\r\nThis worked for me too! At least for the last 10 minutes.\r\n\r\nThis is a piece of my docker-compose.yaml version 2.2 file for ElasticSearch:\r\n\r\n```\r\n    environment:\r\n      - discovery.type=single-node\r\n```\r\n\r\nThank you very much!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/593061031","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-593061031","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":593061031,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzA2MTAzMQ==","user":{"login":"ly3too","id":12215788,"node_id":"MDQ6VXNlcjEyMjE1Nzg4","avatar_url":"https://avatars2.githubusercontent.com/u/12215788?v=4","gravatar_id":"","url":"https://api.github.com/users/ly3too","html_url":"https://github.com/ly3too","followers_url":"https://api.github.com/users/ly3too/followers","following_url":"https://api.github.com/users/ly3too/following{/other_user}","gists_url":"https://api.github.com/users/ly3too/gists{/gist_id}","starred_url":"https://api.github.com/users/ly3too/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ly3too/subscriptions","organizations_url":"https://api.github.com/users/ly3too/orgs","repos_url":"https://api.github.com/users/ly3too/repos","events_url":"https://api.github.com/users/ly3too/events{/privacy}","received_events_url":"https://api.github.com/users/ly3too/received_events","type":"User","site_admin":false},"created_at":"2020-03-01T06:12:45Z","updated_at":"2020-03-01T06:12:45Z","author_association":"NONE","body":"sysctl -w vm.max_map_count=262144\r\nthis solves my problem","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/595179261","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-595179261","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":595179261,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTE3OTI2MQ==","user":{"login":"asomir","id":16121607,"node_id":"MDQ6VXNlcjE2MTIxNjA3","avatar_url":"https://avatars0.githubusercontent.com/u/16121607?v=4","gravatar_id":"","url":"https://api.github.com/users/asomir","html_url":"https://github.com/asomir","followers_url":"https://api.github.com/users/asomir/followers","following_url":"https://api.github.com/users/asomir/following{/other_user}","gists_url":"https://api.github.com/users/asomir/gists{/gist_id}","starred_url":"https://api.github.com/users/asomir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asomir/subscriptions","organizations_url":"https://api.github.com/users/asomir/orgs","repos_url":"https://api.github.com/users/asomir/repos","events_url":"https://api.github.com/users/asomir/events{/privacy}","received_events_url":"https://api.github.com/users/asomir/received_events","type":"User","site_admin":false},"created_at":"2020-03-05T11:23:27Z","updated_at":"2020-03-05T11:23:27Z","author_association":"NONE","body":"@ly3too that helped for me! thnx! ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/626699488","html_url":"https://github.com/elastic/elasticsearch/issues/25067#issuecomment-626699488","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25067","id":626699488,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjY5OTQ4OA==","user":{"login":"panda8899repo","id":49233414,"node_id":"MDQ6VXNlcjQ5MjMzNDE0","avatar_url":"https://avatars3.githubusercontent.com/u/49233414?v=4","gravatar_id":"","url":"https://api.github.com/users/panda8899repo","html_url":"https://github.com/panda8899repo","followers_url":"https://api.github.com/users/panda8899repo/followers","following_url":"https://api.github.com/users/panda8899repo/following{/other_user}","gists_url":"https://api.github.com/users/panda8899repo/gists{/gist_id}","starred_url":"https://api.github.com/users/panda8899repo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panda8899repo/subscriptions","organizations_url":"https://api.github.com/users/panda8899repo/orgs","repos_url":"https://api.github.com/users/panda8899repo/repos","events_url":"https://api.github.com/users/panda8899repo/events{/privacy}","received_events_url":"https://api.github.com/users/panda8899repo/received_events","type":"User","site_admin":false},"created_at":"2020-05-11T13:24:12Z","updated_at":"2020-05-11T13:24:12Z","author_association":"NONE","body":"vim /etc/sysctl.conf\r\n\r\nvm.max_map_count=262144\r\n\r\n #Add this line in the lastline of the file it workked for me to start elasticsearch\r\n","performed_via_github_app":null}]