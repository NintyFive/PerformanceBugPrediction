[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/154185578","html_url":"https://github.com/elastic/elasticsearch/issues/14566#issuecomment-154185578","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14566","id":154185578,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NDE4NTU3OA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-11-05T20:47:29Z","updated_at":"2015-11-05T20:47:29Z","author_association":"MEMBER","body":"This needs to stay an exact equality check. ttl and long are not exactly the same. They could have different underlying field type settings available. The data types of fields must be exactly identical across document types.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/154212232","html_url":"https://github.com/elastic/elasticsearch/issues/14566#issuecomment-154212232","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14566","id":154212232,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NDIxMjIzMg==","user":{"login":"rileytj","id":7654248,"node_id":"MDQ6VXNlcjc2NTQyNDg=","avatar_url":"https://avatars0.githubusercontent.com/u/7654248?v=4","gravatar_id":"","url":"https://api.github.com/users/rileytj","html_url":"https://github.com/rileytj","followers_url":"https://api.github.com/users/rileytj/followers","following_url":"https://api.github.com/users/rileytj/following{/other_user}","gists_url":"https://api.github.com/users/rileytj/gists{/gist_id}","starred_url":"https://api.github.com/users/rileytj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rileytj/subscriptions","organizations_url":"https://api.github.com/users/rileytj/orgs","repos_url":"https://api.github.com/users/rileytj/repos","events_url":"https://api.github.com/users/rileytj/events{/privacy}","received_events_url":"https://api.github.com/users/rileytj/received_events","type":"User","site_admin":false},"created_at":"2015-11-05T22:15:05Z","updated_at":"2015-11-05T22:24:32Z","author_association":"NONE","body":"I understand what you are implying but...\n\nIf this method stays exactly as it's written, one could never submit a TTL value in the form {\"_ttl\": 1000}. In this example the value is a type long but the field class does not align.\n\nhttp://stackoverflow.com/questions/4989818/instanceof-vs-getclass\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/154215208","html_url":"https://github.com/elastic/elasticsearch/issues/14566#issuecomment-154215208","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14566","id":154215208,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NDIxNTIwOA==","user":{"login":"ronlepper","id":13055650,"node_id":"MDQ6VXNlcjEzMDU1NjUw","avatar_url":"https://avatars0.githubusercontent.com/u/13055650?v=4","gravatar_id":"","url":"https://api.github.com/users/ronlepper","html_url":"https://github.com/ronlepper","followers_url":"https://api.github.com/users/ronlepper/followers","following_url":"https://api.github.com/users/ronlepper/following{/other_user}","gists_url":"https://api.github.com/users/ronlepper/gists{/gist_id}","starred_url":"https://api.github.com/users/ronlepper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ronlepper/subscriptions","organizations_url":"https://api.github.com/users/ronlepper/orgs","repos_url":"https://api.github.com/users/ronlepper/repos","events_url":"https://api.github.com/users/ronlepper/events{/privacy}","received_events_url":"https://api.github.com/users/ronlepper/received_events","type":"User","site_admin":false},"created_at":"2015-11-05T22:28:45Z","updated_at":"2015-11-05T22:28:45Z","author_association":"NONE","body":"I'm having a similar problem after upgrading my test suite to use the elasticsearch 2.0 jars.  So how would you necessarily set TTLFieldType so that is not a long field type?  Would it need to be in timestamp form?  \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/154219853","html_url":"https://github.com/elastic/elasticsearch/issues/14566#issuecomment-154219853","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14566","id":154219853,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NDIxOTg1Mw==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-11-05T22:45:34Z","updated_at":"2015-11-05T22:45:34Z","author_association":"MEMBER","body":"@rileytj That should not be the case, `_ttl` is a builtin field. The mapping is not dynamically added, so whether the value is passed as a string or a number in json, it should coerce to a number.\n\n@ronlepper Overriding the builtin `_ttl` field is not supported right now. If you need custom ttl behavior, you will need to implement this yourself. But TTL is generally a bad practice: use time-based indices instead.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/154236666","html_url":"https://github.com/elastic/elasticsearch/issues/14566#issuecomment-154236666","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14566","id":154236666,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NDIzNjY2Ng==","user":{"login":"rileytj","id":7654248,"node_id":"MDQ6VXNlcjc2NTQyNDg=","avatar_url":"https://avatars0.githubusercontent.com/u/7654248?v=4","gravatar_id":"","url":"https://api.github.com/users/rileytj","html_url":"https://github.com/rileytj","followers_url":"https://api.github.com/users/rileytj/followers","following_url":"https://api.github.com/users/rileytj/following{/other_user}","gists_url":"https://api.github.com/users/rileytj/gists{/gist_id}","starred_url":"https://api.github.com/users/rileytj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rileytj/subscriptions","organizations_url":"https://api.github.com/users/rileytj/orgs","repos_url":"https://api.github.com/users/rileytj/repos","events_url":"https://api.github.com/users/rileytj/events{/privacy}","received_events_url":"https://api.github.com/users/rileytj/received_events","type":"User","site_admin":false},"created_at":"2015-11-05T23:54:58Z","updated_at":"2015-11-05T23:55:05Z","author_association":"NONE","body":"See https://github.com/elastic/elasticsearch/issues/11882\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/233929011","html_url":"https://github.com/elastic/elasticsearch/issues/14566#issuecomment-233929011","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14566","id":233929011,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMzkyOTAxMQ==","user":{"login":"Rajind","id":5234766,"node_id":"MDQ6VXNlcjUyMzQ3NjY=","avatar_url":"https://avatars0.githubusercontent.com/u/5234766?v=4","gravatar_id":"","url":"https://api.github.com/users/Rajind","html_url":"https://github.com/Rajind","followers_url":"https://api.github.com/users/Rajind/followers","following_url":"https://api.github.com/users/Rajind/following{/other_user}","gists_url":"https://api.github.com/users/Rajind/gists{/gist_id}","starred_url":"https://api.github.com/users/Rajind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rajind/subscriptions","organizations_url":"https://api.github.com/users/Rajind/orgs","repos_url":"https://api.github.com/users/Rajind/repos","events_url":"https://api.github.com/users/Rajind/events{/privacy}","received_events_url":"https://api.github.com/users/Rajind/received_events","type":"User","site_admin":false},"created_at":"2016-07-20T11:58:55Z","updated_at":"2016-07-20T11:58:55Z","author_association":"NONE","body":"I'm getting this exception on field ttl. how can i fix this ? I'm on 2.3\n\n```\nMapperParsingException[failed to parse]; nested: IllegalStateException[Mixing up field types: class org.elasticsearch.index.mapper.core.LongFieldMapper$LongFieldType != class org.elasticsearch.index.mapper.internal.TTLFieldMapper$TTLFieldType on field _ttl];\nat org.elasticsearch.index.mapper.DocumentParser.parseDocument(DocumentParser.java:154)\nat org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:309)\nat org.elasticsearch.index.shard.IndexShard.prepareCreate(IndexShard.java:529)\nat org.elasticsearch.index.shard.IndexShard.prepareCreateOnPrimary(IndexShard.java:506)\nat org.elasticsearch.action.index.TransportIndexAction.prepareIndexOperationOnPrimary(TransportIndexAction.java:215)\nat org.elasticsearch.action.index.TransportIndexAction.executeIndexRequestOnPrimary(TransportIndexAction.java:224)\nat org.elasticsearch.action.bulk.TransportShardBulkAction.shardIndexOperation(TransportShardBulkAction.java:326)\nat org.elasticsearch.action.bulk.TransportShardBulkAction.shardOperationOnPrimary(TransportShardBulkAction.java:119)\nat org.elasticsearch.action.bulk.TransportShardBulkAction.shardOperationOnPrimary(TransportShardBulkAction.java:68)\nat org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryPhase.doRun(TransportReplicationAction.java:639)\nat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\nat org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:279)\nat org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:271)\nat org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)\nat org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)\nat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\nat java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.IllegalStateException: Mixing up field types: class org.elasticsearch.index.mapper.core.LongFieldMapper$LongFieldType != class org.elasticsearch.index.mapper.internal.TTLFieldMapper$TTLFieldType on field _ttl\n    at org.elasticsearch.index.mapper.FieldMapper.updateFieldType(FieldMapper.java:397)\n    at org.elasticsearch.index.mapper.FieldMapper.updateFieldType(FieldMapper.java:53)\n    at org.elasticsearch.index.mapper.DocumentParser.parseDynamicValue(DocumentParser.java:622)\n    at org.elasticsearch.index.mapper.DocumentParser.parseValue(DocumentParser.java:442)\n    at org.elasticsearch.index.mapper.DocumentParser.parseObject(DocumentParser.java:262)\n    at org.elasticsearch.index.mapper.DocumentParser.parseDocument(DocumentParser.java:122)\n    ... 18 more\n```\n","performed_via_github_app":null}]