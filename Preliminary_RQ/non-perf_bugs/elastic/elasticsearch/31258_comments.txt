[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396436881","html_url":"https://github.com/elastic/elasticsearch/issues/31258#issuecomment-396436881","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31258","id":396436881,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjQzNjg4MQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-06-12T01:30:28Z","updated_at":"2018-06-12T01:30:28Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search-aggs","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396894964","html_url":"https://github.com/elastic/elasticsearch/issues/31258#issuecomment-396894964","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31258","id":396894964,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Njg5NDk2NA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-06-13T10:45:27Z","updated_at":"2018-06-13T10:45:27Z","author_association":"MEMBER","body":"We have reverted the Netty upgrade (#31282, netty/netty#8017) so now I think we should find a way to not need thread leak control here at all.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/397440302","html_url":"https://github.com/elastic/elasticsearch/issues/31258#issuecomment-397440302","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31258","id":397440302,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzQ0MDMwMg==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2018-06-14T21:13:48Z","updated_at":"2018-06-14T21:13:48Z","author_association":"MEMBER","body":"I'm inclined to just delete all of `RollupIT`.  \r\n\r\nThe actual utility of these tests have degraded over time to account for variance... they were supposed to test a end-to-end run and check for accuracy.  But this is hard to check algorithmically, especially once doubles get involved.  So it's mostly just verifying doc counts now, which we are doing in unit tests elsewhere.\r\n\r\nIt is also flaky, with some transient failures (https://github.com/elastic/elasticsearch/issues/30232). I'm fairly certain are related to tests running over physical midnight -- which changes doc counts slightly -- but I haven't been able to reproduce yet.\r\n\r\nIt feels like chasing a flaky IT isn't the best use of time (I'm sure @rjernst won't mind deleting an IT :P ).  `testBig` is the only one of semi-value... the other tests have since been replicated in yaml tests.\r\n\r\n@colings86 do you have any thoughts?  Mind if I just remove this whole test suite?  If we see value in this sort of test, I'm still inclined to delete it and redo it better as a QA test.","performed_via_github_app":null}]