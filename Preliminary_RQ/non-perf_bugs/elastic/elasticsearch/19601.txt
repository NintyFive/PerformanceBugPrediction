{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/19601","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19601/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19601/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19601/events","html_url":"https://github.com/elastic/elasticsearch/issues/19601","id":167642539,"node_id":"MDU6SXNzdWUxNjc2NDI1Mzk=","number":19601,"title":"Sub Processors within processors like Foreach are not exposed in _simulate?verbose","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"labels":[{"id":268963484,"node_id":"MDU6TGFiZWwyNjg5NjM0ODQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Ingest","name":":Core/Features/Ingest","color":"0e8a16","default":false,"description":"Execution or management of Ingest Pipelines"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-07-26T15:50:48Z","updated_at":"2018-03-15T15:13:56Z","closed_at":"2018-03-15T15:13:55Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"from an offline discussion with @BigFunger around tracing nested processor behavior within a `foreach` processor.\n\n**story of what works:**\nThe purpose of the `verbose` flag in the simulate API is to expose the behavior of each processor that is executed in the pipeline. This is working correctly for top-level processors as well as nested processors in the `on_failure` block.\n\n**story of what breaks:**\nThe foreach processor is currently the only processor that has nested processors executed outside of the `on_failure` block. These processors are not tracked in verbose simulate responses and make it difficult to debug and trace the evolution of the document.\n\n**what should be done:**\nThe Processor API should be updated to make it possible for processors to declare any nested processors that are executed so that the Simulate API can use such an API to keep track of all executed processors and return their results back to the user. Currently, this only affects the Foreach Processor, but further processors wrapping other processors are expected (e.g. a switch-statement-like processor).\n","closed_by":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"performed_via_github_app":null}