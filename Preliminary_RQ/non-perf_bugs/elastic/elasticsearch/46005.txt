{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/46005","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46005/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46005/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46005/events","html_url":"https://github.com/elastic/elasticsearch/issues/46005","id":485498481,"node_id":"MDU6SXNzdWU0ODU0OTg0ODE=","number":46005,"title":"Migrate bats tests to java","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"labels":[{"id":114977275,"node_id":"MDU6TGFiZWwxMTQ5NzcyNzU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Packaging","name":":Delivery/Packaging","color":"0e8a16","default":false,"description":"RPM and deb packaging, tar and zip archives, shell and batch scripts"},{"id":158399402,"node_id":"MDU6TGFiZWwxNTgzOTk0MDI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Meta","name":"Meta","color":"e11d21","default":false,"description":null},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-08-26T23:13:56Z","updated_at":"2020-11-11T22:03:41Z","closed_at":"2020-08-03T23:31:32Z","author_association":"MEMBER","active_lock_reason":null,"body":"The bats tests were the original packaging tests, allowing our distributions to be tested on each supported system through vagrant. However, the bats was difficult to write for, and is unmaintained. Writing bats tests was deprecated last year with the addition of the java packaging tests.\r\n\r\nThis is a meta issue to migrate the remaining bats tests to java. It is a spin off from #32143.\r\n\r\noss bats tests (`qa/os/bats/oss`):\r\n\r\n- [x] 70_sysv_initd.bats -  tests for installation with sysvinit\r\n\r\ndefault distribution bats tests (`qa/os/bats/default`):\r\n- [x] 10_basic.bats - smoke tests. everything in here except for testing bin/elasticsearch-croneval is already covered in ported tests\r\n- [x] 20_tar_bootstrap_password.bats and 25_package_bootstrap_password.bats - tests we can set bootstrap.password and that sql-cli handles it - these should be combined into one test case\r\n- [x] 30_tar_setup_password.bats and 35_package_setup_password.bats - tests bin/elasticsearch-setup-passwords - these should be combined into one test case\r\n- [x] 40_tar_certgen.bats and 45_package_certgen.bats - tests for ssl certificates - these should be combined into one test case\r\n\r\nplugin bats tests (`qa/os/bats/plugins`):\r\n- [x] 25_tar_plugins.bats and 50_modules_and_plugins.bats - tests plugins can be installed, these are the same for tar vs. packages and should be combined into a single test case\r\n\r\nupgrade bats tests (`qa/os/bats/upgrade`):\r\n- [ ] 80_upgrade.bats - tests that the package can be upgraded","closed_by":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"performed_via_github_app":null}