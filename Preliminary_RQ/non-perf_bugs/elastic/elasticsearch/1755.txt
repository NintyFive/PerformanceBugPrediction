{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1755","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1755/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1755/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1755/events","html_url":"https://github.com/elastic/elasticsearch/issues/1755","id":3488041,"node_id":"MDU6SXNzdWUzNDg4MDQx","number":1755,"title":"Mappings defined at index creation time in YAML are ignored","user":{"login":"yannk","id":40152,"node_id":"MDQ6VXNlcjQwMTUy","avatar_url":"https://avatars1.githubusercontent.com/u/40152?v=4","gravatar_id":"","url":"https://api.github.com/users/yannk","html_url":"https://github.com/yannk","followers_url":"https://api.github.com/users/yannk/followers","following_url":"https://api.github.com/users/yannk/following{/other_user}","gists_url":"https://api.github.com/users/yannk/gists{/gist_id}","starred_url":"https://api.github.com/users/yannk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yannk/subscriptions","organizations_url":"https://api.github.com/users/yannk/orgs","repos_url":"https://api.github.com/users/yannk/repos","events_url":"https://api.github.com/users/yannk/events{/privacy}","received_events_url":"https://api.github.com/users/yannk/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2012-03-03T06:12:16Z","updated_at":"2017-04-14T06:43:24Z","closed_at":"2014-07-08T14:25:47Z","author_association":"NONE","active_lock_reason":null,"body":"According to documentation I would have assumed that creation of mappings work in YAML too (since the first example on that page uses it):\nhttp://www.elasticsearch.org/guide/reference/api/admin-indices-create-index.html\n\nIn JSON, it works as expected:\n```curl -XPUT $SERVER/$INDEX/ -d '\n{\n    \"settings\": {\n        \"number_of_shards\": 1,\n        \"number_of_replicas\": 0\n    },\n    \"content\": {  \n        \"properties\": {  \n             \"exact\": {\n                \"index\": \"not_analyzed\",\n                \"type\": \"string\"\n            }\n        }\n    }\n}\n\n```\n\nBut, the following doesn't work:\n```\n\ncurl -XPUT $SERVER/$INDEX/ -d '\nsettings:\n        number_of_shards: 1\n        number_of_replicas: 0\nmappings:\n    content:\n        properties:\n            exact:\n                index: not_analyzed\n                type: string\n'\n\n```\n\nBelow is my indexing and searching setup:\n```\n\ncurl -XPUT $SERVER/$INDEX/content/1 -d '  \n{\"exact\": \"The Field\", \"title\": \"one\" }  \n'  \ncurl -XPUT $SERVER/$INDEX/content/2 -d '  \n{\"exact\": \"Astro Nomical\", \"title\": \"The second title\" }  \n'                                                                                         \n\ncurl -XPOST $SERVER/$INDEX/_refresh                                                       \n\ncurl -XPOST $SERVER/$INDEX/content/_search -d '  \n{  \n  \"query\": {  \n    \"filtered\": {  \n      \"filter\": {  \n        \"term\": {  \n          \"exact\": \"The Field\"  \n        }  \n      },  \n      \"query\": {  \n        \"match_all\": {}  \n      } \n    }  \n  }  \n} \n'\n\n```\n\ntested with 0.18 and 0.19.\nSorry for formatting. Github Markdown seems broken.\n```\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}