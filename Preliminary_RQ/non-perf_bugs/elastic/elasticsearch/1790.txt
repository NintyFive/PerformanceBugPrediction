{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1790","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1790/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1790/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1790/events","html_url":"https://github.com/elastic/elasticsearch/issues/1790","id":3691309,"node_id":"MDU6SXNzdWUzNjkxMzA5","number":1790,"title":"RemoteTransportException with _mget and 0.18.7","user":{"login":"erickt","id":84711,"node_id":"MDQ6VXNlcjg0NzEx","avatar_url":"https://avatars3.githubusercontent.com/u/84711?v=4","gravatar_id":"","url":"https://api.github.com/users/erickt","html_url":"https://github.com/erickt","followers_url":"https://api.github.com/users/erickt/followers","following_url":"https://api.github.com/users/erickt/following{/other_user}","gists_url":"https://api.github.com/users/erickt/gists{/gist_id}","starred_url":"https://api.github.com/users/erickt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erickt/subscriptions","organizations_url":"https://api.github.com/users/erickt/orgs","repos_url":"https://api.github.com/users/erickt/repos","events_url":"https://api.github.com/users/erickt/events{/privacy}","received_events_url":"https://api.github.com/users/erickt/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2012-03-17T00:14:06Z","updated_at":"2013-07-05T09:49:12Z","closed_at":"2013-07-05T09:49:12Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"I'm running into a RemoteTransportException between a 0.18.7 node.client and a server. Here's a reduction of the problem:\n\n% curl -XPOST \"http://localhost:9200/test/test/1\" -d '{}'\n{\"ok\":true,\"_index\":\"test\",\"_type\":\"test\",\"_id\":\"1\",\"_version\":1}\n% curl -XPOST \"http://localhost:9200/test/_mget?pretty=true\" -d '{\"docs\":[{\"_id\":\"1\"},{\"_id\":\"2\"}]}'\n{\n  \"docs\" : [ {\n    \"_index\" : \"test\",\n    \"_type\" : \"test\",\n    \"_id\" : \"1\",\n    \"_version\" : 1,\n    \"exists\" : true, \"_source\" : {}\n  }, {\n    \"_index\" : \"test\",\n    \"_type\": null,\n    \"_id\" : \"b-1\",\n    \"error\" : \"RemoteTransportException[[<master>][inet[/<ipaddress>:9300]][indices/mget/shard/s]]; nested: \"\n  } ]\n}\n\nThe client ES node throws this exception:\n\n[2012-03-16 23:49:10,416][DEBUG][action.get               ] [Atum] Index Shard [test][3]: Failed to execute [org.elasticsearch.action.get.MultiGetShardRequest@61735602]\norg.elasticsearch.transport.RemoteTransportException: [Mojo][inet[/<ipaddress>:9300]][indices/mget/shard/s]\nCaused by: java.lang.NullPointerException\n    at org.elasticsearch.common.io.stream.HandlesStreamOutput.writeUTF(HandlesStreamOutput.java:54)\n    at org.elasticsearch.index.get.GetResult.writeTo(GetResult.java:326)\n    at org.elasticsearch.action.get.GetResponse.writeTo(GetResponse.java:190)\n    at org.elasticsearch.action.get.MultiGetShardResponse.writeTo(MultiGetShardResponse.java:85)\n    at org.elasticsearch.transport.support.TransportStreams.buildResponse(TransportStreams.java:136)\n    at org.elasticsearch.transport.netty.NettyTransportChannel.sendResponse(NettyTransportChannel.java:74)\n    at org.elasticsearch.transport.netty.NettyTransportChannel.sendResponse(NettyTransportChannel.java:66)\n    at org.elasticsearch.action.support.single.shard.TransportShardSingleOperationAction$ShardTransportHandler.messageReceived(TransportShardSingleOperationAction.java:237)\n    at org.elasticsearch.action.support.single.shard.TransportShardSingleOperationAction$ShardTransportHandler.messageReceived(TransportShardSingleOperationAction.java:225)\n    at org.elasticsearch.transport.netty.MessageChannelHandler$RequestHandler.run(MessageChannelHandler.java:358)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n    at java.lang.Thread.run(Thread.java:636)\n\nI think this is pretty much the same issue as #1770, and hopefully will be solved just as simply. Also, is there any chance a fix could land in a 0.18.8 release? I can't transition to the 0.19.x series yet. Thanks!\n","closed_by":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"performed_via_github_app":null}