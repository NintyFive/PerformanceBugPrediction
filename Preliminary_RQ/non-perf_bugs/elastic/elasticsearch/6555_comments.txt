[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/49886406","html_url":"https://github.com/elastic/elasticsearch/issues/6555#issuecomment-49886406","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6555","id":49886406,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODg2NDA2","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2014-07-23T15:04:07Z","updated_at":"2014-07-23T15:04:07Z","author_association":"CONTRIBUTOR","body":"@nedcampion did you upgrade in the meanwhile and did this occur again?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50152415","html_url":"https://github.com/elastic/elasticsearch/issues/6555#issuecomment-50152415","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6555","id":50152415,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTUyNDE1","user":{"login":"nedcampion","id":15587,"node_id":"MDQ6VXNlcjE1NTg3","avatar_url":"https://avatars3.githubusercontent.com/u/15587?v=4","gravatar_id":"","url":"https://api.github.com/users/nedcampion","html_url":"https://github.com/nedcampion","followers_url":"https://api.github.com/users/nedcampion/followers","following_url":"https://api.github.com/users/nedcampion/following{/other_user}","gists_url":"https://api.github.com/users/nedcampion/gists{/gist_id}","starred_url":"https://api.github.com/users/nedcampion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nedcampion/subscriptions","organizations_url":"https://api.github.com/users/nedcampion/orgs","repos_url":"https://api.github.com/users/nedcampion/repos","events_url":"https://api.github.com/users/nedcampion/events{/privacy}","received_events_url":"https://api.github.com/users/nedcampion/received_events","type":"User","site_admin":false},"created_at":"2014-07-25T13:57:44Z","updated_at":"2014-07-25T13:57:44Z","author_association":"NONE","body":"I did upgrade to 1.2.1.  We still get unassigned shards occasionally, though it does seem less often. Below is it just happening earlier today. It seems it may be related to opening a closed index. Not sure if we are provoking a situation where a segment file would go missing or if this is a bug. We'll be doing the 1.3 upgrade in the near future so I can post back after that upgrade and some time has elapsed to further observe.\n\nHere's the example (following  `1625_2014_15`). I see this line:\n\n```\n[2014-07-25 13:26:04,941][INFO ][cluster.metadata         ] [prod-app1] opening indices [[1625_2014_15, 1625_2014_13, 1625_2014_12, 1625_2014_08, 1625_2014_07, 1625_2014_09, 1625_2014_11, 1625_2014_10]]\n```\n\nAnd then shortly after:\n\n```\n[2014-07-25 13:26:06,091][WARN ][cluster.action.shard     ] [prod-app1] [1625_2014_15][1] received shard failed for [1625_2014_15][1], node[yfzRHgBKS2mNEdWAjfK13g], [P], s[INITIALIZING], indexUUID [iK73ROyYQbOyoiMHTvHMMQ], reason [Failed to start shard, message [IndexShardGatewayRecoveryException[[1625_2014_15][1] failed to fetch index version after copying it over]; nested: IndexShardGatewayRecoveryException[[1625_2014_15][1] shard allocated for local recovery (post api), should exist, but doesn't, current files: [_checksums-1398718632101, segments.gen]]; nested: FileNotFoundException[segments_4]; ]]\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96986378","html_url":"https://github.com/elastic/elasticsearch/issues/6555#issuecomment-96986378","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6555","id":96986378,"node_id":"MDEyOklzc3VlQ29tbWVudDk2OTg2Mzc4","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-04-28T09:22:59Z","updated_at":"2015-04-28T09:22:59Z","author_association":"CONTRIBUTOR","body":"long time no feedback and I assume this is fixed with shard locks in newer version... closing for now\n","performed_via_github_app":null}]