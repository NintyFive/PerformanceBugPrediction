{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/8567","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8567/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8567/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8567/events","html_url":"https://github.com/elastic/elasticsearch/issues/8567","id":49542792,"node_id":"MDU6SXNzdWU0OTU0Mjc5Mg==","number":8567,"title":"Switched back to using 1.35, but getting Lucene NoSuchDirectoryException: pointing at directory under 1.4 install now deleted.","user":{"login":"Analect","id":4063815,"node_id":"MDQ6VXNlcjQwNjM4MTU=","avatar_url":"https://avatars2.githubusercontent.com/u/4063815?v=4","gravatar_id":"","url":"https://api.github.com/users/Analect","html_url":"https://github.com/Analect","followers_url":"https://api.github.com/users/Analect/followers","following_url":"https://api.github.com/users/Analect/following{/other_user}","gists_url":"https://api.github.com/users/Analect/gists{/gist_id}","starred_url":"https://api.github.com/users/Analect/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Analect/subscriptions","organizations_url":"https://api.github.com/users/Analect/orgs","repos_url":"https://api.github.com/users/Analect/repos","events_url":"https://api.github.com/users/Analect/events{/privacy}","received_events_url":"https://api.github.com/users/Analect/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2014-11-20T12:50:09Z","updated_at":"2014-11-24T13:54:58Z","closed_at":"2014-11-24T13:54:58Z","author_association":"NONE","active_lock_reason":null,"body":"My ES installation is just a single node on localhost.\nI've been experimenting (more like grinding teeth) with both mongodb_river and mongo-connector to try to get attachments/files indexed into ES. All this was previously working with ES 1.3.1 and Mongo 2.4.11.  Tried getting it running using a ES 1.4.0 / Mongo 2.6.5 combination, but facing same issues as reported here: https://github.com/richardwilly98/elasticsearch-river-mongodb/issues/412\nThen tried moving back to ES 1.3.5 with requisite installs for mapper-attachment and river_mongodb, but now not even able to open the 'head' plugin (although I can see that ES has started). Part of the error is reproduced below. Why would an ES 1.3.5 installation reference a _river from my ES 1.4.0 data directory? I shut down the mongodb replicaset thinking that maybe that was the source of the problem ... but ES 1.3.5 is still not available to the head plugin because of this lucene NoSuchDirectoryException.\n\nAny thoughts? Thanks.\n\n[2014-11-20 04:38:22,503][DEBUG][action.admin.cluster.node.stats] [Diamond Lil] failed to execute on node [V3oubzV6THmie2DR5LSReg]\norg.elasticsearch.transport.RemoteTransportException: [DJ][inet[/10.211.55.6:9300]][cluster/nodes/stats/n]\nCaused by: org.elasticsearch.ElasticsearchException: io exception while building 'store stats'\n    at org.elasticsearch.index.shard.service.InternalIndexShard.storeStats(InternalIndexShard.java:542)\n    at org.elasticsearch.action.admin.indices.stats.CommonStats.<init>(CommonStats.java:134)\n    at org.elasticsearch.action.admin.indices.stats.ShardStats.<init>(ShardStats.java:49)\n    at org.elasticsearch.indices.InternalIndicesService.stats(InternalIndicesService.java:212)\n    at org.elasticsearch.node.service.NodeService.stats(NodeService.java:156)\n    at org.elasticsearch.action.admin.cluster.node.stats.TransportNodesStatsAction.nodeOperation(TransportNodesStatsAction.java:96)\n    at org.elasticsearch.action.admin.cluster.node.stats.TransportNodesStatsAction.nodeOperation(TransportNodesStatsAction.java:44)\n    at org.elasticsearch.action.support.nodes.TransportNodesOperationAction$NodeTransportHandler.messageReceived(TransportNodesOperationAction.java:278)\n    at org.elasticsearch.action.support.nodes.TransportNodesOperationAction$NodeTransportHandler.messageReceived(TransportNodesOperationAction.java:269)\n    at org.elasticsearch.transport.netty.MessageChannelHandler$RequestHandler.run(MessageChannelHandler.java:275)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\nCaused by: org.apache.lucene.store.NoSuchDirectoryException: directory '/home/mccoole/Development/Tools/ES/elasticsearch-1.4.0/data/elasticsearch/nodes/0/indices/_river/0/index' does not exist\n    at org.apache.lucene.store.FSDirectory.listAll(FSDirectory.java:218)\n    at org.apache.lucene.store.FSDirectory.listAll(FSDirectory.java:242)\n    at org.apache.lucene.store.FileSwitchDirectory.listAll(FileSwitchDirectory.java:87)\n    at org.apache.lucene.store.FilterDirectory.listAll(FilterDirectory.java:48)\n    at org.elasticsearch.index.store.DistributorDirectory.listAll(DistributorDirectory.java:88)\n    at org.apache.lucene.store.FilterDirectory.listAll(FilterDirectory.java:48)\n    at org.elasticsearch.common.lucene.Directories.estimateSize(Directories.java:40)\n    at org.elasticsearch.index.store.Store.stats(Store.java:213)\n    at org.elasticsearch.index.shard.service.InternalIndexShard.storeStats(InternalIndexShard.java:540)\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}