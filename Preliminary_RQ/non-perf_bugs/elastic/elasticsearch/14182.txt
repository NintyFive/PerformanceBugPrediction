{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/14182","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14182/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14182/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14182/events","html_url":"https://github.com/elastic/elasticsearch/issues/14182","id":112076308,"node_id":"MDU6SXNzdWUxMTIwNzYzMDg=","number":14182,"title":"extended_stats aggregations returning the same value for max and avg","user":{"login":"ryanrozich","id":3526287,"node_id":"MDQ6VXNlcjM1MjYyODc=","avatar_url":"https://avatars3.githubusercontent.com/u/3526287?v=4","gravatar_id":"","url":"https://api.github.com/users/ryanrozich","html_url":"https://github.com/ryanrozich","followers_url":"https://api.github.com/users/ryanrozich/followers","following_url":"https://api.github.com/users/ryanrozich/following{/other_user}","gists_url":"https://api.github.com/users/ryanrozich/gists{/gist_id}","starred_url":"https://api.github.com/users/ryanrozich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryanrozich/subscriptions","organizations_url":"https://api.github.com/users/ryanrozich/orgs","repos_url":"https://api.github.com/users/ryanrozich/repos","events_url":"https://api.github.com/users/ryanrozich/events{/privacy}","received_events_url":"https://api.github.com/users/ryanrozich/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-10-19T05:40:44Z","updated_at":"2015-10-19T05:53:17Z","closed_at":"2015-10-19T05:53:17Z","author_association":"NONE","active_lock_reason":null,"body":"running 2.0-rc1\n\nqueries return several extended_stats aggregations on various numeric fields. All of the aggregations returned have the same value for max and avg on every extended_stats aggregation returned. This is true when running both top-level aggregations and nested aggregations.\n\nI assume max=avg is only mathematically possible if all values are the same; however, max != min and stdev has non-zero value so assuming that this is a bug. See below for an example of one aggregation:\n\n``` json\navg: 1411.9246253746253\ncount: 20020\nmax: 1411.9246253746253\nmin: 0\nstdDeviation: 8944.30792726666\nstdDeviationLowerBound: -16476.691229158696\nstdDeviationUpperBound: 19300.540479907944\nsum: 28266731\nsumOfSquares: 1641523392419\nvariance: 80000644.29776523\n```\n","closed_by":{"login":"ryanrozich","id":3526287,"node_id":"MDQ6VXNlcjM1MjYyODc=","avatar_url":"https://avatars3.githubusercontent.com/u/3526287?v=4","gravatar_id":"","url":"https://api.github.com/users/ryanrozich","html_url":"https://github.com/ryanrozich","followers_url":"https://api.github.com/users/ryanrozich/followers","following_url":"https://api.github.com/users/ryanrozich/following{/other_user}","gists_url":"https://api.github.com/users/ryanrozich/gists{/gist_id}","starred_url":"https://api.github.com/users/ryanrozich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryanrozich/subscriptions","organizations_url":"https://api.github.com/users/ryanrozich/orgs","repos_url":"https://api.github.com/users/ryanrozich/repos","events_url":"https://api.github.com/users/ryanrozich/events{/privacy}","received_events_url":"https://api.github.com/users/ryanrozich/received_events","type":"User","site_admin":false},"performed_via_github_app":null}