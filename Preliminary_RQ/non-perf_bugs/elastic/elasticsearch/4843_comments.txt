[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33009257","html_url":"https://github.com/elastic/elasticsearch/issues/4843#issuecomment-33009257","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4843","id":33009257,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDA5MjU3","user":{"login":"uboness","id":211019,"node_id":"MDQ6VXNlcjIxMTAxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/211019?v=4","gravatar_id":"","url":"https://api.github.com/users/uboness","html_url":"https://github.com/uboness","followers_url":"https://api.github.com/users/uboness/followers","following_url":"https://api.github.com/users/uboness/following{/other_user}","gists_url":"https://api.github.com/users/uboness/gists{/gist_id}","starred_url":"https://api.github.com/users/uboness/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uboness/subscriptions","organizations_url":"https://api.github.com/users/uboness/orgs","repos_url":"https://api.github.com/users/uboness/repos","events_url":"https://api.github.com/users/uboness/events{/privacy}","received_events_url":"https://api.github.com/users/uboness/received_events","type":"User","site_admin":false},"created_at":"2014-01-22T10:27:13Z","updated_at":"2014-01-22T10:27:13Z","author_association":"CONTRIBUTOR","body":"@cmaitchison\n\nI can't really reproduce it, I ran the same queries as you and I get the right responses. What es version are you working with? we introduced `min_doc_count` on `1.0.0.RC1`\n\n> There is also an issue even when the empty days are returned correctly without the filter. If, for example, today is \"2014-01-22\", and the latest timestamp in my data is \"2014-01-17\", then the 5 days between these two dates are not returned as empty buckets, though all the empty buckets prior to \"2014-01-17\" are returned correctly.\n\nthe gaps that are filled are based on the dates in the documents you're aggregating... so the first histogram bucket will be  based on the earliest date in the document set and the last bucket will be based on the latest date in the set... then we fill in all gaps between these two buckets.\n\nwe can consider adding a \"range\" settings to the histograms which will enable to define the value range (or date range in case of `date_histogram`) on which the buckets will be created. In your case, that'll mean that if you define a range of the form `\"range\": { \"to\" : \"now\" }` along with `\"min_doc_count\" : 0` we'll return all the empty buckets until `now` (beyond the dates in the document set)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33009587","html_url":"https://github.com/elastic/elasticsearch/issues/4843#issuecomment-33009587","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4843","id":33009587,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDA5NTg3","user":{"login":"uboness","id":211019,"node_id":"MDQ6VXNlcjIxMTAxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/211019?v=4","gravatar_id":"","url":"https://api.github.com/users/uboness","html_url":"https://github.com/uboness","followers_url":"https://api.github.com/users/uboness/followers","following_url":"https://api.github.com/users/uboness/following{/other_user}","gists_url":"https://api.github.com/users/uboness/gists{/gist_id}","starred_url":"https://api.github.com/users/uboness/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uboness/subscriptions","organizations_url":"https://api.github.com/users/uboness/orgs","repos_url":"https://api.github.com/users/uboness/repos","events_url":"https://api.github.com/users/uboness/events{/privacy}","received_events_url":"https://api.github.com/users/uboness/received_events","type":"User","site_admin":false},"created_at":"2014-01-22T10:31:54Z","updated_at":"2014-01-22T10:31:54Z","author_association":"CONTRIBUTOR","body":"@cmaitchison scratch that... I finally managed to reproduce it (it happens when you have a single shard)... will work on a fix\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33011343","html_url":"https://github.com/elastic/elasticsearch/issues/4843#issuecomment-33011343","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4843","id":33011343,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDExMzQz","user":{"login":"cmaitchison","id":653258,"node_id":"MDQ6VXNlcjY1MzI1OA==","avatar_url":"https://avatars3.githubusercontent.com/u/653258?v=4","gravatar_id":"","url":"https://api.github.com/users/cmaitchison","html_url":"https://github.com/cmaitchison","followers_url":"https://api.github.com/users/cmaitchison/followers","following_url":"https://api.github.com/users/cmaitchison/following{/other_user}","gists_url":"https://api.github.com/users/cmaitchison/gists{/gist_id}","starred_url":"https://api.github.com/users/cmaitchison/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cmaitchison/subscriptions","organizations_url":"https://api.github.com/users/cmaitchison/orgs","repos_url":"https://api.github.com/users/cmaitchison/repos","events_url":"https://api.github.com/users/cmaitchison/events{/privacy}","received_events_url":"https://api.github.com/users/cmaitchison/received_events","type":"User","site_admin":false},"created_at":"2014-01-22T10:53:55Z","updated_at":"2014-01-22T10:53:55Z","author_association":"NONE","body":"Wow, nice find! I would never have thought to have mentioned that.\n\n> On 22 Jan 2014, at 21:32, uboness notifications@github.com wrote:\n> \n> @cmaitchison scratch that... I finally managed to reproduce it (it happens when you have a single shard)... will work on a fix\n> \n> â€”\n> Reply to this email directly or view it on GitHub.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33097873","html_url":"https://github.com/elastic/elasticsearch/issues/4843#issuecomment-33097873","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4843","id":33097873,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk3ODcz","user":{"login":"cmaitchison","id":653258,"node_id":"MDQ6VXNlcjY1MzI1OA==","avatar_url":"https://avatars3.githubusercontent.com/u/653258?v=4","gravatar_id":"","url":"https://api.github.com/users/cmaitchison","html_url":"https://github.com/cmaitchison","followers_url":"https://api.github.com/users/cmaitchison/followers","following_url":"https://api.github.com/users/cmaitchison/following{/other_user}","gists_url":"https://api.github.com/users/cmaitchison/gists{/gist_id}","starred_url":"https://api.github.com/users/cmaitchison/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cmaitchison/subscriptions","organizations_url":"https://api.github.com/users/cmaitchison/orgs","repos_url":"https://api.github.com/users/cmaitchison/repos","events_url":"https://api.github.com/users/cmaitchison/events{/privacy}","received_events_url":"https://api.github.com/users/cmaitchison/received_events","type":"User","site_admin":false},"created_at":"2014-01-23T05:17:41Z","updated_at":"2014-01-23T05:17:41Z","author_association":"NONE","body":"Also related to this title, I've found that `min_doc_count=0` does not work if _all_ of the buckets would be empty after applying the filter. I can reproduce this issue on an index with 2 shards.\n\n```\n{\n  \"aggs\": {\n    \"filtered_events\": {\n      \"filter\": {\n        \"and\": [\n          {\n            \"range\": {\n              \"@timestamp\": {\n                \"from\": 1390267500000,\n                \"to\":   1390267560000\n              }\n            }\n          }\n        ]\n      },\n      \"aggs\": {\n        \"filtered_events_histogram\": {\n          \"date_histogram\": {\n            \"min_doc_count\": 0,\n            \"field\": \"@timestamp\",\n            \"interval\": \"1s\"\n          }\n        }\n      }\n    }\n  }\n}\n```\n\nThe above query should return 60 results, 1 for each second in the minute. If any events are found in that minute then 60 results are returned. If no events are found in that minute then 0 results are returned, when you would expect 60 empty buckets.\n\nMy use case is zooming in on a series on a chart. The zero value results are very helpful to know where to plot the zeros on the x-axis.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33099319","html_url":"https://github.com/elastic/elasticsearch/issues/4843#issuecomment-33099319","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4843","id":33099319,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk5MzE5","user":{"login":"cmaitchison","id":653258,"node_id":"MDQ6VXNlcjY1MzI1OA==","avatar_url":"https://avatars3.githubusercontent.com/u/653258?v=4","gravatar_id":"","url":"https://api.github.com/users/cmaitchison","html_url":"https://github.com/cmaitchison","followers_url":"https://api.github.com/users/cmaitchison/followers","following_url":"https://api.github.com/users/cmaitchison/following{/other_user}","gists_url":"https://api.github.com/users/cmaitchison/gists{/gist_id}","starred_url":"https://api.github.com/users/cmaitchison/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cmaitchison/subscriptions","organizations_url":"https://api.github.com/users/cmaitchison/orgs","repos_url":"https://api.github.com/users/cmaitchison/repos","events_url":"https://api.github.com/users/cmaitchison/events{/privacy}","received_events_url":"https://api.github.com/users/cmaitchison/received_events","type":"User","site_admin":false},"created_at":"2014-01-23T05:59:27Z","updated_at":"2014-01-23T05:59:27Z","author_association":"NONE","body":"Another related issue I am finding is that sometimes the intervals do not go back far enough.\n\n```\n{\n  \"aggs\": {\n    \"events_last_week\": {\n      \"filter\": {\n        \"and\": [\n          {\n            \"range\": {\n              \"@timestamp\": {\n                \"from\": 1390267432894,\n                \"to\": 1390267547037\n              }\n            }\n          }\n        ]\n      },\n      \"aggs\": {\n        \"events_last_week_histogram\": {\n          \"date_histogram\": {\n            \"min_doc_count\": 0,\n            \"field\": \"@timestamp\",\n            \"interval\": \"second\"\n          }\n        }\n      }\n    }\n  }\n}\n```\n\nreturns exactly\n\n```\n{\n  \"aggregations\": {\n    \"events_last_week\": {\n      \"doc_count\": 1099,\n      \"events_last_week_histogram\": [\n        {\n          \"key\": 1390267526000,\n          \"doc_count\": 12\n        },\n        {\n          \"key\": 1390267527000,\n          \"doc_count\": 0\n        },\n        {\n          \"key\": 1390267528000,\n          \"doc_count\": 29\n        },\n        {\n          \"key\": 1390267529000,\n          \"doc_count\": 32\n        },\n        {\n          \"key\": 1390267530000,\n          \"doc_count\": 58\n        },\n        {\n          \"key\": 1390267531000,\n          \"doc_count\": 64\n        },\n        {\n          \"key\": 1390267532000,\n          \"doc_count\": 35\n        },\n        {\n          \"key\": 1390267533000,\n          \"doc_count\": 36\n        },\n        {\n          \"key\": 1390267534000,\n          \"doc_count\": 43\n        },\n        {\n          \"key\": 1390267535000,\n          \"doc_count\": 52\n        },\n        {\n          \"key\": 1390267536000,\n          \"doc_count\": 58\n        },\n        {\n          \"key\": 1390267537000,\n          \"doc_count\": 62\n        },\n        {\n          \"key\": 1390267538000,\n          \"doc_count\": 76\n        },\n        {\n          \"key\": 1390267539000,\n          \"doc_count\": 70\n        },\n        {\n          \"key\": 1390267540000,\n          \"doc_count\": 53\n        },\n        {\n          \"key\": 1390267541000,\n          \"doc_count\": 72\n        },\n        {\n          \"key\": 1390267542000,\n          \"doc_count\": 81\n        },\n        {\n          \"key\": 1390267543000,\n          \"doc_count\": 48\n        },\n        {\n          \"key\": 1390267544000,\n          \"doc_count\": 88\n        },\n        {\n          \"key\": 1390267545000,\n          \"doc_count\": 45\n        },\n        {\n          \"key\": 1390267546000,\n          \"doc_count\": 83\n        },\n        {\n          \"key\": 1390267547000,\n          \"doc_count\": 2\n        }\n      ]\n    }\n  }\n}\n```\n\nBut it is missing all of the empty buckets between 1390267432894 and 1390267526000. Again, this is with a 2 shard index on 1.0.0RC1.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33134557","html_url":"https://github.com/elastic/elasticsearch/issues/4843#issuecomment-33134557","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4843","id":33134557,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM0NTU3","user":{"login":"uboness","id":211019,"node_id":"MDQ6VXNlcjIxMTAxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/211019?v=4","gravatar_id":"","url":"https://api.github.com/users/uboness","html_url":"https://github.com/uboness","followers_url":"https://api.github.com/users/uboness/followers","following_url":"https://api.github.com/users/uboness/following{/other_user}","gists_url":"https://api.github.com/users/uboness/gists{/gist_id}","starred_url":"https://api.github.com/users/uboness/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uboness/subscriptions","organizations_url":"https://api.github.com/users/uboness/orgs","repos_url":"https://api.github.com/users/uboness/repos","events_url":"https://api.github.com/users/uboness/events{/privacy}","received_events_url":"https://api.github.com/users/uboness/received_events","type":"User","site_admin":false},"created_at":"2014-01-23T15:41:03Z","updated_at":"2014-01-23T15:41:03Z","author_association":"CONTRIBUTOR","body":"@cmaitchison as I mentioned above, the histogram operates on the dataset and extracts the min/max of the histogram from the documents (the earliest/latest). There is no direct relations between the filter aggregation and the histogram aggregations (aggregations are unaware of other aggregations in their hierarchy). We could potentially add a `range` feature to histogram, but if we do it'll have to be post 1.0.\n\nIn the first example you gave, there are no documents in that minute, there are no buckets (as we can't determine the min/max values). For the second example, it might be that the first document in the doc set has a later timestamp than the `from` one in the filter.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33169088","html_url":"https://github.com/elastic/elasticsearch/issues/4843#issuecomment-33169088","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4843","id":33169088,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTY5MDg4","user":{"login":"cmaitchison","id":653258,"node_id":"MDQ6VXNlcjY1MzI1OA==","avatar_url":"https://avatars3.githubusercontent.com/u/653258?v=4","gravatar_id":"","url":"https://api.github.com/users/cmaitchison","html_url":"https://github.com/cmaitchison","followers_url":"https://api.github.com/users/cmaitchison/followers","following_url":"https://api.github.com/users/cmaitchison/following{/other_user}","gists_url":"https://api.github.com/users/cmaitchison/gists{/gist_id}","starred_url":"https://api.github.com/users/cmaitchison/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cmaitchison/subscriptions","organizations_url":"https://api.github.com/users/cmaitchison/orgs","repos_url":"https://api.github.com/users/cmaitchison/repos","events_url":"https://api.github.com/users/cmaitchison/events{/privacy}","received_events_url":"https://api.github.com/users/cmaitchison/received_events","type":"User","site_admin":false},"created_at":"2014-01-23T21:13:08Z","updated_at":"2014-01-23T21:13:08Z","author_association":"NONE","body":"Thanks, @uboness, for your help and excellent explanation. `range` on histogram is definitely a feature I would use. For now I can fill in the gaps on the client-side. Thanks again.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33169638","html_url":"https://github.com/elastic/elasticsearch/issues/4843#issuecomment-33169638","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4843","id":33169638,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTY5NjM4","user":{"login":"uboness","id":211019,"node_id":"MDQ6VXNlcjIxMTAxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/211019?v=4","gravatar_id":"","url":"https://api.github.com/users/uboness","html_url":"https://github.com/uboness","followers_url":"https://api.github.com/users/uboness/followers","following_url":"https://api.github.com/users/uboness/following{/other_user}","gists_url":"https://api.github.com/users/uboness/gists{/gist_id}","starred_url":"https://api.github.com/users/uboness/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uboness/subscriptions","organizations_url":"https://api.github.com/users/uboness/orgs","repos_url":"https://api.github.com/users/uboness/repos","events_url":"https://api.github.com/users/uboness/events{/privacy}","received_events_url":"https://api.github.com/users/uboness/received_events","type":"User","site_admin":false},"created_at":"2014-01-23T21:18:54Z","updated_at":"2014-01-23T21:18:54Z","author_association":"CONTRIBUTOR","body":"@cmaitchison no worries... thank you for the bug report! important one!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33507524","html_url":"https://github.com/elastic/elasticsearch/issues/4843#issuecomment-33507524","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4843","id":33507524,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTA3NTI0","user":{"login":"erikvanzijst","id":63338,"node_id":"MDQ6VXNlcjYzMzM4","avatar_url":"https://avatars1.githubusercontent.com/u/63338?v=4","gravatar_id":"","url":"https://api.github.com/users/erikvanzijst","html_url":"https://github.com/erikvanzijst","followers_url":"https://api.github.com/users/erikvanzijst/followers","following_url":"https://api.github.com/users/erikvanzijst/following{/other_user}","gists_url":"https://api.github.com/users/erikvanzijst/gists{/gist_id}","starred_url":"https://api.github.com/users/erikvanzijst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikvanzijst/subscriptions","organizations_url":"https://api.github.com/users/erikvanzijst/orgs","repos_url":"https://api.github.com/users/erikvanzijst/repos","events_url":"https://api.github.com/users/erikvanzijst/events{/privacy}","received_events_url":"https://api.github.com/users/erikvanzijst/received_events","type":"User","site_admin":false},"created_at":"2014-01-28T18:22:17Z","updated_at":"2014-01-28T18:22:17Z","author_association":"NONE","body":"I'm interested in hard range boundaries (returning empty buckets to fill gaps between from and to in the case of missing documents) as well. Is there an issue tracking this, or shall I raise one?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96878284","html_url":"https://github.com/elastic/elasticsearch/issues/4843#issuecomment-96878284","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4843","id":96878284,"node_id":"MDEyOklzc3VlQ29tbWVudDk2ODc4Mjg0","user":{"login":"deanchen","id":350938,"node_id":"MDQ6VXNlcjM1MDkzOA==","avatar_url":"https://avatars3.githubusercontent.com/u/350938?v=4","gravatar_id":"","url":"https://api.github.com/users/deanchen","html_url":"https://github.com/deanchen","followers_url":"https://api.github.com/users/deanchen/followers","following_url":"https://api.github.com/users/deanchen/following{/other_user}","gists_url":"https://api.github.com/users/deanchen/gists{/gist_id}","starred_url":"https://api.github.com/users/deanchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deanchen/subscriptions","organizations_url":"https://api.github.com/users/deanchen/orgs","repos_url":"https://api.github.com/users/deanchen/repos","events_url":"https://api.github.com/users/deanchen/events{/privacy}","received_events_url":"https://api.github.com/users/deanchen/received_events","type":"User","site_admin":false},"created_at":"2015-04-28T02:13:54Z","updated_at":"2015-04-28T02:16:21Z","author_association":"NONE","body":"For anyone who arrived to this thread via Google, hard ranges is supported via the extended_bounds param. http://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-histogram-aggregation.html\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/113177682","html_url":"https://github.com/elastic/elasticsearch/issues/4843#issuecomment-113177682","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4843","id":113177682,"node_id":"MDEyOklzc3VlQ29tbWVudDExMzE3NzY4Mg==","user":{"login":"taf2","id":1568,"node_id":"MDQ6VXNlcjE1Njg=","avatar_url":"https://avatars0.githubusercontent.com/u/1568?v=4","gravatar_id":"","url":"https://api.github.com/users/taf2","html_url":"https://github.com/taf2","followers_url":"https://api.github.com/users/taf2/followers","following_url":"https://api.github.com/users/taf2/following{/other_user}","gists_url":"https://api.github.com/users/taf2/gists{/gist_id}","starred_url":"https://api.github.com/users/taf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/taf2/subscriptions","organizations_url":"https://api.github.com/users/taf2/orgs","repos_url":"https://api.github.com/users/taf2/repos","events_url":"https://api.github.com/users/taf2/events{/privacy}","received_events_url":"https://api.github.com/users/taf2/received_events","type":"User","site_admin":false},"created_at":"2015-06-18T14:40:27Z","updated_at":"2015-06-18T14:40:27Z","author_association":"NONE","body":"I'm now experiencing the same issue as reported running es 1.6.0 \n\n```\nhistogram = {\n  invervals: {\n    date_histogram: {\n      field: 'called_at',\n      interval: 'day',\n      order: { _key: \"asc\" },\n      min_doc_count: 0 # doesn't appear to have any impact on the final result.\n    },\n    aggs: stats\n  }\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/113198062","html_url":"https://github.com/elastic/elasticsearch/issues/4843#issuecomment-113198062","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4843","id":113198062,"node_id":"MDEyOklzc3VlQ29tbWVudDExMzE5ODA2Mg==","user":{"login":"taf2","id":1568,"node_id":"MDQ6VXNlcjE1Njg=","avatar_url":"https://avatars0.githubusercontent.com/u/1568?v=4","gravatar_id":"","url":"https://api.github.com/users/taf2","html_url":"https://github.com/taf2","followers_url":"https://api.github.com/users/taf2/followers","following_url":"https://api.github.com/users/taf2/following{/other_user}","gists_url":"https://api.github.com/users/taf2/gists{/gist_id}","starred_url":"https://api.github.com/users/taf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/taf2/subscriptions","organizations_url":"https://api.github.com/users/taf2/orgs","repos_url":"https://api.github.com/users/taf2/repos","events_url":"https://api.github.com/users/taf2/events{/privacy}","received_events_url":"https://api.github.com/users/taf2/received_events","type":"User","site_admin":false},"created_at":"2015-06-18T15:47:14Z","updated_at":"2015-06-18T15:47:54Z","author_association":"NONE","body":"it looks like when nesting a date_histogram within a term aggregation there is no way for the min_doc_count to auto fill the zero results.\n\n```\naggs: {\n   groups: {\n     terms: {\n       min_doc_count: 0\n       script: '...'\n    },\n   aggs: {\n   invervals: {\n    date_histogram: {\n      field: 'called_at',\n      interval: 'day',\n      order: { _key: \"asc\" },\n      min_doc_count: 0 # doesn't appear to have any impact on the final result.\n    },\n    aggs: stats\n  }\n  }\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/113270250","html_url":"https://github.com/elastic/elasticsearch/issues/4843#issuecomment-113270250","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4843","id":113270250,"node_id":"MDEyOklzc3VlQ29tbWVudDExMzI3MDI1MA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-06-18T19:49:24Z","updated_at":"2015-06-18T19:49:24Z","author_association":"CONTRIBUTOR","body":"@taf2 please could you open an issue with a complete recreation which explains the problem?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/611126770","html_url":"https://github.com/elastic/elasticsearch/issues/4843#issuecomment-611126770","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4843","id":611126770,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTEyNjc3MA==","user":{"login":"quillan86","id":12815701,"node_id":"MDQ6VXNlcjEyODE1NzAx","avatar_url":"https://avatars3.githubusercontent.com/u/12815701?v=4","gravatar_id":"","url":"https://api.github.com/users/quillan86","html_url":"https://github.com/quillan86","followers_url":"https://api.github.com/users/quillan86/followers","following_url":"https://api.github.com/users/quillan86/following{/other_user}","gists_url":"https://api.github.com/users/quillan86/gists{/gist_id}","starred_url":"https://api.github.com/users/quillan86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quillan86/subscriptions","organizations_url":"https://api.github.com/users/quillan86/orgs","repos_url":"https://api.github.com/users/quillan86/repos","events_url":"https://api.github.com/users/quillan86/events{/privacy}","received_events_url":"https://api.github.com/users/quillan86/received_events","type":"User","site_admin":false},"created_at":"2020-04-08T18:45:03Z","updated_at":"2020-04-08T18:45:03Z","author_association":"NONE","body":"Is this bug still there? I am trying to do the same exact thing as the OP right now.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/616855907","html_url":"https://github.com/elastic/elasticsearch/issues/4843#issuecomment-616855907","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4843","id":616855907,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjg1NTkwNw==","user":{"login":"vicapow","id":583385,"node_id":"MDQ6VXNlcjU4MzM4NQ==","avatar_url":"https://avatars0.githubusercontent.com/u/583385?v=4","gravatar_id":"","url":"https://api.github.com/users/vicapow","html_url":"https://github.com/vicapow","followers_url":"https://api.github.com/users/vicapow/followers","following_url":"https://api.github.com/users/vicapow/following{/other_user}","gists_url":"https://api.github.com/users/vicapow/gists{/gist_id}","starred_url":"https://api.github.com/users/vicapow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vicapow/subscriptions","organizations_url":"https://api.github.com/users/vicapow/orgs","repos_url":"https://api.github.com/users/vicapow/repos","events_url":"https://api.github.com/users/vicapow/events{/privacy}","received_events_url":"https://api.github.com/users/vicapow/received_events","type":"User","site_admin":false},"created_at":"2020-04-20T23:03:30Z","updated_at":"2020-04-20T23:03:30Z","author_association":"NONE","body":"me too! :)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/672843859","html_url":"https://github.com/elastic/elasticsearch/issues/4843#issuecomment-672843859","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4843","id":672843859,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Mjg0Mzg1OQ==","user":{"login":"mashahabi15","id":35850349,"node_id":"MDQ6VXNlcjM1ODUwMzQ5","avatar_url":"https://avatars3.githubusercontent.com/u/35850349?v=4","gravatar_id":"","url":"https://api.github.com/users/mashahabi15","html_url":"https://github.com/mashahabi15","followers_url":"https://api.github.com/users/mashahabi15/followers","following_url":"https://api.github.com/users/mashahabi15/following{/other_user}","gists_url":"https://api.github.com/users/mashahabi15/gists{/gist_id}","starred_url":"https://api.github.com/users/mashahabi15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mashahabi15/subscriptions","organizations_url":"https://api.github.com/users/mashahabi15/orgs","repos_url":"https://api.github.com/users/mashahabi15/repos","events_url":"https://api.github.com/users/mashahabi15/events{/privacy}","received_events_url":"https://api.github.com/users/mashahabi15/received_events","type":"User","site_admin":false},"created_at":"2020-08-12T12:34:30Z","updated_at":"2020-08-12T12:34:30Z","author_association":"NONE","body":"And me either. :)","performed_via_github_app":null}]