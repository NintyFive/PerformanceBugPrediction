[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/1860371","html_url":"https://github.com/elastic/elasticsearch/issues/1254#issuecomment-1860371","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1254","id":1860371,"node_id":"MDEyOklzc3VlQ29tbWVudDE4NjAzNzE=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-08-20T18:08:37Z","updated_at":"2011-08-20T18:08:37Z","author_association":"MEMBER","body":"About to push this, it will include rx/tx invocation count and bytes count. Also, there will be a new `NodeService` that can be injected to plugins where you can simply call `#info` or `#stats` on them to get the node level info and stats.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/1926886","html_url":"https://github.com/elastic/elasticsearch/issues/1254#issuecomment-1926886","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1254","id":1926886,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MjY4ODY=","user":{"login":"tallpsmith","id":203682,"node_id":"MDQ6VXNlcjIwMzY4Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/203682?v=4","gravatar_id":"","url":"https://api.github.com/users/tallpsmith","html_url":"https://github.com/tallpsmith","followers_url":"https://api.github.com/users/tallpsmith/followers","following_url":"https://api.github.com/users/tallpsmith/following{/other_user}","gists_url":"https://api.github.com/users/tallpsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/tallpsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tallpsmith/subscriptions","organizations_url":"https://api.github.com/users/tallpsmith/orgs","repos_url":"https://api.github.com/users/tallpsmith/repos","events_url":"https://api.github.com/users/tallpsmith/events{/privacy}","received_events_url":"https://api.github.com/users/tallpsmith/received_events","type":"User","site_admin":false},"created_at":"2011-08-29T02:37:50Z","updated_at":"2011-08-29T02:37:50Z","author_association":"NONE","body":"thanks muchly Shay, I've been in Vietnam all week (alas, work), so will endeavour to integrate this this week once I get through the tsunami of emails.  appreciate it!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/1965347","html_url":"https://github.com/elastic/elasticsearch/issues/1254#issuecomment-1965347","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1254","id":1965347,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NjUzNDc=","user":{"login":"tallpsmith","id":203682,"node_id":"MDQ6VXNlcjIwMzY4Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/203682?v=4","gravatar_id":"","url":"https://api.github.com/users/tallpsmith","html_url":"https://github.com/tallpsmith","followers_url":"https://api.github.com/users/tallpsmith/followers","following_url":"https://api.github.com/users/tallpsmith/following{/other_user}","gists_url":"https://api.github.com/users/tallpsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/tallpsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tallpsmith/subscriptions","organizations_url":"https://api.github.com/users/tallpsmith/orgs","repos_url":"https://api.github.com/users/tallpsmith/repos","events_url":"https://api.github.com/users/tallpsmith/events{/privacy}","received_events_url":"https://api.github.com/users/tallpsmith/received_events","type":"User","site_admin":false},"created_at":"2011-09-01T06:24:24Z","updated_at":"2011-09-01T06:24:24Z","author_association":"NONE","body":"Shay, i'm getting an NPE early during initialisation because part of the stats isn't setup with an object stat just yet.  It's failing here:\n\norg.elasticsearch.transport.TransportService#stats\n\nLine:  112\n    public TransportStats stats() {\n        return new TransportStats(transport.serverOpen(), adapter.rxMetric.count(), adapter.rxMetric.sum(), adapter.txMetric.count(), adapter.txMetric.sum());\n    }\n\none of these is null early on during the initialisation of the plugin.  The stack failure is:\n\nhttps://gist.github.com/1185581\n\nEven if I move my initialisation to the doStart() method of the plugin, I'm still getting an exception, except the stack is being swallowed:\n\n[2011-09-01 16:20:51,082][INFO ][com.custardsource.parfait.pcp.PcpMonitorBridge] PCP monitoring bridge started for writer [PcpMmvWriter[byteBufferFactory=FileByteBufferFactory[file=/private/var/tmp/mmv/elasticsearch-server.mmv]]]\n[2011-09-01 16:20:51,089][ERROR][bootstrap                ] [Atom Bob] {elasticsearch/0.18.0-SNAPSHOT/2011-09-01T02:38:23}: Startup Failed ...\n- RuntimeException[java.lang.NullPointerException]\n\npaul:elasticsearch-0.18.0-SNAPSHOT paulsmith$ \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/1969774","html_url":"https://github.com/elastic/elasticsearch/issues/1254#issuecomment-1969774","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1254","id":1969774,"node_id":"MDEyOklzc3VlQ29tbWVudDE5Njk3NzQ=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-09-01T16:19:12Z","updated_at":"2011-09-01T16:19:12Z","author_association":"MEMBER","body":"@tallpsmith: ok, I think I fixed it with the latest commit, can you check? btw, why do you need the stats on startup? I would imagine you need it periodically\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/1974055","html_url":"https://github.com/elastic/elasticsearch/issues/1254#issuecomment-1974055","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1254","id":1974055,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NzQwNTU=","user":{"login":"tallpsmith","id":203682,"node_id":"MDQ6VXNlcjIwMzY4Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/203682?v=4","gravatar_id":"","url":"https://api.github.com/users/tallpsmith","html_url":"https://github.com/tallpsmith","followers_url":"https://api.github.com/users/tallpsmith/followers","following_url":"https://api.github.com/users/tallpsmith/following{/other_user}","gists_url":"https://api.github.com/users/tallpsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/tallpsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tallpsmith/subscriptions","organizations_url":"https://api.github.com/users/tallpsmith/orgs","repos_url":"https://api.github.com/users/tallpsmith/repos","events_url":"https://api.github.com/users/tallpsmith/events{/privacy}","received_events_url":"https://api.github.com/users/tallpsmith/received_events","type":"User","site_admin":false},"created_at":"2011-09-01T22:09:07Z","updated_at":"2011-09-01T22:09:07Z","author_association":"NONE","body":"We grab an initial value on startup and then poll. I originally thought I\nwas dumb to put it in the constrictor init. but even in te doStartup method\nwhich I think it realm should go didn't work. After a plugin has seen the\ndoStart event I would have thought it's safe to query any object it has been\ninitialized with by injection?\n\nThanks I will check out the latest push.\n\nOn Friday, 2 September 2011, kimchy <\nreply@reply.github.com>\nwrote:\n\n> @tallpsmith: ok, I think I fixed it with the latest commit, can you check?\n> btw, why do you need the stats on startup? I would imagine you need it\n> periodically\n> \n> ## \n> \n> Reply to this email directly or view it on GitHub:\n> \n> https://github.com/elasticsearch/elasticsearch/issues/1254#issuecomment-1969774\n","performed_via_github_app":null}]