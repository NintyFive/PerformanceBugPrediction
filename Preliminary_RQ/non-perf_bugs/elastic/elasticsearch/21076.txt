{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/21076","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21076/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21076/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21076/events","html_url":"https://github.com/elastic/elasticsearch/issues/21076","id":184555546,"node_id":"MDU6SXNzdWUxODQ1NTU1NDY=","number":21076,"title":"Doc:  Optional reindexing for 2.x -> 5.x to take advantage of new features","user":{"login":"ppf2","id":7216393,"node_id":"MDQ6VXNlcjcyMTYzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/7216393?v=4","gravatar_id":"","url":"https://api.github.com/users/ppf2","html_url":"https://github.com/ppf2","followers_url":"https://api.github.com/users/ppf2/followers","following_url":"https://api.github.com/users/ppf2/following{/other_user}","gists_url":"https://api.github.com/users/ppf2/gists{/gist_id}","starred_url":"https://api.github.com/users/ppf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppf2/subscriptions","organizations_url":"https://api.github.com/users/ppf2/orgs","repos_url":"https://api.github.com/users/ppf2/repos","events_url":"https://api.github.com/users/ppf2/events{/privacy}","received_events_url":"https://api.github.com/users/ppf2/received_events","type":"User","site_admin":false},"labels":[{"id":163824881,"node_id":"MDU6TGFiZWwxNjM4MjQ4ODE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Indices%20APIs","name":":Core/Features/Indices APIs","color":"0e8a16","default":false,"description":"APIs to create and manage indices"},{"id":23715,"node_id":"MDU6TGFiZWwyMzcxNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edocs","name":">docs","color":"db755e","default":false,"description":"General docs changes"},{"id":110815527,"node_id":"MDU6TGFiZWwxMTA4MTU1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/help%20wanted","name":"help wanted","color":"207de5","default":true,"description":"adoptme"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-10-21T19:53:26Z","updated_at":"2019-09-26T00:55:08Z","closed_at":"2019-09-26T00:55:08Z","author_association":"MEMBER","active_lock_reason":null,"body":"**Elasticsearch version**: 5.0\n\nOn the current upgrade page, we indicate that between 1.x -> 5.x, reindex to upgrade is required.  And for 2.x -> 5.x, a full cluster restart upgrade.  \n\nBut there are scenarios (optional) where reindexing is necessary even for 2.x -> 5.x upgrades.  For example, for existing indices where the user may want to take advantage of the new points type in 5.x.  These will require reindexing to take advantage of (simply upgrading from 2.x -> 5.0 is not sufficient).\n\nLooking at the current documentation, the [upgrade](https://www.elastic.co/guide/en/elasticsearch/reference/5.0/setup-upgrade.html) section simply mentions a full cluster restart upgrade for 2.x -> 5.x.  There's no reference to the (previously known as) upgrade api, or the need to reindexing to take advantage of new features.  If you go directly to the [upgrade api](https://www.elastic.co/guide/en/elasticsearch/reference/5.0/indices-upgrade.html) page, it says it's been deprecated/removed and replaced by the new [reindex to upgrade](https://www.elastic.co/guide/en/elasticsearch/reference/5.0/reindex-upgrade.html) page, which is solely focused on the 1.x -> 5.x upgrade. \n\nIt will be nice to add the following\n- From the upgrade guide, a note on when 2.x -> 5.x users may still want to reindex.  Maybe specify the supported upgrade type as Full cluster restart (optional: Reindex existing indices after upgrade) and link to below.\n- On the Reindex to upgrade page, create a new section for 2.x -> 5.x, and indicate why users may still want to reindex existing indices (which they can certainly do after performing the full cluster restart upgrade) to take advantage of new features, eg.\n  - New points type\n  - New geospatial data structures\n  - Any other ones?\n","closed_by":{"login":"debadair","id":362578,"node_id":"MDQ6VXNlcjM2MjU3OA==","avatar_url":"https://avatars1.githubusercontent.com/u/362578?v=4","gravatar_id":"","url":"https://api.github.com/users/debadair","html_url":"https://github.com/debadair","followers_url":"https://api.github.com/users/debadair/followers","following_url":"https://api.github.com/users/debadair/following{/other_user}","gists_url":"https://api.github.com/users/debadair/gists{/gist_id}","starred_url":"https://api.github.com/users/debadair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debadair/subscriptions","organizations_url":"https://api.github.com/users/debadair/orgs","repos_url":"https://api.github.com/users/debadair/repos","events_url":"https://api.github.com/users/debadair/events{/privacy}","received_events_url":"https://api.github.com/users/debadair/received_events","type":"User","site_admin":false},"performed_via_github_app":null}