[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/178682514","html_url":"https://github.com/elastic/elasticsearch/issues/16379#issuecomment-178682514","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16379","id":178682514,"node_id":"MDEyOklzc3VlQ29tbWVudDE3ODY4MjUxNA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-02-02T16:47:28Z","updated_at":"2016-02-02T16:49:50Z","author_association":"MEMBER","body":"Do you have a stale plugin from an old installation sitting around and have your config pointing to that old plugin directory? That's what it looks like.\n\n```\nLikely root cause: java.nio.file.NoSuchFileException: /usr/local/var/lib/elasticsearch/plugins/analysis-icu/plugin-descriptor.properties\n```\n\nThe solution then is to alter your config to not point to this plugin location _or_ to remove the old plugins that are not compatible with Elasticsearch 2.1.1 from `/usr/local/var/lib/elasticsearch/plugins`. You can then install the appropriate version of the plugin after you've repaired this.\n\n> I've had a working install of Elasticsearch\n\nWhat version? If you're coming from the 1.x line, I think the above explanation is what's going on. If not, let us know and we'll investigate further.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/178692320","html_url":"https://github.com/elastic/elasticsearch/issues/16379#issuecomment-178692320","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16379","id":178692320,"node_id":"MDEyOklzc3VlQ29tbWVudDE3ODY5MjMyMA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-02-02T17:07:17Z","updated_at":"2016-02-02T17:07:36Z","author_association":"MEMBER","body":"I can replicate your issue confirming that my [theory](https://github.com/elastic/elasticsearch/issues/16379#issuecomment-178682514) is plausible:\n\n```\n11:59:34 3d [jason:~] $ brew install elasticsearch17\n[...]\n11:59:38 3d [jason:~] $ /usr/local/Cellar/elasticsearch17/1.7.4/bin/plugin --install elasticsearch/elasticsearch-analysis-icu/2.7.0\n[...]\n12:00:10 3d [jason:~] $ elasticsearch\n[2016-02-02 12:00:13,537][INFO ][node                     ] [Ka-Zar] version[1.7.4], pid[88711], build[0d3159b/2015-12-15T11:25:18Z]\n[2016-02-02 12:00:13,537][INFO ][node                     ] [Ka-Zar] initializing ...\n[2016-02-02 12:00:13,603][INFO ][plugins                  ] [Ka-Zar] loaded [analysis-icu], sites []\n[2016-02-02 12:00:13,631][INFO ][env                      ] [Ka-Zar] using [1] data paths, mounts [[/ (/dev/disk1)]], net usable_space [104.9gb], net total_space [232.6gb], types [hfs]\n[2016-02-02 12:00:15,156][INFO ][node                     ] [Ka-Zar] initialized\n[2016-02-02 12:00:15,158][INFO ][node                     ] [Ka-Zar] starting ...\n[2016-02-02 12:00:15,242][INFO ][transport                ] [Ka-Zar] bound_address {inet[/127.0.0.1:9300]}, publish_address {inet[/127.0.0.1:9300]}\n[2016-02-02 12:00:15,257][INFO ][discovery                ] [Ka-Zar] elasticsearch_jason/69KwMa0fQlSKlymxaASeDw\n[2016-02-02 12:00:19,030][INFO ][cluster.service          ] [Ka-Zar] new_master [Ka-Zar][69KwMa0fQlSKlymxaASeDw][...][inet[/127.0.0.1:9300]], reason: zen-disco-join (elected_as_master)\n[2016-02-02 12:00:19,046][INFO ][http                     ] [Ka-Zar] bound_address {inet[/127.0.0.1:9200]}, publish_address {inet[/127.0.0.1:9200]}\n[2016-02-02 12:00:19,046][INFO ][node                     ] [Ka-Zar] started\n[2016-02-02 12:00:19,051][INFO ][gateway                  ] [Ka-Zar] recovered [0] indices into cluster_state\n^C[2016-02-02 12:00:26,751][INFO ][node                     ] [Ka-Zar] stopping ...\n[2016-02-02 12:00:26,767][INFO ][node                     ] [Ka-Zar] stopped\n[2016-02-02 12:00:26,767][INFO ][node                     ] [Ka-Zar] closing ...\n[2016-02-02 12:00:26,771][INFO ][node                     ] [Ka-Zar] closed\n12:00:26 3d [jason:~] 130 $ brew remove elasticsearch17\nUninstalling /usr/local/Cellar/elasticsearch17/1.7.4... (36 files, 29.7M)\n12:00:35 3d [jason:~] $ brew install elasticsearch\n[...]\n12:00:42 3d [jason:~] $ elasticsearch --path.plugins /usr/local/var/lib/elasticsearch/plugins/\n[2016-02-02 12:00:54,171][INFO ][node                     ] [Baron Mordo] version[2.1.1], pid[88898], build[40e2c53/2015-12-15T13:05:55Z]\n[2016-02-02 12:00:54,171][INFO ][node                     ] [Baron Mordo] initializing ...\nException in thread \"main\" java.lang.IllegalStateException: Unable to initialize plugins\nLikely root cause: java.nio.file.NoSuchFileException: /usr/local/var/lib/elasticsearch/plugins/analysis-icu/plugin-descriptor.properties\n        at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)\n        at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)\n        at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)\n        at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)\n        at java.nio.file.Files.newByteChannel(Files.java:361)\n        at java.nio.file.Files.newByteChannel(Files.java:407)\n        at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)\n        at java.nio.file.Files.newInputStream(Files.java:152)\n        at org.elasticsearch.plugins.PluginInfo.readFromProperties(PluginInfo.java:86)\n        at org.elasticsearch.plugins.PluginsService.getPluginBundles(PluginsService.java:302)\n        at org.elasticsearch.plugins.PluginsService.<init>(PluginsService.java:108)\n        at org.elasticsearch.node.Node.<init>(Node.java:146)\n        at org.elasticsearch.node.Node.<init>(Node.java:128)\n        at org.elasticsearch.node.NodeBuilder.build(NodeBuilder.java:145)\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:178)\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:285)\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:35)\nRefer to the log for complete error details.\n```\n\nIdeally you should just remove the old plugin directory:\n\n```\n$ rm -rf /usr/local/var/lib/elasticsearch/plugins\n```\n\nas none of the plugins there will work when upgrading from Elasticsearch 1.x to Elasticsearch 2.x because of a change in the plugin format. But if you have some reason to keep them around, change the config for `path.plugins`.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/178698344","html_url":"https://github.com/elastic/elasticsearch/issues/16379#issuecomment-178698344","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16379","id":178698344,"node_id":"MDEyOklzc3VlQ29tbWVudDE3ODY5ODM0NA==","user":{"login":"edorgeville","id":2685884,"node_id":"MDQ6VXNlcjI2ODU4ODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/2685884?v=4","gravatar_id":"","url":"https://api.github.com/users/edorgeville","html_url":"https://github.com/edorgeville","followers_url":"https://api.github.com/users/edorgeville/followers","following_url":"https://api.github.com/users/edorgeville/following{/other_user}","gists_url":"https://api.github.com/users/edorgeville/gists{/gist_id}","starred_url":"https://api.github.com/users/edorgeville/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edorgeville/subscriptions","organizations_url":"https://api.github.com/users/edorgeville/orgs","repos_url":"https://api.github.com/users/edorgeville/repos","events_url":"https://api.github.com/users/edorgeville/events{/privacy}","received_events_url":"https://api.github.com/users/edorgeville/received_events","type":"User","site_admin":false},"created_at":"2016-02-02T17:22:06Z","updated_at":"2016-02-02T17:22:06Z","author_association":"NONE","body":"Works perfectly ! Thank you ! :smile: \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/178698918","html_url":"https://github.com/elastic/elasticsearch/issues/16379#issuecomment-178698918","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16379","id":178698918,"node_id":"MDEyOklzc3VlQ29tbWVudDE3ODY5ODkxOA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-02-02T17:23:02Z","updated_at":"2016-02-02T17:23:02Z","author_association":"MEMBER","body":"> Works perfectly ! Thank you ! :smile:\n\nExcellent. You're very welcome. :smile:\n","performed_via_github_app":null}]