[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234298899","html_url":"https://github.com/elastic/elasticsearch/issues/19541#issuecomment-234298899","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19541","id":234298899,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDI5ODg5OQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-07-21T15:56:25Z","updated_at":"2016-07-21T15:56:25Z","author_association":"MEMBER","body":"hey @nik9000 I think you did #19453 while hunting this. The last failure has more info that might interest you.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234299092","html_url":"https://github.com/elastic/elasticsearch/issues/19541#issuecomment-234299092","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19541","id":234299092,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDI5OTA5Mg==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-07-21T15:57:05Z","updated_at":"2016-07-21T15:57:05Z","author_association":"CONTRIBUTOR","body":"Indeed. Thanks for pointing me to it!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234324572","html_url":"https://github.com/elastic/elasticsearch/issues/19541#issuecomment-234324572","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19541","id":234324572,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDMyNDU3Mg==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-07-21T17:27:55Z","updated_at":"2016-07-21T17:27:55Z","author_association":"CONTRIBUTOR","body":"Luckily I've been able to get this to fail locally with:\n\n```\nwhile mvn verify -Dskip.unit.tests -pl modules/reindex/ -Pdev -Dtests.seed=76760A523E13F0FB -Des.logger.level=info -Dtests.output=always; do echo not yet; done\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234324633","html_url":"https://github.com/elastic/elasticsearch/issues/19541#issuecomment-234324633","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19541","id":234324633,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDMyNDYzMw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-07-21T17:28:10Z","updated_at":"2016-07-21T17:28:10Z","author_association":"CONTRIBUTOR","body":"Not every iteration, but after a few minutes.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234337513","html_url":"https://github.com/elastic/elasticsearch/issues/19541#issuecomment-234337513","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19541","id":234337513,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDMzNzUxMw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-07-21T18:14:00Z","updated_at":"2016-07-21T18:14:00Z","author_association":"CONTRIBUTOR","body":"There is a race condition in 2.x when you rethrottle tasks. Usually speeding up a task will take effect immediately. If you hit it at the right time then speeding up the task will wait until the next batch. This isn't a big deal in real life because you can resend the rethrottle command if you hit the race condition. You probably won't hit it anyway because you'd have to send it in a fairly small window. And it wouldn't matter that much for normal throttle values because you just wait an extra batch.\n\nBut in testing we schedule the task to finish 3000 years in the future. And we hit the race condition relatively frequently because we rethrottle immediately after sending the request.\n\nIn master this was fixed by 5b94c4a25b8a6322de573d5d9923d5838db748ec in master. Backporting that isn't simple because the implementations have drifted too far apart. So instead I basically silenced the test:\n01bf02e56aad670430e0ee808f47eaffad2d0a13 - improve logging\n4e2971710dce7a0648f15804bb4ddab8cd5ef09b - tighten the assertions and explain a race condition\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234337952","html_url":"https://github.com/elastic/elasticsearch/issues/19541#issuecomment-234337952","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19541","id":234337952,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDMzNzk1Mg==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-07-21T18:15:33Z","updated_at":"2016-07-21T18:15:33Z","author_association":"CONTRIBUTOR","body":"I'm going to look at forward porting 01bf02e for nicer logging in master. I'll open a PR about it.\n","performed_via_github_app":null}]