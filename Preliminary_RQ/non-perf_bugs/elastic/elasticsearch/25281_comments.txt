[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/309132931","html_url":"https://github.com/elastic/elasticsearch/issues/25281#issuecomment-309132931","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25281","id":309132931,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTEzMjkzMQ==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2017-06-16T21:00:02Z","updated_at":"2017-06-16T21:00:02Z","author_association":"MEMBER","body":"> The MockRepository waiting to be awoken from being blocked on the index-N write, but the thread gets interrupted when closing the node, so I/O operations (including finalizing the snapshot by writing the index-N blob) throw a ClosedByInterruptException.\r\n\r\nI think we need to throw some exception there if block is being interrupted to makes sure that master that we just shut down will not try to write anything when it is unblocked. ","performed_via_github_app":null}]