[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/207362227","html_url":"https://github.com/elastic/elasticsearch/issues/17611#issuecomment-207362227","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17611","id":207362227,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNzM2MjIyNw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-04-08T10:21:23Z","updated_at":"2016-04-08T11:22:08Z","author_association":"MEMBER","body":"@aholen I think that you can solve this already with\n\n```\n$ ./bin/plugin -Djava.net.preferIPv4Stack=false -Djava.net.preferIPv6Addresses=true install --batch discovery-multicast\n```\n\nWould you be able to try this and report back?\n\n(Please note that the discovery-multicast plugin is deprecated in 2.x and has been removed for 5.x.)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/207396863","html_url":"https://github.com/elastic/elasticsearch/issues/17611#issuecomment-207396863","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17611","id":207396863,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNzM5Njg2Mw==","user":{"login":"aholen","id":3923969,"node_id":"MDQ6VXNlcjM5MjM5Njk=","avatar_url":"https://avatars2.githubusercontent.com/u/3923969?v=4","gravatar_id":"","url":"https://api.github.com/users/aholen","html_url":"https://github.com/aholen","followers_url":"https://api.github.com/users/aholen/followers","following_url":"https://api.github.com/users/aholen/following{/other_user}","gists_url":"https://api.github.com/users/aholen/gists{/gist_id}","starred_url":"https://api.github.com/users/aholen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aholen/subscriptions","organizations_url":"https://api.github.com/users/aholen/orgs","repos_url":"https://api.github.com/users/aholen/repos","events_url":"https://api.github.com/users/aholen/events{/privacy}","received_events_url":"https://api.github.com/users/aholen/received_events","type":"User","site_admin":false},"created_at":"2016-04-08T11:47:54Z","updated_at":"2016-04-08T11:47:54Z","author_association":"NONE","body":"@jasontedor Thanks for the tip - that didn't work, but this worked on both Oracle's 1.8.0_40 and openjdk 1.8.0_71:\n\n```\n./bin/plugin install -Djava.net.preferIPv6Addresses=true  --batch discovery-multicast\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/207408956","html_url":"https://github.com/elastic/elasticsearch/issues/17611#issuecomment-207408956","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17611","id":207408956,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNzQwODk1Ng==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-04-08T12:19:31Z","updated_at":"2016-04-08T12:20:21Z","author_association":"MEMBER","body":"I don't think that that should make any difference, but I would like to understand if and why it does. The reason that I do not think it should make any difference is because the `-D` parameters are parsed by the plugin script and passed as arguments when starting the JVM.\n\n``` bash\n$ bash -x ./bin/plugin install -Djava.net.preferIPv4Stack=false -Djava.net.preferIPv6Addresses=true --batch discovery-multicast\n.\n.\n.\n/Library/Java/JavaVirtualMachines/jdk1.8.0_74.jdk/Contents/Home/bin/java -client -Delasticsearch -Des.path.home=/usr/local/Cellar/elasticsearch/2.3.1/libexec -Djava.net.preferIPv4Stack=false -Djava.net.preferIPv6Addresses=true -Des.default.path.conf=/usr/local/Cellar/elasticsearch/2.3.1/libexec/config -cp '/usr/local/Cellar/elasticsearch/2.3.1/libexec/lib/*' org.elasticsearch.plugins.PluginManagerCliParser install --batch discovery-multicast\n-> Installing discovery-multicast...\n.\n.\n.\n```\n\nand\n\n``` bash\n$ bash -x ./bin/plugin -Djava.net.preferIPv4Stack=false -Djava.net.preferIPv6Addresses=true install --batch discovery-multicast\n.\n.\n.\n/Library/Java/JavaVirtualMachines/jdk1.8.0_74.jdk/Contents/Home/bin/java -client -Delasticsearch -Des.path.home=/usr/local/Cellar/elasticsearch/2.3.1/libexec -Djava.net.preferIPv4Stack=false -Djava.net.preferIPv6Addresses=true -Des.default.path.conf=/usr/local/Cellar/elasticsearch/2.3.1/libexec/config -cp '/usr/local/Cellar/elasticsearch/2.3.1/libexec/lib/*' org.elasticsearch.plugins.PluginManagerCliParser install --batch discovery-multicast\n-> Installing discovery-multicast...\n.\n.\n.\n```\n\nShowing that they both cause exactly the same JVM arguments to be used. As far as `-Djava.net.preferIPv4Stack=false`, that is the [default value](https://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html) but I included it to be explicit.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/207412339","html_url":"https://github.com/elastic/elasticsearch/issues/17611#issuecomment-207412339","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17611","id":207412339,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNzQxMjMzOQ==","user":{"login":"aholen","id":3923969,"node_id":"MDQ6VXNlcjM5MjM5Njk=","avatar_url":"https://avatars2.githubusercontent.com/u/3923969?v=4","gravatar_id":"","url":"https://api.github.com/users/aholen","html_url":"https://github.com/aholen","followers_url":"https://api.github.com/users/aholen/followers","following_url":"https://api.github.com/users/aholen/following{/other_user}","gists_url":"https://api.github.com/users/aholen/gists{/gist_id}","starred_url":"https://api.github.com/users/aholen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aholen/subscriptions","organizations_url":"https://api.github.com/users/aholen/orgs","repos_url":"https://api.github.com/users/aholen/repos","events_url":"https://api.github.com/users/aholen/events{/privacy}","received_events_url":"https://api.github.com/users/aholen/received_events","type":"User","site_admin":false},"created_at":"2016-04-08T12:30:15Z","updated_at":"2016-04-08T12:30:15Z","author_association":"NONE","body":"My mistake @jasontedor - I didn't see your `-Djava.net.preferIPv6Addresses=true` in your first post, and tried only with `-Djava.net.preferIPv4Stack=false` - naturally that didn't make any difference. I agree with you that the order of the parameteres don't make any difference, it is the `-Djava.net.preferIPv6Addresses=true`  that is the vital part here.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/207413446","html_url":"https://github.com/elastic/elasticsearch/issues/17611#issuecomment-207413446","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17611","id":207413446,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNzQxMzQ0Ng==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-04-08T12:33:20Z","updated_at":"2016-04-08T12:33:20Z","author_association":"MEMBER","body":"@aholen Perfect, thank you for clarifying! ðŸ˜„ \n\n> it is the `-Djava.net.preferIPv6Addresses=true`  that is the vital part here.\n\nYes.\n","performed_via_github_app":null}]