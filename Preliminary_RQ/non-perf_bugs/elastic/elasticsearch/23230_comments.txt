[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/280640077","html_url":"https://github.com/elastic/elasticsearch/issues/23230#issuecomment-280640077","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23230","id":280640077,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDY0MDA3Nw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-02-17T12:47:17Z","updated_at":"2017-02-17T12:47:29Z","author_association":"MEMBER","body":"What's the use case for this being dynamically updatable? These settings should generally be kept small, but not too small, and I do not see a good reason for them to be dynamically updatable (and it's just going to complicate the code). Can you please explain?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/280816650","html_url":"https://github.com/elastic/elasticsearch/issues/23230#issuecomment-280816650","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23230","id":280816650,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDgxNjY1MA==","user":{"login":"jason-heo","id":7676291,"node_id":"MDQ6VXNlcjc2NzYyOTE=","avatar_url":"https://avatars0.githubusercontent.com/u/7676291?v=4","gravatar_id":"","url":"https://api.github.com/users/jason-heo","html_url":"https://github.com/jason-heo","followers_url":"https://api.github.com/users/jason-heo/followers","following_url":"https://api.github.com/users/jason-heo/following{/other_user}","gists_url":"https://api.github.com/users/jason-heo/gists{/gist_id}","starred_url":"https://api.github.com/users/jason-heo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jason-heo/subscriptions","organizations_url":"https://api.github.com/users/jason-heo/orgs","repos_url":"https://api.github.com/users/jason-heo/repos","events_url":"https://api.github.com/users/jason-heo/events{/privacy}","received_events_url":"https://api.github.com/users/jason-heo/received_events","type":"User","site_admin":false},"created_at":"2017-02-18T02:57:53Z","updated_at":"2017-02-18T02:57:53Z","author_association":"CONTRIBUTOR","body":"@jasontedor \r\n\r\nHi. Thank you for your reply.\r\n\r\nYesterday, I had to take heap dump of ES java process. During heap dump, JVM stopped longer than `discovery.zen.fd.*` settings, so that the node disconnected from the cluster.\r\n\r\nI agree with `These settings should generally be kept small, but not too small` but I think this is not reasonable they should be static.\r\n\r\nI didn't know that it's going to complicated and my use case is very rare. (The reason I needed heap dump is that I just wanted to know which classes take more memories) So it's up to you ;)\r\n\r\nThanks.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/280841943","html_url":"https://github.com/elastic/elasticsearch/issues/23230#issuecomment-280841943","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23230","id":280841943,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDg0MTk0Mw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-02-18T12:16:02Z","updated_at":"2017-02-18T12:16:02Z","author_association":"MEMBER","body":"Thanks for the reply @jason-heo. When you take a heap dump of a node, the node is in a stop-the-world pause and is indistinguishable from being dead. You want fault detection to do its job so that client and indexing requests are not routed to this node otherwise the effects will trickle through the entire cluster and impact client traffic. If you're concerned about replica shards reallocating away from this node while it's offline, you can use [delayed allocation](https://www.elastic.co/guide/en/elasticsearch/reference/5.2/delayed-allocation.html) to address this.\r\n\r\nAdditionally, modifying the fault detection settings in a scenario like this is dangerous. If you forget to return the settings back to their reasonable values after performing the heap dump, you're subject to the same risks anytime the node enters a natural long garbage collection pause.\r\n\r\nThanks for the feature request @jason-heo, this setting should stay static though.","performed_via_github_app":null}]