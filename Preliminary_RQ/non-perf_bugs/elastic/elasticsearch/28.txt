{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/28","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28/events","html_url":"https://github.com/elastic/elasticsearch/issues/28","id":136112,"node_id":"MDU6SXNzdWUxMzYxMTI=","number":28,"title":"Facet query crashes the cluster","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"labels":[{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":23175,"node_id":"MDU6TGFiZWwyMzE3NQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.05.0","name":"v0.05.0","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2010-02-19T17:56:37Z","updated_at":"2010-02-20T15:32:03Z","closed_at":"2010-02-20T13:21:09Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Hiya\n\nIn my test script, I create two indices, then add 28 documents, then try searching on those.\n\nWhen I get to the final facets query, the cluster never responds, and then remains unresponsive to all further queries.  One of the nodes balloons to 631MB of resident memory - I presume this is some sort of max allowed by java.\n\nThen when closing down the nodes, two close down fine, and the third throws exceptions like the ones listed below.\n\nTest script:  (see bottom for facets query)\n\n```\ncurl -XGET 'http://127.0.0.1:9200/_cluster/nodes' \n# {\n#    \"clusterName\" : \"elasticsearch\",\n#    \"nodes\" : {\n#       \"getafix-10912\" : {\n#          \"httpAddress\" : \"inet[/127.0.0.2:9200]\",\n#          \"dataNode\" : true,\n#          \"transportAddress\" : \"inet[getafix.traveljury.com/127.0.\n# >          0.2:9300]\",\n#          \"name\" : \"Ameridroid\"\n#       },\n#       \"getafix-62342\" : {\n#          \"httpAddress\" : \"inet[/127.0.0.2:9201]\",\n#          \"dataNode\" : true,\n#          \"transportAddress\" : \"inet[getafix.traveljury.com/127.0.\n# >          0.2:9302]\",\n#          \"name\" : \"Super Sabre\"\n#       },\n#       \"getafix-27084\" : {\n#          \"httpAddress\" : \"inet[/127.0.0.2:9202]\",\n#          \"dataNode\" : true,\n#          \"transportAddress\" : \"inet[getafix.traveljury.com/127.0.\n# >          0.2:9301]\",\n#          \"name\" : \"Shadow Slasher\"\n#       }\n#    }\n# }\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test/'  -d '\n{}\n'\n# {\n#    \"ok\" : true\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test_2/'  -d '\n{}\n'\n# {\n#    \"ok\" : true\n# }\n\n\ncurl -XPOST 'http://127.0.0.2:9201/_flush?refresh=true' \n# {\n#    \"ok\" : true,\n#    \"_shards\" : {\n#       \"failed\" : 0,\n#       \"successful\" : 20,\n#       \"total\" : 20\n#    }\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test/type_1/1?opType=create'  -d '\n{\n   \"num\" : 2,\n   \"text\" : \"foo\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test\",\n#    \"_id\" : \"1\",\n#    \"_type\" : \"type_1\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test/type_2/2?opType=create'  -d '\n{\n   \"num\" : 3,\n   \"text\" : \"foo\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test\",\n#    \"_id\" : \"2\",\n#    \"_type\" : \"type_2\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test_2/type_1/3?opType=create'  -d '\n{\n   \"num\" : 4,\n   \"text\" : \"foo\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test_2\",\n#    \"_id\" : \"3\",\n#    \"_type\" : \"type_1\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test_2/type_2/4?opType=create'  -d '\n{\n   \"num\" : 5,\n   \"text\" : \"foo\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test_2\",\n#    \"_id\" : \"4\",\n#    \"_type\" : \"type_2\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test/type_1/5?opType=create'  -d '\n{\n   \"num\" : 6,\n   \"text\" : \"foo bar\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test\",\n#    \"_id\" : \"5\",\n#    \"_type\" : \"type_1\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test/type_2/6?opType=create'  -d '\n{\n   \"num\" : 7,\n   \"text\" : \"foo bar\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test\",\n#    \"_id\" : \"6\",\n#    \"_type\" : \"type_2\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test_2/type_1/7?opType=create'  -d '\n{\n   \"num\" : 8,\n   \"text\" : \"foo bar\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test_2\",\n#    \"_id\" : \"7\",\n#    \"_type\" : \"type_1\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test_2/type_2/8?opType=create'  -d '\n{\n   \"num\" : 9,\n   \"text\" : \"foo bar\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test_2\",\n#    \"_id\" : \"8\",\n#    \"_type\" : \"type_2\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test/type_1/9?opType=create'  -d '\n{\n   \"num\" : 10,\n   \"text\" : \"foo bar baz\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test\",\n#    \"_id\" : \"9\",\n#    \"_type\" : \"type_1\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test/type_2/10?opType=create'  -d '\n{\n   \"num\" : 11,\n   \"text\" : \"foo bar baz\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test\",\n#    \"_id\" : \"10\",\n#    \"_type\" : \"type_2\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test_2/type_1/11?opType=create'  -d '\n{\n   \"num\" : 12,\n   \"text\" : \"foo bar baz\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test_2\",\n#    \"_id\" : \"11\",\n#    \"_type\" : \"type_1\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test_2/type_2/12?opType=create'  -d '\n{\n   \"num\" : 13,\n   \"text\" : \"foo bar baz\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test_2\",\n#    \"_id\" : \"12\",\n#    \"_type\" : \"type_2\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test/type_1/13?opType=create'  -d '\n{\n   \"num\" : 14,\n   \"text\" : \"bar baz\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test\",\n#    \"_id\" : \"13\",\n#    \"_type\" : \"type_1\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test/type_2/14?opType=create'  -d '\n{\n   \"num\" : 15,\n   \"text\" : \"bar baz\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test\",\n#    \"_id\" : \"14\",\n#    \"_type\" : \"type_2\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test_2/type_1/15?opType=create'  -d '\n{\n   \"num\" : 16,\n   \"text\" : \"bar baz\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test_2\",\n#    \"_id\" : \"15\",\n#    \"_type\" : \"type_1\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test_2/type_2/16?opType=create'  -d '\n{\n   \"num\" : 17,\n   \"text\" : \"bar baz\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test_2\",\n#    \"_id\" : \"16\",\n#    \"_type\" : \"type_2\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test/type_1/17?opType=create'  -d '\n{\n   \"num\" : 18,\n   \"text\" : \"baz\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test\",\n#    \"_id\" : \"17\",\n#    \"_type\" : \"type_1\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test/type_2/18?opType=create'  -d '\n{\n   \"num\" : 19,\n   \"text\" : \"baz\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test\",\n#    \"_id\" : \"18\",\n#    \"_type\" : \"type_2\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test_2/type_1/19?opType=create'  -d '\n{\n   \"num\" : 20,\n   \"text\" : \"baz\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test_2\",\n#    \"_id\" : \"19\",\n#    \"_type\" : \"type_1\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test_2/type_2/20?opType=create'  -d '\n{\n   \"num\" : 21,\n   \"text\" : \"baz\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test_2\",\n#    \"_id\" : \"20\",\n#    \"_type\" : \"type_2\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test/type_1/21?opType=create'  -d '\n{\n   \"num\" : 22,\n   \"text\" : \"bar\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test\",\n#    \"_id\" : \"21\",\n#    \"_type\" : \"type_1\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test/type_2/22?opType=create'  -d '\n{\n   \"num\" : 23,\n   \"text\" : \"bar\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test\",\n#    \"_id\" : \"22\",\n#    \"_type\" : \"type_2\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test_2/type_1/23?opType=create'  -d '\n{\n   \"num\" : 24,\n   \"text\" : \"bar\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test_2\",\n#    \"_id\" : \"23\",\n#    \"_type\" : \"type_1\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test_2/type_2/24?opType=create'  -d '\n{\n   \"num\" : 25,\n   \"text\" : \"bar\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test_2\",\n#    \"_id\" : \"24\",\n#    \"_type\" : \"type_2\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test/type_1/25?opType=create'  -d '\n{\n   \"num\" : 26,\n   \"text\" : \"foo baz\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test\",\n#    \"_id\" : \"25\",\n#    \"_type\" : \"type_1\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test/type_2/26?opType=create'  -d '\n{\n   \"num\" : 27,\n   \"text\" : \"foo baz\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test\",\n#    \"_id\" : \"26\",\n#    \"_type\" : \"type_2\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test_2/type_1/27?opType=create'  -d '\n{\n   \"num\" : 28,\n   \"text\" : \"foo baz\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test_2\",\n#    \"_id\" : \"27\",\n#    \"_type\" : \"type_1\"\n# }\n\n\ncurl -XPUT 'http://127.0.0.2:9201/es_test_2/type_2/28?opType=create'  -d '\n{\n   \"num\" : 29,\n   \"text\" : \"foo baz\"\n}\n'\n# {\n#    \"ok\" : true,\n#    \"_index\" : \"es_test_2\",\n#    \"_id\" : \"28\",\n#    \"_type\" : \"type_2\"\n# }\n\n\ncurl -XPOST 'http://127.0.0.2:9201/_flush?refresh=true' \n# {\n#    \"ok\" : true,\n#    \"_shards\" : {\n#       \"failed\" : 0,\n#       \"successful\" : 20,\n#       \"total\" : 20\n#    }\n# }\n\n\ncurl -XGET 'http://127.0.0.2:9201/_all/_search'  -d '\n{\n   \"query\" : {\n      \"matchAll\" : {}\n   }\n}\n'\n# {\n#    \"hits\" : {\n#       \"hits\" : [\n#          {\n#             \"_source\" : {\n#                \"num\" : 4,\n#                \"text\" : \"foo\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"3\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 5,\n#                \"text\" : \"foo\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"4\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 9,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"8\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 21,\n#                \"text\" : \"baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"20\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 3,\n#                \"text\" : \"foo\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"2\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 7,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"6\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 2,\n#                \"text\" : \"foo\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"1\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 11,\n#                \"text\" : \"foo bar baz\"\n#             },\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"10\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 22,\n#                \"text\" : \"bar\"\n#             },\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"21\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 10,\n#                \"text\" : \"foo bar baz\"\n#             },\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"9\",\n#             \"_type\" : \"type_1\"\n#          }\n#       ],\n#       \"total\" : 28\n#    },\n#    \"_shards\" : {\n#       \"failed\" : 0,\n#       \"successful\" : 10,\n#       \"total\" : 10\n#    }\n# }\n\n\ncurl -XGET 'http://127.0.0.2:9201/_all/_search'  -d '\n{\n   \"query\" : {\n      \"matchAll\" : {}\n   },\n   \"size\" : 100\n}\n'\n# {\n#    \"hits\" : {\n#       \"hits\" : [\n#          {\n#             \"_source\" : {\n#                \"num\" : 5,\n#                \"text\" : \"foo\"\n#             },\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"4\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 7,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"6\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 3,\n#                \"text\" : \"foo\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"2\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 11,\n#                \"text\" : \"foo bar baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"10\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 4,\n#                \"text\" : \"foo\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"3\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 9,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"8\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 21,\n#                \"text\" : \"baz\"\n#             },\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"20\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 2,\n#                \"text\" : \"foo\"\n#             },\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"1\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 6,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"5\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 8,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"7\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 12,\n#                \"text\" : \"foo bar baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"11\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 10,\n#                \"text\" : \"foo bar baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"9\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 20,\n#                \"text\" : \"baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"19\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 22,\n#                \"text\" : \"bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"21\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 16,\n#                \"text\" : \"bar baz\"\n#             },\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"15\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 23,\n#                \"text\" : \"bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"22\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 14,\n#                \"text\" : \"bar baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"13\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 13,\n#                \"text\" : \"foo bar baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"12\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 18,\n#                \"text\" : \"baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"17\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 24,\n#                \"text\" : \"bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"23\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 17,\n#                \"text\" : \"bar baz\"\n#             },\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"16\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 15,\n#                \"text\" : \"bar baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"14\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 19,\n#                \"text\" : \"baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"18\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 25,\n#                \"text\" : \"bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"24\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 26,\n#                \"text\" : \"foo baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"25\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 28,\n#                \"text\" : \"foo baz\"\n#             },\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"27\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 27,\n#                \"text\" : \"foo baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"26\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 29,\n#                \"text\" : \"foo baz\"\n#             },\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"28\",\n#             \"_type\" : \"type_2\"\n#          }\n#       ],\n#       \"total\" : 28\n#    },\n#    \"_shards\" : {\n#       \"failed\" : 0,\n#       \"successful\" : 10,\n#       \"total\" : 10\n#    }\n# }\n\n\ncurl -XGET 'http://127.0.0.2:9201/_all/_search?searchType=query_then_fetch'  -d '\n{\n   \"query\" : {\n      \"matchAll\" : {}\n   }\n}\n'\n# {\n#    \"hits\" : {\n#       \"hits\" : [\n#          {\n#             \"_source\" : {\n#                \"num\" : 4,\n#                \"text\" : \"foo\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"3\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 5,\n#                \"text\" : \"foo\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"4\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 9,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"8\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 21,\n#                \"text\" : \"baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"20\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 3,\n#                \"text\" : \"foo\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"2\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 7,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"6\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 2,\n#                \"text\" : \"foo\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"1\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 11,\n#                \"text\" : \"foo bar baz\"\n#             },\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"10\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 22,\n#                \"text\" : \"bar\"\n#             },\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"21\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 10,\n#                \"text\" : \"foo bar baz\"\n#             },\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"9\",\n#             \"_type\" : \"type_1\"\n#          }\n#       ],\n#       \"total\" : 28\n#    },\n#    \"_shards\" : {\n#       \"failed\" : 0,\n#       \"successful\" : 10,\n#       \"total\" : 10\n#    }\n# }\n\n\ncurl -XGET 'http://127.0.0.2:9201/_all/_search?searchType=query_and_fetch'  -d '\n{\n   \"query\" : {\n      \"matchAll\" : {}\n   }\n}\n'\n# {\n#    \"hits\" : {\n#       \"hits\" : [\n#          {\n#             \"_source\" : {\n#                \"num\" : 5,\n#                \"text\" : \"foo\"\n#             },\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"4\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 7,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"6\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 3,\n#                \"text\" : \"foo\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"2\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 11,\n#                \"text\" : \"foo bar baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"10\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 4,\n#                \"text\" : \"foo\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"3\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 9,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"8\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 21,\n#                \"text\" : \"baz\"\n#             },\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"20\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 2,\n#                \"text\" : \"foo\"\n#             },\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"1\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 6,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"5\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 8,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"7\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 12,\n#                \"text\" : \"foo bar baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"11\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 10,\n#                \"text\" : \"foo bar baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"9\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 20,\n#                \"text\" : \"baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"19\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 22,\n#                \"text\" : \"bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"21\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 16,\n#                \"text\" : \"bar baz\"\n#             },\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"15\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 23,\n#                \"text\" : \"bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"22\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 14,\n#                \"text\" : \"bar baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"13\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 13,\n#                \"text\" : \"foo bar baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"12\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 18,\n#                \"text\" : \"baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"17\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 24,\n#                \"text\" : \"bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"23\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 17,\n#                \"text\" : \"bar baz\"\n#             },\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"16\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 15,\n#                \"text\" : \"bar baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"14\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 19,\n#                \"text\" : \"baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"18\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 25,\n#                \"text\" : \"bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"24\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 26,\n#                \"text\" : \"foo baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"25\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 28,\n#                \"text\" : \"foo baz\"\n#             },\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"27\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 27,\n#                \"text\" : \"foo baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"26\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 29,\n#                \"text\" : \"foo baz\"\n#             },\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"28\",\n#             \"_type\" : \"type_2\"\n#          }\n#       ],\n#       \"total\" : 28\n#    },\n#    \"_shards\" : {\n#       \"failed\" : 0,\n#       \"successful\" : 10,\n#       \"total\" : 10\n#    }\n# }\n\n\ncurl -XGET 'http://127.0.0.2:9201/_all/_search'  -d '\n{\n   \"query\" : {\n      \"term\" : {\n         \"text\" : \"foo\"\n      }\n   }\n}\n'\n# {\n#    \"hits\" : {\n#       \"hits\" : [\n#          {\n#             \"_source\" : {\n#                \"num\" : 3,\n#                \"text\" : \"foo\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"2\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 5,\n#                \"text\" : \"foo\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"4\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 4,\n#                \"text\" : \"foo\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"3\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 6,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"5\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 9,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"8\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 7,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"6\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 8,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"7\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 26,\n#                \"text\" : \"foo baz\"\n#             },\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"25\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 28,\n#                \"text\" : \"foo baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"27\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 27,\n#                \"text\" : \"foo baz\"\n#             },\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"26\",\n#             \"_type\" : \"type_2\"\n#          }\n#       ],\n#       \"total\" : 16\n#    },\n#    \"_shards\" : {\n#       \"failed\" : 0,\n#       \"successful\" : 10,\n#       \"total\" : 10\n#    }\n# }\n\n\ncurl -XGET 'http://127.0.0.2:9201/_all/_search'  -d '\n{\n   \"query\" : {\n      \"queryString\" : {\n         \"defaultField\" : \"text\",\n         \"query\" : \"foo OR bar\"\n      }\n   }\n}\n'\n# {\n#    \"hits\" : {\n#       \"hits\" : [\n#          {\n#             \"_source\" : {\n#                \"num\" : 6,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"5\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 8,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"7\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 7,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"6\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 9,\n#                \"text\" : \"foo bar\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"8\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 10,\n#                \"text\" : \"foo bar baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"9\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 11,\n#                \"text\" : \"foo bar baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"10\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 12,\n#                \"text\" : \"foo bar baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"11\",\n#             \"_type\" : \"type_1\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 13,\n#                \"text\" : \"foo bar baz\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"12\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 3,\n#                \"text\" : \"foo\"\n#             },\n#             \"fields\" : {},\n#             \"_index\" : \"es_test\",\n#             \"_id\" : \"2\",\n#             \"_type\" : \"type_2\"\n#          },\n#          {\n#             \"_source\" : {\n#                \"num\" : 5,\n#                \"text\" : \"foo\"\n#             },\n#             \"_index\" : \"es_test_2\",\n#             \"_id\" : \"4\",\n#             \"_type\" : \"type_2\"\n#          }\n#       ],\n#       \"total\" : 24\n#    },\n#    \"_shards\" : {\n#       \"failed\" : 0,\n#       \"successful\" : 10,\n#       \"total\" : 10\n#    }\n# }\n\n\ncurl -XGET 'http://127.0.0.2:9201/_all/_search'  -d '\n{\n   \"query\" : {\n      \"queryString\" : {\n         \"defaultField\" : \"text\",\n         \"query\" : \"foo OR bar\"\n      }\n   },\n   \"facets\" : {\n      \"barFacet\" : {\n         \"query\" : {\n            \"term\" : {\n               \"text\" : \"bar\"\n            }\n         }\n      },\n      \"bazFacet\" : {\n         \"query\" : {\n            \"term\" : {\n               \"text\" : \"baz\"\n            }\n         }\n      }\n   }\n}\n'\n#500 Server closed connection without sending any data back\n```\n\nNode errors:\n\n```\n[18:51:56,987][INFO ][server                   ] [Super Sabre] {ElasticSearch/0.5.0/2010-02-19T12:32:15/dev}: Closing ...\n[18:52:06,995][INFO ][server                   ] [Super Sabre] {ElasticSearch/0.5.0/2010-02-19T12:32:15/dev}: Closed\n[18:52:06,998][WARN ][indices.cluster          ] [Super Sabre] Failed to start shard for index [es_test_2] and shard id [0]\norg.elasticsearch.index.shard.recovery.RecoveryFailedException: Index Shard [es_test_2][0]: Recovery failed from [Shadow Slasher][getafix-27084][data][inet[getafix.traveljury.com/127.0.0.2:9301]] into [Super Sabre][getafix-62342][data][inet[getafix.traveljury.com/127.0.0.2:9302]]\n    at org.elasticsearch.index.shard.recovery.RecoveryAction.startRecovery(RecoveryAction.java:154)\n    at org.elasticsearch.indices.cluster.IndicesClusterStateService$3.run(IndicesClusterStateService.java:325)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:619)\nCaused by: org.elasticsearch.ElasticSearchInterruptedException\n    at org.elasticsearch.transport.PlainTransportFuture.txGet(PlainTransportFuture.java:97)\n    at org.elasticsearch.transport.PlainTransportFuture.txGet(PlainTransportFuture.java:34)\n    at org.elasticsearch.index.shard.recovery.RecoveryAction.startRecovery(RecoveryAction.java:124)\n    ... 4 more\n[18:52:06,999][WARN ][indices.cluster          ] [Super Sabre] Failed to start shard for index [es_test] and shard id [2]\norg.elasticsearch.index.shard.recovery.RecoveryFailedException: Index Shard [es_test][2]: Recovery failed from [Shadow Slasher][getafix-27084][data][inet[getafix.traveljury.com/127.0.0.2:9301]] into [Super Sabre][getafix-62342][data][inet[getafix.traveljury.com/127.0.0.2:9302]]\n    at org.elasticsearch.index.shard.recovery.RecoveryAction.startRecovery(RecoveryAction.java:154)\n    at org.elasticsearch.indices.cluster.IndicesClusterStateService$3.run(IndicesClusterStateService.java:325)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:619)\nCaused by: org.elasticsearch.ElasticSearchInterruptedException\n    at org.elasticsearch.transport.PlainTransportFuture.txGet(PlainTransportFuture.java:97)\n    at org.elasticsearch.transport.PlainTransportFuture.txGet(PlainTransportFuture.java:34)\n    at org.elasticsearch.index.shard.recovery.RecoveryAction.startRecovery(RecoveryAction.java:124)\n    ... 4 more\n[18:52:06,998][WARN ][indices.cluster          ] [Super Sabre] Failed to start shard for index [es_test_2] and shard id [3]\norg.elasticsearch.index.shard.recovery.RecoveryFailedException: Index Shard [es_test_2][3]: Recovery failed from [Shadow Slasher][getafix-27084][data][inet[getafix.traveljury.com/127.0.0.2:9301]] into [Super Sabre][getafix-62342][data][inet[getafix.traveljury.com/127.0.0.2:9302]]\n    at org.elasticsearch.index.shard.recovery.RecoveryAction.startRecovery(RecoveryAction.java:154)\n    at org.elasticsearch.indices.cluster.IndicesClusterStateService$3.run(IndicesClusterStateService.java:325)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:619)\nCaused by: org.elasticsearch.ElasticSearchInterruptedException\n    at org.elasticsearch.transport.PlainTransportFuture.txGet(PlainTransportFuture.java:97)\n    at org.elasticsearch.transport.PlainTransportFuture.txGet(PlainTransportFuture.java:34)\n    at org.elasticsearch.index.shard.recovery.RecoveryAction.startRecovery(RecoveryAction.java:124)\n    ... 4 more\n[18:52:07,003][WARN ][cluster.action.shard     ] [Super Sabre] Sending failed shard for [es_test_2][3], Node[getafix-62342], [B], S[INITIALIZING]\n[18:52:07,001][WARN ][cluster.action.shard     ] [Super Sabre] Sending failed shard for [es_test_2][0], Node[getafix-62342], [B], S[INITIALIZING]\n[18:52:07,004][WARN ][indices.cluster          ] [Super Sabre] Failed to mark shard as failed after a failed start for index [es_test_2] and shard id [0]\norg.elasticsearch.index.shard.recovery.RecoveryFailedException: Index Shard [es_test_2][0]: Recovery failed from [Shadow Slasher][getafix-27084][data][inet[getafix.traveljury.com/127.0.0.2:9301]] into [Super Sabre][getafix-62342][data][inet[getafix.traveljury.com/127.0.0.2:9302]]\n    at org.elasticsearch.index.shard.recovery.RecoveryAction.startRecovery(RecoveryAction.java:154)\n    at org.elasticsearch.indices.cluster.IndicesClusterStateService$3.run(IndicesClusterStateService.java:325)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:619)\nCaused by: org.elasticsearch.ElasticSearchInterruptedException\n    at org.elasticsearch.transport.PlainTransportFuture.txGet(PlainTransportFuture.java:97)\n    at org.elasticsearch.transport.PlainTransportFuture.txGet(PlainTransportFuture.java:34)\n    at org.elasticsearch.index.shard.recovery.RecoveryAction.startRecovery(RecoveryAction.java:124)\n    ... 4 more\n[18:52:07,002][WARN ][cluster.action.shard     ] [Super Sabre] Sending failed shard for [es_test][2], Node[getafix-62342], [B], S[INITIALIZING]\n[18:52:07,005][WARN ][indices.cluster          ] [Super Sabre] Failed to mark shard as failed after a failed start for index [es_test] and shard id [2]\norg.elasticsearch.index.shard.recovery.RecoveryFailedException: Index Shard [es_test][2]: Recovery failed from [Shadow Slasher][getafix-27084][data][inet[getafix.traveljury.com/127.0.0.2:9301]] into [Super Sabre][getafix-62342][data][inet[getafix.traveljury.com/127.0.0.2:9302]]\n    at org.elasticsearch.index.shard.recovery.RecoveryAction.startRecovery(RecoveryAction.java:154)\n    at org.elasticsearch.indices.cluster.IndicesClusterStateService$3.run(IndicesClusterStateService.java:325)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:619)\nCaused by: org.elasticsearch.ElasticSearchInterruptedException\n    at org.elasticsearch.transport.PlainTransportFuture.txGet(PlainTransportFuture.java:97)\n    at org.elasticsearch.transport.PlainTransportFuture.txGet(PlainTransportFuture.java:34)\n    at org.elasticsearch.index.shard.recovery.RecoveryAction.startRecovery(RecoveryAction.java:124)\n    ... 4 more\n[18:52:07,004][WARN ][indices.cluster          ] [Super Sabre] Failed to mark shard as failed after a failed start for index [es_test_2] and shard id [3]\norg.elasticsearch.index.shard.recovery.RecoveryFailedException: Index Shard [es_test_2][3]: Recovery failed from [Shadow Slasher][getafix-27084][data][inet[getafix.traveljury.com/127.0.0.2:9301]] into [Super Sabre][getafix-62342][data][inet[getafix.traveljury.com/127.0.0.2:9302]]\n    at org.elasticsearch.index.shard.recovery.RecoveryAction.startRecovery(RecoveryAction.java:154)\n    at org.elasticsearch.indices.cluster.IndicesClusterStateService$3.run(IndicesClusterStateService.java:325)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:619)\nCaused by: org.elasticsearch.ElasticSearchInterruptedException\n    at org.elasticsearch.transport.PlainTransportFuture.txGet(PlainTransportFuture.java:97)\n    at org.elasticsearch.transport.PlainTransportFuture.txGet(PlainTransportFuture.java:34)\n    at org.elasticsearch.index.shard.recovery.RecoveryAction.startRecovery(RecoveryAction.java:124)\n    ... 4 more\n```\n","closed_by":null,"performed_via_github_app":null}