[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/350216778","html_url":"https://github.com/elastic/elasticsearch/issues/27646#issuecomment-350216778","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27646","id":350216778,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDIxNjc3OA==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2017-12-08T09:30:08Z","updated_at":"2017-12-08T09:30:08Z","author_association":"CONTRIBUTOR","body":"I think the change that has been made probably works for production but not for the integration tests.\r\n\r\nThe integration tests now fail with this error:\r\n\r\n```\r\n08:52:44 |  [log]\r\n08:52:44 |    warning: ignoring JAVA_TOOL_OPTIONS=-Dfile.encoding=UTF8\r\n08:52:44 |    Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\n08:52:44 |    [0.001s][error][logging] Error opening log file '/var/log/elasticsearch/gc.log': No such file or directory\r\n08:52:44 |    Initialization of output 'file=/var/log/elasticsearch/gc.log' using options 'filecount=32,filesize=64m' failed.\r\n08:52:44 |    Invalid -Xlog option '-Xlog:gc*,gc+age=trace,safepoint:file=/var/log/elasticsearch/gc.log:utctime,pid,tags:filecount=32,filesize=64m'\r\n08:52:44 |    Error: Could not create the Java Virtual Machine.\r\n08:52:44 |    Error: A fatal exception has occurred. Program will exit.\r\n```\r\n\r\nAn example of this is https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+java9-periodic/4989/console\r\n\r\nI think the problem is that the JVM is being told to log to `/var/log/elasticsearch`, but for the integration tests the rpm is installed into a sub-directory of the build directory, so the directory that actually exists is `distribution/rpm/build/cluster/integTestCluster node0/rpm-extracted/var/log/elasticsearch`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/350217754","html_url":"https://github.com/elastic/elasticsearch/issues/27646#issuecomment-350217754","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27646","id":350217754,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDIxNzc1NA==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2017-12-08T09:34:44Z","updated_at":"2017-12-08T09:34:44Z","author_association":"CONTRIBUTOR","body":"This one is basically the same problem but when testing the deb rather than the rpm: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+java9-periodic/1609/console","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/350239216","html_url":"https://github.com/elastic/elasticsearch/issues/27646#issuecomment-350239216","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27646","id":350239216,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDIzOTIxNg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-12-08T11:15:53Z","updated_at":"2017-12-08T11:15:53Z","author_association":"MEMBER","body":"@droberts195 This is tracked in #26062 (see [comment](https://github.com/elastic/elasticsearch/issues/26062#issuecomment-350057073)). In short, the proposal in that issue is stop exploding these archives and starting Elasticsearch from them as that is not how they are intended to be used (instead, installed via a package manager and started as a service). So we need to disable these integration tests for the RPM and the Debian (we already have tests that they work in the packaging tests). I'm going to re-close this in favor of that one.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/350293472","html_url":"https://github.com/elastic/elasticsearch/issues/27646#issuecomment-350293472","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27646","id":350293472,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDI5MzQ3Mg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-12-08T15:37:37Z","updated_at":"2017-12-08T15:37:37Z","author_association":"MEMBER","body":"I opened #27725.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367609936","html_url":"https://github.com/elastic/elasticsearch/issues/27646#issuecomment-367609936","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27646","id":367609936,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzYwOTkzNg==","user":{"login":"steelywing","id":2720049,"node_id":"MDQ6VXNlcjI3MjAwNDk=","avatar_url":"https://avatars2.githubusercontent.com/u/2720049?v=4","gravatar_id":"","url":"https://api.github.com/users/steelywing","html_url":"https://github.com/steelywing","followers_url":"https://api.github.com/users/steelywing/followers","following_url":"https://api.github.com/users/steelywing/following{/other_user}","gists_url":"https://api.github.com/users/steelywing/gists{/gist_id}","starred_url":"https://api.github.com/users/steelywing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steelywing/subscriptions","organizations_url":"https://api.github.com/users/steelywing/orgs","repos_url":"https://api.github.com/users/steelywing/repos","events_url":"https://api.github.com/users/steelywing/events{/privacy}","received_events_url":"https://api.github.com/users/steelywing/received_events","type":"User","site_admin":false},"created_at":"2018-02-22T08:55:25Z","updated_at":"2018-02-22T08:55:25Z","author_association":"NONE","body":"I get the following error, when using OpenJDK 9, Ubuntu 16\r\n```\r\n[0.000s][error][logging] Invalid decorator 'utctime'.\r\nInvalid -Xlog option '-Xlog:gc*,gc+age=trace,safepoint:file=/var/log/elasticsearch/gc.log:utctime,pid,tags:filecount=32,filesize=64m'\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n```\r\n","performed_via_github_app":null}]