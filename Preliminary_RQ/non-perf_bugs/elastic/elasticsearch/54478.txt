{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/54478","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54478/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54478/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54478/events","html_url":"https://github.com/elastic/elasticsearch/issues/54478","id":590817118,"node_id":"MDU6SXNzdWU1OTA4MTcxMTg=","number":54478,"title":"cat thread_pool size enum empty string value","user":{"login":"russcam","id":208231,"node_id":"MDQ6VXNlcjIwODIzMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/208231?v=4","gravatar_id":"","url":"https://api.github.com/users/russcam","html_url":"https://github.com/russcam","followers_url":"https://api.github.com/users/russcam/followers","following_url":"https://api.github.com/users/russcam/following{/other_user}","gists_url":"https://api.github.com/users/russcam/gists{/gist_id}","starred_url":"https://api.github.com/users/russcam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/russcam/subscriptions","organizations_url":"https://api.github.com/users/russcam/orgs","repos_url":"https://api.github.com/users/russcam/repos","events_url":"https://api.github.com/users/russcam/events{/privacy}","received_events_url":"https://api.github.com/users/russcam/received_events","type":"User","site_admin":false},"labels":[{"id":165912659,"node_id":"MDU6TGFiZWwxNjU5MTI2NTk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/CAT%20APIs","name":":Core/Features/CAT APIs","color":"0e8a16","default":false,"description":"Text APIs behind /_cat"},{"id":1967496097,"node_id":"MDU6TGFiZWwxOTY3NDk2MDk3","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Core/Features","name":"Team:Core/Features","color":"fef2c0","default":false,"description":"Meta label for core/features team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-03-31T05:53:34Z","updated_at":"2020-05-06T19:26:09Z","closed_at":"2020-05-06T19:26:09Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"The cat thread_pool rest API spec defines a `\"size\"` param of type `enum` with possible values:\r\n\r\nhttps://github.com/elastic/elasticsearch/blob/6fcb51dafcd5519937e7169aaec5b499aa88de36/rest-api-spec/src/main/resources/rest-api-spec/api/cat.thread_pool.json#L35-L46\r\n\r\nThis param is the only example within all the rest API specs with an empty string enum value. An empty string value may require special handling by clients generating source code from the specs, specifically in cases where the client language may represent the possible values as an enum, for example, [the C# (.NET) client](https://github.com/elastic/elasticsearch-net/blob/a0f69f2f93ca446d57926f15af9ba37e053feb85/src/Elasticsearch.Net/Api/Enums.Generated.cs#L290-L305):\r\n\r\n```c#\r\n[StringEnum]\r\npublic enum Size\r\n{\r\n    [EnumMember(Value = \"\")]\r\n    Raw,\r\n    [EnumMember(Value = \"k\")]\r\n    K,\r\n    [EnumMember(Value = \"m\")]\r\n    M,\r\n    [EnumMember(Value = \"g\")]\r\n    G,\r\n    [EnumMember(Value = \"t\")]\r\n    T,\r\n    [EnumMember(Value = \"p\")]\r\n    P\r\n}\r\n```\r\n\r\n[The documentation for size units](https://www.elastic.co/guide/en/elasticsearch/reference/current/common-options.html#size-units) doesn't mention empty string, and it _looks_ like the absence of a size unit value returns sizes in their raw, unmultiplied, values.\r\n\r\nWith the introduction of a json schema in #54252, the empty string enum value fails validation. Of course, the json schema can be changed to accommodate an empty string value, but since it is the only example and _seems_ to operate the same as specifying no size param, I'm opening this issue to discuss whether the empty string value can be removed. \r\n","closed_by":{"login":"jakelandis","id":976291,"node_id":"MDQ6VXNlcjk3NjI5MQ==","avatar_url":"https://avatars2.githubusercontent.com/u/976291?v=4","gravatar_id":"","url":"https://api.github.com/users/jakelandis","html_url":"https://github.com/jakelandis","followers_url":"https://api.github.com/users/jakelandis/followers","following_url":"https://api.github.com/users/jakelandis/following{/other_user}","gists_url":"https://api.github.com/users/jakelandis/gists{/gist_id}","starred_url":"https://api.github.com/users/jakelandis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakelandis/subscriptions","organizations_url":"https://api.github.com/users/jakelandis/orgs","repos_url":"https://api.github.com/users/jakelandis/repos","events_url":"https://api.github.com/users/jakelandis/events{/privacy}","received_events_url":"https://api.github.com/users/jakelandis/received_events","type":"User","site_admin":false},"performed_via_github_app":null}