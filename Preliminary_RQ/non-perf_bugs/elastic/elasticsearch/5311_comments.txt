[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36520851","html_url":"https://github.com/elastic/elasticsearch/issues/5311#issuecomment-36520851","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5311","id":36520851,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTIwODUx","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2014-03-03T15:31:15Z","updated_at":"2014-03-03T15:31:15Z","author_association":"MEMBER","body":"At the moment ES does notify it's plugins of closing to give a chance to clean up. That is Marvel does and it tries to send the last queued up events - which is what you want to do in the case that data is sent to another ES cluster (our recommended production set up). This does generate an error if the data is sent to the very same node because as it is refusing new connections. I have already a note to be smarter about it but the solution is not trivial.\n\nI'm closing the issue because it's expected (though not ideal). Thx for bringing it up.\n","performed_via_github_app":null}]