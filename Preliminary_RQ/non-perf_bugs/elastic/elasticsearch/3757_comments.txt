[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/24894727","html_url":"https://github.com/elastic/elasticsearch/issues/3757#issuecomment-24894727","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3757","id":24894727,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODk0NzI3","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2013-09-23T01:00:19Z","updated_at":"2013-09-23T01:00:19Z","author_association":"CONTRIBUTOR","body":"After poking around at this I've figured out a few things:\n1.  This is a Lucene behaviour so it'd have to be fixed upstream/mirrored in Elasticsearch and submitted upstream.\n2.  It all comes down to the scoring phase being done without access to the array boundaries.\n3.  You can't use position_offset_gap to make a big gap because that set _term_ position which isn't used to figure out highlighting segments.  That uses _offsets_.\n\nI could live with closing this issue and amending http://www.elasticsearch.org/guide/reference/api/search/highlighting/ to ward people of trying the FVH for score ordered array fields.\n\nI imagine the FVH might be faster to highlight array's with long values or lots of values but really, I have no way to test it.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/26361220","html_url":"https://github.com/elastic/elasticsearch/issues/3757#issuecomment-26361220","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3757","id":26361220,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzYxMjIw","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2013-10-15T18:44:57Z","updated_at":"2013-10-15T18:44:57Z","author_association":"CONTRIBUTOR","body":"Filed LUCENE-5285 which I'll have a look at when I get a chance.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27106062","html_url":"https://github.com/elastic/elasticsearch/issues/3757#issuecomment-27106062","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3757","id":27106062,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MTA2MDYy","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2013-10-25T16:23:37Z","updated_at":"2013-10-25T16:23:37Z","author_association":"CONTRIBUTOR","body":"I've posted a solution to this over on the Lucene bug.  I'd love to get this fixed so I can use #3750 on all of my fields.  Well, once that is implemented.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27785328","html_url":"https://github.com/elastic/elasticsearch/issues/3757#issuecomment-27785328","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3757","id":27785328,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Nzg1MzI4","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2013-11-05T16:02:53Z","updated_at":"2013-11-05T16:02:53Z","author_association":"CONTRIBUTOR","body":"@jpountz, would it be possible for you to have a look at LUCENE-5285, this bug's Lucene brother?  This wouldn't be a big deal but if I'm going to be able to use #3750 on all of my fields I'll need this fixed too.  I've posted a patch over there which I think should do the job.  This is a lot less complicated than #3750 was, I think.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/29724862","html_url":"https://github.com/elastic/elasticsearch/issues/3757#issuecomment-29724862","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3757","id":29724862,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NzI0ODYy","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2013-12-03T16:27:43Z","updated_at":"2013-12-03T16:27:43Z","author_association":"CONTRIBUTOR","body":"@jpountz got this in to Lucene 4.7 so when that is released and Elasticsearch updates to it this will be fixed for free.  I don't feel it is worth X classing it into Elasticsearch at this point.  Thanks!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/29725856","html_url":"https://github.com/elastic/elasticsearch/issues/3757#issuecomment-29725856","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3757","id":29725856,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NzI1ODU2","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2013-12-03T16:37:11Z","updated_at":"2013-12-03T16:37:11Z","author_association":"CONTRIBUTOR","body":"Agreed. I added the \"Lucene 4.7 Upgrade\" label so that we don't forget to close this issue when we switch to Lucene 4.7.\n","performed_via_github_app":null}]