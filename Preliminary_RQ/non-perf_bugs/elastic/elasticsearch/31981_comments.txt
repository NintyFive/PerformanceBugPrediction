[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/404548259","html_url":"https://github.com/elastic/elasticsearch/issues/31981#issuecomment-404548259","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31981","id":404548259,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDU0ODI1OQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-07-12T15:16:19Z","updated_at":"2018-07-12T15:16:19Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search-aggs","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/404564834","html_url":"https://github.com/elastic/elasticsearch/issues/31981#issuecomment-404564834","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31981","id":404564834,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDU2NDgzNA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2018-07-12T16:06:24Z","updated_at":"2018-07-12T16:06:24Z","author_association":"MEMBER","body":"This is expected since in 6.x the `query_string` does not split on whitespace anymore. By default in 6.x a query like `seaplane hawkesbury cowan` will build one query per field where all terms are mandatory if the `default_operator` is `AND`. You can restore the `cross_fields` matching by setting the`type` option to [`cross_fields`](\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-multi-match-query.html#multi-match-types) but fields are grouped by analyzer so it won't work if your fields do not share the same analyzer/type. If this is the case for you (fields do not share the same analyzer) you have no choice but to add an explicit operator where you need a split. I am going to close the issue because the behavior is expected, @boyter please comment if the proposed workaround does not work for you and we can reopen if needed.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/404677489","html_url":"https://github.com/elastic/elasticsearch/issues/31981#issuecomment-404677489","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31981","id":404677489,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDY3NzQ4OQ==","user":{"login":"boyter","id":612151,"node_id":"MDQ6VXNlcjYxMjE1MQ==","avatar_url":"https://avatars1.githubusercontent.com/u/612151?v=4","gravatar_id":"","url":"https://api.github.com/users/boyter","html_url":"https://github.com/boyter","followers_url":"https://api.github.com/users/boyter/followers","following_url":"https://api.github.com/users/boyter/following{/other_user}","gists_url":"https://api.github.com/users/boyter/gists{/gist_id}","starred_url":"https://api.github.com/users/boyter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boyter/subscriptions","organizations_url":"https://api.github.com/users/boyter/orgs","repos_url":"https://api.github.com/users/boyter/repos","events_url":"https://api.github.com/users/boyter/events{/privacy}","received_events_url":"https://api.github.com/users/boyter/received_events","type":"User","site_admin":false},"created_at":"2018-07-12T23:03:58Z","updated_at":"2018-07-13T02:07:21Z","author_association":"NONE","body":"@jimczi Ah that explains it. I was coming from older versions where `_all` was there and resolved a lot of these issues. Annoying, but not a huge issue in this case as they all have the same analyzer and type.\r\n\r\nOne issue with using the `cross_fields` is that you no longer can have a default operator, which means your search becomes `or` by default, and if you specify the `operator` you cannot have user controlled boolean search.\r\n\r\nNo problem. I have created a new field `_everything` and put all the fields I require in there and add that to be searched across to resolve this issue.\r\n\r\nThanks for the prompt response.","performed_via_github_app":null}]