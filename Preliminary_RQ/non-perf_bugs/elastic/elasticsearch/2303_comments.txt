[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/9144121","html_url":"https://github.com/elastic/elasticsearch/issues/2303#issuecomment-9144121","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2303","id":9144121,"node_id":"MDEyOklzc3VlQ29tbWVudDkxNDQxMjE=","user":{"login":"SakulK","id":1440804,"node_id":"MDQ6VXNlcjE0NDA4MDQ=","avatar_url":"https://avatars2.githubusercontent.com/u/1440804?v=4","gravatar_id":"","url":"https://api.github.com/users/SakulK","html_url":"https://github.com/SakulK","followers_url":"https://api.github.com/users/SakulK/followers","following_url":"https://api.github.com/users/SakulK/following{/other_user}","gists_url":"https://api.github.com/users/SakulK/gists{/gist_id}","starred_url":"https://api.github.com/users/SakulK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SakulK/subscriptions","organizations_url":"https://api.github.com/users/SakulK/orgs","repos_url":"https://api.github.com/users/SakulK/repos","events_url":"https://api.github.com/users/SakulK/events{/privacy}","received_events_url":"https://api.github.com/users/SakulK/received_events","type":"User","site_admin":false},"created_at":"2012-10-04T14:54:44Z","updated_at":"2012-10-04T14:54:44Z","author_association":"NONE","body":"I have the same problem\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/9147380","html_url":"https://github.com/elastic/elasticsearch/issues/2303#issuecomment-9147380","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2303","id":9147380,"node_id":"MDEyOklzc3VlQ29tbWVudDkxNDczODA=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2012-10-04T16:20:12Z","updated_at":"2012-10-04T16:20:12Z","author_association":"MEMBER","body":"Which version are you using?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/9149762","html_url":"https://github.com/elastic/elasticsearch/issues/2303#issuecomment-9149762","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2303","id":9149762,"node_id":"MDEyOklzc3VlQ29tbWVudDkxNDk3NjI=","user":{"login":"Rzulf","id":242137,"node_id":"MDQ6VXNlcjI0MjEzNw==","avatar_url":"https://avatars1.githubusercontent.com/u/242137?v=4","gravatar_id":"","url":"https://api.github.com/users/Rzulf","html_url":"https://github.com/Rzulf","followers_url":"https://api.github.com/users/Rzulf/followers","following_url":"https://api.github.com/users/Rzulf/following{/other_user}","gists_url":"https://api.github.com/users/Rzulf/gists{/gist_id}","starred_url":"https://api.github.com/users/Rzulf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rzulf/subscriptions","organizations_url":"https://api.github.com/users/Rzulf/orgs","repos_url":"https://api.github.com/users/Rzulf/repos","events_url":"https://api.github.com/users/Rzulf/events{/privacy}","received_events_url":"https://api.github.com/users/Rzulf/received_events","type":"User","site_admin":false},"created_at":"2012-10-04T17:28:57Z","updated_at":"2012-10-04T17:28:57Z","author_association":"NONE","body":"Version 0.19.8\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/9150885","html_url":"https://github.com/elastic/elasticsearch/issues/2303#issuecomment-9150885","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2303","id":9150885,"node_id":"MDEyOklzc3VlQ29tbWVudDkxNTA4ODU=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2012-10-04T18:01:02Z","updated_at":"2012-10-04T18:01:02Z","author_association":"MEMBER","body":"Can you also check the logs of the nodes and see if there was any error happening before you started to get this failures?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/9153777","html_url":"https://github.com/elastic/elasticsearch/issues/2303#issuecomment-9153777","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2303","id":9153777,"node_id":"MDEyOklzc3VlQ29tbWVudDkxNTM3Nzc=","user":{"login":"Rzulf","id":242137,"node_id":"MDQ6VXNlcjI0MjEzNw==","avatar_url":"https://avatars1.githubusercontent.com/u/242137?v=4","gravatar_id":"","url":"https://api.github.com/users/Rzulf","html_url":"https://github.com/Rzulf","followers_url":"https://api.github.com/users/Rzulf/followers","following_url":"https://api.github.com/users/Rzulf/following{/other_user}","gists_url":"https://api.github.com/users/Rzulf/gists{/gist_id}","starred_url":"https://api.github.com/users/Rzulf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rzulf/subscriptions","organizations_url":"https://api.github.com/users/Rzulf/orgs","repos_url":"https://api.github.com/users/Rzulf/repos","events_url":"https://api.github.com/users/Rzulf/events{/privacy}","received_events_url":"https://api.github.com/users/Rzulf/received_events","type":"User","site_admin":false},"created_at":"2012-10-04T19:23:24Z","updated_at":"2012-10-04T19:23:24Z","author_association":"NONE","body":"I have noticed something like this in logs. In general ES works, but throws loads of Exceptions into log and is unstable, about few hours of uptime, then dies without any error.\n\n[2012-09-18 16:30:18,316][WARN ][index.shard.service      ] [Cethlann] [senti_index][10] Failed to perform scheduled engine refresh\norg.elasticsearch.index.engine.RefreshFailedEngineException: [senti_index][10] Refresh failed\n        at org.elasticsearch.index.engine.robin.RobinEngine.refresh(RobinEngine.java:779)\n        at org.elasticsearch.index.shard.service.InternalIndexShard.refresh(InternalIndexShard.java:440)\n        at org.elasticsearch.index.shard.service.InternalIndexShard$EngineRefresher$1.run(InternalIndexShard.java:765)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n        at java.lang.Thread.run(Thread.java:722)\nCaused by: org.apache.lucene.index.CorruptIndexException: docs out of order (9 <= 9 ) (out: org.apache.lucene.store.FSDirectory$FSIndexOutput@7d851e56)\n        at org.apache.lucene.index.FormatPostingsDocsWriter.addDoc(FormatPostingsDocsWriter.java:84)\n        at org.apache.lucene.index.FreqProxTermsWriter.appendPostings(FreqProxTermsWriter.java:232)\n        at org.apache.lucene.index.FreqProxTermsWriter.flush(FreqProxTermsWriter.java:120)\n        at org.apache.lucene.index.TermsHash.flush(TermsHash.java:113)\n        at org.apache.lucene.index.DocInverter.flush(DocInverter.java:70)\n        at org.apache.lucene.index.DocFieldProcessor.flush(DocFieldProcessor.java:60)\n        at org.apache.lucene.index.DocumentsWriter.flush(DocumentsWriter.java:581)\n        at org.apache.lucene.index.IndexWriter.doFlush(IndexWriter.java:3580)\n        at org.apache.lucene.index.IndexWriter.flush(IndexWriter.java:3545)\n        at org.apache.lucene.index.IndexWriter.getReader(IndexWriter.java:450)\n        at org.apache.lucene.index.IndexWriter.getReader(IndexWriter.java:399)\n        at org.apache.lucene.index.DirectoryReader.doOpenFromWriter(DirectoryReader.java:413)\n        at org.apache.lucene.index.DirectoryReader.doOpenIfChanged(DirectoryReader.java:432)\n        at org.apache.lucene.index.DirectoryReader.doOpenIfChanged(DirectoryReader.java:375)\n        at org.apache.lucene.index.IndexReader.openIfChanged(IndexReader.java:508)\n        at org.apache.lucene.search.SearcherManager.refreshIfNeeded(SearcherManager.java:109)\n        at org.apache.lucene.search.SearcherManager.refreshIfNeeded(SearcherManager.java:57)\n        at org.apache.lucene.search.ReferenceManager.maybeRefresh(ReferenceManager.java:137)\n        at org.elasticsearch.index.engine.robin.RobinEngine.refresh(RobinEngine.java:760)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/9154197","html_url":"https://github.com/elastic/elasticsearch/issues/2303#issuecomment-9154197","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2303","id":9154197,"node_id":"MDEyOklzc3VlQ29tbWVudDkxNTQxOTc=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2012-10-04T19:37:08Z","updated_at":"2012-10-04T19:37:08Z","author_association":"MEMBER","body":"@Rzulf anything interesting before this log? I am looking for possibly an OutOfMemory failure, or running out of file descriptors. Also, are you using the (default) local gateway, or a shared gateway (like s3)?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/9175461","html_url":"https://github.com/elastic/elasticsearch/issues/2303#issuecomment-9175461","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2303","id":9175461,"node_id":"MDEyOklzc3VlQ29tbWVudDkxNzU0NjE=","user":{"login":"Rzulf","id":242137,"node_id":"MDQ6VXNlcjI0MjEzNw==","avatar_url":"https://avatars1.githubusercontent.com/u/242137?v=4","gravatar_id":"","url":"https://api.github.com/users/Rzulf","html_url":"https://github.com/Rzulf","followers_url":"https://api.github.com/users/Rzulf/followers","following_url":"https://api.github.com/users/Rzulf/following{/other_user}","gists_url":"https://api.github.com/users/Rzulf/gists{/gist_id}","starred_url":"https://api.github.com/users/Rzulf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rzulf/subscriptions","organizations_url":"https://api.github.com/users/Rzulf/orgs","repos_url":"https://api.github.com/users/Rzulf/repos","events_url":"https://api.github.com/users/Rzulf/events{/privacy}","received_events_url":"https://api.github.com/users/Rzulf/received_events","type":"User","site_admin":false},"created_at":"2012-10-05T13:36:35Z","updated_at":"2012-10-05T13:36:35Z","author_association":"NONE","body":"I am using local gateway. Hosting serwer in general was pretty unstable lately. In ES logs there were \"too many open files\" as well as \"out of memory\". \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/9177401","html_url":"https://github.com/elastic/elasticsearch/issues/2303#issuecomment-9177401","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2303","id":9177401,"node_id":"MDEyOklzc3VlQ29tbWVudDkxNzc0MDE=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2012-10-05T14:31:57Z","updated_at":"2012-10-05T14:31:57Z","author_association":"MEMBER","body":"@Rzulf can you make sure that you have enough memory and you set properly the max open file descs? You can check the process max files desc config using the nodes info API (with the process flag).\n\nIn general, you shouldn't get into this situation of having problems with the index if this failure happens. Can you gist the errors for the OOM ones and the \"too many open files\" ones? But if you get those, it means that your server is not properly configured and it will be unstable until you resolve it.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/18348469","html_url":"https://github.com/elastic/elasticsearch/issues/2303#issuecomment-18348469","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2303","id":18348469,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MzQ4NDY5","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-05-23T14:53:41Z","updated_at":"2013-05-23T14:53:41Z","author_association":"MEMBER","body":"Closing this issue for now. If you encounter these problems without running into OOM or 'too many open files' again, please reopen this issue and attach relevent log files. Thanks!\n","performed_via_github_app":null}]