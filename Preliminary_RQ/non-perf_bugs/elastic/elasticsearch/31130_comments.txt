[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/395022715","html_url":"https://github.com/elastic/elasticsearch/issues/31130#issuecomment-395022715","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31130","id":395022715,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTAyMjcxNQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2018-06-06T10:33:50Z","updated_at":"2018-06-06T10:33:50Z","author_association":"MEMBER","body":"Can you describe some reasons why ? Doesn't sound like something we need internally nor externally.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/395025780","html_url":"https://github.com/elastic/elasticsearch/issues/31130#issuecomment-395025780","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31130","id":395025780,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTAyNTc4MA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-06-06T10:49:13Z","updated_at":"2018-06-06T10:49:13Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/395078110","html_url":"https://github.com/elastic/elasticsearch/issues/31130#issuecomment-395078110","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31130","id":395078110,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTA3ODExMA==","user":{"login":"jsteggink","id":978411,"node_id":"MDQ6VXNlcjk3ODQxMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/978411?v=4","gravatar_id":"","url":"https://api.github.com/users/jsteggink","html_url":"https://github.com/jsteggink","followers_url":"https://api.github.com/users/jsteggink/followers","following_url":"https://api.github.com/users/jsteggink/following{/other_user}","gists_url":"https://api.github.com/users/jsteggink/gists{/gist_id}","starred_url":"https://api.github.com/users/jsteggink/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsteggink/subscriptions","organizations_url":"https://api.github.com/users/jsteggink/orgs","repos_url":"https://api.github.com/users/jsteggink/repos","events_url":"https://api.github.com/users/jsteggink/events{/privacy}","received_events_url":"https://api.github.com/users/jsteggink/received_events","type":"User","site_admin":false},"created_at":"2018-06-06T13:58:06Z","updated_at":"2018-06-06T13:58:06Z","author_association":"NONE","body":"I'm working on a new Elasticsearch input/output component for Apache Beam which supports ES 6.x. In order to distribute a configuration to other servers, Apache Beam serializes configuration objects. As BackOffPolicy is not serializable I have to implement a workaround in order to serialize the configuration. This means I have to make a custom interface to translate the BackOffPolicy back and forth. The code  would be more maintainable if it's serializable.\r\n\r\nSee the following links for more information:\r\nhttps://issues.apache.org/jira/projects/BEAM/issues/BEAM-3199?filter=allopenissues\r\nhttps://github.com/jsteggink/beam/blob/BEAM-3199/sdks/java/io/elasticsearch-6/src/main/java/org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.java#L743","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/395082762","html_url":"https://github.com/elastic/elasticsearch/issues/31130#issuecomment-395082762","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31130","id":395082762,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTA4Mjc2Mg==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2018-06-06T14:11:24Z","updated_at":"2018-06-06T14:11:24Z","author_association":"MEMBER","body":"> The code would be more maintainable if it's serializable.\r\n\r\nI disagree, you'd need to handle backward compatibility, and we'd be forced to refrain adding options to the existing backoff policy because it could break the serialization. \r\nI think you should manage the BackOffPolicy that you accept in BEAM, with a BEAMBackOffPolicyBuilder for instance, and map the BEAM configuration to a real BackOffPolicy. \r\nBackOffPolicy is not a builder so there is no good reason to provide serialization here. \r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/395092991","html_url":"https://github.com/elastic/elasticsearch/issues/31130#issuecomment-395092991","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31130","id":395092991,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTA5Mjk5MQ==","user":{"login":"jsteggink","id":978411,"node_id":"MDQ6VXNlcjk3ODQxMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/978411?v=4","gravatar_id":"","url":"https://api.github.com/users/jsteggink","html_url":"https://github.com/jsteggink","followers_url":"https://api.github.com/users/jsteggink/followers","following_url":"https://api.github.com/users/jsteggink/following{/other_user}","gists_url":"https://api.github.com/users/jsteggink/gists{/gist_id}","starred_url":"https://api.github.com/users/jsteggink/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsteggink/subscriptions","organizations_url":"https://api.github.com/users/jsteggink/orgs","repos_url":"https://api.github.com/users/jsteggink/repos","events_url":"https://api.github.com/users/jsteggink/events{/privacy}","received_events_url":"https://api.github.com/users/jsteggink/received_events","type":"User","site_admin":false},"created_at":"2018-06-06T14:40:48Z","updated_at":"2018-06-06T14:40:48Z","author_association":"NONE","body":"I agree in the case where you would have no control over the version of BackOffPolicy or can expect old serialized versions of it. But we do have control. Though I understand your point of view. The way it's built now it indeed makes less sense. Looking at how Spring Retry implemented a BackOffPolicy they do allow serialization. I just thought it was worth the discussion.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/395094084","html_url":"https://github.com/elastic/elasticsearch/issues/31130#issuecomment-395094084","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31130","id":395094084,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTA5NDA4NA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2018-06-06T14:43:45Z","updated_at":"2018-06-06T14:43:45Z","author_association":"MEMBER","body":"Thanks for understanding, I am going to close this issue. If you have control of everything then it's easier to maintain serialization on your side.","performed_via_github_app":null}]