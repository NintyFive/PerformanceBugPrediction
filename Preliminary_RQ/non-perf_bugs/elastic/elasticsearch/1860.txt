{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1860","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1860/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1860/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1860/events","html_url":"https://github.com/elastic/elasticsearch/issues/1860","id":4122890,"node_id":"MDU6SXNzdWU0MTIyODkw","number":1860,"title":"Index Templates API - Set Source","user":{"login":"nhuray","id":958983,"node_id":"MDQ6VXNlcjk1ODk4Mw==","avatar_url":"https://avatars1.githubusercontent.com/u/958983?v=4","gravatar_id":"","url":"https://api.github.com/users/nhuray","html_url":"https://github.com/nhuray","followers_url":"https://api.github.com/users/nhuray/followers","following_url":"https://api.github.com/users/nhuray/following{/other_user}","gists_url":"https://api.github.com/users/nhuray/gists{/gist_id}","starred_url":"https://api.github.com/users/nhuray/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nhuray/subscriptions","organizations_url":"https://api.github.com/users/nhuray/orgs","repos_url":"https://api.github.com/users/nhuray/repos","events_url":"https://api.github.com/users/nhuray/events{/privacy}","received_events_url":"https://api.github.com/users/nhuray/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2012-04-15T10:51:10Z","updated_at":"2012-04-15T19:10:17Z","closed_at":"2012-04-15T19:10:17Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"This issue refers to this [discussion](https://groups.google.com/forum/?fromgroups#!topic/elasticsearch/jfciwKNk28w)\n## Context :\n\nThere's no way with the Java client API to create a template and set the source like that : \n\n``` java\nPutIndexTemplateResponse response = client.admin().indices()\n   .preparePutTemplate(\"twitter_template\").\n   .setSource(sourceTemplate)\n   .execute()\n   .actionGet();\n```\n\ninstead to set settings, mappings ... like that :\n\n``` java\nPutIndexTemplateResponse response = client.admin().indices()\n   .preparePutTemplate(\"twitter_template\")\n   .setTemplate(\"twitter*\")\n   .addMapping(\"tweet\", sourceMapping)\n   .setSettings(sourceSettings)\n   .execute()\n   .actionGet();\n```\n## Solution :\n\nWe have to move the parsing logic from `RestPutIndexTemplateAction.handleRequest()` method to the `PutIndexTemplateRequest.setSource()` method\n","closed_by":{"login":"nhuray","id":958983,"node_id":"MDQ6VXNlcjk1ODk4Mw==","avatar_url":"https://avatars1.githubusercontent.com/u/958983?v=4","gravatar_id":"","url":"https://api.github.com/users/nhuray","html_url":"https://github.com/nhuray","followers_url":"https://api.github.com/users/nhuray/followers","following_url":"https://api.github.com/users/nhuray/following{/other_user}","gists_url":"https://api.github.com/users/nhuray/gists{/gist_id}","starred_url":"https://api.github.com/users/nhuray/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nhuray/subscriptions","organizations_url":"https://api.github.com/users/nhuray/orgs","repos_url":"https://api.github.com/users/nhuray/repos","events_url":"https://api.github.com/users/nhuray/events{/privacy}","received_events_url":"https://api.github.com/users/nhuray/received_events","type":"User","site_admin":false},"performed_via_github_app":null}