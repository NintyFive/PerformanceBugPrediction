{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/6736","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6736/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6736/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6736/events","html_url":"https://github.com/elastic/elasticsearch/issues/6736","id":37167454,"node_id":"MDU6SXNzdWUzNzE2NzQ1NA==","number":6736,"title":"Define valid index, type, field, id, routing values","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"labels":[{"id":33660,"node_id":"MDU6TGFiZWwzMzY2MA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebreaking","name":">breaking","color":"d93f0b","default":false,"description":null},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"assignees":[{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false}],"milestone":null,"comments":16,"created_at":"2014-07-04T13:23:32Z","updated_at":"2016-06-09T15:43:10Z","closed_at":"2014-12-24T13:12:38Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Currently we have no specification of allowed values for index names, type names, IDs, field names or routing values.\n\nThis issue is an attempt to document and improve the existing specs to prevent inconsistencies.\n## Index names\n\nIndex names are limited by the file system.  They may only be lower case, and my not start with an underscore.  While we don't prevent index names starting with a `.`, we reserve those for internal use. Clearly, `.` and `..` cannot be used.\n\nThese characters are already illegal: `\\`, `/`, `*`, `?`, `\"`, `<`, `>`, `|`, ` `,`,`.  We should also add the null byte.\n\nThere are other filenames which are illegal in Windows, but we probably don't need to check for those.\n## Type names\n\nType names can contain any character (except null bytes, which currently we don't check) but may not start with an underscore.  \n## IDs\n\nIDs can contain any character (except null bytes, which currently we don't check). IDs should not begin with an underscore.\n\nCurrently IDs are not checked for underscores and IDs with underscores may exist.  These can clash with eg `_mapping` and so should be prevented.  This is a backwards incompatible change.\n## Routing & Parent\n\nRouting and parent values should be the same as IDs, ie any chars except for the null byte.  The problem is that multiple routing values are passed in the query string as comma-separated values, eg `?routing=foo,bar`.\n\nIf a single routing value contains a comma, it will be misinterpreted as two routing values.  One idea is to pass multiple routing values as eg `?routing=foo&routing=bar,baz`. Unfortunately, this is not backwards compatible and isn't supported by a number of client libraries.\n\nThe only solution I can think of is to support some escaping of commas, eg `foo\\,bar`.  This would mean that `\\` would need to be escaped as well, ie: `foo\\bar` -> `foo\\\\bar`.  Support for this escaping would need to be added to Elasticsearch and to the client libraries. \n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}