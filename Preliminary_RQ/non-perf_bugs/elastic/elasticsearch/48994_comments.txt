[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/552944763","html_url":"https://github.com/elastic/elasticsearch/issues/48994#issuecomment-552944763","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48994","id":552944763,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mjk0NDc2Mw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-11-12T15:31:57Z","updated_at":"2019-11-12T15:31:57Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra (:Core/Infra/Logging)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/553125955","html_url":"https://github.com/elastic/elasticsearch/issues/48994#issuecomment-553125955","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48994","id":553125955,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzEyNTk1NQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2019-11-12T21:35:19Z","updated_at":"2019-11-12T21:35:19Z","author_association":"MEMBER","body":"> It should merge with previously parsed config files.\r\n\r\nWe've historically opted for simplicity here, at least since around version 2.0. Merging files can be complex, and having several different overlapping settings like config directory (broad) and log4j config file (specific) can get confusing. We have similarly rejected allowing the keystore location to be configurable, always expecting it relative to the config dir.\r\n\r\nCan you expand some more on the logic here behind some statements:\r\n\r\n> It would make debugging easier \r\n\r\nWhat about debugging would an additional system property make easier?\r\n\r\n> This would also allow changing docker configuration at startup\r\n\r\nCould we implement this on our own without adding additional settings? What about correcting the console logging requires an additional file?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/553339569","html_url":"https://github.com/elastic/elasticsearch/issues/48994#issuecomment-553339569","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48994","id":553339569,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzMzOTU2OQ==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-11-13T10:26:33Z","updated_at":"2019-11-13T10:26:33Z","author_association":"CONTRIBUTOR","body":"> It should merge with previously parsed config files...\r\n\r\nThe intention would be to let custom config be added to a `CompositeConfiguration` as it is done today and merged with a `DefaultMergeStrategy `(the same as at the moment). It should not override fully the provided configurations in `config`\r\n\r\n> > It would make debugging easier\r\n>\r\n> What about debugging would an additional system property make easier?\r\n\r\nWhen reproducing test failures, if you want to change multiple log levels or add custom appenders it is easier to be done with additional logging config. It is easier to modify the content of `config/log4j2.properties` file when running local cluster, but if you simply want to tweak the logging cluster of Rest/yml test it gets slighly more tedious.\r\n\r\nThe other way is to modify the gradle file of the module where the integ test is run from with \r\n```\r\ntestClusters.integTest {\r\n  setting 'logger.org', 'trace'\r\n}\r\n```\r\nI think this is also inconvenient and it would be great if could be modified from command line/additional property file. We can't do this at the moment?\r\n\r\n\r\n> > This would also allow changing docker configuration at startup\r\n> \r\n> Could we implement this on our own without adding additional settings? What about correcting the console logging requires an additional file?\r\n\r\nI imagine in some situation user might want to opt out from console logging in docker and configure file logging. Can he override the `config/log4j2.properties` with his custom docker image? Not sure if there is a way to do this. Might be worth discussing. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/553811882","html_url":"https://github.com/elastic/elasticsearch/issues/48994#issuecomment-553811882","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48994","id":553811882,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzgxMTg4Mg==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-11-14T09:52:50Z","updated_at":"2019-11-14T09:52:50Z","author_association":"CONTRIBUTOR","body":"closing as we decided that overriding full configuration is not needed for tests. Improvements to allow single log levels changes will be discussed here https://github.com/elastic/elasticsearch/issues/48672\r\n\r\nchaning docker logging configuration can be done as indicated here:\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#docker-config-bind-mount","performed_via_github_app":null}]