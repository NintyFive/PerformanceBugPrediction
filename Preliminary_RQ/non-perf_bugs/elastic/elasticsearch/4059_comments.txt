[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27669014","html_url":"https://github.com/elastic/elasticsearch/issues/4059#issuecomment-27669014","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4059","id":27669014,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjY5MDE0","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2013-11-04T08:19:00Z","updated_at":"2013-11-04T08:19:00Z","author_association":"MEMBER","body":"If you need to update a document because it's not well formed on a source level (missing parts), I'd either:\n- Add that process in a ETL layer whatever the technology you use to fetch your documents from the source.\n- You mentioned mongodb river. Then have a look at [script support](https://github.com/richardwilly98/elasticsearch-river-mongodb/wiki#script-filters).\n- Run at some points: [doc update API](http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/docs-update.html) but that will cost you at the end of the day Lucene delete and index operations\n\nIt's not IMHO elasticsearch responsability to add hook scripts at index time on top of your documents. If you really need to do this inside elasticsearch instead of in another layer, then you can think of implementing a new mapper as the [attachment mapper plugin](https://github.com/elasticsearch/elasticsearch-mapper-attachments) but I guess you don't really need such a complexity.\n\nFeel free to reopen if I misunderstood your feature request.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/28347525","html_url":"https://github.com/elastic/elasticsearch/issues/4059#issuecomment-28347525","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4059","id":28347525,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzQ3NTI1","user":{"login":"karol-gwaj","id":1188157,"node_id":"MDQ6VXNlcjExODgxNTc=","avatar_url":"https://avatars3.githubusercontent.com/u/1188157?v=4","gravatar_id":"","url":"https://api.github.com/users/karol-gwaj","html_url":"https://github.com/karol-gwaj","followers_url":"https://api.github.com/users/karol-gwaj/followers","following_url":"https://api.github.com/users/karol-gwaj/following{/other_user}","gists_url":"https://api.github.com/users/karol-gwaj/gists{/gist_id}","starred_url":"https://api.github.com/users/karol-gwaj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karol-gwaj/subscriptions","organizations_url":"https://api.github.com/users/karol-gwaj/orgs","repos_url":"https://api.github.com/users/karol-gwaj/repos","events_url":"https://api.github.com/users/karol-gwaj/events{/privacy}","received_events_url":"https://api.github.com/users/karol-gwaj/received_events","type":"User","site_admin":false},"created_at":"2013-11-13T00:02:39Z","updated_at":"2013-11-13T00:02:39Z","author_association":"NONE","body":"have a look at https://github.com/SkillPages/elasticsearch-computed-fields\nas of time of creating this comment it is still early beta, but it should work fine for simple use cases \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/31970587","html_url":"https://github.com/elastic/elasticsearch/issues/4059#issuecomment-31970587","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4059","id":31970587,"node_id":"MDEyOklzc3VlQ29tbWVudDMxOTcwNTg3","user":{"login":"kdkeck","id":5099984,"node_id":"MDQ6VXNlcjUwOTk5ODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5099984?v=4","gravatar_id":"","url":"https://api.github.com/users/kdkeck","html_url":"https://github.com/kdkeck","followers_url":"https://api.github.com/users/kdkeck/followers","following_url":"https://api.github.com/users/kdkeck/following{/other_user}","gists_url":"https://api.github.com/users/kdkeck/gists{/gist_id}","starred_url":"https://api.github.com/users/kdkeck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdkeck/subscriptions","organizations_url":"https://api.github.com/users/kdkeck/orgs","repos_url":"https://api.github.com/users/kdkeck/repos","events_url":"https://api.github.com/users/kdkeck/events{/privacy}","received_events_url":"https://api.github.com/users/kdkeck/received_events","type":"User","site_admin":false},"created_at":"2014-01-09T20:08:23Z","updated_at":"2014-01-09T20:08:23Z","author_association":"NONE","body":"Karol, thanks for your comment.  The computed fields plugin is _almost_ exactly what we (I work with benmccann) need, but arrays of objects in the source (JSON) document are not themselves indexable fields, and the plugin appears to only support reference to indexable fields in the calculation script.  Would it be difficult to modify it to support references to source fields?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/32040203","html_url":"https://github.com/elastic/elasticsearch/issues/4059#issuecomment-32040203","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4059","id":32040203,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDQwMjAz","user":{"login":"karol-gwaj","id":1188157,"node_id":"MDQ6VXNlcjExODgxNTc=","avatar_url":"https://avatars3.githubusercontent.com/u/1188157?v=4","gravatar_id":"","url":"https://api.github.com/users/karol-gwaj","html_url":"https://github.com/karol-gwaj","followers_url":"https://api.github.com/users/karol-gwaj/followers","following_url":"https://api.github.com/users/karol-gwaj/following{/other_user}","gists_url":"https://api.github.com/users/karol-gwaj/gists{/gist_id}","starred_url":"https://api.github.com/users/karol-gwaj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karol-gwaj/subscriptions","organizations_url":"https://api.github.com/users/karol-gwaj/orgs","repos_url":"https://api.github.com/users/karol-gwaj/repos","events_url":"https://api.github.com/users/karol-gwaj/events{/privacy}","received_events_url":"https://api.github.com/users/karol-gwaj/received_events","type":"User","site_admin":false},"created_at":"2014-01-10T16:10:02Z","updated_at":"2014-01-10T16:10:02Z","author_association":"NONE","body":"Hi Kevin,\n\ni updated the plugin to support arrays and inner objects (SkillPages/elasticsearch-computed-fields#2)\n\nCheers,\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/32312269","html_url":"https://github.com/elastic/elasticsearch/issues/4059#issuecomment-32312269","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4059","id":32312269,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzEyMjY5","user":{"login":"kdkeck","id":5099984,"node_id":"MDQ6VXNlcjUwOTk5ODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5099984?v=4","gravatar_id":"","url":"https://api.github.com/users/kdkeck","html_url":"https://github.com/kdkeck","followers_url":"https://api.github.com/users/kdkeck/followers","following_url":"https://api.github.com/users/kdkeck/following{/other_user}","gists_url":"https://api.github.com/users/kdkeck/gists{/gist_id}","starred_url":"https://api.github.com/users/kdkeck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdkeck/subscriptions","organizations_url":"https://api.github.com/users/kdkeck/orgs","repos_url":"https://api.github.com/users/kdkeck/repos","events_url":"https://api.github.com/users/kdkeck/events{/privacy}","received_events_url":"https://api.github.com/users/kdkeck/received_events","type":"User","site_admin":false},"created_at":"2014-01-14T22:00:59Z","updated_at":"2014-01-14T22:00:59Z","author_association":"NONE","body":"Awesome, it works great.  I'll most more feedback on the closed issue.\n","performed_via_github_app":null}]