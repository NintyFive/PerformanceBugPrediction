{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/14828","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14828/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14828/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14828/events","html_url":"https://github.com/elastic/elasticsearch/issues/14828","id":117568425,"node_id":"MDU6SXNzdWUxMTc1Njg0MjU=","number":14828,"title":"elasticsearch 2.0 handler type for murmur3 not found","user":{"login":"maksutspahi","id":4736471,"node_id":"MDQ6VXNlcjQ3MzY0NzE=","avatar_url":"https://avatars1.githubusercontent.com/u/4736471?v=4","gravatar_id":"","url":"https://api.github.com/users/maksutspahi","html_url":"https://github.com/maksutspahi","followers_url":"https://api.github.com/users/maksutspahi/followers","following_url":"https://api.github.com/users/maksutspahi/following{/other_user}","gists_url":"https://api.github.com/users/maksutspahi/gists{/gist_id}","starred_url":"https://api.github.com/users/maksutspahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maksutspahi/subscriptions","organizations_url":"https://api.github.com/users/maksutspahi/orgs","repos_url":"https://api.github.com/users/maksutspahi/repos","events_url":"https://api.github.com/users/maksutspahi/events{/privacy}","received_events_url":"https://api.github.com/users/maksutspahi/received_events","type":"User","site_admin":false},"labels":[{"id":141145460,"node_id":"MDU6TGFiZWwxNDExNDU0NjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Mapping","name":":Search/Mapping","color":"0e8a16","default":false,"description":"How fields should be indexed"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":288407525,"node_id":"MDU6TGFiZWwyODg0MDc1MjU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v2.1.1","name":"v2.1.1","color":"dddddd","default":false,"description":null},{"id":266898191,"node_id":"MDU6TGFiZWwyNjY4OTgxOTE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v2.2.0","name":"v2.2.0","color":"dddddd","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"assignees":[{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false}],"milestone":null,"comments":12,"created_at":"2015-11-18T11:35:39Z","updated_at":"2015-12-22T07:07:52Z","closed_at":"2015-11-25T15:59:16Z","author_association":"NONE","active_lock_reason":null,"body":"I have updated 1.4.2 to 2.0.0. \nI installed plugin \n   `sudo bin/plugin install mapper-murmur3`\n\nI had some data inserted in 1.4.2. After I updated to 2.0.0 I am getting this error while starting elasticsearch.\n\n```\nException: java.lang.IllegalStateException: unable to upgrade the mappings for the index [abc], reason: [no handler for type [murmur3] declared on field [hash]]\nLikely root cause: MapperParsingException[no handler for type [murmur3] declared on field [hash]]\n    at org.elasticsearch.index.mapper.core.TypeParsers.parseMultiField(TypeParsers.java:341)\n    at org.elasticsearch.index.mapper.core.StringFieldMapper$TypeParser.parse(StringFieldMapper.java:201)\n    at org.elasticsearch.index.mapper.object.ObjectMapper$TypeParser.parseProperties(ObjectMapper.java:315)\n    at org.elasticsearch.index.mapper.object.ObjectMapper$TypeParser.parseObjectOrDocumentTypeProperties(ObjectMapper.java:228)\n    at org.elasticsearch.index.mapper.object.RootObjectMapper$TypeParser.parse(RootObjectMapper.java:137)\n    at org.elasticsearch.index.mapper.DocumentMapperParser.parse(DocumentMapperParser.java:211)\n    at org.elasticsearch.index.mapper.DocumentMapperParser.parseCompressed(DocumentMapperParser.java:192)\n    at org.elasticsearch.index.mapper.MapperService.parse(MapperService.java:368)\n    at org.elasticsearch.index.mapper.MapperService.merge(MapperService.java:242)\n    at org.elasticsearch.cluster.metadata.MetaDataIndexUpgradeService.checkMappingsCompatibility(MetaDataIndexUpgradeService.java:329)\n    at org.elasticsearch.cluster.metadata.MetaDataIndexUpgradeService.upgradeIndexMetaData(MetaDataIndexUpgradeService.java:112)\n    at org.elasticsearch.gateway.GatewayMetaState.pre20Upgrade(GatewayMetaState.java:226)\n    at org.elasticsearch.gateway.GatewayMetaState.<init>(GatewayMetaState.java:85)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:408)\n    at <<<guice>>>\n    at org.elasticsearch.node.Node.<init>(Node.java:198)\n    at org.elasticsearch.node.NodeBuilder.build(NodeBuilder.java:145)\n    at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:170)\n    at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:270)\n    at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:35)\n```\n\nMy mapping was:\n\n```\nPUT /abc\n{\n  \"mappings\": {\n    \"productView\": {\n      \"properties\": {\n        \"itemId\": {\n           \"index\": \"not_analyzed\",\n           \"type\": \"string\",\n           \"fields\": {\n            \"hash\": {\n              \"type\": \"murmur3\"\n            }\n          }\n        }\n      }\n    }\n  }\n}\n```\n\nBut when I delete the old data and recreate the index it works without problem.\n","closed_by":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"performed_via_github_app":null}