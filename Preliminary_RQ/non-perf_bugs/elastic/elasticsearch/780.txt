{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/780","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/780/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/780/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/780/events","html_url":"https://github.com/elastic/elasticsearch/issues/780","id":673139,"node_id":"MDU6SXNzdWU2NzMxMzk=","number":780,"title":"Set initial version when creating a new doc","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2011-03-14T20:41:11Z","updated_at":"2011-03-15T17:16:47Z","closed_at":"2011-03-16T00:16:47Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"When reindexing from an old index to new, the `version` would currently be reset to `1`. If you try to set a different version number, you get a conflict.\n\nI'm wondering if, when creating a new doc (not indexing) you should be able to set the initial version number?\n\nActually, while reindexing, the original docs might have been updated more than once, so when we finish reindexing, and we do a final sweep over all docs that have changed since we started, we will get version conflicts.\n\nPerhaps we need a flag which says \"override the existing version and set this new version instead ) but possibly only if it is greater.\n\nwhat do you think?\n\nclint\n","closed_by":null,"performed_via_github_app":null}