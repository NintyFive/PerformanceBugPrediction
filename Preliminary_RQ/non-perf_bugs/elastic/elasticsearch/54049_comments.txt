[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603129291","html_url":"https://github.com/elastic/elasticsearch/issues/54049#issuecomment-603129291","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54049","id":603129291,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzEyOTI5MQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2020-03-24T09:31:04Z","updated_at":"2020-03-24T09:31:04Z","author_association":"MEMBER","body":"Hi @FandyChen! Your question is better suited to the support forums over at https://discuss.elastic.co. We prefer to use Github issues only for bug reports and feature requests, and we think it's more likely this is a question than a bug report. \r\n\r\n> can we add `getter` methods to `org.elasticsearch.common.text.Text` in later versions or fix it in other ways?\r\n\r\nThis might be something along the lines of a feature request but to better understand what you need could you please specify which getters you would need and why? Otherwise I'm goign to close this issue in a while, but encourage you to ask this question in the forum instead. Many thanks.\r\n\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603242805","html_url":"https://github.com/elastic/elasticsearch/issues/54049#issuecomment-603242805","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54049","id":603242805,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzI0MjgwNQ==","user":{"login":"FandyChen","id":15159247,"node_id":"MDQ6VXNlcjE1MTU5MjQ3","avatar_url":"https://avatars0.githubusercontent.com/u/15159247?v=4","gravatar_id":"","url":"https://api.github.com/users/FandyChen","html_url":"https://github.com/FandyChen","followers_url":"https://api.github.com/users/FandyChen/followers","following_url":"https://api.github.com/users/FandyChen/following{/other_user}","gists_url":"https://api.github.com/users/FandyChen/gists{/gist_id}","starred_url":"https://api.github.com/users/FandyChen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FandyChen/subscriptions","organizations_url":"https://api.github.com/users/FandyChen/orgs","repos_url":"https://api.github.com/users/FandyChen/repos","events_url":"https://api.github.com/users/FandyChen/events{/privacy}","received_events_url":"https://api.github.com/users/FandyChen/received_events","type":"User","site_admin":false},"created_at":"2020-03-24T13:36:36Z","updated_at":"2020-03-24T13:36:36Z","author_association":"NONE","body":"The highlighted field should contain field name and field value, but there was only contain field name, the highlighted value was missing. \r\n```json\r\n{\r\n                 ...\r\n           \"highlightFields\": {\r\n                \"message\": {\r\n                    \"name\": \"message\", // message is the field name\r\n                    \"fragments\": [ // fragments only contain fragment:true, but there is no highlighted text content\r\n                        {\r\n                            \"fragment\": true \r\n                        },\r\n                        {\r\n                            \"fragment\": true\r\n                        },\r\n                        {\r\n                            \"fragment\": true\r\n                        },\r\n                        {\r\n                            \"fragment\": true\r\n                        },\r\n                        {\r\n                            \"fragment\": true\r\n                        }\r\n                    ],\r\n                    \"fragment\": true\r\n                }\r\n            },\r\n            ...\r\n}\r\n```\r\n\r\n```json\r\n            ...\r\n            \"highlightFields\": {\r\n                \"message\": {  \r\n                    \"name\": \"message\", // message is the field name\r\n                    \"fragments\": [ // Contains highlighted text content\r\n                        \"***: [2020-02-25 13:48:15.588] ,[13:48:15.588],***,<Strong class='highlighter'>IDLE</Strong>,t_1000,<Strong class='highlighter'>IDLE</Strong>,<Strong class='highlighter'>IDLE</Strong>\",\r\n                        \",<Strong class='highlighter'>IDLE</Strong>,t_1000,<Strong class='highlighter'>IDLE</Strong>,<Strong class='highlighter'>IDLE</Strong>,,-,**\\n**: [2020-02-25 13:48:17.589] ,[13\",\r\n                        \"48:17.589],**,<Strong class='highlighter'>IDLE</Strong>,t_1000,<Strong class='highlighter'>IDLE</Strong>,<Strong class='highlighter'>IDLE</Strong>,,true,-\\n**: [2020-02-25 13:48:17.589]\",\r\n                        \",[13:48:17.589],**,<Strong class='highlighter'>IDLE</Strong>,t_1000,<Strong class='highlighter'>IDLE</Strong>,<Strong class='highlighter'>IDLE</Strong>,,-,**\\n**\",\r\n                        \",<Strong class='highlighter'>IDLE</Strong>,t_1000,<Strong class='highlighter'>IDLE</Strong>,<Strong class='highlighter'>IDLE</Strong>,,-,**\"\r\n                    ],\r\n                    \"fragment\": true\r\n                }\r\n            },\r\n            ...\r\n```\r\n\r\n```java\r\npublic final class Text implements Comparable<Text>, ToXContentFragment {\r\n    ...\r\n    private String text;\r\n\r\n    /**\r\n     * Returns a {@link String} view of the data.\r\n     */\r\n    public String string() {\r\n        return text == null ? bytes.utf8ToString() : text;\r\n    }\r\n\r\n    // *************************************************************************\r\n   // Jackson serializes getter methods by default\r\n   public String getText(){\r\n       return string();\r\n   }\r\n    // *************************************************************************\r\n  ...\r\n}\r\n\r\n```\r\n\r\nYou can try to convert SearchHit to JSON string with Jackson lib.\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/623336155","html_url":"https://github.com/elastic/elasticsearch/issues/54049#issuecomment-623336155","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54049","id":623336155,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzMzNjE1NQ==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2020-05-04T08:43:24Z","updated_at":"2020-05-04T08:43:24Z","author_association":"MEMBER","body":"@cbuescher is the feedback above sufficient for you to proceed?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/623346576","html_url":"https://github.com/elastic/elasticsearch/issues/54049#issuecomment-623346576","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54049","id":623346576,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzM0NjU3Ng==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2020-05-04T09:04:45Z","updated_at":"2020-05-04T09:04:45Z","author_association":"MEMBER","body":"> ```java\r\n>     // *************************************************************************\r\n>    // Jackson serializes getter methods by default\r\n>    public String getText(){\r\n>        return string();\r\n>    }\r\n>     // *************************************************************************\r\n> ```\r\n\r\nThanks, I understand the ask better now. I'm not sure wether we generally want provide serializatio support for external libraries like Jackson. Although addind this getter is a small change, there is a good workaround like you demonstrated and I'm afraid there are too many other similar places (or other libraries with other demands for that matter) to support them all. I'll keep this issue open for discussion though to gather some other opinions than my own.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/623346714","html_url":"https://github.com/elastic/elasticsearch/issues/54049#issuecomment-623346714","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54049","id":623346714,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzM0NjcxNA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-05-04T09:05:02Z","updated_at":"2020-05-04T09:05:02Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search (:Search/Search)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/623881609","html_url":"https://github.com/elastic/elasticsearch/issues/54049#issuecomment-623881609","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54049","id":623881609,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzg4MTYwOQ==","user":{"login":"FandyChen","id":15159247,"node_id":"MDQ6VXNlcjE1MTU5MjQ3","avatar_url":"https://avatars0.githubusercontent.com/u/15159247?v=4","gravatar_id":"","url":"https://api.github.com/users/FandyChen","html_url":"https://github.com/FandyChen","followers_url":"https://api.github.com/users/FandyChen/followers","following_url":"https://api.github.com/users/FandyChen/following{/other_user}","gists_url":"https://api.github.com/users/FandyChen/gists{/gist_id}","starred_url":"https://api.github.com/users/FandyChen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FandyChen/subscriptions","organizations_url":"https://api.github.com/users/FandyChen/orgs","repos_url":"https://api.github.com/users/FandyChen/repos","events_url":"https://api.github.com/users/FandyChen/events{/privacy}","received_events_url":"https://api.github.com/users/FandyChen/received_events","type":"User","site_admin":false},"created_at":"2020-05-05T06:40:34Z","updated_at":"2020-05-05T06:40:34Z","author_association":"NONE","body":"Thanks, although I found the solution, I still hope to improve it in any way, including but not limited to adding Getters. \r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/624555235","html_url":"https://github.com/elastic/elasticsearch/issues/54049#issuecomment-624555235","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54049","id":624555235,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDU1NTIzNQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2020-05-06T10:01:01Z","updated_at":"2020-05-06T10:01:01Z","author_association":"MEMBER","body":"Hi @FandyChen, this was discussed again inside the team. While your ask makes sense and adding another getter is a small change, we don't feel like we want to actively start supporting serialization using third party libraries like Jackson which assumes certain naming conventions etc... since taking this step would also mean additional testing, maintenance etc... and would most likely involve many other places in the API as well. That said, we also have a long-running issue around harmonizing our [getters/setters usage](https://github.com/elastic/elasticsearch/issues/14266) across the API and it could be argued that `text` here should be seen as immutable (it cannot be set except through the constructor) and hence according to [this guidance](https://github.com/elastic/elasticsearch/issues/14266#issuecomment-438829714) is correctly named without the `get` prefix. Also since there is a good alternative solution like customizing JsonSerializer like you mentioned, I hope you don't mind closing this.","performed_via_github_app":null}]