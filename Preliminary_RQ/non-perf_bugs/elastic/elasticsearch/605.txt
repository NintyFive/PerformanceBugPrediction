{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/605","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/605/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/605/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/605/events","html_url":"https://github.com/elastic/elasticsearch/issues/605","id":509106,"node_id":"MDU6SXNzdWU1MDkxMDY=","number":605,"title":"Have ability for new search type 'scan' that avoids sorting for quick retrieval of slices of data","user":{"login":"tallpsmith","id":203682,"node_id":"MDQ6VXNlcjIwMzY4Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/203682?v=4","gravatar_id":"","url":"https://api.github.com/users/tallpsmith","html_url":"https://github.com/tallpsmith","followers_url":"https://api.github.com/users/tallpsmith/followers","following_url":"https://api.github.com/users/tallpsmith/following{/other_user}","gists_url":"https://api.github.com/users/tallpsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/tallpsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tallpsmith/subscriptions","organizations_url":"https://api.github.com/users/tallpsmith/orgs","repos_url":"https://api.github.com/users/tallpsmith/repos","events_url":"https://api.github.com/users/tallpsmith/events{/privacy}","received_events_url":"https://api.github.com/users/tallpsmith/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2011-01-05T22:13:04Z","updated_at":"2011-07-27T17:35:33Z","closed_at":"2011-07-27T17:35:33Z","author_association":"NONE","active_lock_reason":null,"body":"Based on a discussion with Shay about having the ability to quickly retrieve all the _id and _version values for all items (or a subset) in an index.  More formally being able to request a set of fields to return.  He proposed a new type of search called 'scan'.  \n\nOne use case for this is to be able to compare the state in the index with an external source of 'truth', allowing the client to perform these tests:\n- Which items are in the source, but _not_ in the index (a missed insert, or a botched delete, completely missing in the sequence, this is why sorting is important, because it's a sorted stream comparison, but I think the verification client should handle the sort to simplify it for ES)\n- Which items are in the index but _not_ in the source (a missed delete for the index, need to be purged)\n- Which items are in the index, but the version (timestamps/checksums) do not match - these will need to be reindexed from the source to be accurate.\n\nThis 'scan' type of request does not require any sorting or scoring at all, it is simply a bulk 'pull'.\n\nIn an ideal world the result stream could be consumed by a client which is comparing it with another stream from the external source of truth (after sorting by this client to do efficient 'diffs').\n\nSee this thread for more background:  http://elasticsearch-users.115913.n3.nabble.com/Just-Pushed-Versioning-td2189167.html\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}