[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36179405","html_url":"https://github.com/elastic/elasticsearch/issues/5266#issuecomment-36179405","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5266","id":36179405,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MTc5NDA1","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2014-02-26T21:27:16Z","updated_at":"2014-02-26T21:27:16Z","author_association":"MEMBER","body":"Hi @mikecx ,\n\nSome questions:\n- What ES version are using? \n- What cache are you exactly monitoring?\n- How much of the jvm heap space is being used and how much does the cache take of that?\n- How long does it take to complete the search request?\n- How many shards does this index have? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36181892","html_url":"https://github.com/elastic/elasticsearch/issues/5266#issuecomment-36181892","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5266","id":36181892,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MTgxODky","user":{"login":"mikecx","id":467469,"node_id":"MDQ6VXNlcjQ2NzQ2OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/467469?v=4","gravatar_id":"","url":"https://api.github.com/users/mikecx","html_url":"https://github.com/mikecx","followers_url":"https://api.github.com/users/mikecx/followers","following_url":"https://api.github.com/users/mikecx/following{/other_user}","gists_url":"https://api.github.com/users/mikecx/gists{/gist_id}","starred_url":"https://api.github.com/users/mikecx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikecx/subscriptions","organizations_url":"https://api.github.com/users/mikecx/orgs","repos_url":"https://api.github.com/users/mikecx/repos","events_url":"https://api.github.com/users/mikecx/events{/privacy}","received_events_url":"https://api.github.com/users/mikecx/received_events","type":"User","site_admin":false},"created_at":"2014-02-26T21:51:40Z","updated_at":"2014-02-26T21:51:40Z","author_association":"NONE","body":"ES Version 1.0.0\nField Data and Filter Cache using the Bigdesk Plugin\nNot sure how to tell\nRoughly 90-120 seconds when the cache is emptied, 1-5 when it's full\ntotal: 10, successful: 5, failed: 0 (using curl -X GET localhost:9200/photos/_stats)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36225399","html_url":"https://github.com/elastic/elasticsearch/issues/5266#issuecomment-36225399","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5266","id":36225399,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MjI1Mzk5","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2014-02-27T09:42:08Z","updated_at":"2014-02-27T09:42:08Z","author_association":"MEMBER","body":"Internally has_child uses the id_cache, does this cache get emptied as well?\nHow much memory does the id_cache take?\nAre you running low on jvm memory (how much of the heap used)? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36271683","html_url":"https://github.com/elastic/elasticsearch/issues/5266#issuecomment-36271683","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5266","id":36271683,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MjcxNjgz","user":{"login":"mikecx","id":467469,"node_id":"MDQ6VXNlcjQ2NzQ2OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/467469?v=4","gravatar_id":"","url":"https://api.github.com/users/mikecx","html_url":"https://github.com/mikecx","followers_url":"https://api.github.com/users/mikecx/followers","following_url":"https://api.github.com/users/mikecx/following{/other_user}","gists_url":"https://api.github.com/users/mikecx/gists{/gist_id}","starred_url":"https://api.github.com/users/mikecx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikecx/subscriptions","organizations_url":"https://api.github.com/users/mikecx/orgs","repos_url":"https://api.github.com/users/mikecx/repos","events_url":"https://api.github.com/users/mikecx/events{/privacy}","received_events_url":"https://api.github.com/users/mikecx/received_events","type":"User","site_admin":false},"created_at":"2014-02-27T18:05:19Z","updated_at":"2014-02-27T18:05:19Z","author_association":"NONE","body":"@martijnvg what's the correct way to check these values? I've temporarily disabled out parent/child search but can turn it back on to get them. \n\nUsing _cluster/stats shows\n\n``` json\n{\n  \"timestamp\" : 1393524089083,\n  \"cluster_name\" : \"*******\",\n  \"status\" : \"yellow\",\n  \"indices\" : {\n    \"count\" : 3,\n    \"shards\" : {\n      \"total\" : 15,\n      \"primaries\" : 15,\n      \"replication\" : 0.0,\n      \"index\" : {\n        \"shards\" : {\n          \"min\" : 5,\n          \"max\" : 5,\n          \"avg\" : 5.0\n        },\n        \"primaries\" : {\n          \"min\" : 5,\n          \"max\" : 5,\n          \"avg\" : 5.0\n        },\n        \"replication\" : {\n          \"min\" : 0.0,\n          \"max\" : 0.0,\n          \"avg\" : 0.0\n        }\n      }\n    },\n    \"docs\" : {\n      \"count\" : 100430285,\n      \"deleted\" : 6917877\n    },\n    \"store\" : {\n      \"size_in_bytes\" : 121506847305,\n      \"throttle_time_in_millis\" : 8542\n    },\n    \"fielddata\" : {\n      \"memory_size_in_bytes\" : 103599992,\n      \"evictions\" : 0\n    },\n    \"filter_cache\" : {\n      \"memory_size_in_bytes\" : 8462368,\n      \"evictions\" : 0\n    },\n    \"id_cache\" : {\n      \"memory_size_in_bytes\" : 3004\n    },\n    \"completion\" : {\n      \"size_in_bytes\" : 1341459\n    },\n    \"segments\" : {\n      \"count\" : 283,\n      \"memory_in_bytes\" : 96120449579\n    },\n    \"percolate\" : {\n      \"total\" : 0,\n      \"time_in_millis\" : 0,\n      \"current\" : 0,\n      \"memory_size_in_bytes\" : 0,\n      \"memory_size\" : \"0b\",\n      \"queries\" : 0\n    }\n  },\n  \"nodes\" : {\n    \"count\" : {\n      \"total\" : 1,\n      \"master_only\" : 0,\n      \"data_only\" : 0,\n      \"master_data\" : 1,\n      \"client\" : 0\n    },\n    \"versions\" : [ \"1.0.0\" ],\n    \"os\" : {\n      \"available_processors\" : 4,\n      \"mem\" : {\n        \"total_in_bytes\" : 36700303360\n      },\n      \"cpu\" : [ {\n        \"vendor\" : \"Intel\",\n        \"model\" : \"Xeon\",\n        \"mhz\" : 2666,\n        \"total_cores\" : 4,\n        \"total_sockets\" : 4,\n        \"cores_per_socket\" : 16,\n        \"cache_size_in_bytes\" : 8192,\n        \"count\" : 1\n      } ]\n    },\n    \"process\" : {\n      \"cpu\" : {\n        \"percent\" : 72\n      },\n      \"open_file_descriptors\" : {\n        \"min\" : 170,\n        \"max\" : 170,\n        \"avg\" : 170\n      }\n    },\n    \"jvm\" : {\n      \"max_uptime_in_millis\" : 168293404,\n      \"versions\" : [ {\n        \"version\" : \"1.7.0_25\",\n        \"vm_name\" : \"Java HotSpot(TM) 64-Bit Server VM\",\n        \"vm_version\" : \"23.25-b01\",\n        \"vm_vendor\" : \"Oracle Corporation\",\n        \"count\" : 1\n      } ],\n      \"mem\" : {\n        \"heap_used_in_bytes\" : 1507721568,\n        \"heap_max_in_bytes\" : 18315214848\n      },\n      \"threads\" : 70\n    },\n    \"fs\" : {\n      \"total_in_bytes\" : 1082259591168,\n      \"free_in_bytes\" : 953415294976,\n      \"available_in_bytes\" : 898439716864,\n      \"disk_reads\" : 746884,\n      \"disk_writes\" : 517775,\n      \"disk_io_op\" : 1264659,\n      \"disk_read_size_in_bytes\" : 25807029248,\n      \"disk_write_size_in_bytes\" : 5354119168,\n      \"disk_io_size_in_bytes\" : 31161148416\n    },\n    \"plugins\" : [ ]\n  }\n}\n```\n\nwithout having run a parent/child query in a while. If this is the right way to test I can run it again both before and after running one.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36683021","html_url":"https://github.com/elastic/elasticsearch/issues/5266#issuecomment-36683021","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5266","id":36683021,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjgzMDIx","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2014-03-04T21:53:16Z","updated_at":"2014-03-04T21:53:16Z","author_association":"MEMBER","body":"To get back to this, I would be surprised to see if the id_cache is cleared by it self (go to 0), this shouldn't happen since the id_cache is loaded eagerly.\n\nThe fielddata cache, which is used by sorting and facets/aggregations and filter cache can decrease over time when new data is added (and no searches happen during that time). If that is the case you may want to configure eager field data loading to make sure the latest entries are in field data for the new data and warmers for the filter cache.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/48715218","html_url":"https://github.com/elastic/elasticsearch/issues/5266#issuecomment-48715218","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5266","id":48715218,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzE1MjE4","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-11T10:20:35Z","updated_at":"2014-07-11T10:20:35Z","author_association":"CONTRIBUTOR","body":"@mikecx Any more feedback on this issue or can it be closed?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50866312","html_url":"https://github.com/elastic/elasticsearch/issues/5266#issuecomment-50866312","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5266","id":50866312,"node_id":"MDEyOklzc3VlQ29tbWVudDUwODY2MzEy","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-08-01T09:34:17Z","updated_at":"2014-08-01T09:34:17Z","author_association":"CONTRIBUTOR","body":"No feedback. Closing\n","performed_via_github_app":null}]