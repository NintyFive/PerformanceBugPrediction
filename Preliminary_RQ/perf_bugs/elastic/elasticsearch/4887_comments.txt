[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33279583","html_url":"https://github.com/elastic/elasticsearch/issues/4887#issuecomment-33279583","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4887","id":33279583,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjc5NTgz","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-01-25T03:05:58Z","updated_at":"2014-01-25T03:05:58Z","author_association":"MEMBER","body":"which version are you running?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33279598","html_url":"https://github.com/elastic/elasticsearch/issues/4887#issuecomment-33279598","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4887","id":33279598,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjc5NTk4","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-01-25T03:07:05Z","updated_at":"2014-01-25T03:07:05Z","author_association":"MEMBER","body":"also, can you paste the full log of the failure, it is cut off.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33279738","html_url":"https://github.com/elastic/elasticsearch/issues/4887#issuecomment-33279738","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4887","id":33279738,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjc5NzM4","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-01-25T03:14:19Z","updated_at":"2014-01-25T03:14:19Z","author_association":"MEMBER","body":"side note, the rejections are expected, we have a limit on the search thread pool (3x cores), with a limited queue size (1000), so if you will overload (3x cores + 1000), requests will start to get rejected. This is a good thing, since it will make sure the servers are not being overloaded. The fact that its gets stuck, thats weird (And the logs + version would help).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33280008","html_url":"https://github.com/elastic/elasticsearch/issues/4887#issuecomment-33280008","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4887","id":33280008,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjgwMDA4","user":{"login":"karol-gwaj","id":1188157,"node_id":"MDQ6VXNlcjExODgxNTc=","avatar_url":"https://avatars3.githubusercontent.com/u/1188157?v=4","gravatar_id":"","url":"https://api.github.com/users/karol-gwaj","html_url":"https://github.com/karol-gwaj","followers_url":"https://api.github.com/users/karol-gwaj/followers","following_url":"https://api.github.com/users/karol-gwaj/following{/other_user}","gists_url":"https://api.github.com/users/karol-gwaj/gists{/gist_id}","starred_url":"https://api.github.com/users/karol-gwaj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karol-gwaj/subscriptions","organizations_url":"https://api.github.com/users/karol-gwaj/orgs","repos_url":"https://api.github.com/users/karol-gwaj/repos","events_url":"https://api.github.com/users/karol-gwaj/events{/privacy}","received_events_url":"https://api.github.com/users/karol-gwaj/received_events","type":"User","site_admin":false},"created_at":"2014-01-25T03:29:38Z","updated_at":"2014-01-25T03:45:47Z","author_association":"NONE","body":"full log:\n\n```\n[2014-01-25 02:07:39,613][DEBUG][action.search.type       ] [<node name>] [<index name>][2], node[WTCscW1_R7uA7juvJ1lacg], [R], s[STARTED]: Failed to execute [org.elasticsearch.action.search.SearchRequest@46d6608e] lastShard [true]\norg.elasticsearch.common.util.concurrent.EsRejectedExecutionException: rejected execution (queue capacity 1000) on org.elasticsearch.action.search.type.TransportSearchTypeAction$BaseAsyncAction$4@3bdb7cad\n        at org.elasticsearch.common.util.concurrent.EsAbortPolicy.rejectedExecution(EsAbortPolicy.java:62)\n        at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:821)\n        at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1372)\n        at org.elasticsearch.action.search.type.TransportSearchTypeAction$BaseAsyncAction.onFirstPhaseResult(TransportSearchTypeAction.java:289)\n        at org.elasticsearch.action.search.type.TransportSearchTypeAction$BaseAsyncAction.onFirstPhaseResult(TransportSearchTypeAction.java:296)\n        at org.elasticsearch.action.search.type.TransportSearchTypeAction$BaseAsyncAction.onFirstPhaseResult(TransportSearchTypeAction.java:296)\n        at org.elasticsearch.action.search.type.TransportSearchTypeAction$BaseAsyncAction.start(TransportSearchTypeAction.java:190)\n        at org.elasticsearch.action.search.type.TransportSearchQueryThenFetchAction.doExecute(TransportSearchQueryThenFetchAction.java:59)\n        at org.elasticsearch.action.search.type.TransportSearchQueryThenFetchAction.doExecute(TransportSearchQueryThenFetchAction.java:49)\n        at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:63)\n        at org.elasticsearch.action.search.TransportSearchAction.doExecute(TransportSearchAction.java:108)\n        at org.elasticsearch.action.search.TransportSearchAction.doExecute(TransportSearchAction.java:43)\n        at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:63)\n        at org.elasticsearch.action.search.TransportMultiSearchAction.doExecute(TransportMultiSearchAction.java:63)\n        at org.elasticsearch.action.search.TransportMultiSearchAction.doExecute(TransportMultiSearchAction.java:39)\n        at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:63)\n        at org.elasticsearch.client.node.NodeClient.execute(NodeClient.java:92)\n        at org.elasticsearch.client.support.AbstractClient.multiSearch(AbstractClient.java:242)\n        at org.elasticsearch.action.search.MultiSearchRequestBuilder.doExecute(MultiSearchRequestBuilder.java:79)\n        at org.elasticsearch.action.ActionRequestBuilder.execute(ActionRequestBuilder.java:85)\n        at org.elasticsearch.action.ActionRequestBuilder.execute(ActionRequestBuilder.java:59)\n        at org.elasticsearch.action.ActionRequestBuilder.get(ActionRequestBuilder.java:67)\n        ... concealed ...\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:744)\n\n```\n\nand im on version 1.0.0.RC1\n\nalso i started seeing this problem after switching my code from using post filter to using query, so the code:\n\n```\nMultiSearchRequestBuilder builder = _client.prepareMultiSearch();\nfor (final String index: indexes)\n{\n    final SearchRequestBuilder request = _client.prepareSearch(index).setPreference(\"_local\");\n    request.setPostFilter(FilterBuilders.termFilter(\"group_id\", id)).setSize(100).setTimeout(\"10s\");\n    builder.add(request);\n}\n```\n\nwas working fine\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/34758065","html_url":"https://github.com/elastic/elasticsearch/issues/4887#issuecomment-34758065","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4887","id":34758065,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NzU4MDY1","user":{"login":"orenorgad","id":6514070,"node_id":"MDQ6VXNlcjY1MTQwNzA=","avatar_url":"https://avatars1.githubusercontent.com/u/6514070?v=4","gravatar_id":"","url":"https://api.github.com/users/orenorgad","html_url":"https://github.com/orenorgad","followers_url":"https://api.github.com/users/orenorgad/followers","following_url":"https://api.github.com/users/orenorgad/following{/other_user}","gists_url":"https://api.github.com/users/orenorgad/gists{/gist_id}","starred_url":"https://api.github.com/users/orenorgad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orenorgad/subscriptions","organizations_url":"https://api.github.com/users/orenorgad/orgs","repos_url":"https://api.github.com/users/orenorgad/repos","events_url":"https://api.github.com/users/orenorgad/events{/privacy}","received_events_url":"https://api.github.com/users/orenorgad/received_events","type":"User","site_admin":false},"created_at":"2014-02-11T14:20:15Z","updated_at":"2014-02-11T14:22:25Z","author_association":"NONE","body":"Hi Shay, I'm running 2 bulk requests (each with 420 requests, but on ES queue that translate into more than 1000 requests) and getting the same exception for the second bulk. That worked fine when running on version 0.90.2, but now that I've upgraded to 0.90.10 I'm getting the exception. Was there a change in the queue size or reject behavior since  0.90.2?\n\nnote: the request doesn't hang.\n\nThanks in advanced,\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41964428","html_url":"https://github.com/elastic/elasticsearch/issues/4887#issuecomment-41964428","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4887","id":41964428,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTY0NDI4","user":{"login":"tvinod","id":126152,"node_id":"MDQ6VXNlcjEyNjE1Mg==","avatar_url":"https://avatars3.githubusercontent.com/u/126152?v=4","gravatar_id":"","url":"https://api.github.com/users/tvinod","html_url":"https://github.com/tvinod","followers_url":"https://api.github.com/users/tvinod/followers","following_url":"https://api.github.com/users/tvinod/following{/other_user}","gists_url":"https://api.github.com/users/tvinod/gists{/gist_id}","starred_url":"https://api.github.com/users/tvinod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvinod/subscriptions","organizations_url":"https://api.github.com/users/tvinod/orgs","repos_url":"https://api.github.com/users/tvinod/repos","events_url":"https://api.github.com/users/tvinod/events{/privacy}","received_events_url":"https://api.github.com/users/tvinod/received_events","type":"User","site_admin":false},"created_at":"2014-05-01T22:30:02Z","updated_at":"2014-05-01T22:30:02Z","author_association":"NONE","body":"I am facing the exact same issue.. so what is the solution or workaround??\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41964708","html_url":"https://github.com/elastic/elasticsearch/issues/4887#issuecomment-41964708","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4887","id":41964708,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTY0NzA4","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-05-01T22:33:29Z","updated_at":"2014-05-01T22:33:29Z","author_association":"MEMBER","body":"@orenorg yes, the defaults were added post 0.90.2 to set the queue size to make sure the server doesn't get overloaded\n\n@tvinod if you get rejected failures, then you need to add more capacity to your cluster if you expect it to handle such load. Overloading it without protection will just cause it to fall over.\n\n@karol-gwaj sorry to get back late, but did you try to upgrade to latest version and see if it got solved?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41964980","html_url":"https://github.com/elastic/elasticsearch/issues/4887#issuecomment-41964980","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4887","id":41964980,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTY0OTgw","user":{"login":"tvinod","id":126152,"node_id":"MDQ6VXNlcjEyNjE1Mg==","avatar_url":"https://avatars3.githubusercontent.com/u/126152?v=4","gravatar_id":"","url":"https://api.github.com/users/tvinod","html_url":"https://github.com/tvinod","followers_url":"https://api.github.com/users/tvinod/followers","following_url":"https://api.github.com/users/tvinod/following{/other_user}","gists_url":"https://api.github.com/users/tvinod/gists{/gist_id}","starred_url":"https://api.github.com/users/tvinod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvinod/subscriptions","organizations_url":"https://api.github.com/users/tvinod/orgs","repos_url":"https://api.github.com/users/tvinod/repos","events_url":"https://api.github.com/users/tvinod/events{/privacy}","received_events_url":"https://api.github.com/users/tvinod/received_events","type":"User","site_admin":false},"created_at":"2014-05-01T22:36:40Z","updated_at":"2014-05-01T22:36:40Z","author_association":"NONE","body":"Thanks @kimchy . I understand the rejected failures exception. My issue is that my java call on the client side hangs forever. that shouldn't happen. it should either return an error or throw an exception. im on the latest 1.1.0 version.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41965054","html_url":"https://github.com/elastic/elasticsearch/issues/4887#issuecomment-41965054","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4887","id":41965054,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTY1MDU0","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-05-01T22:37:35Z","updated_at":"2014-05-01T22:37:35Z","author_association":"MEMBER","body":"@tvinod if it hangs then its a problem, is there a chance that you can write a repro for this? we will try and repro it as well again...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41965524","html_url":"https://github.com/elastic/elasticsearch/issues/4887#issuecomment-41965524","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4887","id":41965524,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTY1NTI0","user":{"login":"tvinod","id":126152,"node_id":"MDQ6VXNlcjEyNjE1Mg==","avatar_url":"https://avatars3.githubusercontent.com/u/126152?v=4","gravatar_id":"","url":"https://api.github.com/users/tvinod","html_url":"https://github.com/tvinod","followers_url":"https://api.github.com/users/tvinod/followers","following_url":"https://api.github.com/users/tvinod/following{/other_user}","gists_url":"https://api.github.com/users/tvinod/gists{/gist_id}","starred_url":"https://api.github.com/users/tvinod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvinod/subscriptions","organizations_url":"https://api.github.com/users/tvinod/orgs","repos_url":"https://api.github.com/users/tvinod/repos","events_url":"https://api.github.com/users/tvinod/events{/privacy}","received_events_url":"https://api.github.com/users/tvinod/received_events","type":"User","site_admin":false},"created_at":"2014-05-01T22:43:45Z","updated_at":"2014-05-01T22:43:45Z","author_association":"NONE","body":"i have a 100% repro but i think its because of my setup, amount of data i\nhave in ES and the client pattern.. i can try my best to see if i can write\na repro for you.\nbut if there is any instrumentation that you want me to do, either on\nclient side or ES config side, i can do it.\n\nlet me know.\n\nOn Thu, May 1, 2014 at 3:38 PM, Shay Banon notifications@github.com wrote:\n\n> @tvinod https://github.com/tvinod if it hangs then its a problem, is\n> there a chance that you can write a repro for this? we will try and repro\n> it as well again...\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/elasticsearch/elasticsearch/issues/4887#issuecomment-41965054\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41965689","html_url":"https://github.com/elastic/elasticsearch/issues/4887#issuecomment-41965689","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4887","id":41965689,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTY1Njg5","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-05-01T22:46:07Z","updated_at":"2014-05-01T22:46:07Z","author_association":"MEMBER","body":"@tvinod its tricky with instrumentation, because of the async nature of ES..., I wrote a very simple program that continuously simulates rejections and it doesn't seem to get stuck, so a repro (you can mail me privately) would go a long way to help solve this.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41967580","html_url":"https://github.com/elastic/elasticsearch/issues/4887#issuecomment-41967580","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4887","id":41967580,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTY3NTgw","user":{"login":"tvinod","id":126152,"node_id":"MDQ6VXNlcjEyNjE1Mg==","avatar_url":"https://avatars3.githubusercontent.com/u/126152?v=4","gravatar_id":"","url":"https://api.github.com/users/tvinod","html_url":"https://github.com/tvinod","followers_url":"https://api.github.com/users/tvinod/followers","following_url":"https://api.github.com/users/tvinod/following{/other_user}","gists_url":"https://api.github.com/users/tvinod/gists{/gist_id}","starred_url":"https://api.github.com/users/tvinod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvinod/subscriptions","organizations_url":"https://api.github.com/users/tvinod/orgs","repos_url":"https://api.github.com/users/tvinod/repos","events_url":"https://api.github.com/users/tvinod/events{/privacy}","received_events_url":"https://api.github.com/users/tvinod/received_events","type":"User","site_admin":false},"created_at":"2014-05-01T23:11:43Z","updated_at":"2014-05-01T23:11:43Z","author_association":"NONE","body":"ok, ill let you know when i have something for you..\n\nbut if it helps - in my case, it hangs when the number of requests in the\nmultisearch is 26. its not a magic number, it just happens to be in my case.\n\nthanks\n\nOn Thu, May 1, 2014 at 3:46 PM, Shay Banon notifications@github.com wrote:\n\n> @tvinod https://github.com/tvinod its tricky with instrumentation,\n> because of the async nature of ES..., I wrote a very simple program that\n> continuously simulates rejections and it doesn't seem to get stuck, so a\n> repro (you can mail me privately) would go a long way to help solve this.\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/elasticsearch/elasticsearch/issues/4887#issuecomment-41965689\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41969132","html_url":"https://github.com/elastic/elasticsearch/issues/4887#issuecomment-41969132","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4887","id":41969132,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTY5MTMy","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-05-01T23:35:35Z","updated_at":"2014-05-01T23:35:35Z","author_association":"MEMBER","body":"I believe I managed to recreate it, tricky... . Hold on the repro for now, will continue to work on it.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41970085","html_url":"https://github.com/elastic/elasticsearch/issues/4887#issuecomment-41970085","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4887","id":41970085,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTcwMDg1","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-05-01T23:51:28Z","updated_at":"2014-05-01T23:51:28Z","author_association":"MEMBER","body":"I managed to recreate it under certain conditions (very tricky), this is similar in nature to #4526, and it happens because the rejection exception happens on the calling thread, so its not on a forked thread. I will think about how this can be solved, we should fix this case cleanly in ES, but thats a biggish refactoring potentially, will update this issue...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/42121255","html_url":"https://github.com/elastic/elasticsearch/issues/4887#issuecomment-42121255","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4887","id":42121255,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTIxMjU1","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-05-04T01:30:41Z","updated_at":"2014-05-04T01:30:41Z","author_association":"MEMBER","body":"I finally found the problem (see pull request above), it didn't relate to #4526 at the end, but wrong management of how we iterate over the shard iterator between copies of the same shard.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/42162736","html_url":"https://github.com/elastic/elasticsearch/issues/4887#issuecomment-42162736","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4887","id":42162736,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTYyNzM2","user":{"login":"tvinod","id":126152,"node_id":"MDQ6VXNlcjEyNjE1Mg==","avatar_url":"https://avatars3.githubusercontent.com/u/126152?v=4","gravatar_id":"","url":"https://api.github.com/users/tvinod","html_url":"https://github.com/tvinod","followers_url":"https://api.github.com/users/tvinod/followers","following_url":"https://api.github.com/users/tvinod/following{/other_user}","gists_url":"https://api.github.com/users/tvinod/gists{/gist_id}","starred_url":"https://api.github.com/users/tvinod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvinod/subscriptions","organizations_url":"https://api.github.com/users/tvinod/orgs","repos_url":"https://api.github.com/users/tvinod/repos","events_url":"https://api.github.com/users/tvinod/events{/privacy}","received_events_url":"https://api.github.com/users/tvinod/received_events","type":"User","site_admin":false},"created_at":"2014-05-05T06:46:45Z","updated_at":"2014-05-05T06:46:45Z","author_association":"NONE","body":"great, any ETA on the fix? whats the best way to get it..\nthanks\n\nOn Sat, May 3, 2014 at 6:31 PM, Shay Banon notifications@github.com wrote:\n\n> I finally found the problem (see pull request above), it didn't relate to\n> #4526 https://github.com/elasticsearch/elasticsearch/issues/4526 at the\n> end, but wrong management of how we iterate over the shard iterator between\n> copies of the same shard.\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/elasticsearch/elasticsearch/issues/4887#issuecomment-42121255\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/43002990","html_url":"https://github.com/elastic/elasticsearch/issues/4887#issuecomment-43002990","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4887","id":43002990,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMDAyOTkw","user":{"login":"billynewport","id":989967,"node_id":"MDQ6VXNlcjk4OTk2Nw==","avatar_url":"https://avatars0.githubusercontent.com/u/989967?v=4","gravatar_id":"","url":"https://api.github.com/users/billynewport","html_url":"https://github.com/billynewport","followers_url":"https://api.github.com/users/billynewport/followers","following_url":"https://api.github.com/users/billynewport/following{/other_user}","gists_url":"https://api.github.com/users/billynewport/gists{/gist_id}","starred_url":"https://api.github.com/users/billynewport/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billynewport/subscriptions","organizations_url":"https://api.github.com/users/billynewport/orgs","repos_url":"https://api.github.com/users/billynewport/repos","events_url":"https://api.github.com/users/billynewport/events{/privacy}","received_events_url":"https://api.github.com/users/billynewport/received_events","type":"User","site_admin":false},"created_at":"2014-05-13T19:45:20Z","updated_at":"2014-05-13T19:45:20Z","author_association":"NONE","body":"I'm stuck on this now also. I'm running 1.1.1 ES server and 1.0.2 java client. It just hangs in the client on actionGet(). Is this a server or client bug? It was working but when I increased the amount I'm bulking, the problem started. Any ETA?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/68087946","html_url":"https://github.com/elastic/elasticsearch/issues/4887#issuecomment-68087946","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4887","id":68087946,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDg3OTQ2","user":{"login":"situ2011","id":1185407,"node_id":"MDQ6VXNlcjExODU0MDc=","avatar_url":"https://avatars2.githubusercontent.com/u/1185407?v=4","gravatar_id":"","url":"https://api.github.com/users/situ2011","html_url":"https://github.com/situ2011","followers_url":"https://api.github.com/users/situ2011/followers","following_url":"https://api.github.com/users/situ2011/following{/other_user}","gists_url":"https://api.github.com/users/situ2011/gists{/gist_id}","starred_url":"https://api.github.com/users/situ2011/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/situ2011/subscriptions","organizations_url":"https://api.github.com/users/situ2011/orgs","repos_url":"https://api.github.com/users/situ2011/repos","events_url":"https://api.github.com/users/situ2011/events{/privacy}","received_events_url":"https://api.github.com/users/situ2011/received_events","type":"User","site_admin":false},"created_at":"2014-12-25T05:26:33Z","updated_at":"2014-12-25T05:26:33Z","author_association":"NONE","body":"I got this too, any solution? I'm running es 1.4.0 and java 1.7\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/68246694","html_url":"https://github.com/elastic/elasticsearch/issues/4887#issuecomment-68246694","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4887","id":68246694,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjQ2Njk0","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-12-29T10:30:33Z","updated_at":"2014-12-29T10:30:33Z","author_association":"CONTRIBUTOR","body":"@situ2011 this was fixed in 1.1.2.  If you're seeing something similar please open a new issue with all necessary details.\n","performed_via_github_app":null}]