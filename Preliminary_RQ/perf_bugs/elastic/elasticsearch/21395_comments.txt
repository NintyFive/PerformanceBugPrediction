[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/259084882","html_url":"https://github.com/elastic/elasticsearch/issues/21395#issuecomment-259084882","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21395","id":259084882,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTA4NDg4Mg==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-11-08T09:16:53Z","updated_at":"2016-11-08T09:16:53Z","author_association":"CONTRIBUTOR","body":"Could you explain your use-case more in details? In particular I suspect there is a wrong assumption with:\n\n> import the latest documents into a new index\n\nThe `_doc` id is most of times correlated with the import order, but it can also become completely unrelated since merges are allowed to completely reorder documents, so you might have some old documents getting a higher doc id than some recent documents.\n\n`sort: _doc` really means \"I do not care about the order, so give me the documents in whatever order suits you best\".\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/259092014","html_url":"https://github.com/elastic/elasticsearch/issues/21395#issuecomment-259092014","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21395","id":259092014,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTA5MjAxNA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-11-08T09:48:56Z","updated_at":"2016-11-08T09:49:07Z","author_association":"MEMBER","body":"maybe we should prohibit setting the direction (desc or asc) when using sort by _doc given that it doesn't do what users may expect? or maybe change the syntax to make it clear that it really means no sorting?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/259098899","html_url":"https://github.com/elastic/elasticsearch/issues/21395#issuecomment-259098899","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21395","id":259098899,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTA5ODg5OQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-11-08T10:19:14Z","updated_at":"2016-11-08T10:19:14Z","author_association":"CONTRIBUTOR","body":"Maybe. I had a similar intention when suggesting that we rename `_doc` to `_any` (#13789). Then we could also sort in ascending doc id order if someone specifies `_any DESC`.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/259122262","html_url":"https://github.com/elastic/elasticsearch/issues/21395#issuecomment-259122262","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21395","id":259122262,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTEyMjI2Mg==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-11-08T12:18:49Z","updated_at":"2016-11-08T12:18:49Z","author_association":"CONTRIBUTOR","body":"I figure we're kind of stuck with `_doc` for now. I mean we _could_ change it in 6.0 but I don't really think it is worth it now that it has been out for so long and we feel like we've explained it. Maybe the right thing to do here is to remove setting the direction for `_doc` like @javanna says and mention why in the docs.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/259143467","html_url":"https://github.com/elastic/elasticsearch/issues/21395#issuecomment-259143467","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21395","id":259143467,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTE0MzQ2Nw==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-11-08T14:01:12Z","updated_at":"2016-11-08T14:01:12Z","author_association":"CONTRIBUTOR","body":"Yeah I agree the cost is not worth the gain here, now that we have been communicating about using `sort: _doc` for fast scrolls. +1 to @javanna 's suggestion too.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/259159220","html_url":"https://github.com/elastic/elasticsearch/issues/21395#issuecomment-259159220","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21395","id":259159220,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTE1OTIyMA==","user":{"login":"richardpeng","id":430409,"node_id":"MDQ6VXNlcjQzMDQwOQ==","avatar_url":"https://avatars2.githubusercontent.com/u/430409?v=4","gravatar_id":"","url":"https://api.github.com/users/richardpeng","html_url":"https://github.com/richardpeng","followers_url":"https://api.github.com/users/richardpeng/followers","following_url":"https://api.github.com/users/richardpeng/following{/other_user}","gists_url":"https://api.github.com/users/richardpeng/gists{/gist_id}","starred_url":"https://api.github.com/users/richardpeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardpeng/subscriptions","organizations_url":"https://api.github.com/users/richardpeng/orgs","repos_url":"https://api.github.com/users/richardpeng/repos","events_url":"https://api.github.com/users/richardpeng/events{/privacy}","received_events_url":"https://api.github.com/users/richardpeng/received_events","type":"User","site_admin":false},"created_at":"2016-11-08T15:00:24Z","updated_at":"2016-11-08T15:00:24Z","author_association":"NONE","body":"I understand that `_doc` is meant for fast scrolls and that it shouldn't be used as a proxy for import order. However, even though it's very slow and doesn't return documents exactly in import order, it's still faster than reindexing hundreds of millions of documents. Ideally, I'd like a way to sort by import order.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/259163293","html_url":"https://github.com/elastic/elasticsearch/issues/21395#issuecomment-259163293","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21395","id":259163293,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTE2MzI5Mw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-11-08T15:14:35Z","updated_at":"2016-11-08T15:14:35Z","author_association":"CONTRIBUTOR","body":"> Ideally, I'd like a way to sort by import order.\n\nThe usual way to do this it to maintain a last modified date on the document. Elasticsearch has an [ingest processor](https://www.elastic.co/guide/en/elasticsearch/reference/current/date-processor.html) that can be used to stick the date on documents that you index but I don't believe it works for updates.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/260126537","html_url":"https://github.com/elastic/elasticsearch/issues/21395#issuecomment-260126537","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21395","id":260126537,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDEyNjUzNw==","user":{"login":"richardpeng","id":430409,"node_id":"MDQ6VXNlcjQzMDQwOQ==","avatar_url":"https://avatars2.githubusercontent.com/u/430409?v=4","gravatar_id":"","url":"https://api.github.com/users/richardpeng","html_url":"https://github.com/richardpeng","followers_url":"https://api.github.com/users/richardpeng/followers","following_url":"https://api.github.com/users/richardpeng/following{/other_user}","gists_url":"https://api.github.com/users/richardpeng/gists{/gist_id}","starred_url":"https://api.github.com/users/richardpeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardpeng/subscriptions","organizations_url":"https://api.github.com/users/richardpeng/orgs","repos_url":"https://api.github.com/users/richardpeng/repos","events_url":"https://api.github.com/users/richardpeng/events{/privacy}","received_events_url":"https://api.github.com/users/richardpeng/received_events","type":"User","site_admin":false},"created_at":"2016-11-12T14:54:58Z","updated_at":"2016-11-12T14:54:58Z","author_association":"NONE","body":"Sounds good. I'll maintain a date field on my documents. Thanks for the pointer on the ingest processor. I'll check that out. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290720388","html_url":"https://github.com/elastic/elasticsearch/issues/21395#issuecomment-290720388","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21395","id":290720388,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDcyMDM4OA==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T14:02:06Z","updated_at":"2017-03-31T14:02:06Z","author_association":"MEMBER","body":"Closing as there doesn't seem like anything for us to do here.","performed_via_github_app":null}]