[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/420889444","html_url":"https://github.com/elastic/elasticsearch/issues/33637#issuecomment-420889444","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33637","id":420889444,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDg4OTQ0NA==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2018-09-13T05:37:39Z","updated_at":"2018-09-13T05:37:39Z","author_association":"MEMBER","body":"Thank you for your interest in Elasticsearch. \r\n\r\nThis appears to be a user question, and we'd like to direct these kinds \r\nof things to the [forums](https://discuss.elastic.co/). If you can stop \r\nby there, we'd appreciate it. This allows us to use GitHub for verified \r\nbug reports, feature requests, and pull requests.\r\n\r\nThere's an active community in the [forums](https://discuss.elastic.co/)\r\nthat should be able to help get an answer to your question. As such, I \r\nhope you don't mind that I close this.\r\n\r\nNevertheless, I want to provide a few hints here already. I think there are several problems with your benchmark and the methodology you use to measure response times, the most apparent ones being:\r\n\r\n* No warmup (either on client-side and probably also not on client-side)\r\n* Only measuring a single iteration\r\n* Not using a monotonic clock (i.e. `System.nanoTime()`)\r\n\r\nWe have also client-side benchmarking code in our repository at https://github.com/elastic/elasticsearch/tree/master/client/benchmark which you can look at as an inspiration for your own benchmarks.\r\n\r\nTo improve your benchmarking methodology you can read https://www.elastic.co/blog/seven-tips-for-better-elasticsearch-benchmarks. Although the blog post is written for server-side benchmarks, a lot of these tips apply to client-side benchmarks as well.\r\n\r\nFinally, to identify where time is spent you should attach a Java profiler such as Yourkit or Java flight recorder to your application. This helps you to see how long it takes to execute different parts of the code.","performed_via_github_app":null}]