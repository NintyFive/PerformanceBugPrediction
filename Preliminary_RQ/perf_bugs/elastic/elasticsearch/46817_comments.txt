[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/532667616","html_url":"https://github.com/elastic/elasticsearch/issues/46817#issuecomment-532667616","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46817","id":532667616,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjY2NzYxNg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-09-18T12:45:33Z","updated_at":"2019-09-18T12:45:33Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-security","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/532736363","html_url":"https://github.com/elastic/elasticsearch/issues/46817#issuecomment-532736363","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46817","id":532736363,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjczNjM2Mw==","user":{"login":"gwbrown","id":1522844,"node_id":"MDQ6VXNlcjE1MjI4NDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/1522844?v=4","gravatar_id":"","url":"https://api.github.com/users/gwbrown","html_url":"https://github.com/gwbrown","followers_url":"https://api.github.com/users/gwbrown/followers","following_url":"https://api.github.com/users/gwbrown/following{/other_user}","gists_url":"https://api.github.com/users/gwbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/gwbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwbrown/subscriptions","organizations_url":"https://api.github.com/users/gwbrown/orgs","repos_url":"https://api.github.com/users/gwbrown/repos","events_url":"https://api.github.com/users/gwbrown/events{/privacy}","received_events_url":"https://api.github.com/users/gwbrown/received_events","type":"User","site_admin":false},"created_at":"2019-09-18T15:25:05Z","updated_at":"2019-09-18T15:25:05Z","author_association":"CONTRIBUTOR","body":"I have seen this as well, with similar differences between filtered and unfiltered queries. The hot threads stack traces look almost exactly the same - in the case I saw, the query filters on the role were fairly straightforward - most were a boolean query of two `match` queries, although there were a few with `wildcard` queries.  I'll update here if there's anything more I can add.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/532983608","html_url":"https://github.com/elastic/elasticsearch/issues/46817#issuecomment-532983608","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46817","id":532983608,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjk4MzYwOA==","user":{"login":"henningandersen","id":33268011,"node_id":"MDQ6VXNlcjMzMjY4MDEx","avatar_url":"https://avatars2.githubusercontent.com/u/33268011?v=4","gravatar_id":"","url":"https://api.github.com/users/henningandersen","html_url":"https://github.com/henningandersen","followers_url":"https://api.github.com/users/henningandersen/followers","following_url":"https://api.github.com/users/henningandersen/following{/other_user}","gists_url":"https://api.github.com/users/henningandersen/gists{/gist_id}","starred_url":"https://api.github.com/users/henningandersen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henningandersen/subscriptions","organizations_url":"https://api.github.com/users/henningandersen/orgs","repos_url":"https://api.github.com/users/henningandersen/repos","events_url":"https://api.github.com/users/henningandersen/events{/privacy}","received_events_url":"https://api.github.com/users/henningandersen/received_events","type":"User","site_admin":false},"created_at":"2019-09-19T06:15:46Z","updated_at":"2019-09-19T06:15:46Z","author_association":"CONTRIBUTOR","body":"We discussed this on another channel and while it seems there could be room for improvement here, it is not a bug. I have converted this into an enhancement request instead.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/539294552","html_url":"https://github.com/elastic/elasticsearch/issues/46817#issuecomment-539294552","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46817","id":539294552,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTI5NDU1Mg==","user":{"login":"cpmoore","id":22562764,"node_id":"MDQ6VXNlcjIyNTYyNzY0","avatar_url":"https://avatars2.githubusercontent.com/u/22562764?v=4","gravatar_id":"","url":"https://api.github.com/users/cpmoore","html_url":"https://github.com/cpmoore","followers_url":"https://api.github.com/users/cpmoore/followers","following_url":"https://api.github.com/users/cpmoore/following{/other_user}","gists_url":"https://api.github.com/users/cpmoore/gists{/gist_id}","starred_url":"https://api.github.com/users/cpmoore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpmoore/subscriptions","organizations_url":"https://api.github.com/users/cpmoore/orgs","repos_url":"https://api.github.com/users/cpmoore/repos","events_url":"https://api.github.com/users/cpmoore/events{/privacy}","received_events_url":"https://api.github.com/users/cpmoore/received_events","type":"User","site_admin":false},"created_at":"2019-10-08T03:11:24Z","updated_at":"2019-10-08T03:11:24Z","author_association":"NONE","body":"I have seen similar slowness in our environment with users for whom DSL roles are applied.  I would be very happy to get this enhancement in a future release. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/540031224","html_url":"https://github.com/elastic/elasticsearch/issues/46817#issuecomment-540031224","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46817","id":540031224,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDAzMTIyNA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2019-10-09T14:38:24Z","updated_at":"2019-10-09T14:38:24Z","author_association":"MEMBER","body":"I wonder if we can load the bitset eagerly like we do for nested fields for instance. This would slow down the refresh of readers but since the cache is per segment it shouldn't make a difference unless a big merge happened. This wouldn't eliminate the possibility for the bitset to be regenerated since the security cache is bounded but this could help for the majority of cases (where the number of role query is under control).\r\nIt is really a bug that such a costly operation can happen during the `can_match` phase but I don't see how to fix it nicely. We need to run the costly operations to get simple things like number of docs and number of deleted docs and these informations are used during the `can_match` phase so we cannot skip this operation completely.\r\nWe could skip the `can_match` entirely if indices have dls enabled but that doesn't feel right too.\r\n@henningandersen can you explain why we don't consider this issue a bug ? ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/540055553","html_url":"https://github.com/elastic/elasticsearch/issues/46817#issuecomment-540055553","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46817","id":540055553,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDA1NTU1Mw==","user":{"login":"cpmoore","id":22562764,"node_id":"MDQ6VXNlcjIyNTYyNzY0","avatar_url":"https://avatars2.githubusercontent.com/u/22562764?v=4","gravatar_id":"","url":"https://api.github.com/users/cpmoore","html_url":"https://github.com/cpmoore","followers_url":"https://api.github.com/users/cpmoore/followers","following_url":"https://api.github.com/users/cpmoore/following{/other_user}","gists_url":"https://api.github.com/users/cpmoore/gists{/gist_id}","starred_url":"https://api.github.com/users/cpmoore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpmoore/subscriptions","organizations_url":"https://api.github.com/users/cpmoore/orgs","repos_url":"https://api.github.com/users/cpmoore/repos","events_url":"https://api.github.com/users/cpmoore/events{/privacy}","received_events_url":"https://api.github.com/users/cpmoore/received_events","type":"User","site_admin":false},"created_at":"2019-10-09T15:32:25Z","updated_at":"2019-10-09T15:32:25Z","author_association":"NONE","body":"To give a better idea of the performance impact of DLS, i ran some simple queries as a test.\r\n`service.group` is a keyword field in our mapping.  I redacted the actual values in the query, but you get the gist. \r\n\r\nFirst as my user without any access restrictions:\r\n```\r\nPOST /filebeat-*/_search\r\n{\r\n    \"query\": {\r\n       \"match_all\":{}\r\n    }\r\n}\r\n```\r\n```\r\n{\r\n    \"took\": 39,\r\n     ...\r\n}\r\n```\r\n```\r\nPOST /filebeat-*/_search\r\n{\r\n    \"query\": {\r\n        \"terms\": {\r\n            \"service.group\": [\r\n                \"group1\",\r\n                \"group2\",\r\n                \"group3\",\r\n                \"group4\"\r\n            ]\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\n{\r\n    \"took\": 470,\r\n     ...\r\n}\r\n```\r\n\r\nThen as a test user, with the terms query from above as a DLS query\r\n```\r\nPOST /filebeat-*/_search\r\n{\r\n  \"query\":{\r\n  \t\"match_all\":{}\r\n  }\t\r\n}\r\n```\r\n```\r\n{\r\n    \"took\": 5383,\r\n     ...\r\n}\r\n```\r\n```\r\nPOST /filebeat-*/_search\r\n{\r\n    \"query\": {\r\n        \"terms\": {\r\n            \"service.group\": [\r\n                \"group1\",\r\n                \"group2\",\r\n                \"group3\",\r\n                \"group4\"\r\n            ]\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\n{\r\n    \"took\": 5677,\r\n     ...\r\n}\r\n```\r\n\r\n\r\nAm i wrong in believing that the terms query from my request should take roughly the same amount of time as a `match_all` query from a user with terms query as a DLS? \r\nInstead it takes 5 seconds longer.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/540068747","html_url":"https://github.com/elastic/elasticsearch/issues/46817#issuecomment-540068747","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46817","id":540068747,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDA2ODc0Nw==","user":{"login":"henningandersen","id":33268011,"node_id":"MDQ6VXNlcjMzMjY4MDEx","avatar_url":"https://avatars2.githubusercontent.com/u/33268011?v=4","gravatar_id":"","url":"https://api.github.com/users/henningandersen","html_url":"https://github.com/henningandersen","followers_url":"https://api.github.com/users/henningandersen/followers","following_url":"https://api.github.com/users/henningandersen/following{/other_user}","gists_url":"https://api.github.com/users/henningandersen/gists{/gist_id}","starred_url":"https://api.github.com/users/henningandersen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henningandersen/subscriptions","organizations_url":"https://api.github.com/users/henningandersen/orgs","repos_url":"https://api.github.com/users/henningandersen/repos","events_url":"https://api.github.com/users/henningandersen/events{/privacy}","received_events_url":"https://api.github.com/users/henningandersen/received_events","type":"User","site_admin":false},"created_at":"2019-10-09T16:02:04Z","updated_at":"2019-10-09T16:02:04Z","author_association":"CONTRIBUTOR","body":"@jimczi I guess this is borderline. ES works fine if configured with a high enough `xpack.security.dls.bitset.cache.size`, though there is room for lowering some of the search tail latencies by not having to initialize this at search time as new segments are created or data is aged out of the cache.\r\nOn the other hand, this is doing extraordinary long operations (not sure if it includes IO?) on transport which could be regarded a bug, but is not unprecedented.\r\nI am open to either interpretation.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/540070972","html_url":"https://github.com/elastic/elasticsearch/issues/46817#issuecomment-540070972","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46817","id":540070972,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDA3MDk3Mg==","user":{"login":"henningandersen","id":33268011,"node_id":"MDQ6VXNlcjMzMjY4MDEx","avatar_url":"https://avatars2.githubusercontent.com/u/33268011?v=4","gravatar_id":"","url":"https://api.github.com/users/henningandersen","html_url":"https://github.com/henningandersen","followers_url":"https://api.github.com/users/henningandersen/followers","following_url":"https://api.github.com/users/henningandersen/following{/other_user}","gists_url":"https://api.github.com/users/henningandersen/gists{/gist_id}","starred_url":"https://api.github.com/users/henningandersen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henningandersen/subscriptions","organizations_url":"https://api.github.com/users/henningandersen/orgs","repos_url":"https://api.github.com/users/henningandersen/repos","events_url":"https://api.github.com/users/henningandersen/events{/privacy}","received_events_url":"https://api.github.com/users/henningandersen/received_events","type":"User","site_admin":false},"created_at":"2019-10-09T16:07:08Z","updated_at":"2019-10-09T16:07:08Z","author_association":"CONTRIBUTOR","body":"@cpmoore which release are you on? Above 7.3 you might want to set `xpack.security.dls.bitset.cache.size` to a higher value than [default 50MB when using DLS](https://www.elastic.co/guide/en/elasticsearch/reference/7.3/security-settings.html#field-document-security-settings).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/540079205","html_url":"https://github.com/elastic/elasticsearch/issues/46817#issuecomment-540079205","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46817","id":540079205,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDA3OTIwNQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2019-10-09T16:27:07Z","updated_at":"2019-10-09T16:27:07Z","author_association":"MEMBER","body":"> On the other hand, this is doing extraordinary long operations (not sure if it includes IO?) on transport which could be regarded a bug, but is not unprecedented.\r\n\r\nThat's the part that I care about. I think we should fix this and I am working on a pr to propose a simple solution. So to be clear my worry is not that requests running with DLS are slower than normal requests. This is expected and sizing the cache is important even though `50MB` (the default) gives some room to cache a fairly large number of documents/bitsets.\r\nMy big worry is that we always run the loading of this cache in the `can_match` phase and that's  it's unexpected.\r\n\r\n> Am i wrong in believing that the terms query from my request should take roughly the same amount of time as a match_all query from a user with terms query as a DLS?\r\nInstead it takes 5 seconds longer.\r\n\r\nIt is expected since the first execution of a DLS query will eagerly build the cache version of the role query. As explained above the result is cached per segment so the following execution should be comparable to the non-DLS case.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/540104299","html_url":"https://github.com/elastic/elasticsearch/issues/46817#issuecomment-540104299","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46817","id":540104299,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDEwNDI5OQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2019-10-09T17:27:47Z","updated_at":"2019-10-09T17:27:47Z","author_association":"MEMBER","body":"I opened https://github.com/elastic/elasticsearch/pull/47816 to propose a solution but I am open to alternatives. We should also consider not running the can_match phase when dls is activated as a last resort (if we cannot find an agreement).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/540120312","html_url":"https://github.com/elastic/elasticsearch/issues/46817#issuecomment-540120312","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46817","id":540120312,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDEyMDMxMg==","user":{"login":"cpmoore","id":22562764,"node_id":"MDQ6VXNlcjIyNTYyNzY0","avatar_url":"https://avatars2.githubusercontent.com/u/22562764?v=4","gravatar_id":"","url":"https://api.github.com/users/cpmoore","html_url":"https://github.com/cpmoore","followers_url":"https://api.github.com/users/cpmoore/followers","following_url":"https://api.github.com/users/cpmoore/following{/other_user}","gists_url":"https://api.github.com/users/cpmoore/gists{/gist_id}","starred_url":"https://api.github.com/users/cpmoore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpmoore/subscriptions","organizations_url":"https://api.github.com/users/cpmoore/orgs","repos_url":"https://api.github.com/users/cpmoore/repos","events_url":"https://api.github.com/users/cpmoore/events{/privacy}","received_events_url":"https://api.github.com/users/cpmoore/received_events","type":"User","site_admin":false},"created_at":"2019-10-09T18:06:26Z","updated_at":"2019-10-09T18:06:26Z","author_association":"NONE","body":"@henningandersen \r\n\r\nI'm on version 7.4.0.  Just upgraded this week.\r\n\r\nI believe if it was a problem with the cache size being too small then subsequent requests from the same user for the same query would be at least a little faster as the query DLS should be in the cache  having just been used.  Right?  However each search consistently takes 5+ seconds.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/540152775","html_url":"https://github.com/elastic/elasticsearch/issues/46817#issuecomment-540152775","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46817","id":540152775,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDE1Mjc3NQ==","user":{"login":"henningandersen","id":33268011,"node_id":"MDQ6VXNlcjMzMjY4MDEx","avatar_url":"https://avatars2.githubusercontent.com/u/33268011?v=4","gravatar_id":"","url":"https://api.github.com/users/henningandersen","html_url":"https://github.com/henningandersen","followers_url":"https://api.github.com/users/henningandersen/followers","following_url":"https://api.github.com/users/henningandersen/following{/other_user}","gists_url":"https://api.github.com/users/henningandersen/gists{/gist_id}","starred_url":"https://api.github.com/users/henningandersen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henningandersen/subscriptions","organizations_url":"https://api.github.com/users/henningandersen/orgs","repos_url":"https://api.github.com/users/henningandersen/repos","events_url":"https://api.github.com/users/henningandersen/events{/privacy}","received_events_url":"https://api.github.com/users/henningandersen/received_events","type":"User","site_admin":false},"created_at":"2019-10-09T19:27:01Z","updated_at":"2019-10-09T19:27:01Z","author_association":"CONTRIBUTOR","body":"@cpmoore That is a bit hard to conclude on based on the information available. If the `hot_threads` while running the 5 sec query look similar to the stacktrace above, I think increasing the cache size should help. I suggest to try it out, for instance using 256MB if you have the heap space available for it.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/540174275","html_url":"https://github.com/elastic/elasticsearch/issues/46817#issuecomment-540174275","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46817","id":540174275,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDE3NDI3NQ==","user":{"login":"cpmoore","id":22562764,"node_id":"MDQ6VXNlcjIyNTYyNzY0","avatar_url":"https://avatars2.githubusercontent.com/u/22562764?v=4","gravatar_id":"","url":"https://api.github.com/users/cpmoore","html_url":"https://github.com/cpmoore","followers_url":"https://api.github.com/users/cpmoore/followers","following_url":"https://api.github.com/users/cpmoore/following{/other_user}","gists_url":"https://api.github.com/users/cpmoore/gists{/gist_id}","starred_url":"https://api.github.com/users/cpmoore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpmoore/subscriptions","organizations_url":"https://api.github.com/users/cpmoore/orgs","repos_url":"https://api.github.com/users/cpmoore/repos","events_url":"https://api.github.com/users/cpmoore/events{/privacy}","received_events_url":"https://api.github.com/users/cpmoore/received_events","type":"User","site_admin":false},"created_at":"2019-10-09T20:19:17Z","updated_at":"2019-10-09T20:19:17Z","author_association":"NONE","body":"@henningandersen \r\nI tried this on our test cluster and it did seem to help.  Granted our test cluster is a lot smaller than production. \r\nAm i right in assuming that the more documents the query matches the faster the cache will fill up?","performed_via_github_app":null}]