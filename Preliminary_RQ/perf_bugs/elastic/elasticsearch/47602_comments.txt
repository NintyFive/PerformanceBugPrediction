[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/538607220","html_url":"https://github.com/elastic/elasticsearch/issues/47602#issuecomment-538607220","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47602","id":538607220,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODYwNzIyMA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-10-05T02:04:38Z","updated_at":"2019-10-05T02:04:38Z","author_association":"MEMBER","body":"@martijnvg Could you take a look, or should this be a forum topic?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/538878365","html_url":"https://github.com/elastic/elasticsearch/issues/47602#issuecomment-538878365","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47602","id":538878365,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODg3ODM2NQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-10-07T07:44:41Z","updated_at":"2019-10-07T07:44:41Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search (:Search/Percolator)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/538895713","html_url":"https://github.com/elastic/elasticsearch/issues/47602#issuecomment-538895713","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47602","id":538895713,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODg5NTcxMw==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2019-10-07T08:34:47Z","updated_at":"2019-10-07T08:34:47Z","author_association":"MEMBER","body":"Hey @Larrik, the percolator is a slow query compared to other queries. This gets very noticeable in a scroll search, because the query gets re-executed on each round trip. What can help here is to increase the `size` to something like 1000 to reduce round trips and sort by a special field named `_doc` (sorting by index order). If you open [a forum topic](https://discuss.elastic.co/c/elasticsearch) and ping me there (and provide additional information, like ES version and information about the type of percolator queries), then I'm happy to provide additional help there. Then if there a changes need to be made (for example doc changes) then we can open another issue in GitHub.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/546015855","html_url":"https://github.com/elastic/elasticsearch/issues/47602#issuecomment-546015855","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47602","id":546015855,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjAxNTg1NQ==","user":{"login":"Larrik","id":1168007,"node_id":"MDQ6VXNlcjExNjgwMDc=","avatar_url":"https://avatars2.githubusercontent.com/u/1168007?v=4","gravatar_id":"","url":"https://api.github.com/users/Larrik","html_url":"https://github.com/Larrik","followers_url":"https://api.github.com/users/Larrik/followers","following_url":"https://api.github.com/users/Larrik/following{/other_user}","gists_url":"https://api.github.com/users/Larrik/gists{/gist_id}","starred_url":"https://api.github.com/users/Larrik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larrik/subscriptions","organizations_url":"https://api.github.com/users/Larrik/orgs","repos_url":"https://api.github.com/users/Larrik/repos","events_url":"https://api.github.com/users/Larrik/events{/privacy}","received_events_url":"https://api.github.com/users/Larrik/received_events","type":"User","site_admin":false},"created_at":"2019-10-24T17:14:55Z","updated_at":"2019-10-24T17:14:55Z","author_association":"NONE","body":"@martijnvg I haven't been able to jump into the forums just yet, but I did want to point out that when I tried using the size parameter, ES gave me an error that you can't set size on a percolator query. Which means it's using 10 as i ts value, which is brutal.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/546919867","html_url":"https://github.com/elastic/elasticsearch/issues/47602#issuecomment-546919867","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47602","id":546919867,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjkxOTg2Nw==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2019-10-28T12:15:18Z","updated_at":"2019-10-28T12:15:18Z","author_association":"MEMBER","body":"@Larrik Can you open a forum topic and share the search request that you tried to send to ES?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/647646857","html_url":"https://github.com/elastic/elasticsearch/issues/47602#issuecomment-647646857","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47602","id":647646857,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzY0Njg1Nw==","user":{"login":"klimchuk","id":98524,"node_id":"MDQ6VXNlcjk4NTI0","avatar_url":"https://avatars0.githubusercontent.com/u/98524?v=4","gravatar_id":"","url":"https://api.github.com/users/klimchuk","html_url":"https://github.com/klimchuk","followers_url":"https://api.github.com/users/klimchuk/followers","following_url":"https://api.github.com/users/klimchuk/following{/other_user}","gists_url":"https://api.github.com/users/klimchuk/gists{/gist_id}","starred_url":"https://api.github.com/users/klimchuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klimchuk/subscriptions","organizations_url":"https://api.github.com/users/klimchuk/orgs","repos_url":"https://api.github.com/users/klimchuk/repos","events_url":"https://api.github.com/users/klimchuk/events{/privacy}","received_events_url":"https://api.github.com/users/klimchuk/received_events","type":"User","site_admin":false},"created_at":"2020-06-22T16:58:25Z","updated_at":"2020-06-22T16:58:25Z","author_association":"NONE","body":"Percolate introduced in 5.x has much worse performance than it's predecessor. I don't know what's ElasticSearch as a company thinking providing subpar replacement but that's the way it is. We opened tickets with ElasticSearch support and it went nowhere. Basically it's just not possible to achieve percolate latency comparable with ES 2.x","performed_via_github_app":null}]