{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/17451","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17451/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17451/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17451/events","html_url":"https://github.com/elastic/elasticsearch/issues/17451","id":144948641,"node_id":"MDU6SXNzdWUxNDQ5NDg2NDE=","number":17451,"title":"Simple Get API requests sometimes slow","user":{"login":"iquito","id":973653,"node_id":"MDQ6VXNlcjk3MzY1Mw==","avatar_url":"https://avatars2.githubusercontent.com/u/973653?v=4","gravatar_id":"","url":"https://api.github.com/users/iquito","html_url":"https://github.com/iquito","followers_url":"https://api.github.com/users/iquito/followers","following_url":"https://api.github.com/users/iquito/following{/other_user}","gists_url":"https://api.github.com/users/iquito/gists{/gist_id}","starred_url":"https://api.github.com/users/iquito/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iquito/subscriptions","organizations_url":"https://api.github.com/users/iquito/orgs","repos_url":"https://api.github.com/users/iquito/repos","events_url":"https://api.github.com/users/iquito/events{/privacy}","received_events_url":"https://api.github.com/users/iquito/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-03-31T16:22:40Z","updated_at":"2016-04-04T22:18:16Z","closed_at":"2016-04-04T18:19:22Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\nIf you are filing a bug report, please remove the below feature\nrequest block and provide responses for all of the below items.\n-->\n\n**Elasticsearch version**:\n\n2.3.0\n\n**JVM version**:\n\nJava 8 Update 77\n\n**OS version**:\n\nDebian Jessie\n\n**Description of the problem**:\n\nI have intermittent but reproduceable slow requests when I get a record via /index/type/id and if there is a \"larger\" substructure (array of objects with multiple different fields and types) in the _source result. 1700 bytes (in JSON notation) is already enough to slow down a steady number of requests to above 100ms instead of the usual 1-2ms per request.\n\nThese slow requests disappear in my reproducible tests if I `_source_exclude` the substructure in my request, but they still appear randomly on the site I am using ES on (a simple ES GET then takes 200ms instead of 1-2ms). The slow requests also disappear from my reproducible tests when I start flooding ES with these simple GET requests and do additional requests in parallel. I have had slow requests of this kind since ES 1.4 and now still in ES 2.3.\n\nI have described my experiences in detail on http://stackoverflow.com/questions/36272601/find-causes-for-slower-elasticsearch-responses - the server is idle with plenty of resources, which is why this vexes me so much. Either this is a bug, or something very strange is going on.\n\nAs far as I can tell the number of slow requests increases the larger the substructures are in the stored object, but only if they are not excluded in the request. Maybe it also has to do something with `\"index\": \"no\"`, because all the data which causes the problems is not indexed or stored, it is only in the _source.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}