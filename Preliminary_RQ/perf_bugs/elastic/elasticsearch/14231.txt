{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/14231","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14231/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14231/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14231/events","html_url":"https://github.com/elastic/elasticsearch/issues/14231","id":112655790,"node_id":"MDU6SXNzdWUxMTI2NTU3OTA=","number":14231,"title":"Test testKatakanaStemFilter hangs","user":{"login":"jdconrad","id":2126764,"node_id":"MDQ6VXNlcjIxMjY3NjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/2126764?v=4","gravatar_id":"","url":"https://api.github.com/users/jdconrad","html_url":"https://github.com/jdconrad","followers_url":"https://api.github.com/users/jdconrad/followers","following_url":"https://api.github.com/users/jdconrad/following{/other_user}","gists_url":"https://api.github.com/users/jdconrad/gists{/gist_id}","starred_url":"https://api.github.com/users/jdconrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdconrad/subscriptions","organizations_url":"https://api.github.com/users/jdconrad/orgs","repos_url":"https://api.github.com/users/jdconrad/repos","events_url":"https://api.github.com/users/jdconrad/events{/privacy}","received_events_url":"https://api.github.com/users/jdconrad/received_events","type":"User","site_admin":false},"labels":[{"id":142001965,"node_id":"MDU6TGFiZWwxNDIwMDE5NjU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Analysis","name":":Search/Analysis","color":"0e8a16","default":false,"description":"How text is split into tokens"},{"id":60445228,"node_id":"MDU6TGFiZWw2MDQ0NTIyOA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest","name":">test","color":"5319e7","default":false,"description":"Issues or PRs that are addressing/adding tests"},{"id":110815527,"node_id":"MDU6TGFiZWwxMTA4MTU1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/help%20wanted","name":"help wanted","color":"207de5","default":true,"description":"adoptme"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-10-21T18:54:49Z","updated_at":"2018-02-13T19:33:12Z","closed_at":"2016-01-29T18:57:34Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"The following test is hanging org.elasticsearch.index.analysis.KuromojiAnalysisTests.testKatakanaStemFilter\n\n```\nأكت 21, 2015 10:16:47 ص com.carrotsearch.randomizedtesting.ThreadLeakControl$2 evaluate\nWARNING: Suite execution timed out: org.elasticsearch.index.analysis.KuromojiAnalysisTests\n==== jstack at approximately timeout time ====\n\"TEST-KuromojiAnalysisTests.testKatakanaStemFilter-seed#[2EFDA19BF9C122F]\" ID=13 RUNNABLE\n    at org.apache.lucene.util.fst.FST.findTargetArc(FST.java:1195)\n    at org.apache.lucene.analysis.ja.dict.TokenInfoFST.cacheRootArcs(TokenInfoFST.java:60)\n    at org.apache.lucene.analysis.ja.dict.TokenInfoFST.<init>(TokenInfoFST.java:48)\n    at org.apache.lucene.analysis.ja.dict.TokenInfoDictionary.<init>(TokenInfoDictionary.java:57)\n    at org.apache.lucene.analysis.ja.dict.TokenInfoDictionary.<init>(TokenInfoDictionary.java:33)\n    at org.apache.lucene.analysis.ja.dict.TokenInfoDictionary$SingletonHolder.<clinit>(TokenInfoDictionary.java:72)\n    at org.apache.lucene.analysis.ja.dict.TokenInfoDictionary.getInstance(TokenInfoDictionary.java:65)\n    at org.apache.lucene.analysis.ja.JapaneseTokenizer.<init>(JapaneseTokenizer.java:212)\n    at org.apache.lucene.analysis.ja.JapaneseTokenizer.<init>(JapaneseTokenizer.java:198)\n    at org.elasticsearch.index.analysis.KuromojiAnalysisTests.testKatakanaStemFilter(KuromojiAnalysisTests.java:133)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1638)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:847)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:883)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:897)\n    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n    at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:50)\n    at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:46)\n    at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:49)\n    at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:65)\n    at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n    at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:365)\n    at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:798)\n    at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:458)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:856)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner$3.evaluate(RandomizedRunner.java:758)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner$4.evaluate(RandomizedRunner.java:792)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:803)\n    at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:46)\n    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n    at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:42)\n    at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)\n    at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)\n    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n    at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:54)\n    at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n    at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:65)\n    at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:55)\n    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n    at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:365)\n    at java.lang.Thread.run(Thread.java:745)\n\n\"SUITE-KuromojiAnalysisTests-seed#[2EFDA19BF9C122F]\" ID=12 RUNNABLE\n    at sun.management.ThreadImpl.dumpThreads0(Native Method)\n    at sun.management.ThreadImpl.dumpAllThreads(ThreadImpl.java:446)\n    at com.carrotsearch.randomizedtesting.ThreadLeakControl.formatThreadStacksFull(ThreadLeakControl.java:671)\n    at com.carrotsearch.randomizedtesting.ThreadLeakControl.access$900(ThreadLeakControl.java:62)\n    at com.carrotsearch.randomizedtesting.ThreadLeakControl$2.evaluate(ThreadLeakControl.java:412)\n    - locked java.lang.Object@22d8495b\n    at com.carrotsearch.randomizedtesting.RandomizedRunner.runSuite(RandomizedRunner.java:662)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner.access$200(RandomizedRunner.java:138)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner$1.run(RandomizedRunner.java:579)\n\n\"JUnit4-serializer-daemon\" ID=10 TIMED_WAITING\n    at java.lang.Thread.sleep(Native Method)\n    at com.carrotsearch.ant.tasks.junit4.events.Serializer$1.run(Serializer.java:47)\n\n\"Signal Dispatcher\" ID=4 RUNNABLE\n\n\"Finalizer\" ID=3 WAITING on java.lang.ref.ReferenceQueue$Lock@6d03a20c\n    at java.lang.Object.wait(Native Method)\n    - waiting on java.lang.ref.ReferenceQueue$Lock@6d03a20c\n    at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:143)\n    at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:164)\n    at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)\n\n\"Reference Handler\" ID=2 WAITING on java.lang.ref.Reference$Lock@6bc37c17\n    at java.lang.Object.wait(Native Method)\n    - waiting on java.lang.ref.Reference$Lock@6bc37c17\n    at java.lang.Object.wait(Object.java:502)\n    at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:157)\n\n\"main\" ID=1 WAITING on com.carrotsearch.randomizedtesting.RandomizedRunner$1@5b7f65a1\n    at java.lang.Object.wait(Native Method)\n    - waiting on com.carrotsearch.randomizedtesting.RandomizedRunner$1@5b7f65a1\n    at java.lang.Thread.join(Thread.java:1245)\n    at java.lang.Thread.join(Thread.java:1319)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner.runSuite(RandomizedRunner.java:589)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner.run(RandomizedRunner.java:444)\n    at com.carrotsearch.ant.tasks.junit4.slave.SlaveMain.execute(SlaveMain.java:242)\n    at com.carrotsearch.ant.tasks.junit4.slave.SlaveMain.main(SlaveMain.java:353)\n    at com.carrotsearch.ant.tasks.junit4.slave.SlaveMainSafe.main(SlaveMainSafe.java:10)\n```\n\nThe failure: http://build-us-00.elastic.co/job/elasticsearch-20-strong/777/testReport/junit/org.elasticsearch.index.analysis/KuromojiAnalysisTests/testKatakanaStemFilter/\n\nI was unable to reproduce the failure locally.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}