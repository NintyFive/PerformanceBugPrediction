[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/205686568","html_url":"https://github.com/elastic/elasticsearch/issues/17526#issuecomment-205686568","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17526","id":205686568,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNTY4NjU2OA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-04-05T07:03:39Z","updated_at":"2016-04-05T07:03:39Z","author_association":"MEMBER","body":"Thanks for reporting. Can you tell us the exact upgrade procedure you followed and the size of your cluster?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/205719776","html_url":"https://github.com/elastic/elasticsearch/issues/17526#issuecomment-205719776","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17526","id":205719776,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNTcxOTc3Ng==","user":{"login":"pradeepg-telsiz","id":10928422,"node_id":"MDQ6VXNlcjEwOTI4NDIy","avatar_url":"https://avatars2.githubusercontent.com/u/10928422?v=4","gravatar_id":"","url":"https://api.github.com/users/pradeepg-telsiz","html_url":"https://github.com/pradeepg-telsiz","followers_url":"https://api.github.com/users/pradeepg-telsiz/followers","following_url":"https://api.github.com/users/pradeepg-telsiz/following{/other_user}","gists_url":"https://api.github.com/users/pradeepg-telsiz/gists{/gist_id}","starred_url":"https://api.github.com/users/pradeepg-telsiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pradeepg-telsiz/subscriptions","organizations_url":"https://api.github.com/users/pradeepg-telsiz/orgs","repos_url":"https://api.github.com/users/pradeepg-telsiz/repos","events_url":"https://api.github.com/users/pradeepg-telsiz/events{/privacy}","received_events_url":"https://api.github.com/users/pradeepg-telsiz/received_events","type":"User","site_admin":false},"created_at":"2016-04-05T08:51:23Z","updated_at":"2016-04-05T08:51:23Z","author_association":"NONE","body":"I have 11 index, total size adding up to 12GB. \n\nBelow are the steps that I followed\n1. Stop elasticsearch 2.2\n2. Downloaded ES 2.3 and updated configurations to match with ES2.2\n3. Start ES 2.3 \nTakes minimum 5 to 7 min to get all index to YELLOW state. \n4. Revert back ES 2.3 to 2.2\n5. Start ES 2.2 \nTakes less than 40-40 sec to get all index to YELLOW state.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/205721118","html_url":"https://github.com/elastic/elasticsearch/issues/17526#issuecomment-205721118","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17526","id":205721118,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNTcyMTExOA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-04-05T09:05:13Z","updated_at":"2016-04-05T09:05:13Z","author_association":"MEMBER","body":"Sounds strange. Can you share your config? is there anything of note in the master logs? If you prefer you can send them to my first name at elastic.co \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/205895784","html_url":"https://github.com/elastic/elasticsearch/issues/17526#issuecomment-205895784","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17526","id":205895784,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNTg5NTc4NA==","user":{"login":"pradeepg-telsiz","id":10928422,"node_id":"MDQ6VXNlcjEwOTI4NDIy","avatar_url":"https://avatars2.githubusercontent.com/u/10928422?v=4","gravatar_id":"","url":"https://api.github.com/users/pradeepg-telsiz","html_url":"https://github.com/pradeepg-telsiz","followers_url":"https://api.github.com/users/pradeepg-telsiz/followers","following_url":"https://api.github.com/users/pradeepg-telsiz/following{/other_user}","gists_url":"https://api.github.com/users/pradeepg-telsiz/gists{/gist_id}","starred_url":"https://api.github.com/users/pradeepg-telsiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pradeepg-telsiz/subscriptions","organizations_url":"https://api.github.com/users/pradeepg-telsiz/orgs","repos_url":"https://api.github.com/users/pradeepg-telsiz/repos","events_url":"https://api.github.com/users/pradeepg-telsiz/events{/privacy}","received_events_url":"https://api.github.com/users/pradeepg-telsiz/received_events","type":"User","site_admin":false},"created_at":"2016-04-05T17:00:49Z","updated_at":"2016-04-05T17:00:49Z","author_association":"NONE","body":"Sent you configurations in mail. Did you get it? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/205897749","html_url":"https://github.com/elastic/elasticsearch/issues/17526#issuecomment-205897749","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17526","id":205897749,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNTg5Nzc0OQ==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-04-05T17:04:06Z","updated_at":"2016-04-05T17:04:06Z","author_association":"MEMBER","body":"Yes. Didn’t have time to look at it yet. Will do asap. Thanks!\n\n> On 05 Apr 2016, at 19:01, Pradeep Gowda notifications@github.com wrote:\n> \n> Sent you configurations in mail. Did you get it?\n> \n> —\n> You are receiving this because you commented.\n> Reply to this email directly or view it on GitHub\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/208467353","html_url":"https://github.com/elastic/elasticsearch/issues/17526#issuecomment-208467353","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17526","id":208467353,"node_id":"MDEyOklzc3VlQ29tbWVudDIwODQ2NzM1Mw==","user":{"login":"pradeepg-telsiz","id":10928422,"node_id":"MDQ6VXNlcjEwOTI4NDIy","avatar_url":"https://avatars2.githubusercontent.com/u/10928422?v=4","gravatar_id":"","url":"https://api.github.com/users/pradeepg-telsiz","html_url":"https://github.com/pradeepg-telsiz","followers_url":"https://api.github.com/users/pradeepg-telsiz/followers","following_url":"https://api.github.com/users/pradeepg-telsiz/following{/other_user}","gists_url":"https://api.github.com/users/pradeepg-telsiz/gists{/gist_id}","starred_url":"https://api.github.com/users/pradeepg-telsiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pradeepg-telsiz/subscriptions","organizations_url":"https://api.github.com/users/pradeepg-telsiz/orgs","repos_url":"https://api.github.com/users/pradeepg-telsiz/repos","events_url":"https://api.github.com/users/pradeepg-telsiz/events{/privacy}","received_events_url":"https://api.github.com/users/pradeepg-telsiz/received_events","type":"User","site_admin":false},"created_at":"2016-04-11T17:38:35Z","updated_at":"2016-04-11T17:38:35Z","author_association":"NONE","body":"Any update on this? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/208789215","html_url":"https://github.com/elastic/elasticsearch/issues/17526#issuecomment-208789215","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17526","id":208789215,"node_id":"MDEyOklzc3VlQ29tbWVudDIwODc4OTIxNQ==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-04-12T08:41:56Z","updated_at":"2016-07-22T07:47:19Z","author_association":"MEMBER","body":"I looked at the logs and there is nothing concrete I can take out of it. I do see a lot of node restarts (which are probably planned). I also some cluster state publishing that is slower than it should (see messages with `cluster state update task`). \n\nCan you repeat the experiment with logging set to DEBUG? Also, I'm not sure but it seems like you are indexing/searching while the cluster is recovering. If so, it will be better stop it while doing the experiment because it pollutes the logs..\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/232912707","html_url":"https://github.com/elastic/elasticsearch/issues/17526#issuecomment-232912707","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17526","id":232912707,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMjkxMjcwNw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-07-15T10:07:44Z","updated_at":"2016-07-15T10:07:44Z","author_association":"CONTRIBUTOR","body":"@pradeepg-telsiz any further info?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/233036514","html_url":"https://github.com/elastic/elasticsearch/issues/17526#issuecomment-233036514","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17526","id":233036514,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMzAzNjUxNA==","user":{"login":"pradeepg-telsiz","id":10928422,"node_id":"MDQ6VXNlcjEwOTI4NDIy","avatar_url":"https://avatars2.githubusercontent.com/u/10928422?v=4","gravatar_id":"","url":"https://api.github.com/users/pradeepg-telsiz","html_url":"https://github.com/pradeepg-telsiz","followers_url":"https://api.github.com/users/pradeepg-telsiz/followers","following_url":"https://api.github.com/users/pradeepg-telsiz/following{/other_user}","gists_url":"https://api.github.com/users/pradeepg-telsiz/gists{/gist_id}","starred_url":"https://api.github.com/users/pradeepg-telsiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pradeepg-telsiz/subscriptions","organizations_url":"https://api.github.com/users/pradeepg-telsiz/orgs","repos_url":"https://api.github.com/users/pradeepg-telsiz/repos","events_url":"https://api.github.com/users/pradeepg-telsiz/events{/privacy}","received_events_url":"https://api.github.com/users/pradeepg-telsiz/received_events","type":"User","site_admin":false},"created_at":"2016-07-15T18:50:51Z","updated_at":"2016-07-15T18:50:51Z","author_association":"NONE","body":"No improvement. Living with the same state and recovering each index manually. Where can I send the log? Can you please share email id? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/233073307","html_url":"https://github.com/elastic/elasticsearch/issues/17526#issuecomment-233073307","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17526","id":233073307,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMzA3MzMwNw==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-07-15T21:23:18Z","updated_at":"2016-07-15T21:23:18Z","author_association":"MEMBER","body":"@pradeepg-telsiz same as before - my first name at elastic.co . Thx.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/233077546","html_url":"https://github.com/elastic/elasticsearch/issues/17526#issuecomment-233077546","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17526","id":233077546,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMzA3NzU0Ng==","user":{"login":"pradeepg-telsiz","id":10928422,"node_id":"MDQ6VXNlcjEwOTI4NDIy","avatar_url":"https://avatars2.githubusercontent.com/u/10928422?v=4","gravatar_id":"","url":"https://api.github.com/users/pradeepg-telsiz","html_url":"https://github.com/pradeepg-telsiz","followers_url":"https://api.github.com/users/pradeepg-telsiz/followers","following_url":"https://api.github.com/users/pradeepg-telsiz/following{/other_user}","gists_url":"https://api.github.com/users/pradeepg-telsiz/gists{/gist_id}","starred_url":"https://api.github.com/users/pradeepg-telsiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pradeepg-telsiz/subscriptions","organizations_url":"https://api.github.com/users/pradeepg-telsiz/orgs","repos_url":"https://api.github.com/users/pradeepg-telsiz/repos","events_url":"https://api.github.com/users/pradeepg-telsiz/events{/privacy}","received_events_url":"https://api.github.com/users/pradeepg-telsiz/received_events","type":"User","site_admin":false},"created_at":"2016-07-15T21:45:46Z","updated_at":"2016-07-15T21:45:46Z","author_association":"NONE","body":"Sent mail with logs. Please let me know if you need any more information.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234483571","html_url":"https://github.com/elastic/elasticsearch/issues/17526#issuecomment-234483571","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17526","id":234483571,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDQ4MzU3MQ==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T08:22:21Z","updated_at":"2016-07-22T08:22:21Z","author_association":"MEMBER","body":"@pradeepg-telsiz thanks for the logs. I can see that some shards can not be assigned because they miss enough shard copies (you have 1 primary, 2 replicas which means that you need at least 2 copies to be found before a primary can be assigned, sadly only 1 is found - do you know why?). Once the shard is forcefully assigned via the API it recovers locally on node1 as you said. The node 2 is assigned a replica and it recovers from node1 and it looks it does so very quickly. Then there is nothing for a long time until node3 starts its recovery. It'ss hard to say why exactly as the logs you sent are only partially set to debug and I miss things. For example node3.txt has debug logs from some components (`discovery.zen.publish`) but not others (`cluster.service`). Can you check what's going on and resend with a complete log?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290714922","html_url":"https://github.com/elastic/elasticsearch/issues/17526#issuecomment-290714922","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17526","id":290714922,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDcxNDkyMg==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T13:41:13Z","updated_at":"2017-03-31T13:41:13Z","author_association":"MEMBER","body":"@bleskes is this still an issue? could this be closed?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/291009756","html_url":"https://github.com/elastic/elasticsearch/issues/17526#issuecomment-291009756","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17526","id":291009756,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTAwOTc1Ng==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2017-04-02T19:42:39Z","updated_at":"2017-04-02T19:42:39Z","author_association":"MEMBER","body":"I think we can close it... it's been a long while. Thanks for the ping @colings86 !","performed_via_github_app":null}]