{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/8867","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8867/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8867/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8867/events","html_url":"https://github.com/elastic/elasticsearch/issues/8867","id":51548191,"node_id":"MDU6SXNzdWU1MTU0ODE5MQ==","number":8867,"title":"Performance improvement: Drop identical repeating tasks from ","user":{"login":"bluelu","id":339893,"node_id":"MDQ6VXNlcjMzOTg5Mw==","avatar_url":"https://avatars1.githubusercontent.com/u/339893?v=4","gravatar_id":"","url":"https://api.github.com/users/bluelu","html_url":"https://github.com/bluelu","followers_url":"https://api.github.com/users/bluelu/followers","following_url":"https://api.github.com/users/bluelu/following{/other_user}","gists_url":"https://api.github.com/users/bluelu/gists{/gist_id}","starred_url":"https://api.github.com/users/bluelu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluelu/subscriptions","organizations_url":"https://api.github.com/users/bluelu/orgs","repos_url":"https://api.github.com/users/bluelu/repos","events_url":"https://api.github.com/users/bluelu/events{/privacy}","received_events_url":"https://api.github.com/users/bluelu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2014-12-10T11:36:13Z","updated_at":"2014-12-10T11:42:37Z","closed_at":"2014-12-10T11:42:37Z","author_association":"NONE","active_lock_reason":null,"body":"Some tasks can trigger expensive operations (e.g. allocating of the cluster which can take a lot of time on large clusters). (e.g. https://github.com/elasticsearch/elasticsearch/issues/8804)\n\nIt would be good if the master node would drop identical requests from client nodes as long as one request is still in the list, so they don't pile up?\n\nExample: \n\n```\n  9931        1.3m HIGH     shard-failed ([index][7], node[ers2nQsQSVyF_1UrBODBxA], [P], s[INITIALIZING]), reason [master [master][RsK0yRjUQUyS-bQWr5lXpw][master][inet[/ip:9300]]{trendiction_scluster=NO_ROLE, data=false, service=searchdata, max_local_storage_nodes=1, trendiction_cluster=HR51, river=_none_, master=true} marked shard as initializing, but shard is marked as failed, resend shard failure] \n   9737        7.1m HIGH     shard-failed ([index][7], node[ers2nQsQSVyF_1UrBODBxA], [P], s[INITIALIZING]), reason [master [master][RsK0yRjUQUyS-bQWr5lXpw][master][inet[/ip:9300]]{trendiction_scluster=NO_ROLE, data=false, service=searchdata, max_local_storage_nodes=1, trendiction_cluster=HR51, river=_none_, master=true} marked shard as initializing, but shard is marked as failed, resend shard failure] \n   9951       35.2s HIGH     shard-failed ([index][7], node[ers2nQsQSVyF_1UrBODBxA], [P], s[INITIALIZING]), reason [master [master][RsK0yRjUQUyS-bQWr5lXpw][master][inet[/ip:9300]]{trendiction_scluster=NO_ROLE, data=false, service=searchdata, max_local_storage_nodes=1, trendiction_cluster=HR51, river=_none_, master=true} marked shard as initializing, but shard is marked as failed, resend shard failure] \n   9483         11m HIGH     shard-failed ([index][7], node[ers2nQsQSVyF_1UrBODBxA], [P], s[INITIALIZING]), reason [master [master][RsK0yRjUQUyS-bQWr5lXpw][master][inet[/ip:9300]]{trendiction_scluster=NO_ROLE, data=false, service=searchdata, max_local_storage_nodes=1, trendiction_cluster=HR51, river=_none_, master=true} marked shard as initializing, but shard is marked as failed, resend shard failure] \n   9962       11.8s HIGH     shard-failed ([index][7], node[ers2nQsQSVyF_1UrBODBxA], [P], s[INITIALIZING]), reason [master [master][RsK0yRjUQUyS-bQWr5lXpw][master][inet[/ip:9300]]{trendiction_scluster=NO_ROLE, data=false, service=searchdata, max_local_storage_nodes=1, trendiction_cluster=HR51, river=_none_, master=true} marked shard as initializing, but shard is marked as failed, resend shard failure] \n   9654        9.1m HIGH     shard-failed ([index][7], node[ers2nQsQSVyF_1UrBODBxA], [P], s[INITIALIZING]), reason [master [master][RsK0yRjUQUyS-bQWr5lXpw][master][inet[/ip:9300]]{trendiction_scluster=NO_ROLE, data=false, service=searchdata, max_local_storage_nodes=1, trendiction_cluster=HR51, river=_none_, master=true} marked shard as initializing, but shard is marked as failed, resend shard failure] \n   9354       12.1m HIGH     shard-failed ([index][7], node[ers2nQsQSVyF_1UrBODBxA], [P], s[INITIALIZING]), reason [master [master][RsK0yRjUQUyS-bQWr5lXpw][master][inet[/ip:9300]]{trendiction_scluster=NO_ROLE, data=false, service=searchdata, max_local_storage_nodes=1, trendiction_cluster=HR51, river=_none_, master=true} marked shard as initializing, but shard is marked as failed, resend shard failure] \n   9719        7.8m HIGH     shard-failed ([index][7], node[ers2nQsQSVyF_1UrBODBxA], [P], s[INITIALIZING]), reason [master [master][RsK0yRjUQUyS-bQWr5lXpw][master][inet[/ip:9300]]{trendiction_scluster=NO_ROLE, data=false, service=searchdata, max_local_storage_nodes=1, trendiction_cluster=HR51, river=_none_, master=true} marked shard as initializing, but shard is marked as failed, resend shard failure] \n   9702        8.4m HIGH     shard-failed ([index][7], node[ers2nQsQSVyF_1UrBODBxA], [P], s[INITIALIZING]), reason [master [master][RsK0yRjUQUyS-bQWr5lXpw][master][inet[/ip:9300]]{trendiction_scluster=NO_ROLE, data=false, service=searchdata, max_local_storage_nodes=1, trendiction_cluster=HR51, river=_none_, master=true} marked shard as initializing, but shard is marked as failed, resend shard failure] \n   9968       319ms HIGH     shard-failed ([index][7], node[ers2nQsQSVyF_1UrBODBxA], [P], s[INITIALIZING]), reason [master [master][RsK0yRjUQUyS-bQWr5lXpw][master][inet[/ip:9300]]{trendiction_scluster=NO_ROLE, data=false, service=searchdata, max_local_storage_nodes=1, trendiction_cluster=HR51, river=_none_, master=true} marked shard as initializing, but shard is marked as failed, resend shard failure] \n   9957       24.2s HIGH     shard-failed ([index][7], node[ers2nQsQSVyF_1UrBODBxA], [P], s[INITIALIZING]), reason [master [master][RsK0yRjUQUyS-bQWr5lXpw][master][inet[/ip:9300]]{trendiction_scluster=NO_ROLE, data=false, service=searchdata, max_local_storage_nodes=1, trendiction_cluster=HR51, river=_none_, master=true} marked shard as initializing, but shard is marked as failed, resend shard failure] \n```\n","closed_by":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"performed_via_github_app":null}