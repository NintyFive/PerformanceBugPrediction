[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/225641641","html_url":"https://github.com/elastic/elasticsearch/issues/18775#issuecomment-225641641","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18775","id":225641641,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTY0MTY0MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-06-13T16:54:33Z","updated_at":"2016-06-13T16:54:33Z","author_association":"CONTRIBUTOR","body":"@imotov @dadoonet any ideas what might be happening here?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/225646158","html_url":"https://github.com/elastic/elasticsearch/issues/18775#issuecomment-225646158","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18775","id":225646158,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTY0NjE1OA==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2016-06-13T17:10:54Z","updated_at":"2016-06-13T17:10:54Z","author_association":"MEMBER","body":"@devarajphukan did you wait for the delete operation to finish before starting a new snapshot?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/225652840","html_url":"https://github.com/elastic/elasticsearch/issues/18775#issuecomment-225652840","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18775","id":225652840,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTY1Mjg0MA==","user":{"login":"devarajphukan","id":8536463,"node_id":"MDQ6VXNlcjg1MzY0NjM=","avatar_url":"https://avatars2.githubusercontent.com/u/8536463?v=4","gravatar_id":"","url":"https://api.github.com/users/devarajphukan","html_url":"https://github.com/devarajphukan","followers_url":"https://api.github.com/users/devarajphukan/followers","following_url":"https://api.github.com/users/devarajphukan/following{/other_user}","gists_url":"https://api.github.com/users/devarajphukan/gists{/gist_id}","starred_url":"https://api.github.com/users/devarajphukan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devarajphukan/subscriptions","organizations_url":"https://api.github.com/users/devarajphukan/orgs","repos_url":"https://api.github.com/users/devarajphukan/repos","events_url":"https://api.github.com/users/devarajphukan/events{/privacy}","received_events_url":"https://api.github.com/users/devarajphukan/received_events","type":"User","site_admin":false},"created_at":"2016-06-13T17:34:51Z","updated_at":"2016-06-13T17:34:51Z","author_association":"NONE","body":"@imotov, the curl request for delete was still hanging on when I tried a new snapshot process. Had to do a rolling restart of the whole cluster to stop the delete request and start a new snapshot. Correct me if I am wrong but from the documentation what I understood was we can make a delete request on an ongoing snapshot process to stop it. \nThanks. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/225663960","html_url":"https://github.com/elastic/elasticsearch/issues/18775#issuecomment-225663960","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18775","id":225663960,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTY2Mzk2MA==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2016-06-13T18:16:00Z","updated_at":"2016-06-13T18:16:00Z","author_association":"MEMBER","body":"@devarajphukan yes, the delete request was in the process of cancelling the running snapshot but got stuck for some reason. How long was the delete operation hanging before you tried to start a new snapshot? Did you have restart the whole cluster? I would expect just restarting the current master should have been enough.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/225665122","html_url":"https://github.com/elastic/elasticsearch/issues/18775#issuecomment-225665122","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18775","id":225665122,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTY2NTEyMg==","user":{"login":"devarajphukan","id":8536463,"node_id":"MDQ6VXNlcjg1MzY0NjM=","avatar_url":"https://avatars2.githubusercontent.com/u/8536463?v=4","gravatar_id":"","url":"https://api.github.com/users/devarajphukan","html_url":"https://github.com/devarajphukan","followers_url":"https://api.github.com/users/devarajphukan/followers","following_url":"https://api.github.com/users/devarajphukan/following{/other_user}","gists_url":"https://api.github.com/users/devarajphukan/gists{/gist_id}","starred_url":"https://api.github.com/users/devarajphukan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devarajphukan/subscriptions","organizations_url":"https://api.github.com/users/devarajphukan/orgs","repos_url":"https://api.github.com/users/devarajphukan/repos","events_url":"https://api.github.com/users/devarajphukan/events{/privacy}","received_events_url":"https://api.github.com/users/devarajphukan/received_events","type":"User","site_admin":false},"created_at":"2016-06-13T18:20:18Z","updated_at":"2016-06-13T18:20:18Z","author_association":"NONE","body":"@imotov, the delete request was hanging on for more than 8 hours. I did not know that only a restart of the current master would have solved it, so did it for the whole cluster.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/226905754","html_url":"https://github.com/elastic/elasticsearch/issues/18775#issuecomment-226905754","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18775","id":226905754,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNjkwNTc1NA==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2016-06-17T23:41:27Z","updated_at":"2016-06-17T23:41:27Z","author_association":"MEMBER","body":"It's possible that there are still some issues with azure plugins that causing it get stuck in waiting for the response forever. However since you have restarted the cluster, it's hard to tell what exactly was going on there. If it will happen again, please run the following command on the cluster where the snapshot is stuck and include its result with your report:\n\n```\ncurl \"http://localhost:9200/_nodes/hot_threads?threads=10000&ignore_idle_threads=false\"\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/227648394","html_url":"https://github.com/elastic/elasticsearch/issues/18775#issuecomment-227648394","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18775","id":227648394,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzY0ODM5NA==","user":{"login":"devarajphukan","id":8536463,"node_id":"MDQ6VXNlcjg1MzY0NjM=","avatar_url":"https://avatars2.githubusercontent.com/u/8536463?v=4","gravatar_id":"","url":"https://api.github.com/users/devarajphukan","html_url":"https://github.com/devarajphukan","followers_url":"https://api.github.com/users/devarajphukan/followers","following_url":"https://api.github.com/users/devarajphukan/following{/other_user}","gists_url":"https://api.github.com/users/devarajphukan/gists{/gist_id}","starred_url":"https://api.github.com/users/devarajphukan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devarajphukan/subscriptions","organizations_url":"https://api.github.com/users/devarajphukan/orgs","repos_url":"https://api.github.com/users/devarajphukan/repos","events_url":"https://api.github.com/users/devarajphukan/events{/privacy}","received_events_url":"https://api.github.com/users/devarajphukan/received_events","type":"User","site_admin":false},"created_at":"2016-06-22T05:37:50Z","updated_at":"2016-06-22T05:37:50Z","author_association":"NONE","body":"@imotov the above curl request works well to stop the delete process which is stuck. This command stopped both the taking snapshot and deleting snapshot processes and the status is \"FAILED\". After this that particular snapshot needs to be deleted again.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/227833448","html_url":"https://github.com/elastic/elasticsearch/issues/18775#issuecomment-227833448","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18775","id":227833448,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzgzMzQ0OA==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2016-06-22T18:23:20Z","updated_at":"2016-06-22T18:23:20Z","author_association":"MEMBER","body":"@devarajphukan yes, the `DELETE` command is supposed to stop the current snapshot, it might take a while but it shouldn't hang for 8 hours. What I am saying is, if you will have a situation when you will have a snapshot stuck and `DELETE` command will hang for a few hours, please execute the `hot_nodes` command that I mentioned above and paste here the result. Does it make sense?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/227844990","html_url":"https://github.com/elastic/elasticsearch/issues/18775#issuecomment-227844990","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18775","id":227844990,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzg0NDk5MA==","user":{"login":"devarajphukan","id":8536463,"node_id":"MDQ6VXNlcjg1MzY0NjM=","avatar_url":"https://avatars2.githubusercontent.com/u/8536463?v=4","gravatar_id":"","url":"https://api.github.com/users/devarajphukan","html_url":"https://github.com/devarajphukan","followers_url":"https://api.github.com/users/devarajphukan/followers","following_url":"https://api.github.com/users/devarajphukan/following{/other_user}","gists_url":"https://api.github.com/users/devarajphukan/gists{/gist_id}","starred_url":"https://api.github.com/users/devarajphukan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devarajphukan/subscriptions","organizations_url":"https://api.github.com/users/devarajphukan/orgs","repos_url":"https://api.github.com/users/devarajphukan/repos","events_url":"https://api.github.com/users/devarajphukan/events{/privacy}","received_events_url":"https://api.github.com/users/devarajphukan/received_events","type":"User","site_admin":false},"created_at":"2016-06-22T19:03:24Z","updated_at":"2016-06-22T19:03:24Z","author_association":"NONE","body":"@imotov, yes sure. Will get back with the results, when I get the same issue. Anyway, thanks for the help.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/227845596","html_url":"https://github.com/elastic/elasticsearch/issues/18775#issuecomment-227845596","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18775","id":227845596,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzg0NTU5Ng==","user":{"login":"devarajphukan","id":8536463,"node_id":"MDQ6VXNlcjg1MzY0NjM=","avatar_url":"https://avatars2.githubusercontent.com/u/8536463?v=4","gravatar_id":"","url":"https://api.github.com/users/devarajphukan","html_url":"https://github.com/devarajphukan","followers_url":"https://api.github.com/users/devarajphukan/followers","following_url":"https://api.github.com/users/devarajphukan/following{/other_user}","gists_url":"https://api.github.com/users/devarajphukan/gists{/gist_id}","starred_url":"https://api.github.com/users/devarajphukan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devarajphukan/subscriptions","organizations_url":"https://api.github.com/users/devarajphukan/orgs","repos_url":"https://api.github.com/users/devarajphukan/repos","events_url":"https://api.github.com/users/devarajphukan/events{/privacy}","received_events_url":"https://api.github.com/users/devarajphukan/received_events","type":"User","site_admin":false},"created_at":"2016-06-22T19:05:42Z","updated_at":"2016-06-22T19:07:02Z","author_association":"NONE","body":"For anyone getting the similar issue here's a script in python you can run as a cron job that takes snapshots, waits for it to complete and deletes older ones. https://github.com/devarajphukan/ElasticSearchSnapshotting/blob/master/take_snapshot_cron_script.py \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290732824","html_url":"https://github.com/elastic/elasticsearch/issues/18775#issuecomment-290732824","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18775","id":290732824,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDczMjgyNA==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T14:47:51Z","updated_at":"2017-03-31T14:47:51Z","author_association":"MEMBER","body":"No further feedback. Please reopen if this issue is still reproducable","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396318260","html_url":"https://github.com/elastic/elasticsearch/issues/18775#issuecomment-396318260","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18775","id":396318260,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjMxODI2MA==","user":{"login":"nikoren","id":7696886,"node_id":"MDQ6VXNlcjc2OTY4ODY=","avatar_url":"https://avatars1.githubusercontent.com/u/7696886?v=4","gravatar_id":"","url":"https://api.github.com/users/nikoren","html_url":"https://github.com/nikoren","followers_url":"https://api.github.com/users/nikoren/followers","following_url":"https://api.github.com/users/nikoren/following{/other_user}","gists_url":"https://api.github.com/users/nikoren/gists{/gist_id}","starred_url":"https://api.github.com/users/nikoren/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikoren/subscriptions","organizations_url":"https://api.github.com/users/nikoren/orgs","repos_url":"https://api.github.com/users/nikoren/repos","events_url":"https://api.github.com/users/nikoren/events{/privacy}","received_events_url":"https://api.github.com/users/nikoren/received_events","type":"User","site_admin":false},"created_at":"2018-06-11T17:17:41Z","updated_at":"2018-06-11T17:17:41Z","author_association":"NONE","body":"I am having the same issue with 2.3, can't cancel snapshot even after rolling restart of service. \r\nShould I open new issue for that? ","performed_via_github_app":null}]