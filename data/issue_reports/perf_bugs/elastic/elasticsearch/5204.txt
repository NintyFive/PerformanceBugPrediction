{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/5204","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5204/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5204/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5204/events","html_url":"https://github.com/elastic/elasticsearch/issues/5204","id":27997740,"node_id":"MDU6SXNzdWUyNzk5Nzc0MA==","number":5204,"title":"Node Indices Status API is significantly slower","user":{"login":"loe","id":3238,"node_id":"MDQ6VXNlcjMyMzg=","avatar_url":"https://avatars0.githubusercontent.com/u/3238?v=4","gravatar_id":"","url":"https://api.github.com/users/loe","html_url":"https://github.com/loe","followers_url":"https://api.github.com/users/loe/followers","following_url":"https://api.github.com/users/loe/following{/other_user}","gists_url":"https://api.github.com/users/loe/gists{/gist_id}","starred_url":"https://api.github.com/users/loe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/loe/subscriptions","organizations_url":"https://api.github.com/users/loe/orgs","repos_url":"https://api.github.com/users/loe/repos","events_url":"https://api.github.com/users/loe/events{/privacy}","received_events_url":"https://api.github.com/users/loe/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2014-02-20T21:29:40Z","updated_at":"2014-08-21T18:15:47Z","closed_at":"2014-07-11T10:29:47Z","author_association":"NONE","active_lock_reason":null,"body":"`curl http://localhost:9200/_cluster/nodes/_local/stats?all=true` used to take a few milliseconds against my development installation (0.90.2 on OS X). I upgraded to 1.0.0 and adjusted my URL, and now it takes anywhere from 2-4 full seconds.\n\n```\n13:28:38 ~ â†’ time curl http://localhost:9200/_nodes/_local/stats/indices\n{\"cluster_name\":\"elasticsearch_andrew\",\"nodes\":{\"6QXHJw0uTAe7GRKo073LOg\":{\"timestamp\":1392931719502,\"name\":\"Saturnyne\",\"transport_address\":\"inet[/127.0.0.1:9300]\",\"host\":\"jester.local\",\"ip\":[\"inet[/127.0.0.1:9300]\",\"NONE\"],\"indices\":{\"docs\":{\"count\":1258,\"deleted\":221},\"store\":{\"size_in_bytes\":795157,\"throttle_time_in_millis\":0},\"indexing\":{\"index_total\":2,\"index_time_in_millis\":63,\"index_current\":0,\"delete_total\":30,\"delete_time_in_millis\":106,\"delete_current\":0},\"get\":{\"total\":0,\"time_in_millis\":0,\"exists_total\":0,\"exists_time_in_millis\":0,\"missing_total\":0,\"missing_time_in_millis\":0,\"current\":0},\"search\":{\"open_contexts\":0,\"query_total\":0,\"query_time_in_millis\":0,\"query_current\":0,\"fetch_total\":0,\"fetch_time_in_millis\":0,\"fetch_current\":0},\"merges\":{\"current\":0,\"current_docs\":0,\"current_size_in_bytes\":0,\"total\":0,\"total_time_in_millis\":0,\"total_docs\":0,\"total_size_in_bytes\":0},\"refresh\":{\"total\":56,\"total_time_in_millis\":105},\"flush\":{\"total\":10,\"total_time_in_millis\":352},\"warmer\":{\"current\":0,\"total\":73,\"total_time_in_millis\":1},\"filter_cache\":{\"memory_size_in_bytes\":0,\"evictions\":0},\"id_cache\":{\"memory_size_in_bytes\":0},\"fielddata\":{\"memory_size_in_bytes\":0,\"evictions\":0},\"percolate\":{\"total\":0,\"time_in_millis\":0,\"current\":0,\"memory_size_in_bytes\":0,\"memory_size\":\"0b\",\"queries\":0},\"completion\":{\"size_in_bytes\":0},\"segments\":{\"count\":121,\"memory_in_bytes\":324127668},\"translog\":{\"operations\":0,\"size_in_bytes\":0}}}}}\nreal    0m2.211s\nuser    0m0.005s\nsys 0m0.004s\n```\n\nOn production instances I scrape these stats with python and collectd to monitor my cluster.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}