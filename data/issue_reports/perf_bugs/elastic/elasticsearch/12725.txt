{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/12725","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12725/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12725/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12725/events","html_url":"https://github.com/elastic/elasticsearch/issues/12725","id":99640353,"node_id":"MDU6SXNzdWU5OTY0MDM1Mw==","number":12725,"title":"Node in slow GC without obvious load","user":{"login":"niu-lin","id":12907027,"node_id":"MDQ6VXNlcjEyOTA3MDI3","avatar_url":"https://avatars2.githubusercontent.com/u/12907027?v=4","gravatar_id":"","url":"https://api.github.com/users/niu-lin","html_url":"https://github.com/niu-lin","followers_url":"https://api.github.com/users/niu-lin/followers","following_url":"https://api.github.com/users/niu-lin/following{/other_user}","gists_url":"https://api.github.com/users/niu-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/niu-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niu-lin/subscriptions","organizations_url":"https://api.github.com/users/niu-lin/orgs","repos_url":"https://api.github.com/users/niu-lin/repos","events_url":"https://api.github.com/users/niu-lin/events{/privacy}","received_events_url":"https://api.github.com/users/niu-lin/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-08-07T12:42:03Z","updated_at":"2015-08-07T13:09:38Z","closed_at":"2015-08-07T13:03:37Z","author_association":"NONE","active_lock_reason":null,"body":"We have a cluster with 10 nodes which used to work very well. Recently, the cluster become unstable, after some debugging, we found that JVM can go into an unstable state some times without obvious load.\nJVM heap usage will go up very quickly and trigger heavy GC and then go back again. This process continuous until at a certain time, the node completely hang up and causing shard rebalancing. However, sometimes, the node can \"go back alive\" for some seconds causing another round of shard rebalancing. Shard rebalancing continuous  until either bring the whole cluster unresponsive or calm down if one or two nodes triggers JVM OOM.\nDuring the time, no obvious high workload, no slow query logged, only lots of lots slow GC logs.\n\nBelow are some screenshots from bigdesk. I'm not sure what I should paste him for experts, please just let me know if you want any additional information.\n\n![image](https://cloud.githubusercontent.com/assets/12907027/9135896/8fedfdee-3d44-11e5-8f54-096872a8ad2d.png)\n![image](https://cloud.githubusercontent.com/assets/12907027/9135906/a28e0016-3d44-11e5-8639-079931421205.png)\n![image](https://cloud.githubusercontent.com/assets/12907027/9135909/ac9331e4-3d44-11e5-93ae-e179ffff1c02.png)\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}