{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/55593","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55593/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55593/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55593/events","html_url":"https://github.com/elastic/elasticsearch/issues/55593","id":604804412,"node_id":"MDU6SXNzdWU2MDQ4MDQ0MTI=","number":55593,"title":"[ML] DFA job gets stuck when no field except the dependent variable is included in the analysis","user":{"login":"blookot","id":30144076,"node_id":"MDQ6VXNlcjMwMTQ0MDc2","avatar_url":"https://avatars0.githubusercontent.com/u/30144076?v=4","gravatar_id":"","url":"https://api.github.com/users/blookot","html_url":"https://github.com/blookot","followers_url":"https://api.github.com/users/blookot/followers","following_url":"https://api.github.com/users/blookot/following{/other_user}","gists_url":"https://api.github.com/users/blookot/gists{/gist_id}","starred_url":"https://api.github.com/users/blookot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blookot/subscriptions","organizations_url":"https://api.github.com/users/blookot/orgs","repos_url":"https://api.github.com/users/blookot/repos","events_url":"https://api.github.com/users/blookot/events{/privacy}","received_events_url":"https://api.github.com/users/blookot/received_events","type":"User","site_admin":false},"labels":[{"id":912833043,"node_id":"MDU6TGFiZWw5MTI4MzMwNDM=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:ml","name":":ml","color":"0e8a16","default":false,"description":"Machine learning"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"dimitris-athanasiou","id":9351617,"node_id":"MDQ6VXNlcjkzNTE2MTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9351617?v=4","gravatar_id":"","url":"https://api.github.com/users/dimitris-athanasiou","html_url":"https://github.com/dimitris-athanasiou","followers_url":"https://api.github.com/users/dimitris-athanasiou/followers","following_url":"https://api.github.com/users/dimitris-athanasiou/following{/other_user}","gists_url":"https://api.github.com/users/dimitris-athanasiou/gists{/gist_id}","starred_url":"https://api.github.com/users/dimitris-athanasiou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimitris-athanasiou/subscriptions","organizations_url":"https://api.github.com/users/dimitris-athanasiou/orgs","repos_url":"https://api.github.com/users/dimitris-athanasiou/repos","events_url":"https://api.github.com/users/dimitris-athanasiou/events{/privacy}","received_events_url":"https://api.github.com/users/dimitris-athanasiou/received_events","type":"User","site_admin":false},"assignees":[{"login":"dimitris-athanasiou","id":9351617,"node_id":"MDQ6VXNlcjkzNTE2MTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9351617?v=4","gravatar_id":"","url":"https://api.github.com/users/dimitris-athanasiou","html_url":"https://github.com/dimitris-athanasiou","followers_url":"https://api.github.com/users/dimitris-athanasiou/followers","following_url":"https://api.github.com/users/dimitris-athanasiou/following{/other_user}","gists_url":"https://api.github.com/users/dimitris-athanasiou/gists{/gist_id}","starred_url":"https://api.github.com/users/dimitris-athanasiou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimitris-athanasiou/subscriptions","organizations_url":"https://api.github.com/users/dimitris-athanasiou/orgs","repos_url":"https://api.github.com/users/dimitris-athanasiou/repos","events_url":"https://api.github.com/users/dimitris-athanasiou/events{/privacy}","received_events_url":"https://api.github.com/users/dimitris-athanasiou/received_events","type":"User","site_admin":false}],"milestone":null,"comments":9,"created_at":"2020-04-22T14:29:55Z","updated_at":"2020-04-29T07:51:19Z","closed_at":"2020-04-29T07:51:19Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version** (`bin/elasticsearch --version`): 7.6.2\r\n\r\n**JVM version** (`java -version`): running on ESS\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\ni'm runnng a regression data frame analytics job and it stops at 50% (loading data is 100% and analyzing is 0%)\r\ncan't understand why...\r\n\r\n**Steps to reproduce**:\r\n\r\n 1. load the csv file attached (rename it with csv extension)\r\n 2. create the ml regression job on it (data analytics with this index source, all the rest default)\r\n 3. start the job\r\n\r\nHere is an example of ml job:\r\n\r\n```\r\n{\r\n  \"id\": \"test8\",\r\n  \"description\": \"\",\r\n  \"source\": {\r\n    \"index\": [\r\n      \"disk_usage\"\r\n    ],\r\n    \"query\": {\r\n      \"match_all\": {}\r\n    },\r\n    \"_source\": {\r\n      \"includes\": [],\r\n      \"excludes\": []\r\n    }\r\n  },\r\n  \"dest\": {\r\n    \"index\": \"test8\",\r\n    \"results_field\": \"ml\"\r\n  },\r\n  \"analysis\": {\r\n    \"regression\": {\r\n      \"dependent_variable\": \"disk_percent\",\r\n      \"prediction_field_name\": \"disk_percent_prediction\",\r\n      \"training_percent\": 80,\r\n      \"randomize_seed\": -2904501521181443000\r\n    }\r\n  },\r\n  \"analyzed_fields\": {\r\n    \"includes\": [],\r\n    \"excludes\": []\r\n  },\r\n  \"model_memory_limit\": \"100mb\",\r\n  \"create_time\": 1587562995031,\r\n  \"version\": \"7.6.2\",\r\n  \"allow_lazy_start\": false\r\n}\r\n```\r\n\r\nlogs don't tell anything:\r\n```\r\n2020-04-22 15:43:15 | instance-0000000000 | Created analytics with analysis type [regression]\r\n-- | -- | --\r\n  | 2020-04-22 15:43:17 | instance-0000000000 | Estimated memory usage for this analytics to be [18.2mb]\r\n  | 2020-04-22 15:43:17 | instance-0000000000 | Starting analytics on node [{instance-0000000002}{3pArSzZmQpiVzw8sQqmcQA}{FUHdB0WDRU-gNIz1SpthHQ}{10.43.1.93}{10.43.1.93:19669}{l}{logical_availability_zone=zone-0, server_name=instance-0000000002.4e4d9d9dbfd3428da12363c78f9aa352, availability_zone=europe-west1-b, ml.machine_memory=1073741824, xpack.installed=true, instance_configuration=gcp.ml.1, ml.max_open_jobs=20, region=unknown-region}]\r\n  | 2020-04-22 15:43:17 | instance-0000000000 | Started analytics\r\n  | 2020-04-22 15:43:17 | instance-0000000002 | Creating destination index [test8]\r\n  | 2020-04-22 15:43:18 | instance-0000000002 | Finished reindexing to destination index [test8]\r\n  | 2020-04-22 15:59:06 | instance-0000000002 | Finished analysis\r\n  | 2020-04-22 15:59:06 | instance-0000000000 | Stopped analytics\r\n```\r\n\r\n[disk_usage.txt](https://github.com/elastic/elasticsearch/files/4516686/disk_usage.txt)\r\n\r\n","closed_by":{"login":"dimitris-athanasiou","id":9351617,"node_id":"MDQ6VXNlcjkzNTE2MTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9351617?v=4","gravatar_id":"","url":"https://api.github.com/users/dimitris-athanasiou","html_url":"https://github.com/dimitris-athanasiou","followers_url":"https://api.github.com/users/dimitris-athanasiou/followers","following_url":"https://api.github.com/users/dimitris-athanasiou/following{/other_user}","gists_url":"https://api.github.com/users/dimitris-athanasiou/gists{/gist_id}","starred_url":"https://api.github.com/users/dimitris-athanasiou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimitris-athanasiou/subscriptions","organizations_url":"https://api.github.com/users/dimitris-athanasiou/orgs","repos_url":"https://api.github.com/users/dimitris-athanasiou/repos","events_url":"https://api.github.com/users/dimitris-athanasiou/events{/privacy}","received_events_url":"https://api.github.com/users/dimitris-athanasiou/received_events","type":"User","site_admin":false},"performed_via_github_app":null}