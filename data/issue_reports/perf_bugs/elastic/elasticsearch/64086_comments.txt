[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/714777679","html_url":"https://github.com/elastic/elasticsearch/issues/64086#issuecomment-714777679","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64086","id":714777679,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNDc3NzY3OQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-10-22T21:39:44Z","updated_at":"2020-10-22T21:39:44Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search (:Search/Search)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/716419503","html_url":"https://github.com/elastic/elasticsearch/issues/64086#issuecomment-716419503","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64086","id":716419503,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNjQxOTUwMw==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2020-10-26T09:18:09Z","updated_at":"2020-10-26T09:18:09Z","author_association":"MEMBER","body":"The [discuss forum](https://discuss.elastic.co/c/elastic-stack/elasticsearch/6) is better suited for this kind of question. We reserve github for verified bugs and feature requests so I hope that you don't mind if I close this issue. Our nightly benchmarks didn't spot any regression so I suspect that the slowdown comes from your setup. It might be the number of docs that you paginate at once but you'd have to confirm with some numbers. If you open a topic in the [forum](https://discuss.elastic.co/c/elastic-stack/elasticsearch/6), please provide the size of the response as well as some outputs of the [`hot  threads` API ](https://www.elastic.co/guide/en/elasticsearch/reference/current/cluster-nodes-hot-threads.html#cluster-nodes-hot-threads-api-request) while the request is running.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/716423556","html_url":"https://github.com/elastic/elasticsearch/issues/64086#issuecomment-716423556","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64086","id":716423556,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNjQyMzU1Ng==","user":{"login":"HarelM","id":3269297,"node_id":"MDQ6VXNlcjMyNjkyOTc=","avatar_url":"https://avatars3.githubusercontent.com/u/3269297?v=4","gravatar_id":"","url":"https://api.github.com/users/HarelM","html_url":"https://github.com/HarelM","followers_url":"https://api.github.com/users/HarelM/followers","following_url":"https://api.github.com/users/HarelM/following{/other_user}","gists_url":"https://api.github.com/users/HarelM/gists{/gist_id}","starred_url":"https://api.github.com/users/HarelM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HarelM/subscriptions","organizations_url":"https://api.github.com/users/HarelM/orgs","repos_url":"https://api.github.com/users/HarelM/repos","events_url":"https://api.github.com/users/HarelM/events{/privacy}","received_events_url":"https://api.github.com/users/HarelM/received_events","type":"User","site_admin":false},"created_at":"2020-10-26T09:25:56Z","updated_at":"2020-10-26T09:25:56Z","author_association":"NONE","body":"Thanks for the info and your detailed response.\r\nI believe there's an issue here in terms of performance for the date range query, might not be a regression issue but a general not optimized performance. I have decided to do a workaround and to \"page\" the request from the client side in order to be able to better handle client side timeouts.\r\nIf you don't agree with my observation, that's totally fine, I trust that you know your system better than I do...","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/716432991","html_url":"https://github.com/elastic/elasticsearch/issues/64086#issuecomment-716432991","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64086","id":716432991,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNjQzMjk5MQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2020-10-26T09:43:47Z","updated_at":"2020-10-26T09:43:47Z","author_association":"MEMBER","body":"There's something odd in your setup that makes the request run for 20s but I'd not blame the date range query without clear evidence. As I said, you should learn a lot by running the hot threads while the request is running on the node. If you cannot understand the output, don't hesitate to open a topic in the forum. Maybe there's a performance bug somewhere but the investigation may take time and we prefer the discuss forum to handle this kind of interaction until we find more details about the case.","performed_via_github_app":null}]