{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/6468","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6468/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6468/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6468/events","html_url":"https://github.com/elastic/elasticsearch/issues/6468","id":35496932,"node_id":"MDU6SXNzdWUzNTQ5NjkzMg==","number":6468,"title":"Silently hangs when not able to connect to node","user":{"login":"benmccann","id":322311,"node_id":"MDQ6VXNlcjMyMjMxMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/322311?v=4","gravatar_id":"","url":"https://api.github.com/users/benmccann","html_url":"https://github.com/benmccann","followers_url":"https://api.github.com/users/benmccann/followers","following_url":"https://api.github.com/users/benmccann/following{/other_user}","gists_url":"https://api.github.com/users/benmccann/gists{/gist_id}","starred_url":"https://api.github.com/users/benmccann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benmccann/subscriptions","organizations_url":"https://api.github.com/users/benmccann/orgs","repos_url":"https://api.github.com/users/benmccann/repos","events_url":"https://api.github.com/users/benmccann/events{/privacy}","received_events_url":"https://api.github.com/users/benmccann/received_events","type":"User","site_admin":false},"labels":[{"id":151561891,"node_id":"MDU6TGFiZWwxNTE1NjE4OTE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Logging","name":":Core/Infra/Logging","color":"0e8a16","default":false,"description":"Log management and logging utilities"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":92913858,"node_id":"MDU6TGFiZWw5MjkxMzg1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/good%20first%20issue","name":"good first issue","color":"07569b","default":true,"description":"low hanging fruit"},{"id":110815527,"node_id":"MDU6TGFiZWwxMTA4MTU1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/help%20wanted","name":"help wanted","color":"207de5","default":true,"description":"adoptme"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2014-06-11T15:43:40Z","updated_at":"2016-11-26T12:18:26Z","closed_at":"2016-11-26T12:18:26Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"If you create a client which connects to one good node and a few bad nodes it will take a very long time to connect. Our production application server was taking several minutes to come up every time it was restarted and we couldn't figure out why for quite some time. It would be extremely helpful to log that one of the nodes is unreachable so that the issue can be addressed.\n\nOne thing that's odd is that is seems to take exponentially longer the more nodes you add.\n\nExample for reproducing the issue:\n\n```\nTransportClient transportClient = new TransportClient(settings.build());\ntransportClient.addTransportAddress(new InetSocketTransportAddress(\"127.0.0.1\", 9300));\ntransportClient.addTransportAddress(new InetSocketTransportAddress(\"11.22.33.44\", 9300));\ntransportClient.addTransportAddress(new InetSocketTransportAddress(\"22.33.44.55\", 9300));\ntransportClient.addTransportAddress(new InetSocketTransportAddress(\"33.44.55.66\", 9300));\n```\n\nI'm using the following client:\n\n```\n\"org.elasticsearch\"             % \"elasticsearch\"             % \"1.0.1\"\n```\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}