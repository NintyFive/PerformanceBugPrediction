[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/121225993","html_url":"https://github.com/elastic/elasticsearch/issues/12208#issuecomment-121225993","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12208","id":121225993,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTIyNTk5Mw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-07-14T12:33:55Z","updated_at":"2015-07-14T12:33:55Z","author_association":"CONTRIBUTOR","body":"Hi @ThomasdOtreppe \n\nThis sounds like a configuration issue.  I suggest you have a read through the setup docs (https://www.elastic.co/guide/en/elasticsearch/reference/current/setup.html) and ask any questions you have in the forum https://discuss.elastic.co/.\n\nIf, after that, you think you've found a bug, then feel free to open an issue with the details here.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/121281674","html_url":"https://github.com/elastic/elasticsearch/issues/12208#issuecomment-121281674","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12208","id":121281674,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTI4MTY3NA==","user":{"login":"ThomasdOtreppe","id":7316682,"node_id":"MDQ6VXNlcjczMTY2ODI=","avatar_url":"https://avatars0.githubusercontent.com/u/7316682?v=4","gravatar_id":"","url":"https://api.github.com/users/ThomasdOtreppe","html_url":"https://github.com/ThomasdOtreppe","followers_url":"https://api.github.com/users/ThomasdOtreppe/followers","following_url":"https://api.github.com/users/ThomasdOtreppe/following{/other_user}","gists_url":"https://api.github.com/users/ThomasdOtreppe/gists{/gist_id}","starred_url":"https://api.github.com/users/ThomasdOtreppe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThomasdOtreppe/subscriptions","organizations_url":"https://api.github.com/users/ThomasdOtreppe/orgs","repos_url":"https://api.github.com/users/ThomasdOtreppe/repos","events_url":"https://api.github.com/users/ThomasdOtreppe/events{/privacy}","received_events_url":"https://api.github.com/users/ThomasdOtreppe/received_events","type":"User","site_admin":false},"created_at":"2015-07-14T15:26:33Z","updated_at":"2015-07-14T15:26:33Z","author_association":"NONE","body":"I already went through the docs. @clintongormley, if I understand correctly, you mean that the listening socket stopping is a configuration option? Weird option.\n\nI'll ask in the forum as you request.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/121282049","html_url":"https://github.com/elastic/elasticsearch/issues/12208#issuecomment-121282049","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12208","id":121282049,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTI4MjA0OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-07-14T15:28:19Z","updated_at":"2015-07-14T15:28:19Z","author_association":"CONTRIBUTOR","body":"No, I'm suggesting that you are filling up your heap and probably don't have swap disabled, which is slowing down GCs and making nodes unresponsive.  This is the likeliest condition.  \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/121284886","html_url":"https://github.com/elastic/elasticsearch/issues/12208#issuecomment-121284886","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12208","id":121284886,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTI4NDg4Ng==","user":{"login":"ThomasdOtreppe","id":7316682,"node_id":"MDQ6VXNlcjczMTY2ODI=","avatar_url":"https://avatars0.githubusercontent.com/u/7316682?v=4","gravatar_id":"","url":"https://api.github.com/users/ThomasdOtreppe","html_url":"https://github.com/ThomasdOtreppe","followers_url":"https://api.github.com/users/ThomasdOtreppe/followers","following_url":"https://api.github.com/users/ThomasdOtreppe/following{/other_user}","gists_url":"https://api.github.com/users/ThomasdOtreppe/gists{/gist_id}","starred_url":"https://api.github.com/users/ThomasdOtreppe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThomasdOtreppe/subscriptions","organizations_url":"https://api.github.com/users/ThomasdOtreppe/orgs","repos_url":"https://api.github.com/users/ThomasdOtreppe/repos","events_url":"https://api.github.com/users/ThomasdOtreppe/events{/privacy}","received_events_url":"https://api.github.com/users/ThomasdOtreppe/received_events","type":"User","site_admin":false},"created_at":"2015-07-14T15:40:08Z","updated_at":"2015-07-14T15:40:08Z","author_association":"NONE","body":"No, the listening socket was gone. netstat -ln didn't show it anymore. It reappeared when I restarted the service.\n\nHave you seen the specs of the system? 32Gb of RAM, 8 CPU @ 2GHz.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/121289040","html_url":"https://github.com/elastic/elasticsearch/issues/12208#issuecomment-121289040","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12208","id":121289040,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTI4OTA0MA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-07-14T15:57:27Z","updated_at":"2015-07-14T15:57:27Z","author_association":"CONTRIBUTOR","body":"OK I paid more attention to the memory filling up and becoming unresponsive.  I wonder if the socket times out because of slow GCs.  \n\n> Have you seen the specs of the system? 32Gb of RAM, 8 CPU @ 2GHz.\n\nYou can fill up 32GB with garbage quite happily, then if you have any heap swapped out, slow GCs will kill responsiveness.  Are you seeing slow GC messages in the logs?  I don't understand why you said \"high memory usage\" in the title, then say it was only using 1.2 GB?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/121324737","html_url":"https://github.com/elastic/elasticsearch/issues/12208#issuecomment-121324737","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12208","id":121324737,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTMyNDczNw==","user":{"login":"ThomasdOtreppe","id":7316682,"node_id":"MDQ6VXNlcjczMTY2ODI=","avatar_url":"https://avatars0.githubusercontent.com/u/7316682?v=4","gravatar_id":"","url":"https://api.github.com/users/ThomasdOtreppe","html_url":"https://github.com/ThomasdOtreppe","followers_url":"https://api.github.com/users/ThomasdOtreppe/followers","following_url":"https://api.github.com/users/ThomasdOtreppe/following{/other_user}","gists_url":"https://api.github.com/users/ThomasdOtreppe/gists{/gist_id}","starred_url":"https://api.github.com/users/ThomasdOtreppe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThomasdOtreppe/subscriptions","organizations_url":"https://api.github.com/users/ThomasdOtreppe/orgs","repos_url":"https://api.github.com/users/ThomasdOtreppe/repos","events_url":"https://api.github.com/users/ThomasdOtreppe/events{/privacy}","received_events_url":"https://api.github.com/users/ThomasdOtreppe/received_events","type":"User","site_admin":false},"created_at":"2015-07-14T18:02:50Z","updated_at":"2015-07-14T18:09:57Z","author_association":"NONE","body":"It wasn't filled. There was maybe a total 2Gb of RAM used according to ps_mem.py. I don't remember seeing any swap used (according to htop) but I could be wrong about that.\n\nA total of 1.7Gb for 2 java processes (Logstash and ElasticSearch). After noticing the issues with ES and killing it, it went down to ~500Mb.\n\n1.2Gb of memory usage for a single program not doing much seemed excessive especially considering I probably hadn't sent more than a few Mb of logs since the last time I had restarted it.\nIt's now been running for one day (I restarted it yesterday) and it's using about 700Mb.\n\nFeel free to change the title.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/121328952","html_url":"https://github.com/elastic/elasticsearch/issues/12208#issuecomment-121328952","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12208","id":121328952,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTMyODk1Mg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-07-14T18:19:15Z","updated_at":"2015-07-14T18:19:15Z","author_association":"CONTRIBUTOR","body":"I wonder if it is related to this futex bug https://github.com/elastic/elasticsearch/issues/11526, https://access.redhat.com/articles/3078\n\nSome other random ideas: \n- what do you set `$ES_HEAP` to?\n- If you do `GET /_nodes` do you see `mlockall` set to `true`?\n- Are you using the transport client to connect logstash to ES. If so, do you see the same issue if you switch to using the `http` client?\n- What do you see in the logs?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/121343716","html_url":"https://github.com/elastic/elasticsearch/issues/12208#issuecomment-121343716","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12208","id":121343716,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTM0MzcxNg==","user":{"login":"ThomasdOtreppe","id":7316682,"node_id":"MDQ6VXNlcjczMTY2ODI=","avatar_url":"https://avatars0.githubusercontent.com/u/7316682?v=4","gravatar_id":"","url":"https://api.github.com/users/ThomasdOtreppe","html_url":"https://github.com/ThomasdOtreppe","followers_url":"https://api.github.com/users/ThomasdOtreppe/followers","following_url":"https://api.github.com/users/ThomasdOtreppe/following{/other_user}","gists_url":"https://api.github.com/users/ThomasdOtreppe/gists{/gist_id}","starred_url":"https://api.github.com/users/ThomasdOtreppe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThomasdOtreppe/subscriptions","organizations_url":"https://api.github.com/users/ThomasdOtreppe/orgs","repos_url":"https://api.github.com/users/ThomasdOtreppe/repos","events_url":"https://api.github.com/users/ThomasdOtreppe/events{/privacy}","received_events_url":"https://api.github.com/users/ThomasdOtreppe/received_events","type":"User","site_admin":false},"created_at":"2015-07-14T19:04:04Z","updated_at":"2015-07-14T19:04:04Z","author_association":"NONE","body":"I haven't changed the settings in the init.d file which says it defaults to 256Mb, 1Gb max.\n\nI don't see any reference to mlockall when querying /_nodes:\n\n```\n{\n    \"cluster_name\": \"elasticsearch\",\n    \"nodes\": {\n        \"gmxTUsBZQzCtZU4lpO5x2A\": {\n            \"name\": \"Doctor Glitternight\",\n            \"transport_address\": \"local[1]\",\n            \"host\": \"REDACTED\",\n            \"ip\": \"PRIVATE_LAN_IP\",\n            \"version\": \"1.6.0\",\n            \"build\": \"cdd3ac4\",\n            \"http_address\": \"inet[/127.0.0.1:9200]\",\n            \"attributes\": {\n                \"local\": \"true\"\n            },\n            \"settings\": {\n                \"node\": {\n                    \"local\": \"true\"\n                },\n                \"config.ignore_system_properties\": \"true\",\n                \"client\": {\n                    \"type\": \"node\"\n                },\n                \"name\": \"Doctor Glitternight\",\n                \"pidfile\": \"/var/run/elasticsearch/elasticsearch.pid\",\n                \"path\": {\n                    \"data\": \"/var/lib/elasticsearch\",\n                    \"work\": \"/tmp/elasticsearch\",\n                    \"home\": \"/usr/share/elasticsearch\",\n                    \"conf\": \"/etc/elasticsearch\",\n                    \"logs\": \"/var/log/elasticsearch\"\n                },\n                \"config\": \"/etc/elasticsearch/elasticsearch.yml\",\n                \"cluster\": {\n                    \"name\": \"elasticsearch\"\n                },\n                \"discovery\": {\n                    \"zen\": {\n                        \"ping\": {\n                            \"multicast\": {\n                                \"enabled\": \"false\"\n                            }\n                        }\n                    }\n                },\n                \"network\": {\n                    \"host\": \"127.0.0.1\"\n                }\n            },\n            \"os\": {\n                \"refresh_interval_in_millis\": 1000,\n                \"available_processors\": 8,\n                \"cpu\": {\n                    \"vendor\": \"Intel\",\n                    \"model\": \"Xeon\",\n                    \"mhz\": 2000,\n                    \"total_cores\": 8,\n                    \"total_sockets\": 4,\n                    \"cores_per_socket\": 2,\n                    \"cache_size_in_bytes\": 20480\n                },\n                \"mem\": {\n                    \"total_in_bytes\": 33738743808\n                },\n                \"swap\": {\n                    \"total_in_bytes\": 34357637120\n                }\n            },\n            \"process\": {\n                \"refresh_interval_in_millis\": 1000,\n                \"id\": 1912,\n                \"max_file_descriptors\": 65535,\n                \"mlockall\": false\n            },\n            \"jvm\": {\n                \"pid\": 1912,\n                \"version\": \"1.7.0_79\",\n                \"vm_name\": \"OpenJDK 64-Bit Server VM\",\n                \"vm_version\": \"24.79-b02\",\n                \"vm_vendor\": \"Oracle Corporation\",\n                \"start_time_in_millis\": 1436807943854,\n                \"mem\": {\n                    \"heap_init_in_bytes\": 268435456,\n                    \"heap_max_in_bytes\": 1037959168,\n                    \"non_heap_init_in_bytes\": 24313856,\n                    \"non_heap_max_in_bytes\": 224395264,\n                    \"direct_max_in_bytes\": 1037959168\n                },\n                \"gc_collectors\": [\"ParNew\", \"ConcurrentMarkSweep\"],\n                \"memory_pools\": [\"Code Cache\", \"Par Eden Space\", \"Par Survivor Space\", \"CMS Old Gen\", \"CMS Perm Gen\"]\n            },\n            \"thread_pool\": {\n                \"generic\": {\n                    \"type\": \"cached\",\n                    \"keep_alive\": \"30s\",\n                    \"queue_size\": -1\n                },\n                \"index\": {\n                    \"type\": \"fixed\",\n                    \"min\": 8,\n                    \"max\": 8,\n                    \"queue_size\": \"200\"\n                },\n                \"fetch_shard_store\": {\n                    \"type\": \"scaling\",\n                    \"min\": 1,\n                    \"max\": 16,\n                    \"keep_alive\": \"5m\",\n                    \"queue_size\": -1\n                },\n                \"get\": {\n                    \"type\": \"fixed\",\n                    \"min\": 8,\n                    \"max\": 8,\n                    \"queue_size\": \"1k\"\n                },\n                \"snapshot\": {\n                    \"type\": \"scaling\",\n                    \"min\": 1,\n                    \"max\": 4,\n                    \"keep_alive\": \"5m\",\n                    \"queue_size\": -1\n                },\n                \"merge\": {\n                    \"type\": \"scaling\",\n                    \"min\": 1,\n                    \"max\": 4,\n                    \"keep_alive\": \"5m\",\n                    \"queue_size\": -1\n                },\n                \"suggest\": {\n                    \"type\": \"fixed\",\n                    \"min\": 8,\n                    \"max\": 8,\n                    \"queue_size\": \"1k\"\n                },\n                \"bulk\": {\n                    \"type\": \"fixed\",\n                    \"min\": 8,\n                    \"max\": 8,\n                    \"queue_size\": \"50\"\n                },\n                \"optimize\": {\n                    \"type\": \"fixed\",\n                    \"min\": 1,\n                    \"max\": 1,\n                    \"queue_size\": -1\n                },\n                \"warmer\": {\n                    \"type\": \"scaling\",\n                    \"min\": 1,\n                    \"max\": 4,\n                    \"keep_alive\": \"5m\",\n                    \"queue_size\": -1\n                },\n                \"flush\": {\n                    \"type\": \"scaling\",\n                    \"min\": 1,\n                    \"max\": 4,\n                    \"keep_alive\": \"5m\",\n                    \"queue_size\": -1\n                },\n                \"search\": {\n                    \"type\": \"fixed\",\n                    \"min\": 13,\n                    \"max\": 13,\n                    \"queue_size\": \"1k\"\n                },\n                \"fetch_shard_started\": {\n                    \"type\": \"scaling\",\n                    \"min\": 1,\n                    \"max\": 16,\n                    \"keep_alive\": \"5m\",\n                    \"queue_size\": -1\n                },\n                \"listener\": {\n                    \"type\": \"fixed\",\n                    \"min\": 4,\n                    \"max\": 4,\n                    \"queue_size\": -1\n                },\n                \"percolate\": {\n                    \"type\": \"fixed\",\n                    \"min\": 8,\n                    \"max\": 8,\n                    \"queue_size\": \"1k\"\n                },\n                \"management\": {\n                    \"type\": \"scaling\",\n                    \"min\": 1,\n                    \"max\": 5,\n                    \"keep_alive\": \"5m\",\n                    \"queue_size\": -1\n                },\n                \"refresh\": {\n                    \"type\": \"scaling\",\n                    \"min\": 1,\n                    \"max\": 4,\n                    \"keep_alive\": \"5m\",\n                    \"queue_size\": -1\n                }\n            },\n            \"network\": {\n                \"refresh_interval_in_millis\": 5000,\n                \"primary_interface\": {\n                    \"address\": \"PRIVATE_LAN_IP\",\n                    \"name\": \"eth0\",\n                    \"mac_address\": \"RE:DA:CT:ED:XX:XX\"\n                }\n            },\n            \"transport\": {\n                \"bound_address\": \"local[1]\",\n                \"publish_address\": \"local[1]\",\n                \"profiles\": {}\n            },\n            \"http\": {\n                \"bound_address\": \"inet[/127.0.0.1:9200]\",\n                \"publish_address\": \"inet[/127.0.0.1:9200]\",\n                \"max_content_length_in_bytes\": 104857600\n            },\n            \"plugins\": []\n        }\n    }\n}\n```\n\nHere is what I use with logstash:\n\n```\noutput {\n        elasticsearch {\n                host => localhost\n                protocol => 'http'\n        }\n}\n```\n\nI will try to switch to the http client\n\nAs I said, there is nothing unusual in the logs and no warnings or errors. I haven't kept them unfortunately but I'll post them next time it happens.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/121345513","html_url":"https://github.com/elastic/elasticsearch/issues/12208#issuecomment-121345513","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12208","id":121345513,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTM0NTUxMw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-07-14T19:12:44Z","updated_at":"2015-07-14T19:12:44Z","author_association":"CONTRIBUTOR","body":"It looks like you're already using the http client for logstash.   \n\nYou have mlockall turned off (look under the `process` section). Try turning on mlockall (or disabling swap) (see https://www.elastic.co/guide/en/elasticsearch/reference/current/setup-configuration.html#setup-configuration-memory for how) and see if that solves it\n\nAlso, are you using a Haswell CPU and can you find out whether your kernel version is susceptible to the futex bug?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/121348554","html_url":"https://github.com/elastic/elasticsearch/issues/12208#issuecomment-121348554","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12208","id":121348554,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTM0ODU1NA==","user":{"login":"ThomasdOtreppe","id":7316682,"node_id":"MDQ6VXNlcjczMTY2ODI=","avatar_url":"https://avatars0.githubusercontent.com/u/7316682?v=4","gravatar_id":"","url":"https://api.github.com/users/ThomasdOtreppe","html_url":"https://github.com/ThomasdOtreppe","followers_url":"https://api.github.com/users/ThomasdOtreppe/followers","following_url":"https://api.github.com/users/ThomasdOtreppe/following{/other_user}","gists_url":"https://api.github.com/users/ThomasdOtreppe/gists{/gist_id}","starred_url":"https://api.github.com/users/ThomasdOtreppe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThomasdOtreppe/subscriptions","organizations_url":"https://api.github.com/users/ThomasdOtreppe/orgs","repos_url":"https://api.github.com/users/ThomasdOtreppe/repos","events_url":"https://api.github.com/users/ThomasdOtreppe/events{/privacy}","received_events_url":"https://api.github.com/users/ThomasdOtreppe/received_events","type":"User","site_admin":false},"created_at":"2015-07-14T19:26:13Z","updated_at":"2015-07-14T19:26:13Z","author_association":"NONE","body":"How can I find that out? It's a kernel shipped by Ubuntu (3.19.0-22-generic) and even if the base kernel might be susceptible, they might have patched it.\n\nQuick question: is there any good reason using swap is enabled by default? Shouldn't it be disabled by default since it's causing issues?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/121380028","html_url":"https://github.com/elastic/elasticsearch/issues/12208#issuecomment-121380028","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12208","id":121380028,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTM4MDAyOA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-07-14T20:48:15Z","updated_at":"2015-07-14T20:48:15Z","author_association":"CONTRIBUTOR","body":"> How can I find that out? It's a kernel shipped by Ubuntu (3.19.0-22-generic) and even if the base kernel might be susceptible, they might have patched it.\n\nThen I suggest reading the kernel change logs?  Certainly from my googling attempt, it seems that > 3.18 is OK, but I'm not sure about that.  I'd also check if you have a Haswell processor.\n\n> Quick question: is there any good reason using swap is enabled by default? Shouldn't it be disabled by default since it's causing issues?\n\nBecause that is OS level - we can't set that for you.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/121385835","html_url":"https://github.com/elastic/elasticsearch/issues/12208#issuecomment-121385835","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12208","id":121385835,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTM4NTgzNQ==","user":{"login":"ThomasdOtreppe","id":7316682,"node_id":"MDQ6VXNlcjczMTY2ODI=","avatar_url":"https://avatars0.githubusercontent.com/u/7316682?v=4","gravatar_id":"","url":"https://api.github.com/users/ThomasdOtreppe","html_url":"https://github.com/ThomasdOtreppe","followers_url":"https://api.github.com/users/ThomasdOtreppe/followers","following_url":"https://api.github.com/users/ThomasdOtreppe/following{/other_user}","gists_url":"https://api.github.com/users/ThomasdOtreppe/gists{/gist_id}","starred_url":"https://api.github.com/users/ThomasdOtreppe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThomasdOtreppe/subscriptions","organizations_url":"https://api.github.com/users/ThomasdOtreppe/orgs","repos_url":"https://api.github.com/users/ThomasdOtreppe/repos","events_url":"https://api.github.com/users/ThomasdOtreppe/events{/privacy}","received_events_url":"https://api.github.com/users/ThomasdOtreppe/received_events","type":"User","site_admin":false},"created_at":"2015-07-14T21:02:11Z","updated_at":"2015-07-14T21:02:11Z","author_association":"NONE","body":"It's not Haswell according to http://ark.intel.com/products/codename/42174/Haswell#@All : We have Intel(R) Xeon(R) CPU E5-2640 v2 @ 2.00GHz.\n\nLet me rephrase the question. Is there any good reason not to have  'bootstrap.mlockall: true' in the elasticsearch configuration by default since swap causes issues?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/121414257","html_url":"https://github.com/elastic/elasticsearch/issues/12208#issuecomment-121414257","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12208","id":121414257,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTQxNDI1Nw==","user":{"login":"ThomasdOtreppe","id":7316682,"node_id":"MDQ6VXNlcjczMTY2ODI=","avatar_url":"https://avatars0.githubusercontent.com/u/7316682?v=4","gravatar_id":"","url":"https://api.github.com/users/ThomasdOtreppe","html_url":"https://github.com/ThomasdOtreppe","followers_url":"https://api.github.com/users/ThomasdOtreppe/followers","following_url":"https://api.github.com/users/ThomasdOtreppe/following{/other_user}","gists_url":"https://api.github.com/users/ThomasdOtreppe/gists{/gist_id}","starred_url":"https://api.github.com/users/ThomasdOtreppe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThomasdOtreppe/subscriptions","organizations_url":"https://api.github.com/users/ThomasdOtreppe/orgs","repos_url":"https://api.github.com/users/ThomasdOtreppe/repos","events_url":"https://api.github.com/users/ThomasdOtreppe/events{/privacy}","received_events_url":"https://api.github.com/users/ThomasdOtreppe/received_events","type":"User","site_admin":false},"created_at":"2015-07-14T22:41:32Z","updated_at":"2015-07-14T22:41:32Z","author_association":"NONE","body":"Should I increase ES_HEAP_SIZE and if yes, how much?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/121571127","html_url":"https://github.com/elastic/elasticsearch/issues/12208#issuecomment-121571127","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12208","id":121571127,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTU3MTEyNw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-07-15T10:41:07Z","updated_at":"2015-07-15T10:41:07Z","author_association":"CONTRIBUTOR","body":"> Let me rephrase the question. Is there any good reason not to have 'bootstrap.mlockall: true' in the elasticsearch configuration by default since swap causes issues?\n\nYes, because we could lock too much memory into RAM, which could bring down your system or starve other processes.  This is not a decision we can take on your behalf.\n\n> Should I increase ES_HEAP_SIZE and if yes, how much?\n\nI refer you to the docs and to the forum again.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/172652147","html_url":"https://github.com/elastic/elasticsearch/issues/12208#issuecomment-172652147","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12208","id":172652147,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MjY1MjE0Nw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-01-18T20:57:55Z","updated_at":"2016-01-18T20:57:55Z","author_association":"CONTRIBUTOR","body":"Nothing further - closing\n","performed_via_github_app":null}]