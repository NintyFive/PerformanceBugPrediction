{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/11500","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11500/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11500/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11500/events","html_url":"https://github.com/elastic/elasticsearch/issues/11500","id":85240264,"node_id":"MDU6SXNzdWU4NTI0MDI2NA==","number":11500,"title":"Spec isn't very readable nor is it sufficiently explicit to be useful","user":{"login":"bitemyapp","id":320177,"node_id":"MDQ6VXNlcjMyMDE3Nw==","avatar_url":"https://avatars2.githubusercontent.com/u/320177?v=4","gravatar_id":"","url":"https://api.github.com/users/bitemyapp","html_url":"https://github.com/bitemyapp","followers_url":"https://api.github.com/users/bitemyapp/followers","following_url":"https://api.github.com/users/bitemyapp/following{/other_user}","gists_url":"https://api.github.com/users/bitemyapp/gists{/gist_id}","starred_url":"https://api.github.com/users/bitemyapp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitemyapp/subscriptions","organizations_url":"https://api.github.com/users/bitemyapp/orgs","repos_url":"https://api.github.com/users/bitemyapp/repos","events_url":"https://api.github.com/users/bitemyapp/events{/privacy}","received_events_url":"https://api.github.com/users/bitemyapp/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-06-04T19:24:51Z","updated_at":"2015-06-04T19:41:07Z","closed_at":"2015-06-04T19:41:05Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Contrast: https://github.com/elastic/elasticsearch/blob/master/rest-api-spec/api/search.json#L160-L162\n\nwith (admittedly incomplete but not more so than your spec)\n\nhttps://github.com/bitemyapp/bloodhound/blob/master/src/Database/Bloodhound/Types.hs#L536-L544\n\nhttps://github.com/bitemyapp/bloodhound/blob/master/src/Database/Bloodhound/Types.hs#L601-L629\n\nhttps://github.com/bitemyapp/bloodhound/blob/master/src/Database/Bloodhound/Types.hs#L823-L832\n\nhttps://github.com/bitemyapp/bloodhound/blob/master/src/Database/Bloodhound/Types.hs#L1729-L1742\n\nPeople are using Bloodhound in production.\n\nI would suggest that a more complete spec is needed to assist client library authors, but I know how annoying maintaining documentation is. Given that, consider that Bloodhound (which has tests) can be tested against Elasticsearch to ensure spec correctness. Have you considered making an explicit spec via a client library in a language with explicit datatypes that was high enough level to make it usable for a casual reader?\n\nPart of what exacerbates the situation with the spec is that your docs do _not_ show complete or working examples, they show fragments of the complete JSON document that would be required to work, the reader is expected to\n1. Know this\n2. Manually inject the fragment you're showing them into the rest of the structure which is not well explained or connected to the individual doc page they're on\n\nThe problems with 1 and 2 are compounded by the fact that it's _extremely_ easy to get the JSON structure wrong, then you are now faced with the prospect of making fiddly little changes to the JSON over and over until works.\n\nThus, [datatypes that take care of the JSON for you](https://github.com/bitemyapp/bloodhound/blob/master/src/Database/Bloodhound/Types.hs#L1745-L1758).\n\nThe _primary_ complaints I hear from people about Elasticsearch are the docs & API. It makes what is otherwise a very useful product considerably more frustrating to use than it needs to be.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}