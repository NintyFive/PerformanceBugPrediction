{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/11165","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11165/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11165/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11165/events","html_url":"https://github.com/elastic/elasticsearch/issues/11165","id":76351051,"node_id":"MDU6SXNzdWU3NjM1MTA1MQ==","number":11165,"title":"When master is running 1.5.2, master data cannot be retrieved from nodes running 1.4.4","user":{"login":"martinhynar","id":1698238,"node_id":"MDQ6VXNlcjE2OTgyMzg=","avatar_url":"https://avatars0.githubusercontent.com/u/1698238?v=4","gravatar_id":"","url":"https://api.github.com/users/martinhynar","html_url":"https://github.com/martinhynar","followers_url":"https://api.github.com/users/martinhynar/followers","following_url":"https://api.github.com/users/martinhynar/following{/other_user}","gists_url":"https://api.github.com/users/martinhynar/gists{/gist_id}","starred_url":"https://api.github.com/users/martinhynar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinhynar/subscriptions","organizations_url":"https://api.github.com/users/martinhynar/orgs","repos_url":"https://api.github.com/users/martinhynar/repos","events_url":"https://api.github.com/users/martinhynar/events{/privacy}","received_events_url":"https://api.github.com/users/martinhynar/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-05-14T12:57:30Z","updated_at":"2015-05-14T16:10:28Z","closed_at":"2015-05-14T16:10:27Z","author_association":"NONE","active_lock_reason":null,"body":"Hi, I am upgrading cluster from 1.4.4 to 1.5.2 following the Rolling upgrade instructions and I faced this. I first upgraded all master nodes to 1.5.2, then I started with data nodes and when I wanted to disable shard reallocation, I got `{\"error\":\"MasterNotDiscoveredException[]\",\"status\":503}`. I do the \"disable reallocation\" request on that node that is being upgraded by sending it to localhost.\n\nI analyzed this a bit and observed that any request that is related to \"master data\" fails with the same error when sending this from 1.4.4 node. On nodes that were already upgraded to 1.5.2, this works just fine.\n","closed_by":{"login":"martinhynar","id":1698238,"node_id":"MDQ6VXNlcjE2OTgyMzg=","avatar_url":"https://avatars0.githubusercontent.com/u/1698238?v=4","gravatar_id":"","url":"https://api.github.com/users/martinhynar","html_url":"https://github.com/martinhynar","followers_url":"https://api.github.com/users/martinhynar/followers","following_url":"https://api.github.com/users/martinhynar/following{/other_user}","gists_url":"https://api.github.com/users/martinhynar/gists{/gist_id}","starred_url":"https://api.github.com/users/martinhynar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinhynar/subscriptions","organizations_url":"https://api.github.com/users/martinhynar/orgs","repos_url":"https://api.github.com/users/martinhynar/repos","events_url":"https://api.github.com/users/martinhynar/events{/privacy}","received_events_url":"https://api.github.com/users/martinhynar/received_events","type":"User","site_admin":false},"performed_via_github_app":null}