[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/114560042","html_url":"https://github.com/elastic/elasticsearch/issues/11830#issuecomment-114560042","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11830","id":114560042,"node_id":"MDEyOklzc3VlQ29tbWVudDExNDU2MDA0Mg==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2015-06-23T16:13:36Z","updated_at":"2015-06-23T16:13:36Z","author_association":"MEMBER","body":"Hey @RanadeepPolavarapu you need to use two `nested` queries to get this working correctly:\n\n``` json\n{\n    \"query\": {\n        \"nested\": {\n            \"path\": \"person\",\n            \"query\": {\n                \"nested\" : {\n                    \"path\" :  \"person.car\",\n                    \"query\" :  {\n                       \"match\": {\n                           \"person.car.make\": \"Honda\"\n                        }\n                    }\n                }\n            },\n            \"inner_hits\": {}\n        }\n    }\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/114563203","html_url":"https://github.com/elastic/elasticsearch/issues/11830#issuecomment-114563203","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11830","id":114563203,"node_id":"MDEyOklzc3VlQ29tbWVudDExNDU2MzIwMw==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2015-06-23T16:27:13Z","updated_at":"2015-06-23T16:27:13Z","author_association":"MEMBER","body":"ES should do a better job at failing your query here instead of just returning no results. Issue #9255 will implement `nested` query validation.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/114574181","html_url":"https://github.com/elastic/elasticsearch/issues/11830#issuecomment-114574181","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11830","id":114574181,"node_id":"MDEyOklzc3VlQ29tbWVudDExNDU3NDE4MQ==","user":{"login":"RanadeepPolavarapu","id":7084995,"node_id":"MDQ6VXNlcjcwODQ5OTU=","avatar_url":"https://avatars1.githubusercontent.com/u/7084995?v=4","gravatar_id":"","url":"https://api.github.com/users/RanadeepPolavarapu","html_url":"https://github.com/RanadeepPolavarapu","followers_url":"https://api.github.com/users/RanadeepPolavarapu/followers","following_url":"https://api.github.com/users/RanadeepPolavarapu/following{/other_user}","gists_url":"https://api.github.com/users/RanadeepPolavarapu/gists{/gist_id}","starred_url":"https://api.github.com/users/RanadeepPolavarapu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RanadeepPolavarapu/subscriptions","organizations_url":"https://api.github.com/users/RanadeepPolavarapu/orgs","repos_url":"https://api.github.com/users/RanadeepPolavarapu/repos","events_url":"https://api.github.com/users/RanadeepPolavarapu/events{/privacy}","received_events_url":"https://api.github.com/users/RanadeepPolavarapu/received_events","type":"User","site_admin":false},"created_at":"2015-06-23T17:07:27Z","updated_at":"2015-06-23T17:08:11Z","author_association":"NONE","body":"Hi @martijnvg ,\n\nThank You, your reply was very helpful.\n\nI see both queries (mine and the one you provided) work, but which one is preferred? Is one better to use over the other? Does one adhere to the ES standard better than the other? One does two nested queries and the other accesses the nested object using I guess nested dot notation (for lack of a better term)?\n\n```\n{\n    \"query\": {\n        \"nested\": {\n            \"path\": \"person\",\n            \"query\": {\n                \"nested\" : {\n                    \"path\" :  \"person.car\",\n                    \"query\" :  {\n                       \"match\": {\n                           \"person.car.make\": \"Honda\"\n                        }\n                    }\n                }\n            },\n            \"inner_hits\": {}\n        }\n    }\n}\n```\n\nvs.  \n\n```\n{\n    \"query\": {\n        \"nested\": {\n            \"path\": \"person\",\n            \"query\": {\n                \"match\": {\n                    \"person.car.make\": \"Honda\"\n                }\n            },\n            \"inner_hits\": {}\n        }\n    }\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/114732144","html_url":"https://github.com/elastic/elasticsearch/issues/11830#issuecomment-114732144","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11830","id":114732144,"node_id":"MDEyOklzc3VlQ29tbWVudDExNDczMjE0NA==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2015-06-24T05:31:27Z","updated_at":"2015-06-24T05:31:27Z","author_association":"MEMBER","body":"@RanadeepPolavarapu You should use the first query. The second query shouldn't work, because it is incorrect. Not sure why it works on your side, but I tried it out and the second query doesn't work here.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/163591490","html_url":"https://github.com/elastic/elasticsearch/issues/11830#issuecomment-163591490","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11830","id":163591490,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MzU5MTQ5MA==","user":{"login":"syzspectroom","id":246045,"node_id":"MDQ6VXNlcjI0NjA0NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/246045?v=4","gravatar_id":"","url":"https://api.github.com/users/syzspectroom","html_url":"https://github.com/syzspectroom","followers_url":"https://api.github.com/users/syzspectroom/followers","following_url":"https://api.github.com/users/syzspectroom/following{/other_user}","gists_url":"https://api.github.com/users/syzspectroom/gists{/gist_id}","starred_url":"https://api.github.com/users/syzspectroom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syzspectroom/subscriptions","organizations_url":"https://api.github.com/users/syzspectroom/orgs","repos_url":"https://api.github.com/users/syzspectroom/repos","events_url":"https://api.github.com/users/syzspectroom/events{/privacy}","received_events_url":"https://api.github.com/users/syzspectroom/received_events","type":"User","site_admin":false},"created_at":"2015-12-10T12:03:45Z","updated_at":"2015-12-10T12:03:45Z","author_association":"NONE","body":"is there any way to query nested fields using wildcard in path? \nmy document:\n\n```\n{\n   \"source\": \"forbes\",\n   \"external_id\": \"1234\",\n   \"versions\": {\n      \"en\": {\n         \"title\": \"title en\",\n         \"content\": \"content en\"\n      },\n      \"localized_en\": {\n         \"title\": \"title localized en\",\n         \"content\": \"content localized en\"\n      },\n      \"fr\": {\n         \"title\": \"title fr\",\n         \"content\": \"content fr\"\n      }\n   }\n}\n```\n\nand I need to do query like this:\n\n```\n{\n   \"query\": {\n      \"nested\": {\n         \"path\": \"versions\",\n         \"query\": {\n            \"multi_match\": {\n               \"query\": \"content\",\n               \"fields\": [\n                  \"versions.*.content\"\n               ]\n            }\n         }\n      }\n   }\n}\n```\n\nbut didn't get any results\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/231628241","html_url":"https://github.com/elastic/elasticsearch/issues/11830#issuecomment-231628241","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11830","id":231628241,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMTYyODI0MQ==","user":{"login":"roxma","id":4538941,"node_id":"MDQ6VXNlcjQ1Mzg5NDE=","avatar_url":"https://avatars0.githubusercontent.com/u/4538941?v=4","gravatar_id":"","url":"https://api.github.com/users/roxma","html_url":"https://github.com/roxma","followers_url":"https://api.github.com/users/roxma/followers","following_url":"https://api.github.com/users/roxma/following{/other_user}","gists_url":"https://api.github.com/users/roxma/gists{/gist_id}","starred_url":"https://api.github.com/users/roxma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roxma/subscriptions","organizations_url":"https://api.github.com/users/roxma/orgs","repos_url":"https://api.github.com/users/roxma/repos","events_url":"https://api.github.com/users/roxma/events{/privacy}","received_events_url":"https://api.github.com/users/roxma/received_events","type":"User","site_admin":false},"created_at":"2016-07-11T02:17:10Z","updated_at":"2016-07-11T02:24:27Z","author_association":"NONE","body":"If I have two nested fields, how do I perform a query on both of them?\n\n```\n{\n    \"mappings\": {\n        \"customers\": {\n            \"properties\": {\n                \"lastUpdated\": {\n                    \"type\": \"long\"\n                },\n                \"isDeleted\": {\n                    \"type\": \"boolean\"\n                },\n                \"person\": {\n                    \"type\": \"nested\",\n                    \"properties\": {\n                        \"car\": {\n                            \"type\": \"nested\",\n                            \"properties\": {\n                                \"model\": {\n                                    \"type\": \"string\"\n                                },\n                                \"make\": {\n                                    \"type\": \"string\"\n                                }\n                            }\n                        },\n                        \"last_name\": {\n                            \"type\": \"string\"\n                        },\n                        \"first_name\": {\n                            \"type\": \"string\"\n                        }\n                    }\n                }\n            }\n            \"person2\": .......................\n        }\n    }\n}\n```\n\nFor example, How do I perform a query on person and person2 ?\n\n**EDIT: I think [this](https://www.elastic.co/guide/en/elasticsearch/guide/current/nested-query.html) is clear enough for my use case, please ignore my comment**\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/297692555","html_url":"https://github.com/elastic/elasticsearch/issues/11830#issuecomment-297692555","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11830","id":297692555,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NzY5MjU1NQ==","user":{"login":"abhishek5678","id":27953347,"node_id":"MDQ6VXNlcjI3OTUzMzQ3","avatar_url":"https://avatars1.githubusercontent.com/u/27953347?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishek5678","html_url":"https://github.com/abhishek5678","followers_url":"https://api.github.com/users/abhishek5678/followers","following_url":"https://api.github.com/users/abhishek5678/following{/other_user}","gists_url":"https://api.github.com/users/abhishek5678/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishek5678/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishek5678/subscriptions","organizations_url":"https://api.github.com/users/abhishek5678/orgs","repos_url":"https://api.github.com/users/abhishek5678/repos","events_url":"https://api.github.com/users/abhishek5678/events{/privacy}","received_events_url":"https://api.github.com/users/abhishek5678/received_events","type":"User","site_admin":false},"created_at":"2017-04-27T11:54:58Z","updated_at":"2017-04-27T11:54:58Z","author_association":"NONE","body":"Hi Guys,\r\nIn this data when i am trying with one level nested data then it's working fine but when i am adding one more nested data then it's not working if anybody will be knows about that then please reply me.I am sending my document data and mapping file also.\r\n\r\nPOST /test_word14/doc/1\r\n{\r\n\"name\": \"Diseases of the blood and blood-forming organs and certain disorders involving the immune mechanism (D50-D89)\",\r\n\"depth\": 1,\r\n\"children\": [{\r\n\"name\": \"Nutritional anemias (D50-D53)\",\r\n\"depth\": 2,\r\n\"children\": [{\r\n\"code\": \"D50\",\r\n\"name\": \"Iron deficiency anemia\",\r\n\"depth\": 3,\r\n\"children\": [{\r\n\"code\": \"D50.0\",\r\n\"name\": \"Iron deficiency anemia secondary to blood loss (chronic)\",\r\n\"depth\": 4\r\n}, {\r\n\"code\": \"D50.1\",\r\n\"name\": \"Sideropenic dysphagia\",\r\n\"depth\": 4\r\n}, {\r\n\"code\": \"D50.8\",\r\n\"name\": \"Other iron deficiency anemias\",\r\n\"depth\": 4\r\n}, {\r\n\"code\": \"D50.9\",\r\n\"name\": \"Iron deficiency anemia, unspecified\",\r\n\"depth\": 4\r\n}]\r\n}]\r\n}]\r\n}\r\n\r\n(mapping file)\r\nPUT /test_word16\r\n{\r\n\"mappings\": {\r\n\"doc\": {\r\n\"properties\": {\r\n\"name\": { \"type\": \"string\" },\r\n\"depth\": {\"type\":\"long\"},\r\n\"children\": {\r\n\"type\": \"nested\",\r\n\"properties\": {\r\n\"name\": { \"type\": \"string\" },\r\n\"depth\": { \"type\": \"long\" },\r\n\"children\": {\r\n\"type\": \"nested\",\r\n\"properties\": {\r\n\"code\": { \"type\": \"string\" },\r\n\"name\": { \"type\": \"string\" },\r\n\"depth\": { \"type\": \"long\" },\r\n\"children\": {\r\n\"type\": \"nested\",\r\n\"properties\": {\r\n\"code\": { \"type\": \"string\" },\r\n\"name\": { \"type\": \"string\" },\r\n\"depth\": { \"type\": \"long\" },\r\n}\r\n}\r\n}\r\n}\r\n}\r\n}\r\n}\r\n}\r\n}\r\n}\r\n\r\nplease tell me what is the query i am applying here.i applied the query like this:\r\nGET /icd10_codes/doc/_search\r\n{\r\n\"_source\": false,\r\n\"query\": {\r\n\"nested\": {\r\n\"path\": \"children\",\r\n\"query\": {\r\n\"nested\": {\r\n\"path\": \"children.children\",\r\n\"query\": {\r\n\"nested\": {\r\n\"path\": \"children.children.children\",\r\n\"query\": {\r\n\"bool\": {\r\n\"must\": [\r\n{\r\n\"match\": {\r\n\"children.children.name\": \"Iron\"\r\n}\r\n}\r\n]\r\n}\r\n},\r\n\"inner_hits\": {\r\n\"_source\": {\r\n\"excludes\":[\"name\"]\r\n}\r\n}\r\n}\r\n}\r\n}\r\n}\r\n}\r\n}","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/307092003","html_url":"https://github.com/elastic/elasticsearch/issues/11830#issuecomment-307092003","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11830","id":307092003,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzA5MjAwMw==","user":{"login":"siddharth1199","id":29088445,"node_id":"MDQ6VXNlcjI5MDg4NDQ1","avatar_url":"https://avatars2.githubusercontent.com/u/29088445?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharth1199","html_url":"https://github.com/siddharth1199","followers_url":"https://api.github.com/users/siddharth1199/followers","following_url":"https://api.github.com/users/siddharth1199/following{/other_user}","gists_url":"https://api.github.com/users/siddharth1199/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharth1199/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharth1199/subscriptions","organizations_url":"https://api.github.com/users/siddharth1199/orgs","repos_url":"https://api.github.com/users/siddharth1199/repos","events_url":"https://api.github.com/users/siddharth1199/events{/privacy}","received_events_url":"https://api.github.com/users/siddharth1199/received_events","type":"User","site_admin":false},"created_at":"2017-06-08T12:44:45Z","updated_at":"2017-06-08T12:45:44Z","author_association":"NONE","body":"Hi guys, i have a query with 2 bool conditions as follows:\r\n\r\n'''GET /resume/candidates/_search\r\n{\r\n    \"query\": {\r\n        \"nested\" : {\r\n            \"path\" : \"sections\",\r\n            \"query\" : {\r\n                \"bool\" : {\r\n                    \"should\" : [\r\n                    { \"match:{\"sections.skills\": \"CSS\"} },\r\n                    { \"match:{\"sections.education\": \"photography\"} }\r\n                    ]\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n'''\r\nWhen I run the 2 match queries independently, I get results pointing towards the same document. However, when i combine and run the, it does not return any result. Can anyone please help?\r\n\r\nMapping:\r\n\r\nPUT /resume\r\n{\r\n\"mappings\" : {\r\n  \"candidates\" : {\r\n   \"properties\" : {\r\n     \"name\": { \"type\" : \"text\" },\r\n     \"phone\":{ \"type\" : \"text\" },\r\n     \"email\":{ \"type\" : \"text\" },\r\n     \"sections\": {\r\n       \"type\": \"nested\",\r\n       \"properties\": {\r\n         \"introduction\":{\"type\":\"text\"},\r\n         \"summary\":{\"type\":\"text\"},\r\n         \"awards\":{\"type\":\"text\"},\r\n         \"achievements\":{\"type\":\"text\"},\r\n         \"skills\":{\"type\":\"text\",\"analyzer\":\"keyword\"},\r\n         \"education\":{\"type\":\"text\"},\r\n         \"work-experience\": [],\r\n         \"projects\":{\"type\":\"text\"},\r\n         \"extra-curricular\":{\"type\":\"text\"}\r\n  }}}}}\r\n\r\n\r\nData:\r\n\r\nPUT /resume/candidates/2\r\n{\r\n  \"name\": \"XXXXXXX\",\r\n  \"phone\": \"XXXXXXXXXXXX\",\r\n  \"email\": \"XXXXXXXXXXXXXXXXX\",\r\n  \"sections\": [\r\n    {\r\n      \"introduction\": \"XXXXXXXXXXXXXXXi\"\r\n    },\r\n    {\r\n      \"summary\": \"\"\r\n    },\r\n    {\r\n      \"achievements\": [\"best photographer of the year: 2009\"]\r\n    },\r\n    {\r\n      \"skills\": [\r\n        \"APACHE\",\r\n        \"CASSANDRA\",\r\n        \"MYSQL\",\r\n        \"CDN\",\r\n        \"AMAZON CLOUD FRONT\",\r\n        \"MS OFFICE\",\r\n        \"HLS\",\r\n        \"DASH\",\r\n        \"CSS\",\r\n        \"JSON\",\r\n        \"RUBY\"\r\n      ]\r\n    },\r\n    {\r\n      \"education\": [\r\n        \"XXXXXXXXXXXX Photography\",\r\n        \"XXXXXXXXXXXXXXxx\"\r\n      ]\r\n    },\r\n    {\r\n      \"work-experience\": [\r\n        {\r\n          \"0\": [\r\n            {\r\n              \"company-name\": \"CREATIVE ARTISTS AGENCY, Beverly Hills, CA\"\r\n            },\r\n            {\r\n              \"start-date\": \"2002\"\r\n            },\r\n            {\r\n              \"end-date\": \"2004\"\r\n            },\r\n            {\r\n              \"job-description\": \"XXXXXXXXXx\"\r\n            },\r\n            {\r\n              \"designation\": \"Video Game Assistant\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \r\n        },\r\n        {\r\n          \"2\": [\r\n            {\r\n              \"company-name\": \"OC&C STRATEGY, New York, NY\"\r\n            },\r\n            {\r\n              \"start-date\": \"2008\"\r\n            },\r\n            {\r\n              \"end-date\": \"2009\"\r\n            },\r\n            {\r\n              \"job-description\": \"XXXXXXXXXXXXXXXX\"\r\n            },\r\n            {\r\n              \"designation\": \"Associate Consultant\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"3\": [\r\n            {\r\n              \"company-name\": \"XXXXXXXXXXXXX\"\r\n            },\r\n            {\r\n              \"start-date\": \"2009\"\r\n            },\r\n            {\r\n              \"end-date\": \"2011\"\r\n            },\r\n            {\r\n              \"job-description\": \"XXXXXXXXXXXXXXXXxxx\"\r\n            },\r\n            {\r\n              \"designation\": \"designer\"\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"extra-curricular\": \"\"\r\n    },\r\n    {\r\n      \"awards\": \"\"\r\n    },\r\n    {\r\n      \"projects\": [\r\n        \"\"\r\n      ]\r\n    }\r\n  ]\r\n}\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/307165170","html_url":"https://github.com/elastic/elasticsearch/issues/11830#issuecomment-307165170","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11830","id":307165170,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzE2NTE3MA==","user":{"login":"lukas-gitl","id":7819023,"node_id":"MDQ6VXNlcjc4MTkwMjM=","avatar_url":"https://avatars3.githubusercontent.com/u/7819023?v=4","gravatar_id":"","url":"https://api.github.com/users/lukas-gitl","html_url":"https://github.com/lukas-gitl","followers_url":"https://api.github.com/users/lukas-gitl/followers","following_url":"https://api.github.com/users/lukas-gitl/following{/other_user}","gists_url":"https://api.github.com/users/lukas-gitl/gists{/gist_id}","starred_url":"https://api.github.com/users/lukas-gitl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukas-gitl/subscriptions","organizations_url":"https://api.github.com/users/lukas-gitl/orgs","repos_url":"https://api.github.com/users/lukas-gitl/repos","events_url":"https://api.github.com/users/lukas-gitl/events{/privacy}","received_events_url":"https://api.github.com/users/lukas-gitl/received_events","type":"User","site_admin":false},"created_at":"2017-06-08T17:01:16Z","updated_at":"2017-06-08T17:01:16Z","author_association":"NONE","body":"@siddharth1199 Not sure what your problem is. It looks like it should work. Formatting your json would help greatly with readability and encourage people to look at it more closely...","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/355376824","html_url":"https://github.com/elastic/elasticsearch/issues/11830#issuecomment-355376824","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11830","id":355376824,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTM3NjgyNA==","user":{"login":"Ganesh216","id":14298302,"node_id":"MDQ6VXNlcjE0Mjk4MzAy","avatar_url":"https://avatars3.githubusercontent.com/u/14298302?v=4","gravatar_id":"","url":"https://api.github.com/users/Ganesh216","html_url":"https://github.com/Ganesh216","followers_url":"https://api.github.com/users/Ganesh216/followers","following_url":"https://api.github.com/users/Ganesh216/following{/other_user}","gists_url":"https://api.github.com/users/Ganesh216/gists{/gist_id}","starred_url":"https://api.github.com/users/Ganesh216/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ganesh216/subscriptions","organizations_url":"https://api.github.com/users/Ganesh216/orgs","repos_url":"https://api.github.com/users/Ganesh216/repos","events_url":"https://api.github.com/users/Ganesh216/events{/privacy}","received_events_url":"https://api.github.com/users/Ganesh216/received_events","type":"User","site_admin":false},"created_at":"2018-01-04T19:33:18Z","updated_at":"2018-01-04T19:55:55Z","author_association":"NONE","body":"when I am running this query \r\n```\r\n{\r\n    \"query\": {\r\n        \"nested\": {\r\n            \"path\": \"person\",\r\n            \"query\": {\r\n                \"nested\" : {\r\n                    \"path\" :  \"person.car\",\r\n                    \"query\" :  {\r\n                       \"match\": {\r\n                           \"person.car.make\": \"Honda\"\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            \"inner_hits\": {}\r\n        }\r\n    }\r\n\r\n```\r\nI am getting exception \r\n\"error\": {\r\n        \"root_cause\": [\r\n            {\r\n                \"type\": \"query_shard_exception\",\r\n                \"reason\": \"failed to create query: {\\n  \\\"nested\\\" :......................} \r\n}\r\n \"caused_by\": {\r\n                        \"type\": \"illegal_state_exception\",\r\n                        \"reason\": \"[nested] nested object under path [person] is not of nested type\"\r\n                    }\r\n\r\nAny help would be appreciated.\r\n\r\n  ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/355424519","html_url":"https://github.com/elastic/elasticsearch/issues/11830#issuecomment-355424519","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11830","id":355424519,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTQyNDUxOQ==","user":{"login":"simlu","id":1539747,"node_id":"MDQ6VXNlcjE1Mzk3NDc=","avatar_url":"https://avatars1.githubusercontent.com/u/1539747?v=4","gravatar_id":"","url":"https://api.github.com/users/simlu","html_url":"https://github.com/simlu","followers_url":"https://api.github.com/users/simlu/followers","following_url":"https://api.github.com/users/simlu/following{/other_user}","gists_url":"https://api.github.com/users/simlu/gists{/gist_id}","starred_url":"https://api.github.com/users/simlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simlu/subscriptions","organizations_url":"https://api.github.com/users/simlu/orgs","repos_url":"https://api.github.com/users/simlu/repos","events_url":"https://api.github.com/users/simlu/events{/privacy}","received_events_url":"https://api.github.com/users/simlu/received_events","type":"User","site_admin":false},"created_at":"2018-01-04T23:03:44Z","updated_at":"2018-01-04T23:03:44Z","author_association":"NONE","body":"@Ganesh216 Fix your schema?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/355485508","html_url":"https://github.com/elastic/elasticsearch/issues/11830#issuecomment-355485508","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11830","id":355485508,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTQ4NTUwOA==","user":{"login":"Ganesh216","id":14298302,"node_id":"MDQ6VXNlcjE0Mjk4MzAy","avatar_url":"https://avatars3.githubusercontent.com/u/14298302?v=4","gravatar_id":"","url":"https://api.github.com/users/Ganesh216","html_url":"https://github.com/Ganesh216","followers_url":"https://api.github.com/users/Ganesh216/followers","following_url":"https://api.github.com/users/Ganesh216/following{/other_user}","gists_url":"https://api.github.com/users/Ganesh216/gists{/gist_id}","starred_url":"https://api.github.com/users/Ganesh216/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ganesh216/subscriptions","organizations_url":"https://api.github.com/users/Ganesh216/orgs","repos_url":"https://api.github.com/users/Ganesh216/repos","events_url":"https://api.github.com/users/Ganesh216/events{/privacy}","received_events_url":"https://api.github.com/users/Ganesh216/received_events","type":"User","site_admin":false},"created_at":"2018-01-05T06:53:50Z","updated_at":"2018-01-05T06:53:50Z","author_association":"NONE","body":"Hi. @simlu I am using same mapping file and document mentioned above in first comment by  @RanadeepPolavarapu still getting this issue.  Can it be version specific ? ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/355677581","html_url":"https://github.com/elastic/elasticsearch/issues/11830#issuecomment-355677581","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11830","id":355677581,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTY3NzU4MQ==","user":{"login":"simlu","id":1539747,"node_id":"MDQ6VXNlcjE1Mzk3NDc=","avatar_url":"https://avatars1.githubusercontent.com/u/1539747?v=4","gravatar_id":"","url":"https://api.github.com/users/simlu","html_url":"https://github.com/simlu","followers_url":"https://api.github.com/users/simlu/followers","following_url":"https://api.github.com/users/simlu/following{/other_user}","gists_url":"https://api.github.com/users/simlu/gists{/gist_id}","starred_url":"https://api.github.com/users/simlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simlu/subscriptions","organizations_url":"https://api.github.com/users/simlu/orgs","repos_url":"https://api.github.com/users/simlu/repos","events_url":"https://api.github.com/users/simlu/events{/privacy}","received_events_url":"https://api.github.com/users/simlu/received_events","type":"User","site_admin":false},"created_at":"2018-01-05T22:03:05Z","updated_at":"2018-01-05T22:03:05Z","author_association":"NONE","body":"@Ganesh216 If you suspect this is a version problem, try to use a previous es version. If this is version specific this should be a new ticket. Otherwise make sure you set up everything exactly as in the example. This should work.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/369823616","html_url":"https://github.com/elastic/elasticsearch/issues/11830#issuecomment-369823616","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11830","id":369823616,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTgyMzYxNg==","user":{"login":"NidhiChandak","id":36695295,"node_id":"MDQ6VXNlcjM2Njk1Mjk1","avatar_url":"https://avatars2.githubusercontent.com/u/36695295?v=4","gravatar_id":"","url":"https://api.github.com/users/NidhiChandak","html_url":"https://github.com/NidhiChandak","followers_url":"https://api.github.com/users/NidhiChandak/followers","following_url":"https://api.github.com/users/NidhiChandak/following{/other_user}","gists_url":"https://api.github.com/users/NidhiChandak/gists{/gist_id}","starred_url":"https://api.github.com/users/NidhiChandak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NidhiChandak/subscriptions","organizations_url":"https://api.github.com/users/NidhiChandak/orgs","repos_url":"https://api.github.com/users/NidhiChandak/repos","events_url":"https://api.github.com/users/NidhiChandak/events{/privacy}","received_events_url":"https://api.github.com/users/NidhiChandak/received_events","type":"User","site_admin":false},"created_at":"2018-03-02T05:21:29Z","updated_at":"2018-03-02T05:21:29Z","author_association":"NONE","body":"Hi. With respect to the first example, Is there a way for me to fetch the model only where \"make\" is \"Honda\"? ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372764171","html_url":"https://github.com/elastic/elasticsearch/issues/11830#issuecomment-372764171","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11830","id":372764171,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mjc2NDE3MQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2018-03-13T18:09:13Z","updated_at":"2018-03-13T18:09:13Z","author_association":"MEMBER","body":"cc @elastic/es-search-aggs ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/373882191","html_url":"https://github.com/elastic/elasticsearch/issues/11830#issuecomment-373882191","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11830","id":373882191,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mzg4MjE5MQ==","user":{"login":"debadair","id":362578,"node_id":"MDQ6VXNlcjM2MjU3OA==","avatar_url":"https://avatars1.githubusercontent.com/u/362578?v=4","gravatar_id":"","url":"https://api.github.com/users/debadair","html_url":"https://github.com/debadair","followers_url":"https://api.github.com/users/debadair/followers","following_url":"https://api.github.com/users/debadair/following{/other_user}","gists_url":"https://api.github.com/users/debadair/gists{/gist_id}","starred_url":"https://api.github.com/users/debadair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debadair/subscriptions","organizations_url":"https://api.github.com/users/debadair/orgs","repos_url":"https://api.github.com/users/debadair/repos","events_url":"https://api.github.com/users/debadair/events{/privacy}","received_events_url":"https://api.github.com/users/debadair/received_events","type":"User","site_admin":false},"created_at":"2018-03-17T01:06:28Z","updated_at":"2018-03-17T01:06:28Z","author_association":"CONTRIBUTOR","body":"At a minimum, we should add an example of multi-level nested queries to https://www.elastic.co/guide/en/elasticsearch/reference/6.2/query-dsl-nested-query.html. A higher level discussion of using nested objects would also be helpful.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/476381648","html_url":"https://github.com/elastic/elasticsearch/issues/11830#issuecomment-476381648","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11830","id":476381648,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NjM4MTY0OA==","user":{"login":"kat257","id":18668178,"node_id":"MDQ6VXNlcjE4NjY4MTc4","avatar_url":"https://avatars3.githubusercontent.com/u/18668178?v=4","gravatar_id":"","url":"https://api.github.com/users/kat257","html_url":"https://github.com/kat257","followers_url":"https://api.github.com/users/kat257/followers","following_url":"https://api.github.com/users/kat257/following{/other_user}","gists_url":"https://api.github.com/users/kat257/gists{/gist_id}","starred_url":"https://api.github.com/users/kat257/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kat257/subscriptions","organizations_url":"https://api.github.com/users/kat257/orgs","repos_url":"https://api.github.com/users/kat257/repos","events_url":"https://api.github.com/users/kat257/events{/privacy}","received_events_url":"https://api.github.com/users/kat257/received_events","type":"User","site_admin":false},"created_at":"2019-03-25T21:19:23Z","updated_at":"2019-03-25T21:19:23Z","author_association":"CONTRIBUTOR","body":"Working on adding example. I do notice that Issue #9255, Add nested path validation, indicates that it would close this issue, but I think the need for an example is still valid. \r\n","performed_via_github_app":null}]