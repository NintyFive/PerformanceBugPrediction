{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/11081","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11081/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11081/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11081/events","html_url":"https://github.com/elastic/elasticsearch/issues/11081","id":74932745,"node_id":"MDU6SXNzdWU3NDkzMjc0NQ==","number":11081,"title":"Allow remove settings with PUT /index/_settings command","user":{"login":"comdiv","id":2387862,"node_id":"MDQ6VXNlcjIzODc4NjI=","avatar_url":"https://avatars2.githubusercontent.com/u/2387862?v=4","gravatar_id":"","url":"https://api.github.com/users/comdiv","html_url":"https://github.com/comdiv","followers_url":"https://api.github.com/users/comdiv/followers","following_url":"https://api.github.com/users/comdiv/following{/other_user}","gists_url":"https://api.github.com/users/comdiv/gists{/gist_id}","starred_url":"https://api.github.com/users/comdiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comdiv/subscriptions","organizations_url":"https://api.github.com/users/comdiv/orgs","repos_url":"https://api.github.com/users/comdiv/repos","events_url":"https://api.github.com/users/comdiv/events{/privacy}","received_events_url":"https://api.github.com/users/comdiv/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-05-10T14:41:21Z","updated_at":"2015-05-15T20:05:35Z","closed_at":"2015-05-15T14:50:02Z","author_association":"NONE","active_lock_reason":null,"body":"It's very usefull because in development cycle we usually have index with data and experiment with analzer config on it. So we usually want to remove some filters, parameters and so on from settings.\nAnd in current implementation we cannot. \n\nIn my fork i have fix it and will send cherry-picked branch to pull request.\n\nOur solution is to add spectial keyword `\"__REMOVE__\"` for this special case.\n\nUsage.\nPOST /myindex/_close\nPUT /myindex/_settings \n\n``` javascript\n{\n     \"settings\" : {\n           \"analysis\": {\n                 \"filter\" : {\n                      \"very_deprecated_filter\" : \"__REMOVE__\"\n                 }\n           }\n     }\n}\n```\n\nIt  must completly remove \"index.analysis.filter.very_deprecated_filter\" and it's descendants for example \"index.analysis.filter.very_deprecated_filter.type\" from settings.\n\nWe choose from variants : \n1. `\"some\" : null`               -- not good it may be treated as existed setting with null value\n2. `\"some\" : false`             -- not good for same reasones\n3. `\"some\" : { \"remove\" : true}` -- more complex to handle and to read/write and can cause conflicts\n4. `\"some\" : { \"__remove__\" : true }` --less conflictable but still unreadable\n5. `\"some\" : \"__REMOVE__\"`  -- has some chance to conflict but not great, simple to read/write\n\nSO `\"some\" :\"__REMOVE__\"` syntax is our team choise.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}