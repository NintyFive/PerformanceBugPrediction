{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1186","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1186/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1186/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1186/events","html_url":"https://github.com/elastic/elasticsearch/issues/1186","id":1312856,"node_id":"MDU6SXNzdWUxMzEyODU2","number":1186,"title":"Query DSL: Allow to control how all multi term queries are rewritten","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"labels":[{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":130847,"node_id":"MDU6TGFiZWwxMzA4NDc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.17.3","name":"v0.17.3","color":"DDDDDD","default":false,"description":null},{"id":127902,"node_id":"MDU6TGFiZWwxMjc5MDI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.18.0","name":"v0.18.0","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2011-07-29T21:36:12Z","updated_at":"2014-02-09T12:25:03Z","closed_at":"2011-07-29T21:36:56Z","author_association":"MEMBER","active_lock_reason":null,"body":"Allow to control how multi term queries rewrite, all relevant queries (`wildcard`, `prefix`), and query parsers (`query_string` and `field`, when using wildcard characters) support a new parameter called `rewrite`, with the following values:\n- When not set, or set to `constant_score_default`, defaults to automatically choosing either `constant_score_boolean` or `constant_score_filter` based on query characteristics.\n- `scoring_boolean`: A rewrite method that first translates each term into a should clause in a boolean query, and keeps the scores as computed by the query.  Note that typically such scores are meaningless to the user, and require non-trivial CPU to compute, so it's almost always better to use `constant_score_default`. This rewrite method will hit too many clauses failure if it exceeds the boolean query limit (defaults to 1024).\n- `constant_score_boolean`: Similar to `scoring_boolean` except scores are not computed.  Instead, each matching document receives a constant score equal to the query's boost. This rewrite method will hit too many clauses failure if it exceeds the boolean query limit (defaults to 1024).\n- `constant_score_filter`: A rewrite method that first creates a private Filter by visiting each term in sequence and marking all docs for that term.  Matching documents are assigned a constant score equal to the query's boost.\n- `top_terms_N`: A rewrite method that first translates each term into should clause in boolean query, and keeps the scores as computed by the query. This rewrite method only uses the top scoring terms so it will not overflow boolean max clause count. The `N` controls the size of the top scoring terms to use.\n- `top_terms_boost_N`: A rewrite method that first translates each term into should clause in boolean query, but the scores are only computed as the boost. This rewrite method only uses the top scoring terms so it will not overflow the boolean max clause count. The `N` controls the size of the top scoring terms to use.\n","closed_by":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"performed_via_github_app":null}