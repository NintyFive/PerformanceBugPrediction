[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/106112710","html_url":"https://github.com/elastic/elasticsearch/issues/11362#issuecomment-106112710","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11362","id":106112710,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjExMjcxMA==","user":{"login":"jtharpla","id":2267289,"node_id":"MDQ6VXNlcjIyNjcyODk=","avatar_url":"https://avatars1.githubusercontent.com/u/2267289?v=4","gravatar_id":"","url":"https://api.github.com/users/jtharpla","html_url":"https://github.com/jtharpla","followers_url":"https://api.github.com/users/jtharpla/followers","following_url":"https://api.github.com/users/jtharpla/following{/other_user}","gists_url":"https://api.github.com/users/jtharpla/gists{/gist_id}","starred_url":"https://api.github.com/users/jtharpla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtharpla/subscriptions","organizations_url":"https://api.github.com/users/jtharpla/orgs","repos_url":"https://api.github.com/users/jtharpla/repos","events_url":"https://api.github.com/users/jtharpla/events{/privacy}","received_events_url":"https://api.github.com/users/jtharpla/received_events","type":"User","site_admin":false},"created_at":"2015-05-27T23:49:25Z","updated_at":"2015-05-27T23:49:25Z","author_association":"NONE","body":"This would be a big help for using configuration management with multiple plugins\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/106203256","html_url":"https://github.com/elastic/elasticsearch/issues/11362#issuecomment-106203256","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11362","id":106203256,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjIwMzI1Ng==","user":{"login":"Grummfy","id":668804,"node_id":"MDQ6VXNlcjY2ODgwNA==","avatar_url":"https://avatars0.githubusercontent.com/u/668804?v=4","gravatar_id":"","url":"https://api.github.com/users/Grummfy","html_url":"https://github.com/Grummfy","followers_url":"https://api.github.com/users/Grummfy/followers","following_url":"https://api.github.com/users/Grummfy/following{/other_user}","gists_url":"https://api.github.com/users/Grummfy/gists{/gist_id}","starred_url":"https://api.github.com/users/Grummfy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Grummfy/subscriptions","organizations_url":"https://api.github.com/users/Grummfy/orgs","repos_url":"https://api.github.com/users/Grummfy/repos","events_url":"https://api.github.com/users/Grummfy/events{/privacy}","received_events_url":"https://api.github.com/users/Grummfy/received_events","type":"User","site_admin":false},"created_at":"2015-05-28T07:07:24Z","updated_at":"2015-05-28T07:07:24Z","author_association":"NONE","body":"Yes or if you have some small configuration file this allows you to assemble them for each server. Since apache do that, there is less conflict in upgrade but also easier maintenance (and this applies to every package that are cut in short part). \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/106757471","html_url":"https://github.com/elastic/elasticsearch/issues/11362#issuecomment-106757471","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11362","id":106757471,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjc1NzQ3MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-05-29T09:30:02Z","updated_at":"2015-05-29T09:30:02Z","author_association":"CONTRIBUTOR","body":"I think we should do this.  The syntax needs to be YAML compatible, so I'd suggest something like this:\n\nInclude `config/my_conf.yaml`:\n\n```\ninclude: my_conf.yaml\n```\n\nInclude `config/my_conf_1.yaml` and `config/my_conf_2.yaml`\n\n```\ninclude: [ my_conf_1.yaml, my_conf_2.yaml ]\n```\n\nAbsolute paths can be specified as well\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/106758243","html_url":"https://github.com/elastic/elasticsearch/issues/11362#issuecomment-106758243","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11362","id":106758243,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjc1ODI0Mw==","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2015-05-29T09:33:38Z","updated_at":"2015-05-29T09:33:38Z","author_association":"CONTRIBUTOR","body":"Why do we need it? Configuration is already crazy-overengineered today. Do we need to be able to re-read all these include'd configuration files at a later time after bootstrap ever (this is the case for the linked logging PR at the least)\n\nIf anything, I think we should simplify this stuff, to have even less features than it has today, and be simpler.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/106758761","html_url":"https://github.com/elastic/elasticsearch/issues/11362#issuecomment-106758761","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11362","id":106758761,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjc1ODc2MQ==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2015-05-29T09:36:44Z","updated_at":"2015-05-29T09:36:44Z","author_association":"MEMBER","body":"@rmuir I'm not sure if it's really needed but one of the use case I can think about is when it comes to S3 credentials. May be extracting this part from `elasticsearch.yml` and have different settings for DEV, QA, PROD might make sense? \n\nNot a big deal to manage though.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/106759129","html_url":"https://github.com/elastic/elasticsearch/issues/11362#issuecomment-106759129","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11362","id":106759129,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjc1OTEyOQ==","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2015-05-29T09:39:20Z","updated_at":"2015-05-29T09:39:39Z","author_association":"CONTRIBUTOR","body":"Rather than add a lot of complicated functionality, or hear about specific implementations, i would rather hear about what the actual missing use cases are, and we can think about what the best idea is.\n\nAnd ideally whatever PR is doing that is removing more lines of code than it is adding, or it is suspect!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/106781289","html_url":"https://github.com/elastic/elasticsearch/issues/11362#issuecomment-106781289","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11362","id":106781289,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjc4MTI4OQ==","user":{"login":"Grummfy","id":668804,"node_id":"MDQ6VXNlcjY2ODgwNA==","avatar_url":"https://avatars0.githubusercontent.com/u/668804?v=4","gravatar_id":"","url":"https://api.github.com/users/Grummfy","html_url":"https://github.com/Grummfy","followers_url":"https://api.github.com/users/Grummfy/followers","following_url":"https://api.github.com/users/Grummfy/following{/other_user}","gists_url":"https://api.github.com/users/Grummfy/gists{/gist_id}","starred_url":"https://api.github.com/users/Grummfy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Grummfy/subscriptions","organizations_url":"https://api.github.com/users/Grummfy/orgs","repos_url":"https://api.github.com/users/Grummfy/repos","events_url":"https://api.github.com/users/Grummfy/events{/privacy}","received_events_url":"https://api.github.com/users/Grummfy/received_events","type":"User","site_admin":false},"created_at":"2015-05-29T11:46:41Z","updated_at":"2015-05-29T11:46:41Z","author_association":"NONE","body":"In my idea is more adding something similar to what exist in other known and successful product by adding an include dir so you can have \n/etc/elasticsearch/main_config_file.yml (or the name you want)\n/etc/elasticsearch/conf.d/someotherconfig.yml\n/etc/elasticsearch/conf.d/an-extra-config.yml\n\nthe *.yml  in conf.d will be loaded after the main_config_file (that have a key like config_dir : [ conf.d/, ... ]\n\nThe idea is not to add complexity but to reflect what other product have added that permit a lot of more flexibility. When you need to deal with an nginx server nobody want a simple file with all the configuration. Why we should have the same on elastic? What's the problem with subfile : it's not a so big deal to load and it's a lot easier to maintain.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/106782992","html_url":"https://github.com/elastic/elasticsearch/issues/11362#issuecomment-106782992","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11362","id":106782992,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjc4Mjk5Mg==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2015-05-29T11:59:27Z","updated_at":"2015-05-29T11:59:27Z","author_association":"MEMBER","body":"I think that there is not so much thing to configure in Elasticsearch as you are often configure things using API.\n\nMy 2 cents on this.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/115596352","html_url":"https://github.com/elastic/elasticsearch/issues/11362#issuecomment-115596352","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11362","id":115596352,"node_id":"MDEyOklzc3VlQ29tbWVudDExNTU5NjM1Mg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-06-26T09:15:24Z","updated_at":"2015-06-26T09:15:24Z","author_association":"CONTRIBUTOR","body":"We've had a long discussion about this in our FixItFriday session.  Our feeling is that we're trying to remove complication from the code base.  Having one way to do things just makes it simpler to understand and debug.  So for now, we're going to close this PR.  We may revisit this in the future if there is popular demand and the change makes life easier for the majority of users.\n\nthanks anyway\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/224961709","html_url":"https://github.com/elastic/elasticsearch/issues/11362#issuecomment-224961709","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11362","id":224961709,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDk2MTcwOQ==","user":{"login":"serac","id":111432,"node_id":"MDQ6VXNlcjExMTQzMg==","avatar_url":"https://avatars1.githubusercontent.com/u/111432?v=4","gravatar_id":"","url":"https://api.github.com/users/serac","html_url":"https://github.com/serac","followers_url":"https://api.github.com/users/serac/followers","following_url":"https://api.github.com/users/serac/following{/other_user}","gists_url":"https://api.github.com/users/serac/gists{/gist_id}","starred_url":"https://api.github.com/users/serac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serac/subscriptions","organizations_url":"https://api.github.com/users/serac/orgs","repos_url":"https://api.github.com/users/serac/repos","events_url":"https://api.github.com/users/serac/events{/privacy}","received_events_url":"https://api.github.com/users/serac/received_events","type":"User","site_admin":false},"created_at":"2016-06-09T17:08:02Z","updated_at":"2016-06-09T17:09:06Z","author_association":"NONE","body":"@rmuir, here's a use case: Shield credentials. Our LDAP directory requires a bind_password and I don't want it sitting in cleartext in our configuration-controlled elasticsearch.yml file. I would like to include a file that contains credentials exclusively that is either:\n1. External to our configuration management\n2. Encrypted (e.g. ansible vault) and configuration controlled\n\nSome things that could work but are not ideal:\n1. Encrypting elasticsearch.yml makes it harder to manage everything else in the file.\n2. Injecting credentials via -Des.shield.authc.realms.ldap1.bind_password is not ideal since it leaks the password in ps output.\n\nExternalizing credentials in a separate file is the best solution.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372755761","html_url":"https://github.com/elastic/elasticsearch/issues/11362#issuecomment-372755761","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11362","id":372755761,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mjc1NTc2MQ==","user":{"login":"jcape","id":35878,"node_id":"MDQ6VXNlcjM1ODc4","avatar_url":"https://avatars1.githubusercontent.com/u/35878?v=4","gravatar_id":"","url":"https://api.github.com/users/jcape","html_url":"https://github.com/jcape","followers_url":"https://api.github.com/users/jcape/followers","following_url":"https://api.github.com/users/jcape/following{/other_user}","gists_url":"https://api.github.com/users/jcape/gists{/gist_id}","starred_url":"https://api.github.com/users/jcape/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcape/subscriptions","organizations_url":"https://api.github.com/users/jcape/orgs","repos_url":"https://api.github.com/users/jcape/repos","events_url":"https://api.github.com/users/jcape/events{/privacy}","received_events_url":"https://api.github.com/users/jcape/received_events","type":"User","site_admin":false},"created_at":"2018-03-13T17:44:40Z","updated_at":"2018-03-13T17:45:29Z","author_association":"NONE","body":"Sorry to come into this years later, but another use case for this is ansibilized first-time setup with x-pack user authentication.\r\n\r\nThe docs for doing X-Pack for user authentication say to do this:\r\n\r\n 1. Install X-Pack\r\n 2. Set the elastic password to something other than \"changeme\"\r\n 3. \"Set xpack.security.authc.accept_default_password to false.\"\r\n\r\nThe \"usual\" way to do this with a config management tool is:\r\n\r\n 1. Write the common elasticsearch.yml configuration\r\n 1. Start elasticsearch\r\n 1. If the include file doesn't exist, run a script which\r\n    1. Sets the user creds\r\n    1. Updates the included file to disable default creds\r\n 1. Restart elasticsearch via the cm tool's notify mechanism.\r\n\r\nIn this case, the script bits (calling curl to set user creds, creating the \"disable default creds\" config snippet), and the notification to restart es are all orchestrated via the tool.\r\n\r\nIncluded files are the easy way to support configurations where some are created via config-management template, some are created by scripts, and an external tool is making decisions about what to do when.\r\n\r\nDoing all this in a single pass with ansible (or puppet) is difficult without either allowing optional configuration overlays or simply abandoning the tool and writing a shell script to walk through the setup.","performed_via_github_app":null}]