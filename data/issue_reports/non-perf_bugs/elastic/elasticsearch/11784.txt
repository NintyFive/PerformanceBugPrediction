{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/11784","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11784/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11784/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11784/events","html_url":"https://github.com/elastic/elasticsearch/issues/11784","id":89661320,"node_id":"MDU6SXNzdWU4OTY2MTMyMA==","number":11784,"title":"PAMI Disconnectâ€","user":{"login":"qasimkhans","id":7965182,"node_id":"MDQ6VXNlcjc5NjUxODI=","avatar_url":"https://avatars1.githubusercontent.com/u/7965182?v=4","gravatar_id":"","url":"https://api.github.com/users/qasimkhans","html_url":"https://github.com/qasimkhans","followers_url":"https://api.github.com/users/qasimkhans/followers","following_url":"https://api.github.com/users/qasimkhans/following{/other_user}","gists_url":"https://api.github.com/users/qasimkhans/gists{/gist_id}","starred_url":"https://api.github.com/users/qasimkhans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qasimkhans/subscriptions","organizations_url":"https://api.github.com/users/qasimkhans/orgs","repos_url":"https://api.github.com/users/qasimkhans/repos","events_url":"https://api.github.com/users/qasimkhans/events{/privacy}","received_events_url":"https://api.github.com/users/qasimkhans/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-06-19T21:07:18Z","updated_at":"2015-06-23T17:01:38Z","closed_at":"2015-06-23T17:01:38Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\n       I am using PAMI to get Asterisk Manager Events. please see my code below. I wanted to get $event->getDialStatus() = 'ANSWER' of Dial  Event and as i get result disconnect the Asterisk Manager and read the remaining code. Thanks.\n\n<?php \nuse PAMI\\Client\\Impl\\ClientImpl as PamiClient;\n\nrequire_once 'PAMI/Autoloader/Autoloader.php';\nPAMI\\Autoloader\\Autoloader::register();\n\n$pamiClientOptions = array(\n    'host' => '127.0.0.1',\n    'scheme' => 'tcp://',\n    'port' => 5038,\n    'username' => 'ncs',\n    'secret' => 'ncs',\n    'connect_timeout' => 10000,\n    'read_timeout' => 10000\n);\n\n$pamiClient = new PamiClient($pamiClientOptions);\n\n// Open the connection\n$pamiClient->open();\n\nuse PAMI\\Message\\Event\\EventMessage;\nuse PAMI\\Message\\Event\\DialEvent;\n\n$pamiClient->registerEventListener(function (EventMessage $event) {\n    print_r($event);\n},\n        function ($event) {\n\n```\n    $re = $event instanceof DialEvent && $event->getDialStatus() = 'ANSWER';\n```\n\nif ($re){\necho \"Found Event\\n\";\n}\n  }\n);\n\n$running = true;\n\nwhile($running) {\n    $pamiClient->process();\n    usleep(1000);\n}\n\n// Close the connection\n# $pamiClient->close();\n\necho \"Code Ended>>>>>>>>>>>>>>>>>>> Read This Line\\n\";\n?>       \n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}