[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/105851994","html_url":"https://github.com/elastic/elasticsearch/issues/11357#issuecomment-105851994","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11357","id":105851994,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNTg1MTk5NA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-05-27T10:08:14Z","updated_at":"2015-05-27T10:08:14Z","author_association":"CONTRIBUTOR","body":"Hi @spajak \n\nThe `query_string` and `simple_query_string` queries have support for wildcards, and the `wildcard` `prefix`, and `regexp` term-level queries allow for wildcards or pattern matching.  However, using wildcards at query time is not best practice.  These can produce very heavy queries indeed.  A better performing solution is to use ngrams or edge ngrams at index time.  \n\nFor this reason, we prefer not to make wildcards a \"first-class\" citizen in the `match` family. (The `match_phrase_prefix` is also a heavy query, combining phrase and wildcards, but it was added early on before we had functionality like the completion suggester).\n\nI recommend reading about Partial Matching in the Definitive Guide for an explanation of the available options: https://www.elastic.co/guide/en/elasticsearch/guide/current/partial-matching.html\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/105856769","html_url":"https://github.com/elastic/elasticsearch/issues/11357#issuecomment-105856769","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11357","id":105856769,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNTg1Njc2OQ==","user":{"login":"spajak","id":2893066,"node_id":"MDQ6VXNlcjI4OTMwNjY=","avatar_url":"https://avatars3.githubusercontent.com/u/2893066?v=4","gravatar_id":"","url":"https://api.github.com/users/spajak","html_url":"https://github.com/spajak","followers_url":"https://api.github.com/users/spajak/followers","following_url":"https://api.github.com/users/spajak/following{/other_user}","gists_url":"https://api.github.com/users/spajak/gists{/gist_id}","starred_url":"https://api.github.com/users/spajak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spajak/subscriptions","organizations_url":"https://api.github.com/users/spajak/orgs","repos_url":"https://api.github.com/users/spajak/repos","events_url":"https://api.github.com/users/spajak/events{/privacy}","received_events_url":"https://api.github.com/users/spajak/received_events","type":"User","site_admin":false},"created_at":"2015-05-27T10:30:29Z","updated_at":"2015-05-27T10:30:29Z","author_association":"NONE","body":"Hi @clintongormley \n\nThank You for the answer. ngrams is not an option for my data, as its mix of numbers, (money) nominals, codes, names, short descriptions. And the results must be very accurate. In a better world it should be separated into individual fields.\nWith the help of analyze api, I've constructed what I need using `term` and `prefix` queries. Its complicated, but gives me what I need.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/105860413","html_url":"https://github.com/elastic/elasticsearch/issues/11357#issuecomment-105860413","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11357","id":105860413,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNTg2MDQxMw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-05-27T10:35:44Z","updated_at":"2015-05-27T10:35:44Z","author_association":"CONTRIBUTOR","body":"@spajak if you're using prefix queries, then edge-ngrams may be the right solution for you\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/105867790","html_url":"https://github.com/elastic/elasticsearch/issues/11357#issuecomment-105867790","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11357","id":105867790,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNTg2Nzc5MA==","user":{"login":"spajak","id":2893066,"node_id":"MDQ6VXNlcjI4OTMwNjY=","avatar_url":"https://avatars3.githubusercontent.com/u/2893066?v=4","gravatar_id":"","url":"https://api.github.com/users/spajak","html_url":"https://github.com/spajak","followers_url":"https://api.github.com/users/spajak/followers","following_url":"https://api.github.com/users/spajak/following{/other_user}","gists_url":"https://api.github.com/users/spajak/gists{/gist_id}","starred_url":"https://api.github.com/users/spajak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spajak/subscriptions","organizations_url":"https://api.github.com/users/spajak/orgs","repos_url":"https://api.github.com/users/spajak/repos","events_url":"https://api.github.com/users/spajak/events{/privacy}","received_events_url":"https://api.github.com/users/spajak/received_events","type":"User","site_admin":false},"created_at":"2015-05-27T10:56:01Z","updated_at":"2015-05-27T10:59:00Z","author_association":"NONE","body":"@clintongormley ngrams would give me a lot of false positives. \n\nI've decided to use `*` for explicit prefix search. \nSo for example I have a query like `50 z≈Ç ande*`. `ande*` is extracted and passed to `prefix` query without `*`. The rest of the string is passed to the analyzer. Analyzed tokens are then used to feed the `term` queries. All queries are then merged with `bool: must`.\n\nIf `match` query supports wildcards, that would be perfect solution for me.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/105873241","html_url":"https://github.com/elastic/elasticsearch/issues/11357#issuecomment-105873241","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11357","id":105873241,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNTg3MzI0MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-05-27T11:10:26Z","updated_at":"2015-05-27T11:10:26Z","author_association":"CONTRIBUTOR","body":"@spajak i refer to EDGE-ngrams, not ngrams.  So instead of using the prefix query you could use the match query on a field indexed as edge-ngrams, ie `a`, `an`, `and`, `ande`,...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/105875775","html_url":"https://github.com/elastic/elasticsearch/issues/11357#issuecomment-105875775","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11357","id":105875775,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNTg3NTc3NQ==","user":{"login":"spajak","id":2893066,"node_id":"MDQ6VXNlcjI4OTMwNjY=","avatar_url":"https://avatars3.githubusercontent.com/u/2893066?v=4","gravatar_id":"","url":"https://api.github.com/users/spajak","html_url":"https://github.com/spajak","followers_url":"https://api.github.com/users/spajak/followers","following_url":"https://api.github.com/users/spajak/following{/other_user}","gists_url":"https://api.github.com/users/spajak/gists{/gist_id}","starred_url":"https://api.github.com/users/spajak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spajak/subscriptions","organizations_url":"https://api.github.com/users/spajak/orgs","repos_url":"https://api.github.com/users/spajak/repos","events_url":"https://api.github.com/users/spajak/events{/privacy}","received_events_url":"https://api.github.com/users/spajak/received_events","type":"User","site_admin":false},"created_at":"2015-05-27T11:25:05Z","updated_at":"2015-05-27T11:25:05Z","author_association":"NONE","body":"@clintongormley I will give it a try. Thank You for help\n","performed_via_github_app":null}]