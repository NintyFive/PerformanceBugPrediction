{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/11467","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11467/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11467/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11467/events","html_url":"https://github.com/elastic/elasticsearch/issues/11467","id":84475367,"node_id":"MDU6SXNzdWU4NDQ3NTM2Nw==","number":11467,"title":"TransportClient issues with nested calls","user":{"login":"frstie","id":275248,"node_id":"MDQ6VXNlcjI3NTI0OA==","avatar_url":"https://avatars1.githubusercontent.com/u/275248?v=4","gravatar_id":"","url":"https://api.github.com/users/frstie","html_url":"https://github.com/frstie","followers_url":"https://api.github.com/users/frstie/followers","following_url":"https://api.github.com/users/frstie/following{/other_user}","gists_url":"https://api.github.com/users/frstie/gists{/gist_id}","starred_url":"https://api.github.com/users/frstie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frstie/subscriptions","organizations_url":"https://api.github.com/users/frstie/orgs","repos_url":"https://api.github.com/users/frstie/repos","events_url":"https://api.github.com/users/frstie/events{/privacy}","received_events_url":"https://api.github.com/users/frstie/received_events","type":"User","site_admin":false},"labels":[{"id":146854632,"node_id":"MDU6TGFiZWwxNDY4NTQ2MzI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Network","name":":Distributed/Network","color":"0e8a16","default":false,"description":"Http and internode communication implementations"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2015-06-03T10:06:03Z","updated_at":"2015-06-04T12:24:03Z","closed_at":"2015-06-04T12:24:02Z","author_association":"NONE","active_lock_reason":null,"body":"This is a similar issue to #10766 but we've attached a test case that demonstrates it happening.\n\nIn our case we are running a search in ES and then caching the results of the search back into ES. As in the referenced case we are indexing the cached result in the ActionListener for the search results.\n\nWe've put together a very simple test case to replicate this. It's fine for a single run, but increasing the number of runs results in problems.\n\nUnder ES 1.4.5 with 10 parallel runs it seems to just hang altogether in most cases. Under ES 1.5.2 the test completes in about 40 secs but we have one or more \"transport stopped\" exceptions being thrown in the failure handler. In each case ES is running as a vanilla install on the same machine as the tests are running.\n\nhttps://gist.github.com/frstie/75c04d85d93fff8a0738\n\nWe're not sure whether these results are expected - would be great to hear any suggestions or feedback!\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}