[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/100983305","html_url":"https://github.com/elastic/elasticsearch/issues/11096#issuecomment-100983305","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11096","id":100983305,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMDk4MzMwNQ==","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2015-05-11T17:20:36Z","updated_at":"2015-05-11T17:20:36Z","author_association":"CONTRIBUTOR","body":"Should we really assert this? Before adding the windows impl, we only checked that it was FALSE on unsupported platforms. Otherwise all build infrastructure and developers machines would need to be configured correctly, so that mlockall works.\n\nif we REALLY REALLY want to check that mlockall succeeded, I think we need to do a lot more. At the least, we need assume(tests.maven) because people aren't going to configure their IDEs correctly. Sigar tests currently use this for example, because IDEs generally will not have the right configuration. We could also add a tests.mlockall sysprop, that controls the boolean we pass to SecurityBootstrap (https://github.com/elastic/elasticsearch/blob/master/src/test/java/org/elasticsearch/test/SecurityBootstrap.java#L47). \n\nIt could default to false (so developers machines don't test it), and we could set it to true for jenkins jobs where we know it should be working. Even in that properly configured case I'm suspicious, because the machine could just be busy and not have enough memory available. \n\nSo I'm worried that asserting mlockall success will only cause annoying test failures.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/100999937","html_url":"https://github.com/elastic/elasticsearch/issues/11096#issuecomment-100999937","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11096","id":100999937,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMDk5OTkzNw==","user":{"login":"gmarz","id":1594777,"node_id":"MDQ6VXNlcjE1OTQ3Nzc=","avatar_url":"https://avatars0.githubusercontent.com/u/1594777?v=4","gravatar_id":"","url":"https://api.github.com/users/gmarz","html_url":"https://github.com/gmarz","followers_url":"https://api.github.com/users/gmarz/followers","following_url":"https://api.github.com/users/gmarz/following{/other_user}","gists_url":"https://api.github.com/users/gmarz/gists{/gist_id}","starred_url":"https://api.github.com/users/gmarz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmarz/subscriptions","organizations_url":"https://api.github.com/users/gmarz/orgs","repos_url":"https://api.github.com/users/gmarz/repos","events_url":"https://api.github.com/users/gmarz/events{/privacy}","received_events_url":"https://api.github.com/users/gmarz/received_events","type":"User","site_admin":false},"created_at":"2015-05-11T18:01:08Z","updated_at":"2015-05-11T18:01:08Z","author_association":"MEMBER","body":"I've gone ahead and removed the assert.  Let's maybe keep this issue open until we have the above setup in place to test it properly?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/172778291","html_url":"https://github.com/elastic/elasticsearch/issues/11096#issuecomment-172778291","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11096","id":172778291,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mjc3ODI5MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-01-19T08:49:51Z","updated_at":"2016-01-19T08:49:51Z","author_association":"CONTRIBUTOR","body":"@rmuir 8 months later, do you think we still need to do anything here, or can I close the issue?\n","performed_via_github_app":null}]