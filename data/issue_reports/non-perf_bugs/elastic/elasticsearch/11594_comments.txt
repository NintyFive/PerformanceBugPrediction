[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/111030053","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-111030053","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":111030053,"node_id":"MDEyOklzc3VlQ29tbWVudDExMTAzMDA1Mw==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2015-06-11T07:35:58Z","updated_at":"2015-06-11T07:35:58Z","author_association":"MEMBER","body":"@konstantinkostin28 thanks for your reporting and you're right, the PID_DIR should be created before `touch` the file.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/111083326","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-111083326","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":111083326,"node_id":"MDEyOklzc3VlQ29tbWVudDExMTA4MzMyNg==","user":{"login":"GlenRSmith","id":1327920,"node_id":"MDQ6VXNlcjEzMjc5MjA=","avatar_url":"https://avatars3.githubusercontent.com/u/1327920?v=4","gravatar_id":"","url":"https://api.github.com/users/GlenRSmith","html_url":"https://github.com/GlenRSmith","followers_url":"https://api.github.com/users/GlenRSmith/followers","following_url":"https://api.github.com/users/GlenRSmith/following{/other_user}","gists_url":"https://api.github.com/users/GlenRSmith/gists{/gist_id}","starred_url":"https://api.github.com/users/GlenRSmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GlenRSmith/subscriptions","organizations_url":"https://api.github.com/users/GlenRSmith/orgs","repos_url":"https://api.github.com/users/GlenRSmith/repos","events_url":"https://api.github.com/users/GlenRSmith/events{/privacy}","received_events_url":"https://api.github.com/users/GlenRSmith/received_events","type":"User","site_admin":false},"created_at":"2015-06-11T10:48:45Z","updated_at":"2015-06-11T10:48:45Z","author_association":"CONTRIBUTOR","body":"I get the same behavior on an Ubuntu 14.04 VM. Was fine on v1.5.2, broken on 1.6.0.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/111115792","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-111115792","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":111115792,"node_id":"MDEyOklzc3VlQ29tbWVudDExMTExNTc5Mg==","user":{"login":"yett","id":7145596,"node_id":"MDQ6VXNlcjcxNDU1OTY=","avatar_url":"https://avatars1.githubusercontent.com/u/7145596?v=4","gravatar_id":"","url":"https://api.github.com/users/yett","html_url":"https://github.com/yett","followers_url":"https://api.github.com/users/yett/followers","following_url":"https://api.github.com/users/yett/following{/other_user}","gists_url":"https://api.github.com/users/yett/gists{/gist_id}","starred_url":"https://api.github.com/users/yett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yett/subscriptions","organizations_url":"https://api.github.com/users/yett/orgs","repos_url":"https://api.github.com/users/yett/repos","events_url":"https://api.github.com/users/yett/events{/privacy}","received_events_url":"https://api.github.com/users/yett/received_events","type":"User","site_admin":false},"created_at":"2015-06-11T12:30:04Z","updated_at":"2015-06-11T12:30:04Z","author_association":"NONE","body":"@tlrx , \n1. Should I change the PID_DIR value to `/var/run/' or \n2. Change  script to create \"$PID_DIR\" before touch as following?\n\n```\n154   mkdir -p \"$LOG_DIR\" \"$DATA_DIR\" \"$WORK_DIR\" \"$PID_DIR\" && chown \"$ES_USER\":\"$ES_GROUP\" \"$LOG_DIR\" \"$DATA_DIR\" \"$WORK_DIR\" \"$PID_DIR\"\n155   touch \"$PID_FILE\" && chown \"$ES_USER\":\"$ES_GROUP\" \"$PID_FILE\"\n\n```\n\nI did the approach 2, and it works. I am just curious about the proper way. Thanks! \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/111117369","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-111117369","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":111117369,"node_id":"MDEyOklzc3VlQ29tbWVudDExMTExNzM2OQ==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2015-06-11T12:36:10Z","updated_at":"2015-06-11T12:36:10Z","author_association":"MEMBER","body":"@yett My personal preference goes to `/var/run/elasticsearch/elasticsearch.pid` (approach 2). The thing is to have a consistent, secured way to read/write this file.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/111142430","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-111142430","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":111142430,"node_id":"MDEyOklzc3VlQ29tbWVudDExMTE0MjQzMA==","user":{"login":"yett","id":7145596,"node_id":"MDQ6VXNlcjcxNDU1OTY=","avatar_url":"https://avatars1.githubusercontent.com/u/7145596?v=4","gravatar_id":"","url":"https://api.github.com/users/yett","html_url":"https://github.com/yett","followers_url":"https://api.github.com/users/yett/followers","following_url":"https://api.github.com/users/yett/following{/other_user}","gists_url":"https://api.github.com/users/yett/gists{/gist_id}","starred_url":"https://api.github.com/users/yett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yett/subscriptions","organizations_url":"https://api.github.com/users/yett/orgs","repos_url":"https://api.github.com/users/yett/repos","events_url":"https://api.github.com/users/yett/events{/privacy}","received_events_url":"https://api.github.com/users/yett/received_events","type":"User","site_admin":false},"created_at":"2015-06-11T13:51:39Z","updated_at":"2015-06-11T13:51:39Z","author_association":"NONE","body":"Thanks for the tips. Cheers! \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/111253902","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-111253902","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":111253902,"node_id":"MDEyOklzc3VlQ29tbWVudDExMTI1MzkwMg==","user":{"login":"jerrac","id":910764,"node_id":"MDQ6VXNlcjkxMDc2NA==","avatar_url":"https://avatars1.githubusercontent.com/u/910764?v=4","gravatar_id":"","url":"https://api.github.com/users/jerrac","html_url":"https://github.com/jerrac","followers_url":"https://api.github.com/users/jerrac/followers","following_url":"https://api.github.com/users/jerrac/following{/other_user}","gists_url":"https://api.github.com/users/jerrac/gists{/gist_id}","starred_url":"https://api.github.com/users/jerrac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerrac/subscriptions","organizations_url":"https://api.github.com/users/jerrac/orgs","repos_url":"https://api.github.com/users/jerrac/repos","events_url":"https://api.github.com/users/jerrac/events{/privacy}","received_events_url":"https://api.github.com/users/jerrac/received_events","type":"User","site_admin":false},"created_at":"2015-06-11T19:30:29Z","updated_at":"2015-06-11T19:30:29Z","author_association":"NONE","body":"I just upgraded to 1.6 today and ran into this issue. Annoyingly, the /var/run/elasticsearch directory I created before upgrading to 1.6 (in an attempt to avoid this issue on other nodes...) went away after I rebooted (I had non-ES reasons to reboot). \n\nThis is on Ubuntu 12.04. I was going from 1.4.5 to 1.6, using the apt repo.\n\nIs there a reason apt doesn't deal with this for us?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/111531579","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-111531579","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":111531579,"node_id":"MDEyOklzc3VlQ29tbWVudDExMTUzMTU3OQ==","user":{"login":"GlenRSmith","id":1327920,"node_id":"MDQ6VXNlcjEzMjc5MjA=","avatar_url":"https://avatars3.githubusercontent.com/u/1327920?v=4","gravatar_id":"","url":"https://api.github.com/users/GlenRSmith","html_url":"https://github.com/GlenRSmith","followers_url":"https://api.github.com/users/GlenRSmith/followers","following_url":"https://api.github.com/users/GlenRSmith/following{/other_user}","gists_url":"https://api.github.com/users/GlenRSmith/gists{/gist_id}","starred_url":"https://api.github.com/users/GlenRSmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GlenRSmith/subscriptions","organizations_url":"https://api.github.com/users/GlenRSmith/orgs","repos_url":"https://api.github.com/users/GlenRSmith/repos","events_url":"https://api.github.com/users/GlenRSmith/events{/privacy}","received_events_url":"https://api.github.com/users/GlenRSmith/received_events","type":"User","site_admin":false},"created_at":"2015-06-12T15:42:32Z","updated_at":"2015-06-12T15:42:32Z","author_association":"CONTRIBUTOR","body":"On my Ubuntu 14.04 instance, there is, in fact a /usr/lib/tmpfiles.d/elasticsearch.conf:\nd    /var/run/elasticsearch   0755 root root - -\nThis doesn't seem to get handled. In fact, I have other tmpfile entries that don't seem to be processed.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/111706516","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-111706516","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":111706516,"node_id":"MDEyOklzc3VlQ29tbWVudDExMTcwNjUxNg==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2015-06-13T12:33:05Z","updated_at":"2015-06-13T12:33:05Z","author_association":"CONTRIBUTOR","body":"Same issue here. I fixed this by putting `PID_DIR=\"/var/run\"` into `/etc/default/elasticsearch`.\nIn my opinion, on Ubuntu/Debian all pid files are directly in this folder, so PID_DIR by default should just be `/var/run`\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/111709697","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-111709697","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":111709697,"node_id":"MDEyOklzc3VlQ29tbWVudDExMTcwOTY5Nw==","user":{"login":"DASAR","id":1354118,"node_id":"MDQ6VXNlcjEzNTQxMTg=","avatar_url":"https://avatars1.githubusercontent.com/u/1354118?v=4","gravatar_id":"","url":"https://api.github.com/users/DASAR","html_url":"https://github.com/DASAR","followers_url":"https://api.github.com/users/DASAR/followers","following_url":"https://api.github.com/users/DASAR/following{/other_user}","gists_url":"https://api.github.com/users/DASAR/gists{/gist_id}","starred_url":"https://api.github.com/users/DASAR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DASAR/subscriptions","organizations_url":"https://api.github.com/users/DASAR/orgs","repos_url":"https://api.github.com/users/DASAR/repos","events_url":"https://api.github.com/users/DASAR/events{/privacy}","received_events_url":"https://api.github.com/users/DASAR/received_events","type":"User","site_admin":false},"created_at":"2015-06-13T13:15:58Z","updated_at":"2015-06-13T13:15:58Z","author_association":"NONE","body":"Please fix this issue in official Elasticsearch repository (ppa) for Ubuntu. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/111815279","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-111815279","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":111815279,"node_id":"MDEyOklzc3VlQ29tbWVudDExMTgxNTI3OQ==","user":{"login":"GlenRSmith","id":1327920,"node_id":"MDQ6VXNlcjEzMjc5MjA=","avatar_url":"https://avatars3.githubusercontent.com/u/1327920?v=4","gravatar_id":"","url":"https://api.github.com/users/GlenRSmith","html_url":"https://github.com/GlenRSmith","followers_url":"https://api.github.com/users/GlenRSmith/followers","following_url":"https://api.github.com/users/GlenRSmith/following{/other_user}","gists_url":"https://api.github.com/users/GlenRSmith/gists{/gist_id}","starred_url":"https://api.github.com/users/GlenRSmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GlenRSmith/subscriptions","organizations_url":"https://api.github.com/users/GlenRSmith/orgs","repos_url":"https://api.github.com/users/GlenRSmith/repos","events_url":"https://api.github.com/users/GlenRSmith/events{/privacy}","received_events_url":"https://api.github.com/users/GlenRSmith/received_events","type":"User","site_admin":false},"created_at":"2015-06-14T11:40:05Z","updated_at":"2015-06-14T11:40:05Z","author_association":"CONTRIBUTOR","body":"@uschindler Can you elaborate on \"on Ubuntu/Debian all pid files are directly in this folder\"? On my Ubuntu 14.04 LTS install with only Elasticsearch as an additional install, I've got a number of services whose PID files are in their on subdirectories in /var/run (CUPS, for example).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/111879194","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-111879194","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":111879194,"node_id":"MDEyOklzc3VlQ29tbWVudDExMTg3OTE5NA==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2015-06-14T22:05:59Z","updated_at":"2015-06-14T22:05:59Z","author_association":"CONTRIBUTOR","body":"Daemons generally only create a sub-dir if they create more than just a PID as run file. But generally, the pid file should be placed in /var/run and have ending \".pid\".\n\nI have to first lookup the packaging rules in Debian, but there is something about that in it!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/112094433","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-112094433","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":112094433,"node_id":"MDEyOklzc3VlQ29tbWVudDExMjA5NDQzMw==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2015-06-15T14:45:45Z","updated_at":"2015-06-15T14:45:45Z","author_association":"MEMBER","body":"Sorry for the annoyance. I pushed a fix in #11674, it basically creates & chown the PID_DIR in init.d scripts and had been tested on Ubuntu 12.04, 14.04, Debian 7.8, CentOS6.6 and few others.\n\nThe Debian Guidelines are pretty open concerning PID files as long as it is stored in `/var/run` (source: https://www.debian.org/doc/packaging-manuals/fhs/fhs-2.3.txt): \n\n> Programs may have a subdirectory of /var/run; this is encouraged for programs that use more than\n> one run-time file. \n\nFor defaults, we'd like to keep the current `/var/run/elasticsearch` directory. It was already the case on RPM based distributions and keeping things consistent across platforms make scripts easier to maintain. It also helps when multiple instances runs on the same machine and make things simplier when the JVM Security Manager is enabled. Note that it can been overridden using the `PID_DIR` environment variable as @uschindler already mentioned. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/112108150","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-112108150","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":112108150,"node_id":"MDEyOklzc3VlQ29tbWVudDExMjEwODE1MA==","user":{"login":"arbourd","id":7211830,"node_id":"MDQ6VXNlcjcyMTE4MzA=","avatar_url":"https://avatars1.githubusercontent.com/u/7211830?v=4","gravatar_id":"","url":"https://api.github.com/users/arbourd","html_url":"https://github.com/arbourd","followers_url":"https://api.github.com/users/arbourd/followers","following_url":"https://api.github.com/users/arbourd/following{/other_user}","gists_url":"https://api.github.com/users/arbourd/gists{/gist_id}","starred_url":"https://api.github.com/users/arbourd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arbourd/subscriptions","organizations_url":"https://api.github.com/users/arbourd/orgs","repos_url":"https://api.github.com/users/arbourd/repos","events_url":"https://api.github.com/users/arbourd/events{/privacy}","received_events_url":"https://api.github.com/users/arbourd/received_events","type":"User","site_admin":false},"created_at":"2015-06-15T15:26:11Z","updated_at":"2015-06-15T15:26:11Z","author_association":"NONE","body":"@tlrx Thanks for your work on this. :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/112125181","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-112125181","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":112125181,"node_id":"MDEyOklzc3VlQ29tbWVudDExMjEyNTE4MQ==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2015-06-15T16:19:16Z","updated_at":"2015-06-15T16:19:52Z","author_association":"CONTRIBUTOR","body":"@tlrx Thanks. Patch looks good.\n\nIn any case the packaging manuals already say what I mentioned in my first post:\n\n> /var/run : Run-time variable data\n> \n> Purpose\n> \n> This directory contains system information data describing the system since it\n> was booted. Files under this directory must be cleared (removed or truncated as\n> appropriate) at the beginning of the boot process. Programs may have a\n> subdirectory of /var/run; this is encouraged for programs that use more than\n> one run-time file. [42] Process identifier (PID) files, which were originally\n> placed in /etc, must be placed in /var/run. The naming convention for PID files\n> is <program-name>.pid. For example, the crond PID file is named /var/run/\n> crond.pid.\n\nYour text was just a bit clipped. Basically it says: If there is only the PID file and nothing more of runtime data it should be placed directly in /var/run. Otherwise a subdirectory with the name of the program should be created (\"this is encouraged for programs that use more than one run-time file\").\n\nBut I am also fine with your pull request. Thanks in any case!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/112324118","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-112324118","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":112324118,"node_id":"MDEyOklzc3VlQ29tbWVudDExMjMyNDExOA==","user":{"login":"GlenRSmith","id":1327920,"node_id":"MDQ6VXNlcjEzMjc5MjA=","avatar_url":"https://avatars3.githubusercontent.com/u/1327920?v=4","gravatar_id":"","url":"https://api.github.com/users/GlenRSmith","html_url":"https://github.com/GlenRSmith","followers_url":"https://api.github.com/users/GlenRSmith/followers","following_url":"https://api.github.com/users/GlenRSmith/following{/other_user}","gists_url":"https://api.github.com/users/GlenRSmith/gists{/gist_id}","starred_url":"https://api.github.com/users/GlenRSmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GlenRSmith/subscriptions","organizations_url":"https://api.github.com/users/GlenRSmith/orgs","repos_url":"https://api.github.com/users/GlenRSmith/repos","events_url":"https://api.github.com/users/GlenRSmith/events{/privacy}","received_events_url":"https://api.github.com/users/GlenRSmith/received_events","type":"User","site_admin":false},"created_at":"2015-06-16T07:50:26Z","updated_at":"2015-06-16T07:50:26Z","author_association":"CONTRIBUTOR","body":"@tlrx Thanks!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/118151187","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-118151187","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":118151187,"node_id":"MDEyOklzc3VlQ29tbWVudDExODE1MTE4Nw==","user":{"login":"bskern","id":6706050,"node_id":"MDQ6VXNlcjY3MDYwNTA=","avatar_url":"https://avatars1.githubusercontent.com/u/6706050?v=4","gravatar_id":"","url":"https://api.github.com/users/bskern","html_url":"https://github.com/bskern","followers_url":"https://api.github.com/users/bskern/followers","following_url":"https://api.github.com/users/bskern/following{/other_user}","gists_url":"https://api.github.com/users/bskern/gists{/gist_id}","starred_url":"https://api.github.com/users/bskern/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bskern/subscriptions","organizations_url":"https://api.github.com/users/bskern/orgs","repos_url":"https://api.github.com/users/bskern/repos","events_url":"https://api.github.com/users/bskern/events{/privacy}","received_events_url":"https://api.github.com/users/bskern/received_events","type":"User","site_admin":false},"created_at":"2015-07-02T20:01:47Z","updated_at":"2015-07-02T20:02:56Z","author_association":"NONE","body":"When will this get released? I noticed this version [here](https://download.elastic.co/elasticsearch/elasticsearch/elasticsearch-1.6.0.deb) does not contain these changes\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/118260095","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-118260095","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":118260095,"node_id":"MDEyOklzc3VlQ29tbWVudDExODI2MDA5NQ==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2015-07-03T07:20:07Z","updated_at":"2015-07-03T07:20:07Z","author_association":"MEMBER","body":"@bskern the issue has been reported for 1.6.0, and the package you indicate is 1.6.0 too so it does not contain the fix.\n\nThe fix will will be released with 1.6.1, hopefully soon.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/152964436","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-152964436","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":152964436,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mjk2NDQzNg==","user":{"login":"baelter","id":1399369,"node_id":"MDQ6VXNlcjEzOTkzNjk=","avatar_url":"https://avatars1.githubusercontent.com/u/1399369?v=4","gravatar_id":"","url":"https://api.github.com/users/baelter","html_url":"https://github.com/baelter","followers_url":"https://api.github.com/users/baelter/followers","following_url":"https://api.github.com/users/baelter/following{/other_user}","gists_url":"https://api.github.com/users/baelter/gists{/gist_id}","starred_url":"https://api.github.com/users/baelter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baelter/subscriptions","organizations_url":"https://api.github.com/users/baelter/orgs","repos_url":"https://api.github.com/users/baelter/repos","events_url":"https://api.github.com/users/baelter/events{/privacy}","received_events_url":"https://api.github.com/users/baelter/received_events","type":"User","site_admin":false},"created_at":"2015-11-02T09:18:30Z","updated_at":"2015-11-02T09:18:30Z","author_association":"NONE","body":"Also an issue on manjaro\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/309016402","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-309016402","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":309016402,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTAxNjQwMg==","user":{"login":"yashvit","id":7492850,"node_id":"MDQ6VXNlcjc0OTI4NTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7492850?v=4","gravatar_id":"","url":"https://api.github.com/users/yashvit","html_url":"https://github.com/yashvit","followers_url":"https://api.github.com/users/yashvit/followers","following_url":"https://api.github.com/users/yashvit/following{/other_user}","gists_url":"https://api.github.com/users/yashvit/gists{/gist_id}","starred_url":"https://api.github.com/users/yashvit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yashvit/subscriptions","organizations_url":"https://api.github.com/users/yashvit/orgs","repos_url":"https://api.github.com/users/yashvit/repos","events_url":"https://api.github.com/users/yashvit/events{/privacy}","received_events_url":"https://api.github.com/users/yashvit/received_events","type":"User","site_admin":false},"created_at":"2017-06-16T12:42:32Z","updated_at":"2017-06-16T13:00:59Z","author_association":"NONE","body":"Linux Version: Ubuntu 16.04\r\nElasticsearch Version: 1.7.3\r\n\r\nI have recently added some new nodes to my existing cluster, and randomly one server would not start elasticsearch on restart. When manually trying to start it gives the following error:\r\n\r\n>sudo systemctl status elasticsearch\r\n\r\n```\r\n* elasticsearch.service - Elasticsearch\r\n   Loaded: loaded (/usr/lib/systemd/system/elasticsearch.service; enabled; vendor preset: enabled)\r\n   Active: failed (Result: exit-code) since Fri 2017-06-16 12:32:28 UTC; 3s ago\r\n     Docs: http://www.elastic.co\r\n  Process: 1437 ExecStart=/usr/share/elasticsearch/bin/elasticsearch -Des.pidfile=$PID_DIR/elasticsearch.pid -Des.default.path.home=$ES_HOME -Des.default.p\r\n Main PID: 1437 (code=exited, status=3)\r\n\r\nJun 16 12:32:28 els02.jobsoid.net elasticsearch[1437]: java.io.FileNotFoundException: /var/run/elasticsearch/elasticsearch.pid (No such file or directory)\r\nJun 16 12:32:28 els02.jobsoid.net elasticsearch[1437]:         at java.io.FileOutputStream.open0(Native Method)\r\nJun 16 12:32:28 els02.jobsoid.net elasticsearch[1437]:         at java.io.FileOutputStream.open(FileOutputStream.java:270)\r\nJun 16 12:32:28 els02.jobsoid.net elasticsearch[1437]:         at java.io.FileOutputStream.<init>(FileOutputStream.java:213)\r\nJun 16 12:32:28 els02.jobsoid.net elasticsearch[1437]:         at java.io.FileOutputStream.<init>(FileOutputStream.java:162)\r\nJun 16 12:32:28 els02.jobsoid.net elasticsearch[1437]:         at org.elasticsearch.bootstrap.Bootstrap.main(Bootstrap.java:194)\r\nJun 16 12:32:28 els02.jobsoid.net elasticsearch[1437]:         at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:32)\r\nJun 16 12:32:28 els02.jobsoid.net systemd[1]: elasticsearch.service: Main process exited, code=exited, status=3/NOTIMPLEMENTED\r\nJun 16 12:32:28 els02.jobsoid.net systemd[1]: elasticsearch.service: Unit entered failed state.\r\nJun 16 12:32:28 els02.jobsoid.net systemd[1]: elasticsearch.service: Failed with result 'exit-code'.\r\n```\r\n\r\n\r\nIf I create a folder /var/run/elasticsearch and change ownership to elasticsearch:elasticsearch then elasticsearch starts. On restart again the same issue.\r\n\r\nI understand this above issue is related to version 1.6 but still I tried changing the PID_DIR folder to /var/run in the service file at /usr/lib/systemd/system/elasticsearch.service\r\n\r\nwith that it gives an error: java.io.FileNotFoundException: /var/run/elasticsearch.pid (Permission denied) instead of \"no such file or directory\"\r\n\r\nOne other thing i noticed, when I manually create the dir in /var/run and force elasticsearch to start, it seems to work fine but the GET /_nodes does not return any stats of the OS or Filesystem. \r\n\r\nMakes me think its some permission issue?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/309732872","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-309732872","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":309732872,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTczMjg3Mg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-06-20T12:06:27Z","updated_at":"2017-06-20T12:06:27Z","author_association":"CONTRIBUTOR","body":"@yashvit it's really time to upgrade :)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/403848160","html_url":"https://github.com/elastic/elasticsearch/issues/11594#issuecomment-403848160","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11594","id":403848160,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzg0ODE2MA==","user":{"login":"ghanshyamca","id":16461482,"node_id":"MDQ6VXNlcjE2NDYxNDgy","avatar_url":"https://avatars0.githubusercontent.com/u/16461482?v=4","gravatar_id":"","url":"https://api.github.com/users/ghanshyamca","html_url":"https://github.com/ghanshyamca","followers_url":"https://api.github.com/users/ghanshyamca/followers","following_url":"https://api.github.com/users/ghanshyamca/following{/other_user}","gists_url":"https://api.github.com/users/ghanshyamca/gists{/gist_id}","starred_url":"https://api.github.com/users/ghanshyamca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghanshyamca/subscriptions","organizations_url":"https://api.github.com/users/ghanshyamca/orgs","repos_url":"https://api.github.com/users/ghanshyamca/repos","events_url":"https://api.github.com/users/ghanshyamca/events{/privacy}","received_events_url":"https://api.github.com/users/ghanshyamca/received_events","type":"User","site_admin":false},"created_at":"2018-07-10T14:43:17Z","updated_at":"2018-07-10T14:43:17Z","author_association":"NONE","body":"Resolved issue for \"Elasticsearch.service: Canâ€™t open PID file /run/elasticsearch/elasticsearch.pid No such file or directory\"\r\n\r\nBy running the below command:-\r\n\r\nsudo chown -R elasticsearch:elasticsearch /etc/elasticsearch   ","performed_via_github_app":null}]