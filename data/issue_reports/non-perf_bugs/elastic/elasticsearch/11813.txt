{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/11813","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11813/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11813/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11813/events","html_url":"https://github.com/elastic/elasticsearch/issues/11813","id":90221889,"node_id":"MDU6SXNzdWU5MDIyMTg4OQ==","number":11813,"title":"Elasticsearch /_nodes api vs OS for max_file_descriptors?","user":{"login":"sinneduy","id":1448225,"node_id":"MDQ6VXNlcjE0NDgyMjU=","avatar_url":"https://avatars2.githubusercontent.com/u/1448225?v=4","gravatar_id":"","url":"https://api.github.com/users/sinneduy","html_url":"https://github.com/sinneduy","followers_url":"https://api.github.com/users/sinneduy/followers","following_url":"https://api.github.com/users/sinneduy/following{/other_user}","gists_url":"https://api.github.com/users/sinneduy/gists{/gist_id}","starred_url":"https://api.github.com/users/sinneduy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sinneduy/subscriptions","organizations_url":"https://api.github.com/users/sinneduy/orgs","repos_url":"https://api.github.com/users/sinneduy/repos","events_url":"https://api.github.com/users/sinneduy/events{/privacy}","received_events_url":"https://api.github.com/users/sinneduy/received_events","type":"User","site_admin":false},"labels":[{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2015-06-22T21:50:26Z","updated_at":"2015-06-24T13:20:10Z","closed_at":"2015-06-23T19:47:17Z","author_association":"NONE","active_lock_reason":null,"body":"When I check the /_nodes/process API:\n\n```\n\"process\":{\"refresh_interval_in_millis\":1000,\"id\":14588,\"max_file_descriptors\":65535,\"mlockall\":false}}\n```\n\nBut when I check the OS (Ubuntu 14.04) for max file descriptors, it shows 1024:\n\n```\n# ulimit -n\n1024\n```\n\nI'm inclined to believe the OS over elasticsearch, and when I check the number in use, its <1024:\n\n```\n/proc/12799/fd# ls -l | wc -l\n504\n```\n\nBut why would elasticsearch misreport this?\n\n```\n# curl localhost:9200\n{\n  \"status\" : 200,\n  \"version\" : {\n    \"number\" : \"1.5.2\",\n    \"build_hash\" : \"62ff9868b4c8a0c45860bebb259e21980778ab1c\",\n    \"build_timestamp\" : \"2015-04-27T09:21:06Z\",\n    \"build_snapshot\" : false,\n    \"lucene_version\" : \"4.10.4\"\n  },\n  \"tagline\" : \"You Know, for Search\"\n}\n```\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}