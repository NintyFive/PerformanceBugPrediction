[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/110344794","html_url":"https://github.com/elastic/elasticsearch/issues/11543#issuecomment-110344794","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11543","id":110344794,"node_id":"MDEyOklzc3VlQ29tbWVudDExMDM0NDc5NA==","user":{"login":"T0aD","id":827808,"node_id":"MDQ6VXNlcjgyNzgwOA==","avatar_url":"https://avatars2.githubusercontent.com/u/827808?v=4","gravatar_id":"","url":"https://api.github.com/users/T0aD","html_url":"https://github.com/T0aD","followers_url":"https://api.github.com/users/T0aD/followers","following_url":"https://api.github.com/users/T0aD/following{/other_user}","gists_url":"https://api.github.com/users/T0aD/gists{/gist_id}","starred_url":"https://api.github.com/users/T0aD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/T0aD/subscriptions","organizations_url":"https://api.github.com/users/T0aD/orgs","repos_url":"https://api.github.com/users/T0aD/repos","events_url":"https://api.github.com/users/T0aD/events{/privacy}","received_events_url":"https://api.github.com/users/T0aD/received_events","type":"User","site_admin":false},"created_at":"2015-06-09T12:41:57Z","updated_at":"2015-06-09T12:41:57Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/110369825","html_url":"https://github.com/elastic/elasticsearch/issues/11543#issuecomment-110369825","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11543","id":110369825,"node_id":"MDEyOklzc3VlQ29tbWVudDExMDM2OTgyNQ==","user":{"login":"PavelPolyakov","id":839290,"node_id":"MDQ6VXNlcjgzOTI5MA==","avatar_url":"https://avatars0.githubusercontent.com/u/839290?v=4","gravatar_id":"","url":"https://api.github.com/users/PavelPolyakov","html_url":"https://github.com/PavelPolyakov","followers_url":"https://api.github.com/users/PavelPolyakov/followers","following_url":"https://api.github.com/users/PavelPolyakov/following{/other_user}","gists_url":"https://api.github.com/users/PavelPolyakov/gists{/gist_id}","starred_url":"https://api.github.com/users/PavelPolyakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PavelPolyakov/subscriptions","organizations_url":"https://api.github.com/users/PavelPolyakov/orgs","repos_url":"https://api.github.com/users/PavelPolyakov/repos","events_url":"https://api.github.com/users/PavelPolyakov/events{/privacy}","received_events_url":"https://api.github.com/users/PavelPolyakov/received_events","type":"User","site_admin":false},"created_at":"2015-06-09T14:15:45Z","updated_at":"2015-06-09T14:15:45Z","author_association":"NONE","body":"I have the next suggestion currently.\n\nMy logs doesn't have any mapped format in elasticsearch, they are dynamic.\n\nThe log could look like this:\n\n``` javascript\n{\n    message: \"message\",\n    error: false\n}\n```\n\nand like this\n\n``` javascript\n{\n    message: \"message\"\n    error: {\n        message: \"Error\"\n    }\n}\n```\n\nAs soon as 1st log type would hit the elasticsearch, the error field would be mapped as string. Since that time, any of the 2nd type logs would not be accepted. And would produce the error from the topic heading.\n\nCould anyone confirm this?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/110436128","html_url":"https://github.com/elastic/elasticsearch/issues/11543#issuecomment-110436128","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11543","id":110436128,"node_id":"MDEyOklzc3VlQ29tbWVudDExMDQzNjEyOA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-06-09T17:09:50Z","updated_at":"2015-06-09T17:10:02Z","author_association":"CONTRIBUTOR","body":"Hi @PavelPolyakov \n\nThe `error` field can't be both a boolean (first example) and an object (second example).  Whichever format is seen first sets the field type, and all documents with the other format are rejected.\n\nYou'll need to add a rule to logstash to change the field name of one of the formats.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/110436769","html_url":"https://github.com/elastic/elasticsearch/issues/11543#issuecomment-110436769","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11543","id":110436769,"node_id":"MDEyOklzc3VlQ29tbWVudDExMDQzNjc2OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-06-09T17:11:54Z","updated_at":"2015-06-09T17:11:54Z","author_association":"CONTRIBUTOR","body":"The alternative is to map the `error` field as:\n\n```\n{ \"type\": \"object\", \"enabled\": false }\n```\n\nWith this mapping, it won't look at the contents of the `error` field at all.  Documents won't be rejected, but of course the `error` (and `error.message`) fields won't be indexed either, and so won't be searchable.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/113865537","html_url":"https://github.com/elastic/elasticsearch/issues/11543#issuecomment-113865537","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11543","id":113865537,"node_id":"MDEyOklzc3VlQ29tbWVudDExMzg2NTUzNw==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars3.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"created_at":"2015-06-21T05:45:07Z","updated_at":"2015-06-21T05:45:07Z","author_association":"NONE","body":"I was getting the same error message(failed with a response of 400). I was using json codec in my input. But after I removed it I din't get any errors. It worked fine. Is there a problem with the json codec?? Btw my error logs are so big and I dont think they will help.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/133163915","html_url":"https://github.com/elastic/elasticsearch/issues/11543#issuecomment-133163915","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11543","id":133163915,"node_id":"MDEyOklzc3VlQ29tbWVudDEzMzE2MzkxNQ==","user":{"login":"tlastowka","id":5766787,"node_id":"MDQ6VXNlcjU3NjY3ODc=","avatar_url":"https://avatars2.githubusercontent.com/u/5766787?v=4","gravatar_id":"","url":"https://api.github.com/users/tlastowka","html_url":"https://github.com/tlastowka","followers_url":"https://api.github.com/users/tlastowka/followers","following_url":"https://api.github.com/users/tlastowka/following{/other_user}","gists_url":"https://api.github.com/users/tlastowka/gists{/gist_id}","starred_url":"https://api.github.com/users/tlastowka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlastowka/subscriptions","organizations_url":"https://api.github.com/users/tlastowka/orgs","repos_url":"https://api.github.com/users/tlastowka/repos","events_url":"https://api.github.com/users/tlastowka/events{/privacy}","received_events_url":"https://api.github.com/users/tlastowka/received_events","type":"User","site_admin":false},"created_at":"2015-08-20T20:39:30Z","updated_at":"2015-08-20T20:39:30Z","author_association":"NONE","body":"@BZen \nIts probably still a mapping issue.  The first time I saw the 400 error was using the json codec, but it wasn't the codec at fault.  Pipe this through the json codec, and then output to elasticsearch.  First will be fine.  Second will cause an error:\n\n--this will be fine--\n{ \"gets_mapped_as_string\" : \"string\" }\n{ \"gets_mapped_as_string\" : 1 }\n\n--this will cause an error--\n{ \"gets_mapped_as_int\" : 1 }\n{ \"gets_mapped_as_int\" : \"string\" }\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/141553582","html_url":"https://github.com/elastic/elasticsearch/issues/11543#issuecomment-141553582","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11543","id":141553582,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MTU1MzU4Mg==","user":{"login":"raedsh","id":14352871,"node_id":"MDQ6VXNlcjE0MzUyODcx","avatar_url":"https://avatars3.githubusercontent.com/u/14352871?v=4","gravatar_id":"","url":"https://api.github.com/users/raedsh","html_url":"https://github.com/raedsh","followers_url":"https://api.github.com/users/raedsh/followers","following_url":"https://api.github.com/users/raedsh/following{/other_user}","gists_url":"https://api.github.com/users/raedsh/gists{/gist_id}","starred_url":"https://api.github.com/users/raedsh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raedsh/subscriptions","organizations_url":"https://api.github.com/users/raedsh/orgs","repos_url":"https://api.github.com/users/raedsh/repos","events_url":"https://api.github.com/users/raedsh/events{/privacy}","received_events_url":"https://api.github.com/users/raedsh/received_events","type":"User","site_admin":false},"created_at":"2015-09-18T20:07:59Z","updated_at":"2015-09-18T20:07:59Z","author_association":"NONE","body":"What fixed my 400 error was changing the index name from all Upper case letters to lower case letters.\nWorks:\nindex => \"snow-%{+YYYY.MM}\"\n\nErrors out:\nindex => \"SNOW-%{+YYYY.MM}\"\n","performed_via_github_app":null}]