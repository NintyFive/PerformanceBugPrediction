{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1120","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1120/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1120/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1120/events","html_url":"https://github.com/elastic/elasticsearch/issues/1120","id":1218065,"node_id":"MDU6SXNzdWUxMjE4MDY1","number":1120,"title":"Allow to configure encoder when highlighting with default and html (escape) options","user":{"login":"jsuchal","id":26342,"node_id":"MDQ6VXNlcjI2MzQy","avatar_url":"https://avatars0.githubusercontent.com/u/26342?v=4","gravatar_id":"","url":"https://api.github.com/users/jsuchal","html_url":"https://github.com/jsuchal","followers_url":"https://api.github.com/users/jsuchal/followers","following_url":"https://api.github.com/users/jsuchal/following{/other_user}","gists_url":"https://api.github.com/users/jsuchal/gists{/gist_id}","starred_url":"https://api.github.com/users/jsuchal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsuchal/subscriptions","organizations_url":"https://api.github.com/users/jsuchal/orgs","repos_url":"https://api.github.com/users/jsuchal/repos","events_url":"https://api.github.com/users/jsuchal/events{/privacy}","received_events_url":"https://api.github.com/users/jsuchal/received_events","type":"User","site_admin":false},"labels":[{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":127902,"node_id":"MDU6TGFiZWwxMjc5MDI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.18.0","name":"v0.18.0","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2011-07-13T20:03:29Z","updated_at":"2011-10-25T18:45:15Z","closed_at":"2011-10-25T18:45:15Z","author_association":"NONE","active_lock_reason":null,"body":"Allow to set `encoder` within the `highlight` element, with possible values of `default` and `html`.\n\n--- Original Request\nHi there,\n\nseems like default encoder is used in ES https://github.com/elasticsearch/elasticsearch/blob/master/modules/elasticsearch/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java#L56\n\nThis is normally not a problem, since you probably don't want any malicious html/js in your documents anyway. But imagine a text document (e.g. html tutorial in plain text) which contains some html tags, javascript...\n\nExample:\n\n```\nThere are headline tags like <h1> which...\n```\n\nNow getting highlights from such document is unsafe since you will get this when searching for `tags like`\n\n```\nThere are headline <em>tags like</em><h1> which...\n```\n\nAny chance to make the default SimpleHTMLEncoder or at least  provide an option to make it customizable?\n","closed_by":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"performed_via_github_app":null}